(self.webpackChunkscrollytelling_template=self.webpackChunkscrollytelling_template||[]).push([[179],{28081:(e,t,n)=>{"use strict";const r=JSON.parse('{"E":"<section id=\\"vizSection1_0\\" class=\\"viz-section full-page\\"><div class=\\"steps display-none\\"><section class=\\"display-none\\"><p>Bla bl abl abl ablalbalanl.</p></section></div><div class=\\"viz\\" id=\\"viz\\"><div id=\\"vizSection1_0_0\\" class=\\"iframeContainer map-area\\"></div></div></section>"}');var a=n(40207),o=n(67294);function c(e){var t=Array.from(String(e.optionData.authors).split(",")).map((function(t,n){var r=Array.from(String(e.optionData.authors).split(",")).length;return r>2?n===r-2?o.createElement("span",{key:n},o.createElement("a",{href:"".concat(String(e.optionData.urls).split(",")[n])},t)," et "):n===r-1?o.createElement("span",{key:n},o.createElement("a",{href:"".concat(String(e.optionData.urls).split(",")[n])},t)):o.createElement("span",{key:n},o.createElement("a",{href:"".concat(String(e.optionData.urls).split(",")[n])},t),", "):0===n?o.createElement("span",{key:n},o.createElement("a",{href:"".concat(String(e.optionData.urls).split(",")[n])},t)," et "):o.createElement("span",{key:n},o.createElement("a",{href:"".concat(String(e.optionData.urls).split(",")[n])},t))})),n=o.createElement("section",{className:"intro-section ".concat(e.classes)},o.createElement("h1",null,e.optionData.title),o.createElement("address",null,o.createElement("div",{className:"authors"},"Par ",t),o.createElement("div",{className:"date"},e.optionData.date)),o.createElement("p",null,e.amorce));return e.background?o.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},n):n}var i=n(25935);function s(e){var t,n=String(e.classes).includes("citation");n&&(t={text:String(e.texts).split("/")[0],author:String(e.texts).split("/")[1]});var r,a=String(e.classes).includes("bigNumber");a&&(r={number:String(e.texts).split("/")[0],underText:String(e.texts).split("/")[1]});var c=e.visual,s=""!==c?"Photo"===e.visual?o.createElement("img",{key:"photoTextSection_".concat(e.id),id:"photoTextSection_".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses),style:{paddingBottom:"1rem"}}):"Video"===e.visual?o.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"videoTextSection_".concat(e.id),id:"videoTextSection_".concat(e.id)},o.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):o.createElement("div",null):o.createElement("div",null),l=o.createElement("section",{className:"text-section ".concat(e.classes)},n?o.createElement("blockquote",{className:"small"},o.createElement("div",null,o.createElement("p",null,o.createElement("b",null,(0,i.ZP)(t.text))),o.createElement("p",{className:"author"},t.author),o.createElement("div",{className:"symbol"}))):a?o.createElement("div",{className:"container-number"},o.createElement("div",{className:"numbers"},o.createElement("h2",null,r.number),o.createElement("small",null,r.underText))):o.createElement("div",null,c?s:o.createElement("div",null),String(e.texts).startsWith("<")?(0,i.ZP)(e.texts):o.createElement("p",null,(0,i.ZP)(e.texts))));return e.background?o.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},l):l}var l,u=n(45697),m=n.n(u),p=["title","src"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n,r=e.title,a=e.src,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,p),i=(0,o.useRef)(),s=(t=(0,o.useState)(500),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1],m=(0,o.useCallback)((function(e){var t=e.data,n=void 0===t?{}:t;e.source===i.current.contentWindow&&"string"!=typeof n&&n["datawrapper-height"]}),[u,i]);return(0,o.useEffect)((function(){return window.addEventListener("message",m),function(){return window.removeEventListener("message",m)}}),[l,u,m]),o.createElement("iframe",d({ref:i,scrolling:"no",frameBorder:"0",width:"100%"},c,{title:r,src:a,height:l}))}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}v.propTypes={title:m().string.isRequired,src:m().string.isRequired,loading:m().oneOf(["eager","lazy"])};var g="intro-titre",y="pleine-page-titre",b="texte-classique",E="viz-section",x="centré",w="Photo",S="Video",k="Visualisation",I="iframe",N=(h(l={titre:"Titre",auteurs:"Auteurs",date:"Date"},"date","Date"),h(l,"urls","LienAuteurs"),h(l,"lienfichiersource","LienFichierSource"),l);function T(e){var t,n,r,a=o.createElement("section",{id:e.listID,className:e.classed},o.createElement("div",{className:"steps ".concat((t=e.steps,n=t.map((function(e,t){return e.stepclasses})),r=new Array(n.length),n.forEach((function(e,t){if(Array.isArray(e))e.forEach((function(e){for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)}));else if("string"==typeof e)for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)})),r.reduce((function(e,t){return e===t&&""!==e&&""!==t?e:""}))))},e.steps.map((function(e,t){var n,r=String(e.stepclasses).includes("citation");return r&&(n={text:String(e.text).split("/")[0],author:String(e.text).split("/")[1]}),o.createElement("section",{key:t,className:e.stepclasses},r?o.createElement("blockquote",{className:"small"},o.createElement("div",null,o.createElement("p",null,o.createElement("b",null,(0,i.ZP)(n.text))),o.createElement("p",{className:"author"},n.author),o.createElement("div",{className:"symbol"}))):String(e.text).startsWith("<")?(0,i.ZP)(e.text):o.createElement("p",null,e.text?(0,i.ZP)(e.text):""))}))),o.createElement("div",{className:"viz",id:"viz"},e.steps.map((function(t,n){return t.visual===w?o.createElement("img",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),src:"assets/img/675/".concat(t.filename),"data-srcset":"assets/img/2048/".concat(t.filename," 2048w, assets/img/990/").concat(t.filename," 990w, assets/img/675/").concat(t.filename," 675w, assets/img/1350/").concat(t.filename," 1350w, assets/img/100/").concat(t.filename," 100w, assets/img/495/").concat(t.filename," 495w, assets/img/1024/").concat(t.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(t.visuelclasses)}):t.visual===S?o.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(t.visuelclasses),preload:"metadata",key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n)},o.createElement("source",{src:"assets/videos/".concat(t.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):t.visual===I?o.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer"},o.createElement(v,{title:"Mesures d'arsenic",src:"".concat(t.filename)})):t.visual===k?o.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer ".concat(t.visuelclasses)}):void 0}))));return e.background?o.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},a):a}function P(e){var t=o.createElement("section",{className:"full-page-section ".concat(e.classes)},o.createElement("div",{className:"titleImage"},e.filename?"Photo"===e.visual?o.createElement("img",{key:"".concat(e.id),id:"".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses)}):"Video"===e.visual?o.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"".concat(e.id),id:"".concat(e.id)},o.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):o.createElement("div",null):o.createElement("div",null),e.filename?o.createElement("div",{className:"filter"}):o.createElement("div",null)),o.createElement("div",{className:"captionholder"},o.createElement("h2",{className:"caption ".concat(e.mainTitle.class)},e.mainTitle.text),e.subTitle?o.createElement("h3",{className:"caption ".concat(e.subTitle.class)},e.subTitle.text):o.createElement("div",null)));return e.background?o.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},t):t}n(93162);var C=n(36184);function A(e,t){var n={},r=[],a=O(t);return console.log("content Data",e),e.map((function(e,t){if(e.Section===g){var o=e.StepClasses,c=e.TEXTE,i=e.StyleFond;n[e.SectionID]={key:t,sectionType:g,optionData:a,amorce:c,background:i,classes:j(o),gameid:e.GameID}}else if(e.Section===b){var s=e.TEXTE,l=e.StepClasses,u=e.StyleFond;n[e.SectionID]={key:t,sectionType:b,texts:s,visual:e.VISUEL,filename:e.NomFichierSource,background:u,classes:j(l),visuelclasses:j(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===y){var m=e.TEXTE;D(e.TEXTE)&&(m=JSON.parse(e.TEXTE)),n[e.SectionID]={key:t,sectionType:y,texts:D(e.TEXTE)?m:{mainTitle:{class:"",text:m},subTitle:null},visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,classes:j(e.StepClasses),visuelclasses:j(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===E){var p={attributs:e.Attributs,scrollType:e.Step,text:e.TEXTE,visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,visuelclasses:j(e.VisuelClasses),stepclasses:j(e.StepClasses),gameid:e.GameID};if(n.hasOwnProperty(e.SectionID)){var d=n[e.SectionID];d.push(p),n[e.SectionID]=d}else n[e.SectionID]=[p],r.push(e.SectionID)}})),r.map((function(e){var t=n[e],r=t[0].attributs===x?" full-page":"",a=t[0].background;n[e]={key:e,sectionType:E,listID:e,steps:t,classed:"viz-section".concat(r),mediaInfo:0,background:a}})),Object.values(n)}function D(e){try{JSON.parse(e)}catch(e){return!1}return!0}function j(e){return Array.from(e.split(";")).join(" ")}function O(e){return{title:e[0][N.titre],authors:e[0][N.auteurs],urls:e[0][N.urls],date:e[0][N.date]}}n(9208);var _=n(83731);function R(){return window.innerWidth<400}function z(){return window.innerWidth<=576}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z={token:"pk.eyJ1IjoibGVkZXZvaXIiLCJhIjoiY2p2bW81dHU2MWV1cTRhcXIzaXZqMGYxciJ9.WrIF8o69aR_TstDFu6Qyag",mapBounds:{max:[-165,30.72833,-25.23636,82.229434]},colors:["#F4CBC6","#F4A39A","#EE6A5E","#CE3727","#A22823","#751A1A","#410000"],clusterMaxZoom:11,clusterRadius:30,clusterMinPoints:5};_.accessToken=Z.token;var M=function(){function e(t,n,r,a,o){var c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=arguments.length>6&&void 0!==arguments[6]&&arguments[6];V(this,e),this.dataSourceObjects=r,this.constants=Z,this.map=new _.Map({container:n,style:a,preserveDrawingBuffer:!0,center:o.center,zoom:o.zoom}),this.maxBounds=o,this.boundsList=this.dataSourceObjects.map((function(e){return e.coords})),this.extraBounds=this.dataSourceObjects.map((function(e){return e.extraCoords})),c&&(this.map.scrollZoom.disable(),this.map.dragPan.disable(),this.map.dragRotate.disable(),this.map.boxZoom.disable(),this.map.doubleClickZoom.disable()),i&&this.setupHandlers(),this.dataList=this.dataSourceObjects.map((function(e){return e.data}))}var t,n;return t=e,n=[{key:"updateBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.maxBounds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R()?5:z()?15:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;this.map=this.map.fitBounds(e,{duration:n,padding:t})}},{key:"updateCoordsAndZoom",value:function(e){this.map.flyTo({center:e.center,zoom:e.zoom,speed:.7,curve:1,easing:function(e){return e}})}},{key:"viewBoundObj",value:function(e){this.updateCoordsAndZoom(this.boundsList[e])}},{key:"viewExtraBoundObj",value:function(e,t,n){var r=this.extraBounds[e];this.updateCoordsAndZoom(r[t])}},{key:"viewInitBounds",value:function(e){this.updateCoordsAndZoom(this.maxBounds)}},{key:"showSourceXItemY",value:function(e,t){this.updateCoordsAndZoom(this.dataList[e][t])}},{key:"initMapSourcesAndLayers",value:function(){var e=this;this.initialised||(this.initialised=!0,this.dataSourceObjects.map((function(t){e.map.addSource(t.sourceName,{type:t.sourceType,data:t.sourceData}),"fill"===t.layerType?e.map.addLayer({id:t.sourceName,type:t.layerType,source:t.sourceName,paint:{"fill-color":t.color,"fill-opacity":t.opacity}}):"circle"===t.layerType&&e.map.addLayer({id:t.sourceName,type:t.layerType,source:t.sourceName,paint:{"circle-color":["match",["get","statut"],"Recherches effectuées ou en cours","#ff561c","Phase préliminaire","#ffc734","#b7b7b7"],"circle-radius":5}})})))}},{key:"changeLayerPaint",value:function(e,t,n){this.map.setPaintProperty(e,t,n)}},{key:"setupHandlers",value:function(){var e=this;this.map.on("mouseover","pensionnatsSource",(function(t){e.map.getCanvas().style.cursor="pointer",e.drawPopup(t)})),this.map.on("mouseout","pensionnatsSource",(function(t){e.map.getCanvas().style.cursor="default",e.closePopup()})),this.map.on("click","pensionnatsSource",(function(t){t.preventDefault(),e.map.getCanvas().style.cursor="pointer",e.drawPopup(t)}))}},{key:"drawPopup",value:function(e){for(var t=e.features[0].geometry.coordinates.slice(),n=e.features[0].properties,r=L(n.ouverture.split("/"),3),a=r[0],o=r[1],c=r[2],i=L(n.fermeture.split("/"),3),s=i[0],l=i[1],u=i[2],m=[new Intl.DateTimeFormat("fr-CA",{dateStyle:"long"}).format(new Date(Date.UTC(c,o,a))),new Intl.DateTimeFormat("fr-CA",{dateStyle:"long"}).format(new Date(Date.UTC(u,l,s)))],p=m[0],d=m[1],f="\n      <h3>".concat(n.name,"</h3>\n      <h4>").concat(n.ville,", ").concat(n.province,"</h4>\n      <p>").concat(p," - ").concat(d,"</p>\n      <p>").concat(n.statut,"</p>\n    ");Math.abs(e.lngLat.lng-t[0])>180;)t[0]+=e.lngLat.lng>t[0]?360:-360;this.popup=(new _.Popup).setLngLat(t).setHTML(f).addTo(this.map)}},{key:"closePopup",value:function(){this.popup&&this.popup.remove()}},{key:"updateData",value:function(e,t){this.initialised||this.initMapSourcesAndLayers(),this.map.getSource(e).setData(t)}}],n&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();n(6899);var U=n(20745);function Y(e){return(0,o.useEffect)((function(){var t,n;t=C.Ys(".gauges").selectAll(".gauge"),n=Math.max(50,Math.max(parseInt(e.dollars),parseInt(e.performance))),t.nodes().forEach((function(t){var r=n;console.log("gauge: ",t),"dollars"===C.Ys(t).attr("id")?r=e.dollars:"performance"===C.Ys(t).attr("id")&&(r=e.performance),C.Ys(t).select(".gaugeColor").style("width","".concat(Math.round(r/n*100),"%"))}))})),o.createElement("div",{className:"gauges"},o.createElement("div",{id:"dollars",className:"gauge dollarGauge"},o.createElement("div",{className:"textBox"},o.createElement("h5",null,"Dollars")),o.createElement("div",{className:"gaugeColorHolder"},o.createElement("div",{className:"gaugeColor blue"},o.createElement("div",{className:"value"},o.createElement("p",null,e.dollars))))),o.createElement("div",{id:"performance",className:"gauge performanceGauge"},o.createElement("div",{className:"textBox"},o.createElement("h5",null,"Performance")),o.createElement("div",{className:"gaugeColorHolder"},o.createElement("div",{className:"gaugeColor green"},o.createElement("div",{className:"value"},o.createElement("p",null,e.performance))))))}function X(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){X(o,r,a,c,i,"next",e)}function i(e){X(o,r,a,c,i,"throw",e)}c(void 0)}))}}function W(e){var t=(0,o.useCallback)(H(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("starting game"),e.mapObj.viewExtraBoundObj(0,"zone1"),e.gameStart();case 3:case"end":return t.stop()}}),t)}))));return o.createElement("div",{className:"gameBox"},o.createElement("div",{className:"introBox"},e.introElem),o.createElement("div",{className:"userBox"},o.createElement("div",{className:"startbutton",onClick:t},o.createElement("p",null,"Commencer"))))}function F(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){F(o,r,a,c,i,"next",e)}function i(e){F(o,r,a,c,i,"throw",e)}c(void 0)}))}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e){var t,n,r=(t=(0,o.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],c=r[1];(0,o.useEffect)((function(){}),[]),(0,o.useEffect)((function(){C.td_(".choicebutton").select(".butn").classed("selected",!1),a&&C.Ys(a.obj).select(".butn").classed("selected",!0)}),[a]);var i=(0,o.useCallback)(function(){var t=G(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.curPrompt.Trigger_next,Number.isInteger(parseInt(a))&&(console.log("Checking trigger next: ",parseInt(a)),e.changePrompt(parseInt(a))),e.updateDollars(-parseInt(n)),e.updatePerformance(parseInt(r)),c(null);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),s=(0,o.useCallback)(G(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),c(null);case 2:case"end":return t.stop()}}),t)}))));return o.createElement("div",{className:"choices"},o.createElement("div",{className:"row"},e.choices.map((function(t,n){var r=e.choices_values[n].split("_")[0],a=e.choices_values[n].split("_")[1];return o.createElement("div",{className:"choicebutton",key:n,onClick:function(e){!function(e,t,n){c({obj:e.target,cost:t,use:n})}(e,r,a)}},o.createElement("div",{id:n,className:"butn"},o.createElement("p",null,t," (coût: ",r," ; effet: ",a,")")))}))),o.createElement("div",{className:"row"},o.createElement("div",{className:"column"},e.curIndex>0?o.createElement("div",{className:"actionbutton prev",onClick:s},o.createElement("div",{className:"butn"},o.createElement("p",null,"Previous"))):o.createElement("div",null)),o.createElement("div",{className:"column"},o.createElement("div",{className:"actionbutton next ".concat(a?"":"disabled"),onClick:function(){a?i(a.cost,a.use):console.log("Disabled.")}},o.createElement("div",{className:"butn"},o.createElement("p",null,"Next"))))))}function $(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){$(o,r,a,c,i,"next",e)}function i(e){$(o,r,a,c,i,"throw",e)}c(void 0)}))}}function ee(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e){var t,n,r=(t=(0,o.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||ee(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],c=r[1];(0,o.useEffect)((function(){i()}),[]),(0,o.useEffect)((function(){}),[a]);var i=function(){c(e.choices.map((function(e){return null})))},s=(0,o.useCallback)(function(){var t=K(regeneratorRuntime.mark((function t(n){var r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.curPrompt.Trigger_next,Number.isInteger(parseInt(r))&&(console.log("Checking trigger next: ",parseInt(r)),e.changePrompt(parseInt(r))),a=n.reduce((function(e,t){return t&&(e+=t.cost),e}),0),o=n.reduce((function(e,t){return t&&(e+=t.use),e}),0),e.updateDollars(-parseInt(a)),e.updatePerformance(parseInt(o)),i();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),l=(0,o.useCallback)(K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),i();case 2:case"end":return t.stop()}}),t)}))));return o.createElement("div",{className:"choices"},o.createElement("div",{className:"row"},e.choices.map((function(t,n){var r=e.choices_values[n].split("_")[0],i=e.choices_values[n].split("_")[1];return o.createElement("div",{className:"selectionbutton",key:n,onClick:function(e){!function(e,t,n,r){var o=function(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a);a[t]?o[t]=null:o[t]={obj:e.target,cost:parseInt(n),use:parseInt(r)},c(o)}(e,n,r,i)}},o.createElement("div",{id:n,className:"butn"},o.createElement("div",{className:"selectionBox"},a[n]?"X":""),o.createElement("p",null,t," (coût: ",r," ; effet: ",i,")")))}))),o.createElement("div",{className:"row"},o.createElement("div",{className:"column"},e.curIndex>0?o.createElement("div",{className:"actionbutton prev",onClick:l},o.createElement("div",{className:"butn"},o.createElement("p",null,"Previous"))):o.createElement("div",null)),o.createElement("div",{className:"column"},o.createElement("div",{className:"actionbutton next ".concat(a?"":"disabled"),onClick:function(){a?s(a):console.log("Disabled.")}},o.createElement("div",{className:"butn"},o.createElement("p",null,"Next"))))))}function re(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){re(o,r,a,c,i,"next",e)}function i(e){re(o,r,a,c,i,"throw",e)}c(void 0)}))}}function oe(e){var t=(0,o.useCallback)(ae(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),n=(0,o.useCallback)(ae(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,Number.isInteger(parseInt(n))&&(console.log("Checking trigger next: ",parseInt(n)),e.changePrompt(parseInt(n)));case 2:case"end":return t.stop()}}),t)}))));return o.createElement("div",{className:"printprompt"},o.createElement("div",{className:"message"},e.message),o.createElement("div",{className:"actionbutton prev",onClick:t},o.createElement("div",{className:"butn"},o.createElement("p",null,"Previous"))),o.createElement("div",{className:"actionbutton next",onClick:n},o.createElement("div",{className:"butn"},o.createElement("p",null,"Suivant"))))}function ce(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){ce(o,r,a,c,i,"next",e)}function i(e){ce(o,r,a,c,i,"throw",e)}c(void 0)}))}}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e){var t=se((0,o.useState)(0),2),n=t[0],r=t[1],a=se((0,o.useState)(0),2),c=a[0],i=a[1],s=se((0,o.useState)([]),2),l=s[0],u=s[1],m=se((0,o.useState)([]),2),p=m[0],d=m[1];(0,o.useEffect)((function(){var e=b(),t=e.map((function(){return 0})),n=e.map((function(e){return e.unitValue}));u(t),d(n),console.log("optionParams:",b())}),[]),(0,o.useEffect)((function(){var e=l.reduce((function(e,t,n){return e+t*b()[n].unitValue}),0),t=l.reduce((function(e,t,n){return e+t*b()[n].unitTWhvalue}),0);r(e),i(t)}),[l]);var f,v,h=(0,o.useCallback)(ie(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),g=(0,o.useCallback)(ie(regeneratorRuntime.mark((function t(){var r,a,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=String(e.curPrompt.Trigger_next).split("_"),1==(a=String(r[0]).split(";")).length&&Number.isInteger(parseInt(a[0]))?(console.log("Checking trigger next: ",a),e.changePrompt(parseInt(a))):a.length>1&&(l.every((function(e){return e===l[0]}))?(c=r[1],e.changePrompt(parseInt(c))):(o=l.reduce((function(e,t,n,r){return t>r[e]?n:e}),0),Number.isInteger(parseInt(a[o]))&&(console.log("Checking trigger next: ",a[o]),e.changePrompt(parseInt(a[o]))))),e.updateDollars(-n);case 4:case"end":return t.stop()}}),t)})))),y=function(e,t){var n=t.split("_");return{name:e,unitValue:parseInt(n[0]),unitTWhvalue:parseInt(n[2])}},b=function(){return e.choices.map((function(t,n){return y(t,e.choices_values[n])}))},E=function(e,t,n,r){var a,o,c,i=function(e){if(Array.isArray(e))return ue(e)}(c=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||le(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();i[t]+n>=0&&(n>0?(a=n*p[t],o=0,l.forEach((function(e,t){o+=e*p[t]})),o+a>10||(i[t]=i[t]+n)):i[t]=i[t]+n,u(i))};return o.createElement("div",{className:"repartition"},o.createElement("div",{className:"optionZone"},e.choices.map((function(t,n){return y(t,e.choices_values[n])})).map((function(e,t){return o.createElement("div",{className:"optionUnit",key:t},o.createElement("div",{className:"selectorZone"},o.createElement("div",{className:"division minusZone",onClick:function(e){return E(0,t,-1)}},o.createElement("h3",null,"-")),o.createElement("div",{className:"division centralZone"},o.createElement("h3",null,l[t])),o.createElement("div",{className:"division plusZone",onClick:function(e){return E(0,t,1)}},o.createElement("h3",null,"+"))),o.createElement("div",{className:"textZone"},o.createElement("h3",null,e.name),o.createElement("div",{className:"inlinetext"},o.createElement("h5",null,e.unitValue," jetons par unité • ",e.unitTWhvalue," TWh par unité"))))}))),o.createElement("div",{className:"monitoring"},o.createElement("div",{className:"column"},o.createElement("div",{className:"monitoring_header"},o.createElement("h5",null,"Répartition de vos jetons")),o.createElement("div",{className:"monitoring_value"},o.createElement("div",{className:"tokens"},(f=l.map((function(e,t){var n=b()[t];return Array(e*n.unitValue).fill(n.name[0])})),v=[].concat.apply([],f),Array.from({length:10}).map((function(e,t){var n=v[t]?String(v[t]):"";return o.createElement("div",{className:"tokenContainer",key:t},o.createElement("p",null,n))})))))),o.createElement("div",{className:"column"},o.createElement("div",{className:"monitoring_header"},o.createElement("h5",null,"Électricité produite")),o.createElement("div",{className:"monitoring_value"},o.createElement("h3",null,c," TWh")))),e.curIndex>0?o.createElement("div",{className:"actionbutton prev",onClick:h},o.createElement("div",{className:"butn"},o.createElement("p",null,"Previous"))):o.createElement("div",null),o.createElement("div",{className:"actionbutton next",onClick:g},o.createElement("div",{className:"butn"},o.createElement("p",null,"Suivant"))))}function pe(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){pe(o,r,a,c,i,"next",e)}function i(e){pe(o,r,a,c,i,"throw",e)}c(void 0)}))}}function fe(e){(0,o.useEffect)((function(){}),[]);var t=(0,o.useCallback)(function(){var t=de(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.changePrompt(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n=(0,o.useCallback)(function(){var t=de(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Number.isInteger(n)&&e.updateDollars(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r=(0,o.useCallback)(function(){var t=de(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Number.isInteger(n)&&e.updatePerformance(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return o.createElement("div",{className:"gameBox"},o.createElement("div",{className:"promptBox"},o.createElement("div",{className:"header"},o.createElement("div",{className:"surtitre"},o.createElement("h3",null,e.curPrompt.Sujet)),o.createElement("div",{className:"question"},o.createElement("p",null,e.curPrompt.Question))),function(a){switch(a){case"Repartition":return o.createElement(me,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Choix_Valeurs).split(";"),changePrompt:t,curIndex:e.curIndex,updateDollars:n});case"Carte":case"Suivi":default:return o.createElement(Q,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),changePrompt:t,curIndex:e.curIndex});case"Print":return o.createElement(oe,{curPrompt:e.curPrompt,message:String(e.curPrompt.Texte_Supp),changePrompt:t,curIndex:e.curIndex});case"choixReponse":case"Catastrophe":return o.createElement(Q,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Choix_Valeurs).split(";"),changePrompt:t,curIndex:e.curIndex,updateDollars:n,updatePerformance:r});case"Cocher":return o.createElement(ne,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Choix_Valeurs).split(";"),changePrompt:t,curIndex:e.curIndex,updateDollars:n,updatePerformance:r})}}(e.curPrompt.Type)))}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e){var t=ve((0,o.useState)("IDLE"),2),n=t[0],r=t[1],a=ve((0,o.useState)(0),2),c=a[0],i=a[1],s=ve((0,o.useState)(50),2),l=s[0],u=s[1],m=ve((0,o.useState)(50),2),p=m[0],d=m[1];(0,o.useEffect)((function(){console.log("checking props mapObj:",e.mapObj)}),[]),(0,o.useEffect)((function(){console.log("game ",n)}),[n]),(0,o.useEffect)((function(){v(c)}),[c]);var f=function(){r("END")},v=function(t){console.log("current game prompt:",e.gameData.filter((function(e){return String(e.Index)===String(t)})))},h="IDLE"===n?o.createElement("div",{className:"gameScreen"},o.createElement(W,{introElem:e.introElem,mapObj:e.mapObj,gameStart:function(){r("STARTED"),i(0)}})):"END"===n?o.createElement("div",null):o.createElement("div",{className:"gameScreen"},o.createElement(Y,{dollars:l,performance:p}),o.createElement(fe,{curIndex:c,curPrompt:e.gameData[c],changePrompt:i,updateDollars:function(e){l+e>=0?u((function(t){return t+e})):f()},updatePerformance:function(e){p+e>=0?d((function(t){return t+e})):f()}}));return h}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(97762);var be=function(){function e(t,n,r,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t;var c=this.container.append("div").classed("rootElem",!0);this.engineRoot=U.createRoot(c.node()),this.optionData=n,this.mapObj=a,this.amorce=r.TEXTE,this.gameData=o,console.log("game Data is : ",this.gameData),this.initEngine()}var t,n;return t=e,(n=[{key:"initEngine",value:function(){var e=o.createElement(c,{key:"gameIntro",sectionType:g,optionData:this.optionData,amorce:this.amorce,background:null,classes:""});this.engineRoot.render(o.createElement(ge,{introElem:e,mapObj:this.mapObj,gameStatus:this.gameStatus,gameData:this.gameData}))}}])&&ye(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ee(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){Ee(o,r,a,c,i,"next",e)}function i(e){Ee(o,r,a,c,i,"throw",e)}c(void 0)}))}}var we="mapbox://styles/ledevoir/clal9zlfk004a15qohhr7r495";function Se(e,t){return ke.apply(this,arguments)}function ke(){return(ke=xe(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.gyn("https://docs.google.com/spreadsheets/d/e/2PACX-1vQQZ3sz0q1vnZmoYYR5IrCfuONhHcNw50iDtbg1H2mIX8lHDL1BQ4sAMi7iApSE1G9WQTW2jHcWv4KW/pub?gid=0&single=true&output=csv").then((function(e){return C.AVB("./data/filtered_accidents.geojson").then((function(r){var a=[{sourceName:"mapSource",sourceType:"geojson",sourceData:r,layerType:"circle",color:"#f58366",opacity:.8,coords:{center:[-70.566,52.488],zoom:4},extraCoords:{zone1:{center:[-70.566,52.488],zoom:5}}}],o=C.Ys(".map-area");o.append("div").classed("map",!0).attr("id","qcmap");var c=new M(C.Ys("#qcmap"),"qcmap",a,we,{center:[-70.566,52.488],zoom:4});return c.map.on("load",(function(){C.Ys("#qcmap").select(".mapbox-improve-map").text(""),c.initMapSourcesAndLayers(),C.Ys("#qcmap").select(".loading").style("display","none"),C.Ys("#qcmap").select(".options-bar").classed("disabled",!1)})),new be(o,O(n),t[0],c,e),Ie(t,n),[[function(){}]]}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t){var n=A(e,t);console.log("checking structure:",n),n.map((function(e){"viz-section"===e.sectionType&&e.steps.map((function(t,n){""!==t.visual&&(0===n?C.Ys("#".concat(e.key,"_").concat(n)).style("opacity",1):C.Ys("#".concat(e.key,"_").concat(n)).style("opacity",0))}))}))}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pe=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.index=n,this.callback=r,this._isActivate=!1}var t,n;return t=e,(n=[{key:"activate",value:function(e){this._isActivate||(this._isActivate=!0,this.el.classList.add("active"),this.callback(e))}},{key:"deactivate",value:function(){this._isActivate&&(this._isActivate=!1,this.el.classList.remove("active"))}}])&&Te(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ce=n(52732),Ae=n.n(Ce),De=n(89438);function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){var n=[];[".viz",".full-page-section > img",".full-page-section > video"].forEach((function(e){n=n.concat(Array.from(document.querySelectorAll(e)))})),(0,De.Z)(n,{stickyBitStickyOffset:40}),new(Ae())({elements_selector:".lazy",threshold:500}),Promise.all([Se(e,t)]).then((function(e){var t,n;(function(e){var t=0,n=0,r=window.innerHeight,a=!1,o=0,c=[],i=[],s=[],l=document.querySelector(".article-reminder"),u=document.querySelector("header > .progress"),m=document.querySelector(".intro-section h1"),p=document.querySelectorAll(".viz-section");if(p.length!==e.length)throw new Error("The number of viz sections (".concat(p.length,") mismatch with the length of the first ")+"dimension of the callbacks array (".concat(e.length,"). Please, be sure that the two elements ")+"have the same size.");p.forEach((function(t,n){var r,a=function(e){if(Array.isArray(e))return Ne(e)}(r=t.querySelectorAll("section"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();if(a.length!==e[n].length)throw new Error("The number of steps (".concat(a.length,") in the viz section #").concat(n+1," mismatch with the ")+"number of callbacks specified (".concat(e[n].length,') at the index "').concat(n,'". Please, be sure that the two ')+"elements have the same size.");c=c.concat(a.map((function(t,r){return new Pe(t,"".concat(n,"-").concat(r),e[n][r])}))),i=i.concat(i,t.querySelector(".viz > *"))}));var d=function(){var e=window.pageYOffset||document.documentElement.scrollTop;c.forEach((function(e){var a=e.el.getBoundingClientRect();r-a.top-n>0&&a.top+a.height-t>0?s.push(e):e.deactivate()}));var a=m.getBoundingClientRect().bottom<=0,i=l.classList.contains("visible");a&&!i?l.classList.add("visible"):!a&&i&&l.classList.remove("visible"),s.forEach((function(t,n){e>=o?n===s.length-1?t.activate("down"):t.deactivate():0===n?t.activate("up"):t.deactivate()})),f(),s=[],o=e},f=function(){var e=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;u.style.width=e+"%"},v={initialize:function(){if(a)throw new Error("The scroller is already initialized.");return a=!0,window.addEventListener("scroll",d),window.addEventListener("resize",(function(){r=window.innerHeight,f()})),(window.pageYOffset||document.documentElement.scrollTop)>0&&d(),f(),v},offsetTop:function(e){if(void 0===e)return t;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return t=e,v},offsetBottom:function(e){if(void 0===e)return n;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return n=e,v}};return v})((t=e,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]).offsetTop(40).offsetBottom(0).initialize()}))}function _e(e){return e.rendered&&(0,o.useEffect)((function(){Oe(e.contentData,e.paramsData)}),[]),t=A(e.contentData,e.paramsData),n={},Object.keys(t).map((function(e,r){var a=t[e];a.sectionType===g?n[e]=o.createElement(c,{key:a.key,sectionType:a.sectionType,optionData:a.optionData,amorce:(0,i.ZP)(a.amorce),background:a.background,classes:a.classes}):a.sectionType===b?n[e]=o.createElement(s,{key:a.key,id:a.key,sectionType:a.sectionType,texts:a.texts,background:a.background,classes:a.classes,visuelclasses:a.visuelclasses,visual:a.visual,filename:a.filename}):a.sectionType===y?n[e]=o.createElement(P,{key:a.key,id:a.key,sectionType:a.sectionType,background:a.background,classes:a.classes,visuelclasses:a.visuelclasses,visual:a.visual,mainTitle:a.texts.mainTitle,subTitle:a.texts.subTitle,filename:a.filename}):a.sectionType===E&&(n[e]=o.createElement(T,{key:a.key,listID:a.listID,steps:a.steps,classed:a.classed,mediaInfo:a.mediaInfo,background:a.background}))})),Object.values(n);var t,n}document.querySelector("#root").innerHTML=r.E,Promise.all([Promise.resolve().then(n.t.bind(n,20745,19)),Promise.resolve().then(n.t.bind(n,67294,19))]).then((function(e){var t=e[0],n=e[1];C.gyn(a.google_config.contentURL).then((function(e){C.gyn(a.google_config.paramsURL).then((function(r){t.createRoot(document.getElementById("root")).render(n.createElement(_e,{contentData:e,paramsData:r,rendered:!0})),document.querySelector("#footerContainer").innerHTML=C.Ys("#footerContent").node().innerHTML}))}))}))},40207:e=>{e.exports={google_config:{contentURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=0&single=true&output=csv",paramsURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=409950237&single=true&output=csv",localContentURL:"./data/structure/contentData.csv",localParamsURL:"./data/structure/paramsData.csv"}}}},e=>{var t=t=>e(e.s=t);e.O(0,[216],(()=>(t(28594),t(35666),t(28081)))),e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WixjQUFnQnZDLElBQy9Ca1csRUFBYUUsR0FBZSxnQkFBQ2hXLEVBQUQsQ0FBWWxFLElBQUtpSCxFQUFXakgsSUFBS3VFLE9BQVEwQyxFQUFXMUMsT0FBUUosTUFBTzhDLEVBQVc5QyxNQUFPSyxRQUFTeUMsRUFBV3pDLFFBQVMyQyxVQUFXRixFQUFXRSxVQUFXMUcsV0FBWXdHLEVBQVd4RyxpQkFHdk0yRyxPQUFPQyxPQUFPMlMsR0FwQmxCLElBQW9CcFUsRUFFbkJvVSxFQ3RCTnJELFNBQVNtQixjQUFjLFNBQVNxQyxVQUFhQyxFQUFBQSxFQWdEM0NsRCxRQUFRQyxJQUFJLENBQUMsNkNBQTRCLCtDQUN4Q2xDLE1BQUssU0FBQW9GLEdBQ0osSUFBTXpGLEVBQVd5RixFQUFTLEdBQ3BCQyxFQUFRRCxFQUFTLEdBQ3ZCck0sRUFBQUEsSUFBT3VNLEVBQWMsY0FBZEEsWUFBMEJ0RixNQUFNLFNBQUF2UCxHQUNyQ3NJLEVBQUFBLElBQU91TSxFQUFjLGNBQWRBLFdBQXlCdEYsTUFBTSxTQUFBdFAsR0FDdkJpUCxFQUFTNEYsV0FBVzdELFNBQVM4RCxlQUFlLFNBQ3BEM0YsT0FDSCxnQkFBQ2dGLEdBQUQsQ0FBaUJwVSxZQUFhQSxFQUFhQyxXQUFZQSxFQUFZb1UsVUFBVSxLQWtDdkZwRCxTQUFTbUIsY0FBYyxvQkFBb0JxQyxVQUFZbk0sRUFBQUEsR0FBQSxrQkFBNEJNLE9BQU82TCxvQixVQzdGNUZPLEVBQU9DLFFBQVUsQ0FBQ0osY0FQSSxDQUNsQixXQUFjLG1LQUNkLFVBQWEsMktBQ2IsZ0JBQW1CLG1DQUNuQixlQUFrQixzQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9jb21wb25lbnRzL0ludHJvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvY29tcG9uZW50cy9UZXh0U2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvY29tcG9uZW50cy9EV0NoYXJ0LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3IvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9jb21wb25lbnRzL1ZpelNlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2NvbXBvbmVudHMvRnVsbFBhZ2VTZWN0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3Ivc3RydWN0dXJlR2VuZXJhdG9yLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2RhdGEvc3RydWN0dXJlL2NhbGxiYWNrcy5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uLi9sZWRldm9pci1kYXRhdml6L3NyYy9tYXBzL3NjcmVlbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uLi9sZWRldm9pci1kYXRhdml6L3NyYy9tYXBzL2ludGVyYWN0aXZlLW1hcC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uLi9sZWRldm9pci1kYXRhdml6L3NyYy9ncmFwaHMvc3RhY2tlZEFyZWFDaGFydC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL2dhdWdlcy9HYXVnZXMuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9pbnRyb0JveC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvQ2hvaWNlLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9NdWx0aVNlbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvUHJpbnRQcm9tcHQuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL1JlcGFydGl0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvUHJvbXB0Qm94LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvbWFpbmZyYW1lLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2VuZ2luZS5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvdml6LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9zY3JvbGxlci5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2VuZXJhdG9yL2luaXRTY3JvbGxlci5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2VuZXJhdG9yL1JlbmRlclN0cnVjdHVyZS5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvYXBwLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2RhdGEvZ29vZ2xlX2NvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gSW50cm9TZWN0aW9uKHByb3BzKXtcclxuICAgIFxyXG4gICAgbGV0IGF1dGhvcnNMaW5lID0gQXJyYXkuZnJvbShTdHJpbmcocHJvcHMub3B0aW9uRGF0YS5hdXRob3JzKS5zcGxpdCgnLCcpKS5tYXAoKG5hbWUsaSkgPT4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBjdXJMZW4gPSBBcnJheS5mcm9tKFN0cmluZyhwcm9wcy5vcHRpb25EYXRhLmF1dGhvcnMpLnNwbGl0KCcsJykpLmxlbmd0aDtcclxuICAgICAgICBpZihjdXJMZW4gPiAyKXtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIGkgPT09IChjdXJMZW4tMikgP1xyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17aX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2Ake1N0cmluZyhwcm9wcy5vcHRpb25EYXRhLnVybHMpLnNwbGl0KCcsJylbaV19YH0+e25hbWV9PC9hPiZuYnNwO2V0Jm5ic3A7XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgKSAgICBcclxuICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICBpID09PSAoY3VyTGVuIC0gMSkgPyBcclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e2l9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtgJHtTdHJpbmcocHJvcHMub3B0aW9uRGF0YS51cmxzKS5zcGxpdCgnLCcpW2ldfWB9PntuYW1lfTwvYT5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17aX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2Ake1N0cmluZyhwcm9wcy5vcHRpb25EYXRhLnVybHMpLnNwbGl0KCcsJylbaV19YH0+e25hbWV9PC9hPiwmbmJzcDtcclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIGkgPT09IDAgP1xyXG4gICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e2l9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2Ake1N0cmluZyhwcm9wcy5vcHRpb25EYXRhLnVybHMpLnNwbGl0KCcsJylbaV19YH0+e25hbWV9PC9hPiZuYnNwO2V0Jm5ic3A7XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICkgICAgXHJcblxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGtleT17aX0+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPXtgJHtTdHJpbmcocHJvcHMub3B0aW9uRGF0YS51cmxzKS5zcGxpdCgnLCcpW2ldfWB9PntuYW1lfTwvYT5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH0pO1xyXG4gICAgbGV0IGludHJvU2VjdGlvbk9iaiA9IChcclxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9e2BpbnRyby1zZWN0aW9uICR7cHJvcHMuY2xhc3Nlc31gfT5cclxuICAgICAgICAgICAgPGgxPntwcm9wcy5vcHRpb25EYXRhLnRpdGxlfTwvaDE+XHJcbiAgICAgICAgICAgIDxhZGRyZXNzPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdXRob3JzXCI+UGFyIHthdXRob3JzTGluZX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkYXRlXCI+e3Byb3BzLm9wdGlvbkRhdGEuZGF0ZX08L2Rpdj5cclxuICAgICAgICAgICAgPC9hZGRyZXNzPlxyXG4gICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgIHtwcm9wcy5hbW9yY2V9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICApO1xyXG4gICAgbGV0IGNvbnRhaW5lZE9iaiA9IHByb3BzLmJhY2tncm91bmQgP1xyXG4gICAgICAgIChcclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogYCR7cHJvcHMuYmFja2dyb3VuZH1gfX0gY2xhc3NOYW1lPXtcInNlY3Rpb25Db250YWluZXJcIn0+XHJcbiAgICAgICAgICAgICAgICB7aW50cm9TZWN0aW9uT2JqfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICAgICAgOlxyXG4gICAgICAgIChcclxuICAgICAgICAgICAgaW50cm9TZWN0aW9uT2JqXHJcbiAgICAgICAgKVxyXG4gICAgXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIGNvbnRhaW5lZE9ialxyXG4gICAgKVxyXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVGV4dFNlY3Rpb24ocHJvcHMpe1xyXG5cclxuICAgIGxldCBpc1F1b3RlID0gU3RyaW5nKHByb3BzLmNsYXNzZXMpLmluY2x1ZGVzKCdjaXRhdGlvbicpO1xyXG4gICAgbGV0IHF1b3RlT2JqO1xyXG4gICAgaWYoaXNRdW90ZSl7XHJcbiAgICAgICAgcXVvdGVPYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6U3RyaW5nKHByb3BzLnRleHRzKS5zcGxpdCgnLycpWzBdLFxyXG4gICAgICAgICAgICBhdXRob3I6U3RyaW5nKHByb3BzLnRleHRzKS5zcGxpdCgnLycpWzFdXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXNCaWdOdW1iZXIgPSBTdHJpbmcocHJvcHMuY2xhc3NlcykuaW5jbHVkZXMoJ2JpZ051bWJlcicpO1xyXG4gICAgbGV0IGJpZ051bWJlck9iajtcclxuICAgIGlmKGlzQmlnTnVtYmVyKXtcclxuICAgICAgICBiaWdOdW1iZXJPYmogPSB7XHJcbiAgICAgICAgICAgIG51bWJlcjpTdHJpbmcocHJvcHMudGV4dHMpLnNwbGl0KCcvJylbMF0sXHJcbiAgICAgICAgICAgIHVuZGVyVGV4dDpTdHJpbmcocHJvcHMudGV4dHMpLnNwbGl0KCcvJylbMV1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBpc1Zpc3VhbCA9IHByb3BzLnZpc3VhbDtcclxuICAgIGxldCB2aXN1YWxPYmogPSAoXHJcbiAgICAgICAgKGlzVmlzdWFsICE9PSBcIlwiKSA/IFxyXG4gICAgICAgICAgICBwcm9wcy52aXN1YWwgPT09IFwiUGhvdG9cIiA/IFxyXG4gICAgICAgICAgICAgICAgPGltZyBcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2BwaG90b1RleHRTZWN0aW9uXyR7cHJvcHMuaWR9YH1cclxuICAgICAgICAgICAgICAgICAgICBpZD17YHBob3RvVGV4dFNlY3Rpb25fJHtwcm9wcy5pZH1gfVxyXG4gICAgICAgICAgICAgICAgICAgIHNyYz17YGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9YH1cclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXNyY3NldD17YGFzc2V0cy9pbWcvMjA0OC8ke3Byb3BzLmZpbGVuYW1lfSAyMDQ4dywgYXNzZXRzL2ltZy85OTAvJHtwcm9wcy5maWxlbmFtZX0gOTkwdywgYXNzZXRzL2ltZy82NzUvJHtwcm9wcy5maWxlbmFtZX0gNjc1dywgYXNzZXRzL2ltZy8xMzUwLyR7cHJvcHMuZmlsZW5hbWV9IDEzNTB3LCBhc3NldHMvaW1nLzEwMC8ke3Byb3BzLmZpbGVuYW1lfSAxMDB3LCBhc3NldHMvaW1nLzQ5NS8ke3Byb3BzLmZpbGVuYW1lfSA0OTV3LCBhc3NldHMvaW1nLzEwMjQvJHtwcm9wcy5maWxlbmFtZX0gMTAyNHdgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtc2l6ZXM9XCIobWF4LXdpZHRoOiAxMDBweCkgMTAwcHgsIChtYXgtd2lkdGg6IDQ5NXB4KSA0OTVweCwgKG1heC13aWR0aDogNjc1cHgpIDY3NXB4LCAobWF4LXdpZHRoOiA5OTBweCkgOTkwcHgsIChtYXgtd2lkdGg6ICAxMDI0cHgpIDEwMjRweCwgKG1heC13aWR0aDogIDEzNTBweCkgMTM1MHB4LCAobWF4LXdpZHRoOiAgMjA0OHB4KSAyMDQ4cHhcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGxhenkgJHtwcm9wcy52aXN1ZWxjbGFzc2VzfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3twYWRkaW5nQm90dG9tOiAnMXJlbSd9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICBwcm9wcy52aXN1YWwgPT09IFwiVmlkZW9cIiA/IFxyXG4gICAgICAgICAgICAgICAgPHZpZGVvIGF1dG9QbGF5IGxvb3AgbXV0ZWQgcGxheXNJbmxpbmUgY2xhc3NOYW1lPXtgdmlkZW8gJHtwcm9wcy52aXN1ZWxjbGFzc2VzfWB9IHByZWxvYWQ9XCJtZXRhZGF0YVwiIGtleT17YHZpZGVvVGV4dFNlY3Rpb25fJHtwcm9wcy5pZH1gfSBpZD17YHZpZGVvVGV4dFNlY3Rpb25fJHtwcm9wcy5pZH1gfT5cclxuICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz17YGFzc2V0cy92aWRlb3MvJHtwcm9wcy5maWxlbmFtZX1gfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgVmlkw6lvIG5vbiBzdXBwb3J0w6llLiBSw6ktZXNzYXlleiBzdXIgdW4gYXV0cmUgYXBwYXJlaWwgb3UgZnVyZXRldXIuXHJcbiAgICAgICAgICAgICAgICA8L3ZpZGVvPlxyXG4gICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICA6XHJcbiAgICAgICAgPGRpdj48L2Rpdj5cclxuICAgIClcclxuXHJcbiAgICBsZXQgdGV4dFNlY3Rpb25PYmogPSAoXHJcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtgdGV4dC1zZWN0aW9uICR7cHJvcHMuY2xhc3Nlc31gfT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlzUXVvdGUgPyBcclxuICAgICAgICAgICAgPGJsb2NrcXVvdGUgY2xhc3NOYW1lPVwic21hbGxcIj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICA8Yj5cclxuICAgICAgICAgICAgICAgICAgICB7cGFyc2UocXVvdGVPYmoudGV4dCl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9iPlxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYXV0aG9yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3F1b3RlT2JqLmF1dGhvcn1cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3ltYm9sXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9ibG9ja3F1b3RlPlxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgIGlzQmlnTnVtYmVyID9cclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1udW1iZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJudW1iZXJzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDI+e2JpZ051bWJlck9iai5udW1iZXJ9PC9oMj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YmlnTnVtYmVyT2JqLnVuZGVyVGV4dH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc21hbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmlzdWFsID8gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzdWFsT2JqXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcocHJvcHMudGV4dHMpLnN0YXJ0c1dpdGgoJzwnKSA/ICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlKHByb3BzLnRleHRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3BhcnNlKHByb3BzLnRleHRzKX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKVxyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgKTtcclxuICAgIGxldCBjb250YWluZWRPYmogPSBwcm9wcy5iYWNrZ3JvdW5kID8gXHJcbiAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogYCR7cHJvcHMuYmFja2dyb3VuZH1gfX0gY2xhc3NOYW1lPXtcInNlY3Rpb25Db250YWluZXJcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0U2VjdGlvbk9ian1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0U2VjdGlvbk9ialxyXG4gICAgICAgICAgICAgICAgKVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgY29udGFpbmVkT2JqXHJcbiAgICApXHJcbn0iLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEV0NoYXJ0KHsgdGl0bGUsIHNyYywgLi4ucHJvcHMgfSkge1xyXG4gIGNvbnN0IGlmcmFtZVJlZiA9IHVzZVJlZigpXHJcbiAgY29uc3QgW2hlaWdodCwgc2V0U3RhdGVdID0gdXNlU3RhdGUoNTAwKVxyXG5cclxuICBjb25zdCBvbk1lc3NhZ2UgPSB1c2VDYWxsYmFjayhcclxuICAgICh7IGRhdGEgPSB7fSwgc291cmNlIH0pID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHNvdXJjZSAhPT0gaWZyYW1lUmVmLmN1cnJlbnQuY29udGVudFdpbmRvdyB8fFxyXG4gICAgICAgIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyB8fFxyXG4gICAgICAgICFkYXRhWydkYXRhd3JhcHBlci1oZWlnaHQnXVxyXG4gICAgICApXHJcbiAgICAgICAgcmV0dXJuXHJcblxyXG4gICAgICAvL3NldFN0YXRlKE9iamVjdC52YWx1ZXMoZGF0YVsnZGF0YXdyYXBwZXItaGVpZ2h0J10pWzBdKVxyXG4gICAgfSxcclxuICAgIFtzZXRTdGF0ZSwgaWZyYW1lUmVmXVxyXG4gIClcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKVxyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKVxyXG4gIH0sIFtoZWlnaHQsIHNldFN0YXRlLCBvbk1lc3NhZ2VdKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGlmcmFtZVxyXG4gICAgICByZWY9e2lmcmFtZVJlZn1cclxuICAgICAgc2Nyb2xsaW5nPVwibm9cIlxyXG4gICAgICBmcmFtZUJvcmRlcj1cIjBcIlxyXG4gICAgICB3aWR0aD1cIjEwMCVcIlxyXG4gICAgICB7Li4ucHJvcHN9XHJcbiAgICAgIHRpdGxlPXt0aXRsZX1cclxuICAgICAgc3JjPXtzcmN9XHJcbiAgICAgIGhlaWdodD17aGVpZ2h0fVxyXG4gICAgLz5cclxuICApXHJcbn1cclxuXHJcbkRXQ2hhcnQucHJvcFR5cGVzID0ge1xyXG4gIHRpdGxlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgc3JjOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgbG9hZGluZzogUHJvcFR5cGVzLm9uZU9mKFsnZWFnZXInLCAnbGF6eSddKSxcclxufSIsImV4cG9ydCBjb25zdCBjb250ZW50SGVhZGVyQ29uc3RhbnRzID0ge1xuICAgIHNlY3Rpb246IFwiU2VjdGlvblwiLFxuICAgIHNlY3Rpb25JRDogXCJTZWN0aW9uSURcIixcbiAgICBhdHRyaWJ1dHM6IFwiQXR0cmlidXRzXCIsXG4gICAgc291c3NlY3Rpb246IFwiU3RlcFwiLFxuICAgIHRleHRlOiBcIlRFWFRFXCIsXG4gICAgdmlzdWVsOiBcIlZJU1VFTFwiLFxuICAgIG5vbWZpY2hpZXJzb3VyY2U6IFwiTm9tRmljaGllclNvdXJjZVwiLFxuICAgIHN0eWxlZm9uZDogXCJTdHlsZUZvbmRcIixcbiAgICBzdGVwY2xhc3NlczogXCJTdGVwQ2xhc3Nlc1wiLFxuICAgIHZpc3VlbGNsYXNzZXM6IFwiVmlzdWVsQ2xhc3Nlc1wiLFxuICAgIG5vdGVzOiBcIk5vdGVzXCIsXG4gICAgZ2FtZWlkOiBcIkdhbWVJRFwiXG59O1xuXG5leHBvcnQgY29uc3Qgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzID0ge1xuICAgIHNlY3Rpb250eXBlczoge1xuICAgICAgICBpbnRyb3RpdHJlOiBcImludHJvLXRpdHJlXCIsXG4gICAgICAgIHBsZWluZXBhZ2V0aXRyZTogXCJwbGVpbmUtcGFnZS10aXRyZVwiLFxuICAgICAgICB0ZXh0ZWNsYXNzaXF1ZTogXCJ0ZXh0ZS1jbGFzc2lxdWVcIixcbiAgICAgICAgdml6c2VjdGlvbjogXCJ2aXotc2VjdGlvblwiXG4gICAgfSxcbiAgICBzZWN0aW9uYXR0cmlidXRlczp7XG4gICAgICAgIHBsZWluZXBhZ2U6IFwicGxlaW5lLXBhZ2VcIixcbiAgICAgICAgZm9uZG5vaXI6IFwiZm9uZC1ub2lyXCIsXG4gICAgICAgIGNlbnRyZTogXCJjZW50csOpXCIsXG4gICAgICAgIGNvdGVjb3RlOiBcImPDtHTDqS1jw7R0w6lcIlxuICAgIH0sXG4gICAgdmlzdWVsdHlwZXM6e1xuICAgICAgICBwaG90bzogXCJQaG90b1wiLFxuICAgICAgICB2aWRlbzogXCJWaWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJBdWRpb1wiLFxuICAgICAgICB2aXN1YWxpc2F0aW9uOiBcIlZpc3VhbGlzYXRpb25cIixcbiAgICAgICAgaWZyYW1lOiBcImlmcmFtZVwiXG4gICAgfSxcbiAgICBzb3Vzc2VjdGlvbnR5cGVzOntcbiAgICAgICAgc2Nyb2xsbm9ybWFsOiBcInNjcm9sbC1ub3JtYWxcIixcbiAgICAgICAgc2Nyb2xsaW52aXNpYmxlOiBcInNjcm9sbC1pbnZpc2libGVcIixcbiAgICAgICAgc2Nyb2xsbG9uZzogXCJzY3JvbGwtbG9uZ1wiXG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHBhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMgPSB7XG4gICAgdGl0cmU6IFwiVGl0cmVcIixcbiAgICBhdXRldXJzOiBcIkF1dGV1cnNcIixcbiAgICBkYXRlOiBcIkRhdGVcIixcbiAgICBkYXRlOiBcIkRhdGVcIixcbiAgICB1cmxzOiBcIkxpZW5BdXRldXJzXCIsXG4gICAgbGllbmZpY2hpZXJzb3VyY2U6IFwiTGllbkZpY2hpZXJTb3VyY2VcIlxufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuaW1wb3J0IERXQ2hhcnQgZnJvbSBcIi4vRFdDaGFydFwiO1xuaW1wb3J0IHsgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzIH0gZnJvbSBcIi4uL2dlbmVyYXRvci9jb25zdGFudHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFZpelNlY3Rpb24ocHJvcHMpe1xuXG4gICAgbGV0IHZpelNlY3Rpb25PYmogPSAoXG4gICAgICAgIDxzZWN0aW9uIGlkPXtwcm9wcy5saXN0SUR9IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NlZH0+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgc3RlcHMgJHtnZXRTdGVwQ29tbW9uQ2xhc3MocHJvcHMuc3RlcHMpfWB9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5zdGVwcy5tYXAoKHN0ZXAsaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3N0ZXAgaXMgJywgc3RlcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNRdW90ZSA9IFN0cmluZyhzdGVwLnN0ZXBjbGFzc2VzKS5pbmNsdWRlcygnY2l0YXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBxdW90ZU9iajtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzUXVvdGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1b3RlT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OlN0cmluZyhzdGVwLnRleHQpLnNwbGl0KCcvJylbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcjpTdHJpbmcoc3RlcC50ZXh0KS5zcGxpdCgnLycpWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24ga2V5PXtpbmRleH0gY2xhc3NOYW1lPXtzdGVwLnN0ZXBjbGFzc2VzfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNRdW90ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2txdW90ZSBjbGFzc05hbWU9XCJzbWFsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFyc2UocXVvdGVPYmoudGV4dCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYXV0aG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtxdW90ZU9iai5hdXRob3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3ltYm9sXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrcXVvdGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcoc3RlcC50ZXh0KS5zdGFydHNXaXRoKCc8JykgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlKHN0ZXAudGV4dClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPntzdGVwLnRleHQgPyBwYXJzZShzdGVwLnRleHQpIDogXCJcIn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInZpelwiIGlkPVwidml6XCI+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5zdGVwcy5tYXAoKHN0ZXAsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihzdGVwLnZpc3VhbCA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnZpc3VlbHR5cGVzLnBob3RvKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtgYXNzZXRzL2ltZy82NzUvJHtzdGVwLmZpbGVuYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXNyY3NldD17YGFzc2V0cy9pbWcvMjA0OC8ke3N0ZXAuZmlsZW5hbWV9IDIwNDh3LCBhc3NldHMvaW1nLzk5MC8ke3N0ZXAuZmlsZW5hbWV9IDk5MHcsIGFzc2V0cy9pbWcvNjc1LyR7c3RlcC5maWxlbmFtZX0gNjc1dywgYXNzZXRzL2ltZy8xMzUwLyR7c3RlcC5maWxlbmFtZX0gMTM1MHcsIGFzc2V0cy9pbWcvMTAwLyR7c3RlcC5maWxlbmFtZX0gMTAwdywgYXNzZXRzL2ltZy80OTUvJHtzdGVwLmZpbGVuYW1lfSA0OTV3LCBhc3NldHMvaW1nLzEwMjQvJHtzdGVwLmZpbGVuYW1lfSAxMDI0d2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXNpemVzPVwiKG1heC13aWR0aDogMTAwcHgpIDEwMHB4LCAobWF4LXdpZHRoOiA0OTVweCkgNDk1cHgsIChtYXgtd2lkdGg6IDY3NXB4KSA2NzVweCwgKG1heC13aWR0aDogOTkwcHgpIDk5MHB4LCAobWF4LXdpZHRoOiAgMTAyNHB4KSAxMDI0cHgsIChtYXgtd2lkdGg6ICAxMzUwcHgpIDEzNTBweCwgKG1heC13aWR0aDogIDIwNDhweCkgMjA0OHB4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGxhenkgJHtzdGVwLnZpc3VlbGNsYXNzZXN9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHN0ZXAudmlzdWFsID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMudmlzdWVsdHlwZXMudmlkZW8pe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2aWRlbyBhdXRvUGxheSBsb29wIG11dGVkIHBsYXlzSW5saW5lIGNsYXNzTmFtZT17YHZpZGVvICR7c3RlcC52aXN1ZWxjbGFzc2VzfWB9IHByZWxvYWQ9XCJtZXRhZGF0YVwiIGtleT17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9IGlkPXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz17YGFzc2V0cy92aWRlb3MvJHtzdGVwLmZpbGVuYW1lfWB9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZMOpbyBub24gc3VwcG9ydMOpZS4gUsOpLWVzc2F5ZXogc3VyIHVuIGF1dHJlIGFwcGFyZWlsIG91IGZ1cmV0ZXVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZpZGVvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzdGVwLnZpc3VhbCA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnZpc3VlbHR5cGVzLmlmcmFtZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBpZD17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9IGNsYXNzTmFtZT1cImlmcmFtZUNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERXQ2hhcnQgdGl0bGU9XCJNZXN1cmVzIGQnYXJzZW5pY1wiIHNyYz17YCR7c3RlcC5maWxlbmFtZX1gfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoc3RlcC52aXN1YWwgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy52aXN1ZWx0eXBlcy52aXN1YWxpc2F0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9IGlkPXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH0gY2xhc3NOYW1lPXtgaWZyYW1lQ29udGFpbmVyICR7c3RlcC52aXN1ZWxjbGFzc2VzfWB9PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgKTtcbiAgICBsZXQgY29udGFpbmVkT2JqID0gcHJvcHMuYmFja2dyb3VuZCA/XG4gICAgICAgIChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6IGAke3Byb3BzLmJhY2tncm91bmR9YH19IGNsYXNzTmFtZT17XCJzZWN0aW9uQ29udGFpbmVyXCJ9PlxuICAgICAgICAgICAgICAgIHt2aXpTZWN0aW9uT2JqfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICAgICAgOlxuICAgICAgICAoXG4gICAgICAgICAgICB2aXpTZWN0aW9uT2JqXG4gICAgICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICAgIGNvbnRhaW5lZE9ialxuICAgIClcbn1cblxuZnVuY3Rpb24gZ2V0U3RlcENvbW1vbkNsYXNzKHN0ZXBzKXtcbiAgICBsZXQgY3VyU3RlcENsYXNzZXMgPSBzdGVwcy5tYXAoKHN0ZXAsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiBzdGVwLnN0ZXBjbGFzc2VzO1xuICAgIH0pO1xuICAgIGxldCBjdXJDb21tb25DbGFzcyA9IG5ldyBBcnJheShjdXJTdGVwQ2xhc3Nlcy5sZW5ndGgpO1xuICAgIGN1clN0ZXBDbGFzc2VzLmZvckVhY2goKHN0ZXBFbGVtLCBpZHgpID0+IHtcbiAgICAgICAgaWYoQXJyYXkuaXNBcnJheShzdGVwRWxlbSkpe1xuICAgICAgICAgICAgc3RlcEVsZW0uZm9yRWFjaChlbGVtID0+IHtcbiAgICAgICAgICAgICAgICBmb3IoIGxldCBpID0gaWR4OyBpIDwgY3VyU3RlcENsYXNzZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBpZihjdXJTdGVwQ2xhc3Nlc1tpXS5pbmNsdWRlcyhlbGVtKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tb25DbGFzc1tpXSA9IChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mKHN0ZXBFbGVtKSA9PT0gXCJzdHJpbmdcIil7XG4gICAgICAgICAgICBmb3IoIGxldCBpID0gaWR4OyBpIDwgY3VyU3RlcENsYXNzZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGlmKGN1clN0ZXBDbGFzc2VzW2ldLmluY2x1ZGVzKHN0ZXBFbGVtKSl7XG4gICAgICAgICAgICAgICAgICAgIGN1ckNvbW1vbkNsYXNzW2ldID0gKHN0ZXBFbGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY3VyQ29tbW9uQ2xhc3MucmVkdWNlKGZ1bmN0aW9uKGEsIGIpeyByZXR1cm4gKGEgPT09IGIgJiYgYSAhPT0gXCJcIiAmJiBiICE9PSBcIlwiKSA/IGEgOiBcIlwiOyB9KTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBGdWxsUGFnZVNlY3Rpb24ocHJvcHMpe1xyXG5cclxuICAgIGxldCBmdWxscGFnZVNlY3Rpb25PYmogPSAoXHJcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtgZnVsbC1wYWdlLXNlY3Rpb24gJHtwcm9wcy5jbGFzc2VzfWB9PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlSW1hZ2VcIj5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5maWxlbmFtZSA/IFxyXG4gICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMudmlzdWFsID09PSBcIlBob3RvXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7cHJvcHMuaWR9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17YCR7cHJvcHMuaWR9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Bhc3NldHMvaW1nLzY3NS8ke3Byb3BzLmZpbGVuYW1lfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zcmNzZXQ9e2Bhc3NldHMvaW1nLzIwNDgvJHtwcm9wcy5maWxlbmFtZX0gMjA0OHcsIGFzc2V0cy9pbWcvOTkwLyR7cHJvcHMuZmlsZW5hbWV9IDk5MHcsIGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9IDY3NXcsIGFzc2V0cy9pbWcvMTM1MC8ke3Byb3BzLmZpbGVuYW1lfSAxMzUwdywgYXNzZXRzL2ltZy8xMDAvJHtwcm9wcy5maWxlbmFtZX0gMTAwdywgYXNzZXRzL2ltZy80OTUvJHtwcm9wcy5maWxlbmFtZX0gNDk1dywgYXNzZXRzL2ltZy8xMDI0LyR7cHJvcHMuZmlsZW5hbWV9IDEwMjR3YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXNpemVzPVwiKG1heC13aWR0aDogMTAwcHgpIDEwMHB4LCAobWF4LXdpZHRoOiA0OTVweCkgNDk1cHgsIChtYXgtd2lkdGg6IDY3NXB4KSA2NzVweCwgKG1heC13aWR0aDogOTkwcHgpIDk5MHB4LCAobWF4LXdpZHRoOiAgMTAyNHB4KSAxMDI0cHgsIChtYXgtd2lkdGg6ICAxMzUwcHgpIDEzNTBweCwgKG1heC13aWR0aDogIDIwNDhweCkgMjA0OHB4XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsYXp5ICR7cHJvcHMudmlzdWVsY2xhc3Nlc31gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnZpc3VhbCA9PT0gXCJWaWRlb1wiID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmlkZW8gYXV0b1BsYXkgbG9vcCBtdXRlZCBwbGF5c0lubGluZSBjbGFzc05hbWU9e2B2aWRlbyAke3Byb3BzLnZpc3VlbGNsYXNzZXN9YH0gcHJlbG9hZD1cIm1ldGFkYXRhXCIga2V5PXtgJHtwcm9wcy5pZH1gfSBpZD17YCR7cHJvcHMuaWR9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPXtgYXNzZXRzL3ZpZGVvcy8ke3Byb3BzLmZpbGVuYW1lfWB9Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmlkw6lvIG5vbiBzdXBwb3J0w6llLiBSw6ktZXNzYXlleiBzdXIgdW4gYXV0cmUgYXBwYXJlaWwgb3UgZnVyZXRldXIuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92aWRlbz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8ZGl2PjwvZGl2PilcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgKDxkaXY+PC9kaXY+KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmZpbGVuYW1lID8gXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWx0ZXJcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcHRpb25ob2xkZXJcIj5cclxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9e2BjYXB0aW9uICR7cHJvcHMubWFpblRpdGxlLmNsYXNzfWB9Pntwcm9wcy5tYWluVGl0bGUudGV4dH08L2gyPlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnN1YlRpdGxlID8gXHJcbiAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPXtgY2FwdGlvbiAke3Byb3BzLnN1YlRpdGxlLmNsYXNzfWB9Pntwcm9wcy5zdWJUaXRsZS50ZXh0fTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgKTpcclxuICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvc2VjdGlvbj5cclxuICAgICk7XHJcbiAgICBsZXQgY29udGFpbmVkT2JqID0gcHJvcHMuYmFja2dyb3VuZCA/IFxyXG4gICAgICAgIChcclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogYCR7cHJvcHMuYmFja2dyb3VuZH1gfX0gY2xhc3NOYW1lPXtcInNlY3Rpb25Db250YWluZXJcIn0+XHJcbiAgICAgICAgICAgICAgICB7ZnVsbHBhZ2VTZWN0aW9uT2JqfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICAgICAgOlxyXG4gICAgICAgIChcclxuICAgICAgICAgICAgZnVsbHBhZ2VTZWN0aW9uT2JqXHJcbiAgICAgICAgKVxyXG5cclxuICAgIHJldHVybiBjb250YWluZWRPYmo7XHJcblxyXG59IiwiXG5pbXBvcnQgeyBzYXZlQXMgfSBmcm9tICdmaWxlLXNhdmVyJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IGNvbnRlbnRIZWFkZXJDb25zdGFudHMsIG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cywgcGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cyB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RydWN0dXJlKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKXtcblxuICAgIGxldCBzdHJ1Y3R1cmVEYXRhID0ge307IC8vIFdob2xlIHNjcm9sbHkgc3RydWN0dXJlXG4gICAgbGV0IHZpelNlY3Rpb25JRHMgPSBbXTsgLy8gTGlzdCBvZiBzZWN0aW9uSURzXG5cbiAgICBsZXQgb3B0aW9ucyA9IGdldE9wdGlvbnMocGFyYW1zRGF0YSk7XG5cbiAgICBjb25zb2xlLmxvZygnY29udGVudCBEYXRhJywgY29udGVudERhdGEpO1xuICAgIGNvbnRlbnREYXRhLm1hcCgocm93RGF0YSxpbmRleCkgPT4ge1xuXG4gICAgICAgIGlmKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uXSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5pbnRyb3RpdHJlKXtcbiAgICAgICAgICAgIGxldCBjbGFzc2VzID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0ZXBjbGFzc2VzXTtcbiAgICAgICAgICAgIGxldCBjdXJBbW9yY2UgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdO1xuICAgICAgICAgICAgbGV0IHNlY3Rpb25CYWNrZ3JvdW5kID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0eWxlZm9uZF07XG4gICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgICAgICAgIHNlY3Rpb25UeXBlOiBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLmludHJvdGl0cmUsXG4gICAgICAgICAgICAgICAgb3B0aW9uRGF0YTogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBhbW9yY2U6IGN1ckFtb3JjZSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBzZWN0aW9uQmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICBjbGFzc2VzOiBwYXJzZUNsYXNzZXMoY2xhc3NlcyksXG4gICAgICAgICAgICAgICAgZ2FtZWlkOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuZ2FtZWlkXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uXSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy50ZXh0ZWNsYXNzaXF1ZSl7XG4gICAgICAgICAgICBsZXQgdGV4dHMgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdO1xuICAgICAgICAgICAgbGV0IGNsYXNzZXMgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3RlcGNsYXNzZXNdO1xuICAgICAgICAgICAgbGV0IHNlY3Rpb25CYWNrZ3JvdW5kID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0eWxlZm9uZF07XG4gICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgICAgICAgIHNlY3Rpb25UeXBlOiBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnRleHRlY2xhc3NpcXVlLFxuICAgICAgICAgICAgICAgIHRleHRzOiB0ZXh0cyxcbiAgICAgICAgICAgICAgICB2aXN1YWw6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxdLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMubm9tZmljaGllcnNvdXJjZV0sXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogc2VjdGlvbkJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgY2xhc3NlczogcGFyc2VDbGFzc2VzKGNsYXNzZXMpLFxuICAgICAgICAgICAgICAgIHZpc3VlbGNsYXNzZXM6IHBhcnNlQ2xhc3Nlcyhyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudmlzdWVsY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIGdhbWVpZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmdhbWVpZF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbl0gPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMucGxlaW5lcGFnZXRpdHJlKXtcbiAgICAgICAgICAgIGxldCB0aXRsZU9iaiA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV07XG4gICAgICAgICAgICBpZiAoaXNKc29uKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV0pKXtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dE9iaiA9IEpTT04ucGFyc2Uocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXSk7XG4gICAgICAgICAgICAgICAgdGl0bGVPYmogPSB0ZXh0T2JqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RydWN0dXJlRGF0YVtyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXV0gPSB7XG4gICAgICAgICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICAgICAgICBzZWN0aW9uVHlwZTogb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5wbGVpbmVwYWdldGl0cmUsXG4gICAgICAgICAgICAgICAgdGV4dHM6IGlzSnNvbihyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdKSA/IHRpdGxlT2JqXG4gICAgICAgICAgICAgICAgOntcbiAgICAgICAgICAgICAgICAgICAgbWFpblRpdGxlOntjbGFzczogXCJcIiwgdGV4dDogdGl0bGVPYmp9LFxuICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZTogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdmlzdWFsOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudmlzdWVsXSxcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLm5vbWZpY2hpZXJzb3VyY2VdLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdHlsZWZvbmRdLFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IHBhcnNlQ2xhc3Nlcyhyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3RlcGNsYXNzZXNdKSxcbiAgICAgICAgICAgICAgICB2aXN1ZWxjbGFzc2VzOiBwYXJzZUNsYXNzZXMocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbGNsYXNzZXNdKSxcbiAgICAgICAgICAgICAgICBnYW1laWQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5nYW1laWRdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25dID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnZpenNlY3Rpb24pe1xuXG4gICAgICAgICAgICBsZXQgY3VyRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dHM6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5hdHRyaWJ1dHNdLFxuICAgICAgICAgICAgICAgIHNjcm9sbFR5cGU6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zb3Vzc2VjdGlvbl0sXG4gICAgICAgICAgICAgICAgdGV4dDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXSxcbiAgICAgICAgICAgICAgICB2aXN1YWw6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxdLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMubm9tZmljaGllcnNvdXJjZV0sXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0eWxlZm9uZF0sXG4gICAgICAgICAgICAgICAgdmlzdWVsY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxjbGFzc2VzXSksXG4gICAgICAgICAgICAgICAgc3RlcGNsYXNzZXM6IHBhcnNlQ2xhc3Nlcyhyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3RlcGNsYXNzZXNdKSxcbiAgICAgICAgICAgICAgICBnYW1laWQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5nYW1laWRdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYoc3RydWN0dXJlRGF0YS5oYXNPd25Qcm9wZXJ0eShyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXSkpe1xuICAgICAgICAgICAgICAgIC8vIEFkZCBzdGVwIHRvIGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgbGV0IGN1clZpelNlY3Rpb24gPSBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXTtcbiAgICAgICAgICAgICAgICBjdXJWaXpTZWN0aW9uLnB1c2goY3VyRGF0YSk7XG4gICAgICAgICAgICAgICAgc3RydWN0dXJlRGF0YVtyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXV0gPSBjdXJWaXpTZWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IFtjdXJEYXRhXTtcbiAgICAgICAgICAgICAgICB2aXpTZWN0aW9uSURzLnB1c2gocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgdml6U2VjdGlvbklEcy5tYXAoKGtleSkgPT4ge1xuICAgICAgICBsZXQgY3VyU2VjdGlvbiA9IHN0cnVjdHVyZURhdGFba2V5XTtcbiAgICAgICAgbGV0IHNlY3Rpb25BdHRyID0gY3VyU2VjdGlvblswXS5hdHRyaWJ1dHMgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9uYXR0cmlidXRlcy5jZW50cmUgPyBcIiBmdWxsLXBhZ2VcIiA6IFwiXCI7XG4gICAgICAgIGxldCBzZWN0aW9uQmFja2dyb3VuZCA9IGN1clNlY3Rpb25bMF0uYmFja2dyb3VuZDtcbiAgICAgICAgc3RydWN0dXJlRGF0YVtrZXldID0ge1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICBzZWN0aW9uVHlwZTogb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy52aXpzZWN0aW9uLFxuICAgICAgICAgICAgbGlzdElEOiBrZXksXG4gICAgICAgICAgICBzdGVwczogY3VyU2VjdGlvbixcbiAgICAgICAgICAgIGNsYXNzZWQ6IGB2aXotc2VjdGlvbiR7c2VjdGlvbkF0dHJ9YCxcbiAgICAgICAgICAgIG1lZGlhSW5mbzogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHNlY3Rpb25CYWNrZ3JvdW5kXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhzdHJ1Y3R1cmVEYXRhKTtcbn1cblxuLyoqXG4gKiBUYWtlIGFydGljbGUgc3RydWN0dXJlIGFzIENTViBhbmQgdHJhbnNmb3JtIGl0IGFzIGNhbGxiYWNrQXJyYXlcbiAqIEBwYXJhbSAge09iamVjdH0gY29udGVudERhdGEgYXJ0aWNsZSBzdHJ1Y3R1cmVcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyBhcnRpY2xlIG9wdGlvbnNcbiAqIEByZXR1cm4ge0FycmF5fSBTY3JvbGxlciBjYWxsYmFjayBhcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDYWxsYmFja3MoY29udGVudERhdGEsIHBhcmFtc0RhdGEpe1xuXG4gICAgbGV0IGZ1bGxTdHJ1Y3R1cmUgPSBnZXRTdHJ1Y3R1cmUoY29udGVudERhdGEsIHBhcmFtc0RhdGEpO1xuICAgIGxldCBjYWxsYmFja3NBcnJheSA9IFtdO1xuICAgIGZ1bGxTdHJ1Y3R1cmUubWFwKGNhbGxiYWNrID0+IHtcbiAgICAgICAgaWYoY2FsbGJhY2suc2VjdGlvblR5cGUgPT09IFwidml6LXNlY3Rpb25cIil7XG4gICAgICAgICAgICBsZXQgY3VyU3RlcHMgPSBbXTtcbiAgICAgICAgICAgIGNhbGxiYWNrLnN0ZXBzLm1hcCgoc3RlcCxpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjdXJDb21tYW5kID0gKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1YyAmJiBFTlZfQ09ORklHLmF1dG9yZW5kZXIpID8gKCgpPT57fSkgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGlmKHN0ZXAudmlzdWFsICE9PSBcIlwiKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ck51bWJlckFycmF5ID0gQXJyYXkoY2FsbGJhY2suc3RlcHMubGVuZ3RoKS5maWxsKG51bGwpLm1hcCgoXywgaSkgPT4gaSkuZmlsdGVyKGQgPT4gZCAhPT0gaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3BhY2l0eVNlbGVjdG9yID0gY3VyTnVtYmVyQXJyYXkubWFwKGluZCA9PiBgIyR7Y2FsbGJhY2sua2V5fV8ke2luZH1gKS5qb2luKCcsJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1YyAmJiBFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbWFuZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QoYCMke2NhbGxiYWNrLmtleX1fJHtpbmRleH1gKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAxKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9wYWNpdHlTZWxlY3RvciAhPT0gXCJcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbChgJHtvcGFjaXR5U2VsZWN0b3J9YCkudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMCkuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbWFuZCA9IGBkMy5zZWxlY3QoJyMke2NhbGxiYWNrLmtleX1fJHtpbmRleH0nKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAxKS5zdHlsZSgnZGlzcGxheScsIG51bGwpOyR7b3BhY2l0eVNlbGVjdG9yICE9PSBcIlwiID8gYGQzLnNlbGVjdEFsbCgnJHtvcGFjaXR5U2VsZWN0b3J9JykudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMCkuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO2AgOiBcIlwifWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihTdHJpbmcoc3RlcC5maWxlbmFtZSkuc3RhcnRzV2l0aChcIlRBR0lEXCIpKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1clRhZ0lEID0gU3RyaW5nKHN0ZXAuZmlsZW5hbWUpLnNwbGl0KCc9JylbMV07XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJUYWdJRF9pbmRleCA9IHBhcnNlSW50KGN1clRhZ0lELnNwbGl0KFwiX1wiKVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJOdW1iZXJBcnJheSA9IEFycmF5KGNhbGxiYWNrLnN0ZXBzLmxlbmd0aCkuZmlsbChudWxsKS5tYXAoKF8sIGkpID0+IGkpLmZpbHRlcihkID0+IGQgIT09IGN1clRhZ0lEX2luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9wYWNpdHlTZWxlY3RvciA9IGN1ck51bWJlckFycmF5Lm1hcChpbmQgPT4gYCMke2NhbGxiYWNrLmtleX1fJHtpbmR9YCkuam9pbignLCcpO1xuICAgICAgICAgICAgICAgICAgICBpZihFTlZfQ09ORklHLmRvd25sb2FkU3RydWMgJiYgRU5WX0NPTkZJRy5hdXRvcmVuZGVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNvbW1hbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdChgIyR7Y3VyVGFnSUR9YCkudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMSkuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob3BhY2l0eVNlbGVjdG9yICE9PSBcIlwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbChgJHtvcGFjaXR5U2VsZWN0b3J9YCkudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMCkuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbWFuZCA9IGBkMy5zZWxlY3QoJyMke2N1clRhZ0lEfScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7JHtvcGFjaXR5U2VsZWN0b3IgIT09IFwiXCIgPyBgZDMuc2VsZWN0QWxsKCcke29wYWNpdHlTZWxlY3Rvcn0nKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7YCA6IFwiXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1YyAmJiBFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICAgICAgICAgICAgICAgIGN1clN0ZXBzLnB1c2goY3VyQ29tbWFuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGN1clN0ZXBzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICBgKCkgPT4geyR7Y3VyQ29tbWFuZH19YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYWxsYmFja3NBcnJheS5wdXNoKGN1clN0ZXBzKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ0dPVCBDQUxMQkFDS1MgQVJSQVk6ICcsIGNhbGxiYWNrc0FycmF5KTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrc0FycmF5O1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBjb25zb2xlLmxvZygnU2F2aW5nIGNhbGxiYWNrcyB0byBmaWxlLi4uJyk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBgaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xcbmV4cG9ydCBjb25zdCBjYWxsYmFja3MgPSAke0pTT04uc3RyaW5naWZ5KGNhbGxiYWNrc0FycmF5LCBudWxsLCAyKX1gO1xuICAgICAgICBsZXQgYmxvYiA9IG5ldyBCbG9iKFt0ZXh0LnJlcGxhY2VBbGwoJ1wiJywgJycpXSwge3R5cGU6IFwidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04XCJ9KTtcbiAgICAgICAgc2F2ZUFzKGJsb2IsIFwiY2FsbGJhY2tzLmpzXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gaXNKc29uKHN0cikge1xuICAgIHRyeSB7XG4gICAgICAgIEpTT04ucGFyc2Uoc3RyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ2xhc3NlcyhzdHIpe1xuICAgIHJldHVybiBBcnJheS5mcm9tKHN0ci5zcGxpdCgnOycpKS5qb2luKCcgJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcHRpb25zKHBhcmFtc0RhdGEpe1xuXG4gIHJldHVybiB7XG4gICAgdGl0bGU6IHBhcmFtc0RhdGFbMF1bcGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cy50aXRyZV0sXG4gICAgYXV0aG9yczogcGFyYW1zRGF0YVswXVtwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzLmF1dGV1cnNdLFxuICAgIHVybHM6IHBhcmFtc0RhdGFbMF1bcGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cy51cmxzXSxcbiAgICBkYXRlOiBwYXJhbXNEYXRhWzBdW3BhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMuZGF0ZV1cbiAgfTtcbn1cbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmV4cG9ydCBjb25zdCBjYWxsYmFja3MgPSBbXG4gIFtcbiAgICAoKSA9PiB7ZDMuc2VsZWN0KCcjdml6U2VjdGlvbjFfMF8wJykudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMSkuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTt9XG4gIF1cbl0iLCJleHBvcnQgZnVuY3Rpb24gc2hvdWxkQnJlYWsoYnIpIHtcclxuICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA8IGJyXHJcbiAgfVxyXG4gIFxyXG4gIGV4cG9ydCBmdW5jdGlvbiBpc1hTKCkge1xyXG4gICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPCA0MDBcclxuICAgIH1cclxuICBcclxuICBleHBvcnQgZnVuY3Rpb24gaXNQb3J0cmFpdCAoKSB7XHJcbiAgICByZXR1cm4gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggPiAxXHJcbiAgfVxyXG4gIFxyXG4gIGV4cG9ydCBmdW5jdGlvbiBpc1NtKCkge1xyXG4gICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPD0gNTc2XHJcbiAgICB9XHJcbiAgXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGlzTWQoKSB7XHJcbiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA+IDU3NiAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3NjhcclxuICAgIH1cclxuICBcclxuICBleHBvcnQgZnVuY3Rpb24gaXNMZygpIHtcclxuICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA+IDc2OCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA5OTJcclxuICB9XHJcbiAgXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGlzWExnKCkge1xyXG4gICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoID4gOTkyXHJcbiAgfSIsImltcG9ydCB7IGNvbnN0YW50IH0gZnJvbSBcImxvZGFzaFwiO1xyXG5pbXBvcnQgbWFwYm94Z2wgZnJvbSBcIm1hcGJveC1nbFwiO1xyXG5pbXBvcnQgKiBhcyBzY3JlZW4gZnJvbSBcIi4vc2NyZWVuLmpzXCI7XHJcblxyXG5jb25zdCBjb25zdGFudHMgPSB7XHJcbiAgdG9rZW46XHJcbiAgICBcInBrLmV5SjFJam9pYkdWa1pYWnZhWElpTENKaElqb2lZMnAyYlc4MWRIVTJNV1YxY1RSaGNYSXphWFpxTUdZeGNpSjkuV3JJRjhvNjlhUl9Uc3RERnU2UXlhZ1wiLFxyXG4gIG1hcEJvdW5kczoge1xyXG4gICAgbWF4OiBbLTE2NSwgMzAuNzI4MzMwLCAtMjUuMjM2MzYsIDgyLjIyOTQzNF0sXHJcbiAgfSxcclxuICBjb2xvcnM6IFtcclxuICAgIFwiI0Y0Q0JDNlwiLFxyXG4gICAgXCIjRjRBMzlBXCIsXHJcbiAgICBcIiNFRTZBNUVcIixcclxuICAgIFwiI0NFMzcyN1wiLFxyXG4gICAgXCIjQTIyODIzXCIsXHJcbiAgICBcIiM3NTFBMUFcIixcclxuICAgIFwiIzQxMDAwMFwiLFxyXG4gIF0sXHJcbiAgY2x1c3Rlck1heFpvb206IDExLFxyXG4gIGNsdXN0ZXJSYWRpdXM6IDMwLFxyXG4gIGNsdXN0ZXJNaW5Qb2ludHM6IDVcclxufTtcclxuXHJcbm1hcGJveGdsLmFjY2Vzc1Rva2VuID0gY29uc3RhbnRzLnRva2VuO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hcCB7XHJcbiAgY29uc3RydWN0b3IoZGl2LCBjbGFzc05hbWUsIGRhdGFTb3VyY2VBcnJheSwgc3R5bGVVcmwsIGluaXRDb29yZHMsIGRpc2FibGVDb250cm9scz10cnVlLCB3aXRoSGFuZGxlcnM9ZmFsc2UsIG1heEJvdW5kcyA9IG51bGwpIHtcclxuXHJcbiAgICB0aGlzLmRhdGFTb3VyY2VPYmplY3RzID0gZGF0YVNvdXJjZUFycmF5O1xyXG4gICAgdGhpcy5jb25zdGFudHMgPSBjb25zdGFudHM7XHJcbiAgICB0aGlzLm1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe1xyXG4gICAgICBjb250YWluZXI6IGNsYXNzTmFtZSxcclxuICAgICAgc3R5bGU6IHN0eWxlVXJsLFxyXG4gICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUsXHJcbiAgICAgIGNlbnRlcjogaW5pdENvb3Jkcy5jZW50ZXIsXHJcbiAgICAgIHpvb206IGluaXRDb29yZHMuem9vbVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm1heEJvdW5kcyA9IGluaXRDb29yZHM7XHJcbiAgICB0aGlzLmJvdW5kc0xpc3QgPSB0aGlzLmRhdGFTb3VyY2VPYmplY3RzLm1hcChkYXRhU291cmNlID0+IGRhdGFTb3VyY2VbJ2Nvb3JkcyddKTtcclxuICAgIHRoaXMuZXh0cmFCb3VuZHMgPSB0aGlzLmRhdGFTb3VyY2VPYmplY3RzLm1hcChkYXRhU291cmNlID0+IGRhdGFTb3VyY2VbJ2V4dHJhQ29vcmRzJ10pO1xyXG4gICAgaWYoZGlzYWJsZUNvbnRyb2xzKXtcclxuICAgICAgdGhpcy5tYXAuc2Nyb2xsWm9vbS5kaXNhYmxlKCk7XHJcbiAgICAgIHRoaXMubWFwLmRyYWdQYW4uZGlzYWJsZSgpO1xyXG4gICAgICB0aGlzLm1hcC5kcmFnUm90YXRlLmRpc2FibGUoKTtcclxuICAgICAgdGhpcy5tYXAuYm94Wm9vbS5kaXNhYmxlKCk7XHJcbiAgICAgIHRoaXMubWFwLmRvdWJsZUNsaWNrWm9vbS5kaXNhYmxlKCk7XHJcbiAgICB9XHJcbiAgICBpZih3aXRoSGFuZGxlcnMpe1xyXG4gICAgICB0aGlzLnNldHVwSGFuZGxlcnMoKTtcclxuICAgIH1cclxuICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLmRhdGFTb3VyY2VPYmplY3RzLm1hcChkYXRhU291cmNlID0+IGRhdGFTb3VyY2VbJ2RhdGEnXSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVCb3VuZHMoXHJcbiAgICBib3VuZHMgPSB0aGlzLm1heEJvdW5kcyxcclxuICAgIHBhZGRpbmcgPSBzY3JlZW4uaXNYUygpID8gNSA6IHNjcmVlbi5pc1NtKCkgPyAxNSA6IDIwLFxyXG4gICAgZHVyYXRpb24gPSAxMDBcclxuICApIHtcclxuICAgIHRoaXMubWFwID0gdGhpcy5tYXAuZml0Qm91bmRzKGJvdW5kcywge1xyXG4gICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgIHBhZGRpbmc6IHBhZGRpbmcsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUNvb3Jkc0FuZFpvb20oZGF0YVBhaXIpe1xyXG4gICAgdGhpcy5tYXAuZmx5VG8oe1xyXG4gICAgICBjZW50ZXI6IGRhdGFQYWlyLmNlbnRlcixcclxuICAgICAgem9vbTogZGF0YVBhaXIuem9vbSxcclxuICAgICAgc3BlZWQ6IDAuNyxcclxuICAgICAgY3VydmU6IDEsXHJcbiAgICAgIGVhc2luZyh0KXtcclxuICAgICAgICByZXR1cm4gdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdmlld0JvdW5kT2JqKG9iamluZGV4KXtcclxuICAgIHRoaXMudXBkYXRlQ29vcmRzQW5kWm9vbSh0aGlzLmJvdW5kc0xpc3Rbb2JqaW5kZXhdKTtcclxuICB9XHJcblxyXG4gIHZpZXdFeHRyYUJvdW5kT2JqKG9iamluZGV4LCBrZXlOYW1lLCBkdXJhdGlvbil7XHJcbiAgICBsZXQgZXh0cmFCb3VuZHMgPSB0aGlzLmV4dHJhQm91bmRzW29iamluZGV4XTtcclxuICAgIHRoaXMudXBkYXRlQ29vcmRzQW5kWm9vbShleHRyYUJvdW5kc1trZXlOYW1lXSk7XHJcbiAgfVxyXG5cclxuICB2aWV3SW5pdEJvdW5kcyhkdXJhdGlvbil7XHJcbiAgICB0aGlzLnVwZGF0ZUNvb3Jkc0FuZFpvb20odGhpcy5tYXhCb3VuZHMpO1xyXG4gIH1cclxuICBzaG93U291cmNlWEl0ZW1ZKHNvdXJjZUluZGV4LCBpdGVtSW5kZXgpIHtcclxuICAgIHRoaXMudXBkYXRlQ29vcmRzQW5kWm9vbSh0aGlzLmRhdGFMaXN0W3NvdXJjZUluZGV4XVtpdGVtSW5kZXhdKVxyXG4gIH1cclxuXHJcbiAgaW5pdE1hcFNvdXJjZXNBbmRMYXllcnMoKSB7XHJcbiAgICBpZiAodGhpcy5pbml0aWFsaXNlZCkgcmV0dXJuO1xyXG4gICAgdGhpcy5pbml0aWFsaXNlZCA9IHRydWU7XHJcbiAgICBcclxuICAgIHRoaXMuZGF0YVNvdXJjZU9iamVjdHMubWFwKGRhdGFTb3VyY2UgPT4ge1xyXG4gICAgICB0aGlzLm1hcC5hZGRTb3VyY2UoZGF0YVNvdXJjZVsnc291cmNlTmFtZSddLCB7XHJcbiAgICAgICAgdHlwZTogZGF0YVNvdXJjZVsnc291cmNlVHlwZSddLFxyXG4gICAgICAgIGRhdGE6IGRhdGFTb3VyY2VbJ3NvdXJjZURhdGEnXVxyXG4gICAgICB9KTtcclxuICAgICAgaWYoZGF0YVNvdXJjZVsnbGF5ZXJUeXBlJ10gPT09ICdmaWxsJyl7XHJcbiAgICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIoe1xyXG4gICAgICAgICAgaWQ6IGRhdGFTb3VyY2VbJ3NvdXJjZU5hbWUnXSxcclxuICAgICAgICAgIHR5cGU6IGRhdGFTb3VyY2VbJ2xheWVyVHlwZSddLFxyXG4gICAgICAgICAgc291cmNlOiBkYXRhU291cmNlWydzb3VyY2VOYW1lJ10sXHJcbiAgICAgICAgICBwYWludDoge1xyXG4gICAgICAgICAgICAnZmlsbC1jb2xvcic6IGRhdGFTb3VyY2VbJ2NvbG9yJ10sXHJcbiAgICAgICAgICAgICdmaWxsLW9wYWNpdHknOiBkYXRhU291cmNlWydvcGFjaXR5J11cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZihkYXRhU291cmNlWydsYXllclR5cGUnXSA9PT0gJ2NpcmNsZScpe1xyXG4gICAgICAgIHRoaXMubWFwLmFkZExheWVyKHtcclxuICAgICAgICAgIGlkOiBkYXRhU291cmNlWydzb3VyY2VOYW1lJ10sXHJcbiAgICAgICAgICB0eXBlOiBkYXRhU291cmNlWydsYXllclR5cGUnXSxcclxuICAgICAgICAgIHNvdXJjZTogZGF0YVNvdXJjZVsnc291cmNlTmFtZSddLFxyXG4gICAgICAgICAgcGFpbnQ6IHtcclxuICAgICAgICAgICAgJ2NpcmNsZS1jb2xvcic6IFsnbWF0Y2gnLCBbXCJnZXRcIiwgXCJzdGF0dXRcIl0sICdSZWNoZXJjaGVzIGVmZmVjdHXDqWVzIG91IGVuIGNvdXJzJywgJyNmZjU2MWMnLCAnUGhhc2UgcHLDqWxpbWluYWlyZScsICcjZmZjNzM0JywgJyNiN2I3YjcnXSxcclxuICAgICAgICAgICAgJ2NpcmNsZS1yYWRpdXMnOiA1XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgY2hhbmdlTGF5ZXJQYWludChpZCwgcHJvcGVydHksIHZhbHVlKXtcclxuICAgIHRoaXMubWFwLnNldFBhaW50UHJvcGVydHkoaWQsIHByb3BlcnR5LCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBzZXR1cEhhbmRsZXJzKCl7XHJcbiAgICBcclxuICAgIHRoaXMubWFwLm9uKFwibW91c2VvdmVyXCIsIFwicGVuc2lvbm5hdHNTb3VyY2VcIiwgKGUpID0+IHtcclxuICAgICAgdGhpcy5tYXAuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgICAgIHRoaXMuZHJhd1BvcHVwKGUpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLm1hcC5vbihcIm1vdXNlb3V0XCIsIFwicGVuc2lvbm5hdHNTb3VyY2VcIiwgKGUpID0+IHtcclxuICAgICAgdGhpcy5tYXAuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLm1hcC5vbihcImNsaWNrXCIsIFwicGVuc2lvbm5hdHNTb3VyY2VcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLm1hcC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcclxuICAgICAgdGhpcy5kcmF3UG9wdXAoZSk7XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuICB9XHJcblxyXG4gIGRyYXdQb3B1cChlKXtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gZS5mZWF0dXJlc1swXS5nZW9tZXRyeS5jb29yZGluYXRlcy5zbGljZSgpO1xyXG4gICAgY29uc3QgcHJvcGVydGllcyA9IGUuZmVhdHVyZXNbMF0ucHJvcGVydGllcztcclxuICAgIGxldCBbb3BlbmRheXN0ciwgb3Blbm1vbnRoc3RyLCBvcGVueWVhcnN0cl0gPSBwcm9wZXJ0aWVzWydvdXZlcnR1cmUnXS5zcGxpdCgnLycpO1xyXG4gICAgbGV0IFtmZXJtZGF5c3RyLCBmZXJtbW9udGhzdHIsIGZlcm15ZWFyc3RyXSA9IHByb3BlcnRpZXNbJ2Zlcm1ldHVyZSddLnNwbGl0KCcvJyk7XHJcbiAgICBsZXQgW2RhdGVfb3V2ZXJ0dXJlLGRhdGVfZmVybWV0dXJlXSA9IFtcclxuICAgICAgbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJmci1DQVwiLCB7ZGF0ZVN0eWxlOlwibG9uZ1wifSkuZm9ybWF0KG5ldyBEYXRlKERhdGUuVVRDKG9wZW55ZWFyc3RyLCBvcGVubW9udGhzdHIsIG9wZW5kYXlzdHIpKSksXHJcbiAgICAgIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZnItQ0FcIiwge2RhdGVTdHlsZTpcImxvbmdcIn0pLmZvcm1hdChuZXcgRGF0ZShEYXRlLlVUQyhmZXJteWVhcnN0ciwgZmVybW1vbnRoc3RyLCBmZXJtZGF5c3RyKSkpXHJcbiAgICBdO1xyXG4gICAgbGV0IGh0bWxfcG9wdXBfY29udGVudCA9IGBcclxuICAgICAgPGgzPiR7cHJvcGVydGllc1snbmFtZSddfTwvaDM+XHJcbiAgICAgIDxoND4ke3Byb3BlcnRpZXNbJ3ZpbGxlJ119LCAke3Byb3BlcnRpZXNbJ3Byb3ZpbmNlJ119PC9oND5cclxuICAgICAgPHA+JHtkYXRlX291dmVydHVyZX0gLSAke2RhdGVfZmVybWV0dXJlfTwvcD5cclxuICAgICAgPHA+JHtwcm9wZXJ0aWVzWydzdGF0dXQnXX08L3A+XHJcbiAgICBgO1xyXG4gICAgd2hpbGUgKE1hdGguYWJzKGUubG5nTGF0LmxuZyAtIGNvb3JkaW5hdGVzWzBdKSA+IDE4MCkge1xyXG4gICAgICBjb29yZGluYXRlc1swXSArPSBlLmxuZ0xhdC5sbmcgPiBjb29yZGluYXRlc1swXSA/IDM2MCA6IC0zNjA7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpXHJcbiAgICAgIC5zZXRMbmdMYXQoY29vcmRpbmF0ZXMpXHJcbiAgICAgIC5zZXRIVE1MKGh0bWxfcG9wdXBfY29udGVudClcclxuICAgICAgLmFkZFRvKHRoaXMubWFwKTtcclxuICB9XHJcblxyXG4gIGNsb3NlUG9wdXAoKSB7XHJcbiAgICBpZiAodGhpcy5wb3B1cCkge1xyXG4gICAgICB0aGlzLnBvcHVwLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlRGF0YShkYXRhU291cmNlTmFtZSwgZGF0YSkge1xyXG4gICAgaWYgKCF0aGlzLmluaXRpYWxpc2VkKSB0aGlzLmluaXRNYXBTb3VyY2VzQW5kTGF5ZXJzKCk7XHJcbiAgICB0aGlzLm1hcC5nZXRTb3VyY2UoZGF0YVNvdXJjZU5hbWUpLnNldERhdGEoZGF0YSk7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XHJcblxyXG5jb25zdCBwb3NpdGl2ZU9yZGVyRGljdCA9IHtcclxuICAgIFwibGFuZF9zaW5rXCI6MCxcclxuICAgIFwiZm9zc2lsX2VtaXNzaW9uc1wiOjEsXHJcbiAgICBcImxhbmRfdXNlX2NoYW5nZVwiOjJ9O1xyXG5cclxuY29uc3QgbmVnYXRpdmVPcmRlckRpY3QgPSB7XCJvY2Vhbl9zaW5rXCI6MCxcclxuICAgIFwiYXRtb3Nfc2lua1wiOjEsXHJcbiAgICBcImxhbmRfc2lua1wiOjJ9O1xyXG5cclxuY29uc3QgY29sb3JEaWN0ID0ge1xyXG5cclxuICAgIGZvc3NpbF9lbWlzc2lvbnM6IFwiI2I3YzNjM1wiLFxyXG4gICAgbGFuZF91c2VfY2hhbmdlOiBcIiNFRkU2NkZcIixcclxuICAgIGxhbmRfc2luazogXCIjYTVkYWE4XCIsXHJcbiAgICBvY2Vhbl9zaW5rOiBcIiM3NWEzYjFcIixcclxuICAgIGF0bW9zX3Npbms6IFwiIzg5Y2ZmMFwiLFxyXG4gICAgY2VtZW50X3Npbms6IFwiI2EyYTE5OFwiXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBzdGFja2VkQXJlYUNoYXJ0e1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHN2Z29iaiwgcmF3ZGF0YSl7XHJcblxyXG4gICAgICAgIHRoaXMuc3ZnT2JqID0gc3Znb2JqO1xyXG4gICAgICAgIHRoaXMuc3ZnV2lkdGggPSB0aGlzLnN2Z09iai5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgdGhpcy5zdmdIZWlnaHQgPSB0aGlzLnN2Z09iai5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2hhcnRXaWR0aCA9IHRoaXMuc3ZnV2lkdGggKiAwLjk7XHJcbiAgICAgICAgdGhpcy5jaGFydEhlaWdodCA9IHRoaXMuc3ZnSGVpZ2h0ICogMC45O1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuY2xlYW5EYXRhKHJhd2RhdGEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjc3ZEYXRhOicsIHRoaXMuZGF0YSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMubWFpbkdyb3VwID0gdGhpcy5zdmdPYmouYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdGhpcy5jaGFydFdpZHRoKVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgdGhpcy5jaGFydEhlaWdodClcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHsodGhpcy5zdmdXaWR0aC10aGlzLmNoYXJ0V2lkdGgpLzJ9LCR7KHRoaXMuc3ZnSGVpZ2h0LXRoaXMuY2hhcnRIZWlnaHQpLzJ9KWApO1xyXG4gICAgICAgIHRoaXMuaW5pdENoYXJ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYW5EYXRhKGRhdGEpe1xyXG4gICAgICAgIHJldHVybiBkYXRhLm1hcCh5ZWFyRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyRGF0YVtcIkFubsOpZVwiXSxcclxuICAgICAgICAgICAgICAgIGZvc3NpbF9lbWlzc2lvbnM6IHBhcnNlRmxvYXQoU3RyaW5nKHllYXJEYXRhW1wiw4ltaXNzaW9ucyBpc3N1ZXMgZGVzIMOpbmVyZ2llcyBmb3NzaWxlc1wiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIGxhbmRfdXNlX2NoYW5nZTogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCJDaGFuZ2VtZW50IGQnYWZmZWN0YXRpb24gZGVzIHRlcnJlc1wiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIGxhbmRfc2luazogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCJQdWl0cyB0ZXJyZXN0cmVcIl0pLnJlcGxhY2UoJywnLFwiLlwiKSksXHJcbiAgICAgICAgICAgICAgICBvY2Vhbl9zaW5rOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIk9jw6lhblwiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIGF0bW9zX3Npbms6IHBhcnNlRmxvYXQoU3RyaW5nKHllYXJEYXRhW1wiQXRtb3NwaMOocmVcIl0pLnJlcGxhY2UoJywnLFwiLlwiKSksXHJcbiAgICAgICAgICAgICAgICBjZW1lbnRfc2luazogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCJQdWl0cyBkZSBjaW1lbnRcIl0pLnJlcGxhY2UoJywnLFwiLlwiKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRDaGFydCgpe1xyXG5cclxuICAgICAgICBsZXQgbGVnZW5kRGF0YSA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiw4ltaXNzaW9ucyBpc3N1ZXMgZGVzIMOpbmVyZ2llcyBmb3NzaWxlc1wiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiZm9zc2lsX2VtaXNzaW9uc1wiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNoYW5nZW1lbnQgZCdhZmZlY3RhdGlvbiBkZXMgdGVycmVzXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJsYW5kX3VzZV9jaGFuZ2VcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQdWl0cyB0ZXJyZXN0cmVcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcImxhbmRfc2lua1wiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk9jw6lhblwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwib2NlYW5fc2lua1wiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkF0bW9zcGjDqHJlXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJhdG1vc19zaW5rXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNvbnN0IHhBeGlzID0gdGhpcy5kcmF3WEF4aXModGhpcy5tYWluR3JvdXAsIHRoaXMuY2hhcnRXaWR0aCwgdGhpcy5kYXRhKTtcclxuICAgICAgICBjb25zdCB5QXhpcyA9IHRoaXMuZHJhd1lBeGlzKHRoaXMubWFpbkdyb3VwLCB0aGlzLmNoYXJ0SGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmRyYXdBcmVhcyh0aGlzLm1haW5Hcm91cCwgeEF4aXMsIHlBeGlzKTtcclxuICAgICAgICAvL3RoaXMuZHJhd1JlY3RhbmdsZXModGhpcy5tYWluR3JvdXAsIHhBeGlzLCB5QXhpcyk7XHJcbiAgICAgICAgdGhpcy5kcmF3VGl0bGUodGhpcy5tYWluR3JvdXApO1xyXG4gICAgICAgIHRoaXMuZHJhd0JvdHRvbUJveCh0aGlzLm1haW5Hcm91cCwgdGhpcy5jaGFydFdpZHRoKVxyXG4gICAgICAgIHRoaXMuZHJhd0RldGFpbHModGhpcy5tYWluR3JvdXAsIGxlZ2VuZERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtkMy5TZWxlY3Rpb259IGNvbnRhaW5lciBkMyBzZWxlY3Rpb25cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCB3aWR0aCBvZiB0aGUgY2hhcnRcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIGRhdGEgT2JqIGNvbnRhaW5pbmcgc2VyaWVzIGFuZCBkb21haW5zXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXhpc1RpdGxlIHggYXhpcyB0aXRsZVxyXG4gICAgICovXHJcbiAgICAgZHJhd1hBeGlzKGNvbnRhaW5lciwgd2lkdGgsIGRhdGEsIGF4aXNUaXRsZSl7XHJcblxyXG4gICAgICAgIGNvbnN0IHhBeGlzR3JvdXAgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3hBeGlzR3JvdXAnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgkezB9LCR7dGhpcy5jaGFydEhlaWdodCowLjkwfSlgKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBkMy5zY2FsZUJhbmQoKVxyXG4gICAgICAgICAgICAuZG9tYWluKGRhdGEubWFwKGVsZW0gPT4gZWxlbS55ZWFyKSlcclxuICAgICAgICAgICAgLnJhbmdlKFt0aGlzLmNoYXJ0V2lkdGgqMC4wNSwgd2lkdGhdKTtcclxuXHJcbiAgICAgICAgY29uc3QgYXhpcyA9IGQzLmF4aXNCb3R0b20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2NhbGUoc2NhbGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aWNrU2l6ZU91dGVyKDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aWNrVmFsdWVzKHNjYWxlLmRvbWFpbigpLmZpbHRlcigoZCxpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGkrMTApJTIwID09PSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpY2tGb3JtYXQoKGQsaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuc3BsaXQoJy0nKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgeEF4aXNHcm91cC5jYWxsKGF4aXMpXHJcbiAgICAgICAgICAgIC5jYWxsKGcgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGlja0dyb3VwcyA9IGcuc2VsZWN0QWxsKFwiLnRpY2tcIik7XHJcbiAgICAgICAgICAgICAgICB0aWNrR3JvdXBzLnNlbGVjdCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDQwMClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ2dyYXBoaWsnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzE0cHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIChkLGkpID0+IGkgPT09IHRpY2tHcm91cHMubm9kZXMoKS5sZW5ndGgtMSA/IFwiZW5kXCIgOiBcIm1pZGRsZVwiKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHNjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtkMy5TZWxlY3Rpb259IGNvbnRhaW5lciBkMyBzZWxlY3Rpb25cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCB3aWR0aCBvZiB0aGUgY2hhcnRcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIGRhdGEgT2JqIGNvbnRhaW5pbmcgc2VyaWVzIGFuZCBkb21haW5zXHJcbiAgICAgKi9cclxuICAgICBkcmF3WUF4aXMoY29udGFpbmVyLCBoZWlnaHQpe1xyXG5cclxuICAgICAgICBjb25zdCB5QXhpc0dyb3VwID0gY29udGFpbmVyLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICd5QXhpc0dyb3VwJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLmNoYXJ0V2lkdGgqMC4wNX0sJHswfSlgKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpXHJcbiAgICAgICAgICAgIC5kb21haW4oWzEyLC0xMl0pXHJcbiAgICAgICAgICAgIC5yYW5nZShbMCxoZWlnaHQqMC45MF0pO1xyXG5cclxuICAgICAgICBjb25zdCBheGlzID0gZDMuYXhpc0xlZnQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2NhbGUoc2NhbGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aWNrU2l6ZU91dGVyKDApO1xyXG4gICAgICAgIHlBeGlzR3JvdXAuY2FsbChheGlzKVxyXG4gICAgICAgICAgICAuY2FsbChnID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tHcm91cHMgPSBnLnNlbGVjdEFsbChcIi50aWNrXCIpO1xyXG4gICAgICAgICAgICAgICAgdGlja0dyb3Vwcy5zZWxlY3QoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA0MDApXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LWZhbWlseScsICdncmFwaGlrJylcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMnB0Jyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3JvdGF0ZSgtOTApJylcclxuICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAtc2NhbGUoMCkpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCItM2VtXCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTJwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnZ3JhcGhpaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCAnNjAwJylcclxuICAgICAgICAgICAgLnRleHQoXCJGbHV4IGRlIENPMiAoR3RDIC8gYW5uw6llKVwiKTtcclxuICAgICAgICByZXR1cm4gc2NhbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0FyZWFzKGNvbnRhaW5lciwgeFNjYWxlLCB5U2NhbGUpe1xyXG5cclxuICAgICAgICBsZXQgcG9zaXRpdmVfcGF0aHNfYXJyYXkgPSB7fTtcclxuICAgICAgICBsZXQgbmVnYXRpdmVfcGF0aHNfYXJyYXkgPSB7fTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zRGF0YSA9IHRoaXMuZGF0YS5tYXAoeWVhckRhdGEgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcG9zRWxlbXMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGN1clRvdGFsID0gMDtcclxuICAgICAgICAgICAgbGV0IGN1clllYXIgPSB5ZWFyRGF0YS55ZWFyO1xyXG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyh5ZWFyRGF0YSkuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICBpZihjdXJFbGVtPjAgJiYgZW50cnlbMF0gIT09IFwieWVhclwiKXtcclxuICAgICAgICAgICAgICAgICAgICBwb3NFbGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZW50cnlbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRyeVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90OiBjdXJUb3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1clRvdGFsICs9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZihlbnRyeVswXSA9PT0gXCJjZW1lbnRfc2lua1wiKXsgLy8gQWRkIGNlbWVudCBzaW5rIHRvIHJlbW92ZSBpdCBhZnRlcndhcmRzIChpbiBmb3NzaWwgZnVlbCkgIFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc0VsZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVudHJ5WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0VsZW1zLnNvcnQoKGEsYikgPT4gcG9zaXRpdmVPcmRlckRpY3RbYS50eXBlXSAtIHBvc2l0aXZlT3JkZXJEaWN0W2IudHlwZV0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBuZWdEYXRhID0gdGhpcy5kYXRhLm1hcCh5ZWFyRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBuZWdFbGVtcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgY3VyVG90YWwgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY3VyWWVhciA9IHllYXJEYXRhLnllYXI7XHJcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHllYXJEYXRhKS5zb3J0KChhLGIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZWdhdGl2ZU9yZGVyRGljdFthWzBdXSAtIG5lZ2F0aXZlT3JkZXJEaWN0W2JbMF1dO1xyXG4gICAgICAgICAgICB9KS5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgIGlmKGN1ckVsZW08MCAmJiBlbnRyeVswXSAhPT0gXCJ5ZWFyXCIgJiYgZW50cnlbMF0gIT09IFwiY2VtZW50X3NpbmtcIiApe1xyXG4gICAgICAgICAgICAgICAgICAgIG5lZ0VsZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVudHJ5WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGN1clRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyVG90YWwgKz0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiBuZWdFbGVtczsvLy5zb3J0KChhLGIpID0+IG5lZ2F0aXZlT3JkZXJEaWN0W2EudHlwZV0gLSBuZWdhdGl2ZU9yZGVyRGljdFtiLnR5cGVdKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ2dvdCBuZWdEYXRhOiAnLCBuZWdEYXRhKTtcclxuXHJcbiAgICAgICAgbGV0IGFyZWFHZW4gPSBkMy5hcmVhKClcclxuICAgICAgICAgICAgLngoZCA9PiB4U2NhbGUoZC5jdXJZZWFyKSlcclxuICAgICAgICAgICAgLnkwKGQgPT4geVNjYWxlKGQuY3VyVG90KSlcclxuICAgICAgICAgICAgLnkxKGQgPT4geVNjYWxlKGQuY3VyVG90K2QudmFsdWUpKTtcclxuICAgICAgICBPYmplY3QuZW50cmllcyhwb3NpdGl2ZU9yZGVyRGljdCkuZm9yRWFjaChvcmRlck9iaiA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3VyS2V5ID0gb3JkZXJPYmpbMF07XHJcbiAgICAgICAgICAgIGxldCBjdXJPcmRlclZhbHVlID0gb3JkZXJPYmpbMV07XHJcbiAgICAgICAgICAgIGxldCBjdXJQYXRoQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgcG9zRGF0YS5mb3JFYWNoKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0geWVhckRhdGFbMF07XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyWWVhciA9IGN1ckVsZW1bJ2N1clllYXInXTtcclxuICAgICAgICAgICAgICAgIGxldCBrZXlPYmogPSB5ZWFyRGF0YS5maWx0ZXIoZWxlbSA9PiBjdXJLZXkgPT09IGVsZW0udHlwZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2VtZW50T2JqID0geWVhckRhdGEuZmlsdGVyKGVsZW0gPT4gJ2NlbWVudF9zaW5rJyA9PT0gZWxlbS50eXBlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoa2V5T2JqLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VyS2V5ID09PSBcImZvc3NpbF9lbWlzc2lvbnNcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clBhdGhBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGN1cktleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGtleU9ialswXS5jdXJUb3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToga2V5T2JqWzBdLnZhbHVlIC0gTWF0aC5hYnMoY2VtZW50T2JqWzBdLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clBhdGhBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGN1cktleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGtleU9ialswXS5jdXJUb3QtIE1hdGguYWJzKGNlbWVudE9ialswXS52YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToga2V5T2JqWzBdLnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgemVyb1xyXG4gICAgICAgICAgICAgICAgICAgIGN1clBhdGhBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY3VyS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwb3NpdGl2ZV9wYXRoc19hcnJheVtjdXJLZXldID0gY3VyUGF0aEFycmF5O1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IHBvc2l0aXZlUGF0aHMgPSB0aGlzLm1haW5Hcm91cC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCAncG9zaXRpdmVQYXRocycpO1xyXG5cclxuICAgICAgICBPYmplY3QuZW50cmllcyhwb3NpdGl2ZV9wYXRoc19hcnJheSkuZm9yRWFjaChjYXRlZ29yeU9iaiA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJLZXkgPSBjYXRlZ29yeU9ialswXTtcclxuICAgICAgICAgICAgbGV0IGN1ckFycmF5ID0gY2F0ZWdvcnlPYmpbMV07XHJcblxyXG4gICAgICAgICAgICBwb3NpdGl2ZVBhdGhzLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaWQnLCBjdXJLZXkpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAgICAgICAgIC5kYXR1bShjdXJBcnJheSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgY29sb3JEaWN0W2N1cktleV0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCBkID0+IGFyZWFHZW4oZCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBPYmplY3QuZW50cmllcyhuZWdhdGl2ZU9yZGVyRGljdCkuc29ydCgoYSxiKSA9PiBiWzFdIC0gYVsxXSkuZm9yRWFjaChvcmRlck9iaiA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3VyS2V5ID0gb3JkZXJPYmpbMF07XHJcbiAgICAgICAgICAgIGxldCBjdXJPcmRlclZhbHVlID0gb3JkZXJPYmpbMV07XHJcbiAgICAgICAgICAgIGxldCBjdXJQYXRoQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIG5lZ0RhdGEuZm9yRWFjaCh5ZWFyRGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyRWxlbSA9IHllYXJEYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1clllYXIgPSBjdXJFbGVtWydjdXJZZWFyJ107XHJcbiAgICAgICAgICAgICAgICBsZXQga2V5T2JqID0geWVhckRhdGEuZmlsdGVyKGVsZW0gPT4gY3VyS2V5ID09PSBlbGVtLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaWYoa2V5T2JqLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goa2V5T2JqWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgemVyb1xyXG4gICAgICAgICAgICAgICAgICAgIGN1clBhdGhBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY3VyS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZWdhdGl2ZV9wYXRoc19hcnJheVtjdXJLZXldID0gY3VyUGF0aEFycmF5O1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IG5lZ2F0aXZlUGF0aHMgPSB0aGlzLm1haW5Hcm91cC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCAnbmVnYXRpdmVwYXRocycpO1xyXG5cclxuICAgICAgICBPYmplY3QuZW50cmllcyhuZWdhdGl2ZV9wYXRoc19hcnJheSkuZm9yRWFjaChjYXRlZ29yeU9iaiA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJLZXkgPSBjYXRlZ29yeU9ialswXTtcclxuICAgICAgICAgICAgbGV0IGN1ckFycmF5ID0gY2F0ZWdvcnlPYmpbMV07XHJcblxyXG4gICAgICAgICAgICBuZWdhdGl2ZVBhdGhzLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaWQnLCBjdXJLZXkpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAgICAgICAgIC5kYXR1bShjdXJBcnJheSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgY29sb3JEaWN0W2N1cktleV0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCBkID0+IGFyZWFHZW4oZCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBEcmF3IGxpbmVcclxuICAgICAgICBjb25zdCBsaW5lR2VuID0gZDMubGluZSgpLngoZCA9PiB4U2NhbGUoZC55ZWFyKSkueShkID0+IHlTY2FsZShkLnZhbHVlKSk7XHJcblxyXG4gICAgICAgIGxldCBuZWdZZWFyVG90YWwgPSBbXTtcclxuICAgICAgICBsZXQgcG9zWWVhclRvdGFsID0gW107XHJcbiAgICAgICAgcG9zRGF0YS5mb3JFYWNoKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgbGV0IGluaXRWYWx1ZSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjdXJWYWx1ZSA9IHllYXJEYXRhLnJlZHVjZSgocHJldlZhbCxjdXJWYWwpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZWR1Y2luZy4uLicsIHByZXZWYWwgLCBjdXJWYWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXZWYWwgKyBjdXJWYWwudmFsdWU7XHJcbiAgICAgICAgICAgIH0sIGluaXRWYWx1ZSk7XHJcbiAgICAgICAgICAgIG5lZ1llYXJUb3RhbC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHllYXI6IHllYXJEYXRhWzBdLmN1clllYXIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogLWN1clZhbHVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwb3NZZWFyVG90YWwucHVzaChcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyRGF0YVswXS5jdXJZZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdXJWYWx1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3llYXIgdG90YWw6JywgKTtcclxuXHJcbiAgICAgICAgdmFyIHBvc2xpbmUgPSBkMy5zZWxlY3QoJ3N2ZycpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuZGF0dW0ocG9zWWVhclRvdGFsKVxyXG4gICAgICAgICAgICAuYXR0cignZCcsIGxpbmVHZW4pXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2hhcnRXaWR0aCowLjA1ICsgeFNjYWxlLmJhbmR3aWR0aCgpfSwke01hdGguYWJzKHlTY2FsZSgyKjAuNzQpLXlTY2FsZSgwKSl9KWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBuZWdsaW5lID0gZDMuc2VsZWN0KCdzdmcnKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAgICAgLmRhdHVtKG5lZ1llYXJUb3RhbClcclxuICAgICAgICAgICAgLmF0dHIoJ2QnLCBsaW5lR2VuKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlLWRhc2hhcnJheVwiLCAoXCIzLCAzXCIpKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2hhcnRXaWR0aCowLjA1ICsgeFNjYWxlLmJhbmR3aWR0aCgpfSwke01hdGguYWJzKHlTY2FsZSgyKjAuNzQpLXlTY2FsZSgwKSl9KWApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkcmF3VGl0bGUoY29udGFpbmVyKXtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCAodGhpcy5zdmdXaWR0aCAtIHRoaXMuY2hhcnRXaWR0aCkgLyAyICsgdGhpcy5jaGFydFdpZHRoKjAuMDUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgKHRoaXMuc3ZnSGVpZ2h0IC0gdGhpcy5jaGFydEhlaWdodCkvMiAtIDUwKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzE3cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ2dyYXBoaWsnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgJzYwMCcpXHJcbiAgICAgICAgICAgIC50ZXh0KFwiTGUgdGl0cmUgZHUgZ3JhcGhpcXVlXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsKHRoaXMuc3ZnV2lkdGggLSB0aGlzLmNoYXJ0V2lkdGgpIC8gMiArIHRoaXMuY2hhcnRXaWR0aCowLjA1KVxyXG4gICAgICAgICAgICAuYXR0cigneScsICh0aGlzLnN2Z0hlaWdodCAtIHRoaXMuY2hhcnRIZWlnaHQpLzIgLSAyNSlcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxM3B0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LWZhbWlseScsICdncmFwaGlrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsICc0MDAnKVxyXG4gICAgICAgICAgICAudGV4dChcIkxlIHNvdXMtdGl0cmUgZHUgZ3JhcGhpcXVlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdCb3R0b21Cb3goY29udGFpbmVyLCB3aWR0aCl7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnc3Rva2Utd2lkdGgnLCAxKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwLjMpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieDFcIiwgdGhpcy5jaGFydFdpZHRoKjAuMDUpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgdGhpcy5jaGFydEhlaWdodC0zMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCB0aGlzLmNoYXJ0V2lkdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgdGhpcy5jaGFydEhlaWdodC0zMCk7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY2hhcnRXaWR0aCowLjA1KVxyXG4gICAgICAgICAgICAuYXR0cigneScsIHRoaXMuY2hhcnRIZWlnaHQtMTcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA2MDApXHJcbiAgICAgICAgICAgIC50ZXh0KCdHcmFwaGlxdWUgOicpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RzcGFuJylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLmNoYXJ0V2lkdGgqMC4wNSsgNjUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jaGFydEhlaWdodC0xNylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDQwMClcclxuICAgICAgICAgICAgLnRleHQoJ0xlIERldm9pciAtICcpO1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY2hhcnRXaWR0aCowLjA1ICsgMTIyKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIHRoaXMuY2hhcnRIZWlnaHQtMTcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA2MDApXHJcbiAgICAgICAgICAgIC50ZXh0KCdTb3VyY2UgOicpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RzcGFuJylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLmNoYXJ0V2lkdGgqMC4wNSArIDE2OSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLmNoYXJ0SGVpZ2h0LTE3KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNDAwKVxyXG4gICAgICAgICAgICAudGV4dCgnIC4uLiAnKTtcclxuXHJcbiAgICAgICAgLy8gY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLy8gICAgIC5hdHRyKCd4JywgdGhpcy5zdmdXaWR0aCowLjEpXHJcbiAgICAgICAgLy8gICAgIC5hdHRyKCd5JywgdGhpcy5zdmdIZWlnaHQqMC45NTEpXHJcbiAgICAgICAgLy8gICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgLy8gICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA2MDApXHJcbiAgICAgICAgLy8gICAgIC50ZXh0KCdOb3RlIDonKVxyXG4gICAgICAgIC8vICAgICAuYXBwZW5kKCd0c3BhbicpXHJcbiAgICAgICAgLy8gICAgIC5hdHRyKCd4JywgdGhpcy5zdmdXaWR0aCowLjErMzUpXHJcbiAgICAgICAgLy8gICAgIC5hdHRyKCd5JywgdGhpcy5zdmdIZWlnaHQqMC45NTEpXHJcbiAgICAgICAgLy8gICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgLy8gICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA0MDApXHJcbiAgICAgICAgLy8gICAgIC50ZXh0KCdEb25uw6llcyBjb2xsZWN0w6llcyBkZXB1aXMgaHR0cHM6Ly9kb25uZWVzLm1vbnRyZWFsLmNhL3ZpbGxlLWRlLW1vbnRyZWFsL2NvbXB0YWdlLXZlaGljdWxlcy1waWV0b25zJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0RldGFpbHMoY29udGFpbmVyLCBsZWdlbmREYXRhKXtcclxuXHJcbiAgICAgICAgY29uc3QgbGVnZW5kQ29udGFpbmVyID0gY29udGFpbmVyLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdsZWdlbmRDb250YWluZXInKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgkeyh0aGlzLnN2Z1dpZHRoIC0gdGhpcy5jaGFydFdpZHRoKSAvIDIgKyAodGhpcy5jaGFydFdpZHRoKjAuMDUgKyAxMCl9LCR7dGhpcy5zdmdIZWlnaHQqMC4wN30pYCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJvd3MgPSBsZWdlbmRDb250YWluZXIuc2VsZWN0QWxsKCdnJylcclxuICAgICAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdsZWdlbmRSb3cnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsaSkgPT4gYHRyYW5zbGF0ZSgwLCR7aSoyMH0pYCk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHJvd3MuYXBwZW5kKCdjaXJjbGUnKVxyXG4gICAgICAgICAgICAuYXR0cignY3gnLCAwKVxyXG4gICAgICAgICAgICAuYXR0cignY3knLCAwKVxyXG4gICAgICAgICAgICAuYXR0cigncicsIDgpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiBjb2xvckRpY3RbZC5jb2xvcl0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICByb3dzLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgMTgpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgNClcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDUwMClcclxuICAgICAgICAgICAgLnRleHQoIGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQubGFiZWw7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkcmF3UmVjdGFuZ2xlcyhjb250YWluZXIsIHhTY2FsZSwgeVNjYWxlKXsgLy8gbm90IHVzZWRcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpdmVBcmVhR3JvdXAgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignaWQnLCAncG9zQXJlYWdyb3VwJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCR7MH0pYCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5lZ2F0aXZlQXJlYUdyb3VwID0gY29udGFpbmVyLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ25lZ0FyZWFncm91cCcpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwkezB9KWApO1xyXG5cclxuICAgICAgICBjb25zdCBwb3NZZWFyR3JvdXBzID0gcG9zaXRpdmVBcmVhR3JvdXAuc2VsZWN0QWxsKCdnJylcclxuICAgICAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBgeWVhcl8ke2QueWVhcn1gKTtcclxuICAgICAgICBjb25zdCBwb3NSZWN0cyA9IHBvc1llYXJHcm91cHMuc2VsZWN0QWxsKCdyZWN0JylcclxuICAgICAgICAgICAgLmRhdGEoZCA9PiB7IFxyXG4gICAgICAgICAgICAgICAgbGV0IHBvc0VsZW1zID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyVG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1clllYXIgPSBkLnllYXI7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhkKS5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VyRWxlbT4wICYmIGVudHJ5WzBdICE9PSBcInllYXJcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc0VsZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZW50cnlbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnlbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGN1clRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90YWwgKz0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NFbGVtcy5zb3J0KChhLGIpID0+IHBvc2l0aXZlT3JkZXJEaWN0W2EudHlwZV0gLSBwb3NpdGl2ZU9yZGVyRGljdFtiLnR5cGVdKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGQgPT4gYCR7ZC50eXBlfV8ke2QudmFsdWV9YClcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgeFNjYWxlLmJhbmR3aWR0aCgpKVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgKGQsaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHlTY2FsZSgwKSAtIHlTY2FsZShkLnZhbHVlKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZCA9PiB4U2NhbGUoZC5jdXJZZWFyKSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCBkID0+ICh5U2NhbGUoMCkgLSAoTWF0aC5hYnMoeVNjYWxlKDApIC0geVNjYWxlKGQudmFsdWUpKSkgLSAoTWF0aC5hYnMoeVNjYWxlKDApIC0geVNjYWxlKGQuY3VyVG90KSkpKSlcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IGNvbG9yRGljdFtkLnR5cGVdKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmVnYXRpdmVZZWFyR3JvdXBzID0gbmVnYXRpdmVBcmVhR3JvdXAuc2VsZWN0QWxsKCdnJylcclxuICAgICAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBgeWVhcl8ke2QueWVhcn1gKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmVnUmVjdHMgPSBuZWdhdGl2ZVllYXJHcm91cHMuc2VsZWN0QWxsKCdyZWN0JylcclxuICAgICAgICAgICAgLmRhdGEoZCA9PiB7IFxyXG4gICAgICAgICAgICAgICAgbGV0IG5lZ0VsZW1zID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyVG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1clllYXIgPSBkLnllYXI7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhkKS5maWx0ZXIoZWxlbSA9PiBlbGVtWzFdPDApLnNvcnQoKGEsYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFWYWwgPSBuZWdhdGl2ZU9yZGVyRGljdFthWzBdXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiVmFsID0gbmVnYXRpdmVPcmRlckRpY3RbYlswXV07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFWYWwgLSBiVmFsO1xyXG4gICAgICAgICAgICAgICAgfSkuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyRWxlbSA9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVudHJ5WzBdICE9PSBcInllYXJcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZ0VsZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZW50cnlbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnlbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGN1clRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90YWwgKz0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZWdFbGVtcztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGQgPT4gYCR7ZC50eXBlfV8ke2QudmFsdWV9YClcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgeFNjYWxlLmJhbmR3aWR0aCgpKVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgKGQsaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHlTY2FsZSgwKSAtIHlTY2FsZShNYXRoLmFicyhkLnZhbHVlKSkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIGQgPT4geFNjYWxlKGQuY3VyWWVhcikpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgZCA9PiAoeVNjYWxlKGQuY3VyVG90KSkpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiBjb2xvckRpY3RbZC50eXBlXSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBHYXVnZXMocHJvcHMpe1xuXG4gIGNvbnN0IGNhbGN1bGF0ZUdhdWdlV2lkdGggPSAoKSA9PiB7XG4gICAgY29uc3QgZ2F1Z2VzRWxlbXMgPSBkMy5zZWxlY3QoJy5nYXVnZXMnKS5zZWxlY3RBbGwoJy5nYXVnZScpO1xuICAgIGNvbnN0IG1heFdpZHRoVmFsdWUgPSBNYXRoLm1heCg1MCwgTWF0aC5tYXgocGFyc2VJbnQocHJvcHMuZG9sbGFycyksIHBhcnNlSW50KHByb3BzLnBlcmZvcm1hbmNlKSkpO1xuICAgIGdhdWdlc0VsZW1zLm5vZGVzKCkuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgbGV0IGN1cldpZHRoID0gbWF4V2lkdGhWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdnYXVnZTogJywgbm9kZSk7XG4gICAgICBpZihkMy5zZWxlY3Qobm9kZSkuYXR0cignaWQnKSA9PT0gXCJkb2xsYXJzXCIpe1xuICAgICAgICBjdXJXaWR0aCA9IHByb3BzLmRvbGxhcnM7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKGQzLnNlbGVjdChub2RlKS5hdHRyKCdpZCcpID09PSAncGVyZm9ybWFuY2UnKXtcbiAgICAgICAgY3VyV2lkdGggPSBwcm9wcy5wZXJmb3JtYW5jZTtcbiAgICAgIH1cbiAgICAgIGQzLnNlbGVjdChub2RlKS5zZWxlY3QoJy5nYXVnZUNvbG9yJykuc3R5bGUoJ3dpZHRoJywgYCR7TWF0aC5yb3VuZChjdXJXaWR0aC9tYXhXaWR0aFZhbHVlKjEwMCl9JWApO1xuICAgIH0pO1xuXG4gIH07XG5cbiAgdXNlRWZmZWN0KCAoKSA9PiB7XG4gICAgY2FsY3VsYXRlR2F1Z2VXaWR0aCgpO1xuICB9KTtcblxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJnYXVnZXNcIj5cbiAgICAgIDxkaXYgaWQ9XCJkb2xsYXJzXCIgY2xhc3NOYW1lPVwiZ2F1Z2UgZG9sbGFyR2F1Z2VcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0Qm94XCI+XG4gICAgICAgICAgPGg1PkRvbGxhcnM8L2g1PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnYXVnZUNvbG9ySG9sZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnYXVnZUNvbG9yIGJsdWVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmFsdWVcIj5cbiAgICAgICAgICAgICAgPHA+e3Byb3BzLmRvbGxhcnN9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGlkPVwicGVyZm9ybWFuY2VcIiBjbGFzc05hbWU9XCJnYXVnZSBwZXJmb3JtYW5jZUdhdWdlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dEJveFwiPlxuICAgICAgICAgIDxoNT5QZXJmb3JtYW5jZTwvaDU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhdWdlQ29sb3JIb2xkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhdWdlQ29sb3IgZ3JlZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmFsdWVcIj5cbiAgICAgICAgICAgICAgPHA+e3Byb3BzLnBlcmZvcm1hbmNlfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG5cbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEludHJvQm94KHByb3BzKXtcblxuICBjb25zdCBzdGFydEdhbWUgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdzdGFydGluZyBnYW1lJyk7XG4gICAgcHJvcHMubWFwT2JqLnZpZXdFeHRyYUJvdW5kT2JqKDAsXCJ6b25lMVwiKTtcbiAgICBwcm9wcy5nYW1lU3RhcnQoKTtcbiAgfSk7XG5cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2FtZUJveFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnRyb0JveFwiPlxuICAgICAgICB7cHJvcHMuaW50cm9FbGVtfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJCb3hcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGFydGJ1dHRvblwiIG9uQ2xpY2s9e3N0YXJ0R2FtZX0+XG4gICAgICAgICAgPHA+Q29tbWVuY2VyPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gIClcblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5leHBvcnQgZnVuY3Rpb24gQ2hvaWNlKHByb3BzKXtcblxuXG4gIGNvbnN0IFtzZWxlY3Rpb24sIHNldFNlbGVjdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGlvbmJ1dHRvbnMgPSBkMy5zZWxlY3RBbGwoJy5jaG9pY2VidXR0b24nKTtcbiAgICBzZWxlY3Rpb25idXR0b25zLnNlbGVjdCgnLmJ1dG4nKS5jbGFzc2VkKCdzZWxlY3RlZCcsIGZhbHNlKTtcbiAgICBpZihzZWxlY3Rpb24pe1xuICAgICAgZDMuc2VsZWN0KHNlbGVjdGlvbi5vYmopLnNlbGVjdCgnLmJ1dG4nKS5jbGFzc2VkKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgIH1cbiAgfSxbc2VsZWN0aW9uXSlcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jIChjb3N0LCB1c2UpID0+IHtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddO1xuICAgIGlmKE51bWJlci5pc0ludGVnZXIocGFyc2VJbnQodHJpZ2dlck5leHQpKSl7XG4gICAgY29uc29sZS5sb2coJ0NoZWNraW5nIHRyaWdnZXIgbmV4dDogJywgcGFyc2VJbnQodHJpZ2dlck5leHQpKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwYXJzZUludCh0cmlnZ2VyTmV4dCkpO1xuICAgIH1cbiAgICBwcm9wcy51cGRhdGVEb2xsYXJzKC1wYXJzZUludChjb3N0KSk7XG4gICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UocGFyc2VJbnQodXNlKSk7XG4gICAgc2V0U2VsZWN0aW9uKG51bGwpO1xuICB9KTtcblxuICBjb25zdCBwcmV2aW91c1Byb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgaWYocHJvcHMuY3VySW5kZXggPiAwKXtcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2aW91cyBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgIH1cbiAgICBzZXRTZWxlY3Rpb24obnVsbCk7XG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZVNlbGVjdGVkID0gKGV2ZW50LCBjb3N0LCB1c2UpID0+IHtcbiAgICBzZXRTZWxlY3Rpb24oe1xuICAgICAgb2JqOiBldmVudC50YXJnZXQsXG4gICAgICBjb3N0OiBjb3N0LFxuICAgICAgdXNlOiB1c2VcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybihcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNob2ljZXNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHtcbiAgICAgICAgICBwcm9wcy5jaG9pY2VzLm1hcCgoY2hvaWNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNvc3QgPSBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0uc3BsaXQoJ18nKVswXTtcbiAgICAgICAgICAgIGxldCB1c2UgPSBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0uc3BsaXQoJ18nKVsxXTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hvaWNlYnV0dG9uXCIga2V5PXtpbmRleH0gb25DbGljaz17KGUpID0+IHt1cGRhdGVTZWxlY3RlZChlLCBjb3N0LCB1c2UpfX0+XG4gICAgICAgICAgICAgICAgPGRpdiBpZD17aW5kZXh9IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgICAgIDxwPntjaG9pY2V9IChjb8O7dDoge2Nvc3R9IDsgZWZmZXQ6IHt1c2V9KTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XG4gICAgICAgICAge3Byb3BzLmN1ckluZGV4ID4gMCA/XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjdGlvbmJ1dHRvbiBuZXh0ICR7c2VsZWN0aW9uID8gJycgOiAnZGlzYWJsZWQnfWB9IG9uQ2xpY2s9eygpID0+IHtzZWxlY3Rpb24gPyBuZXh0UHJvbXB0KHNlbGVjdGlvbi5jb3N0LCBzZWxlY3Rpb24udXNlKSA6IGNvbnNvbGUubG9nKCdEaXNhYmxlZC4nKX19PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgIDxwPk5leHQ8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxuXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIE11bHRpU2VsZWN0aW9uKHByb3BzKXtcblxuICBjb25zdCBbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dID0gdXNlU3RhdGUoW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVzZXRTZWxlY3Rpb24oKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy9jb25zb2xlLmxvZygnY3VyIHNlbGVjdGlvbjogJywgc2VsZWN0aW9uKTtcbiAgfSwgW3NlbGVjdGlvbl0pO1xuXG4gIGNvbnN0IHJlc2V0U2VsZWN0aW9uID0gKCkgPT4ge1xuICAgIHNldFNlbGVjdGlvbihwcm9wcy5jaG9pY2VzLm1hcChlbGVtID0+IG51bGwpKTtcbiAgfVxuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKHNlbGVjdGlvbikgPT4ge1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J107XG4gICAgaWYoTnVtYmVyLmlzSW50ZWdlcihwYXJzZUludCh0cmlnZ2VyTmV4dCkpKXtcbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgdHJpZ2dlciBuZXh0OiAnLCBwYXJzZUludCh0cmlnZ2VyTmV4dCkpO1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHBhcnNlSW50KHRyaWdnZXJOZXh0KSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWNjQ29zdCA9IHNlbGVjdGlvbi5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XG4gICAgICBpZihjdXIpe1xuICAgICAgICBhY2MgKz0gY3VyLmNvc3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIDApO1xuICAgIGNvbnN0IGFjY1BlcmZvcm1hbmNlID0gc2VsZWN0aW9uLnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcbiAgICAgIGlmKGN1cil7XG4gICAgICAgIGFjYyArPSBjdXIudXNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCAwKTtcbiAgICBwcm9wcy51cGRhdGVEb2xsYXJzKC1wYXJzZUludChhY2NDb3N0KSk7XG4gICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UocGFyc2VJbnQoYWNjUGVyZm9ybWFuY2UpKTtcbiAgICByZXNldFNlbGVjdGlvbigpO1xuICB9KTtcblxuICBjb25zdCBwcmV2aW91c1Byb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgaWYocHJvcHMuY3VySW5kZXggPiAwKXtcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2aW91cyBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgIH1cbiAgICByZXNldFNlbGVjdGlvbigpO1xuICB9KTtcblxuICBjb25zdCB1cGRhdGVTZWxlY3RlZCA9IChldmVudCwgaW5kZXgsIGNvc3QsIHVzZSkgPT4ge1xuICAgIGxldCBuZXdBcnJheSA9IFsuLi5zZWxlY3Rpb25dO1xuICAgIGlmKHNlbGVjdGlvbltpbmRleF0pe1xuICAgICAgLy8gVW5zZWxlY3RcbiAgICAgIG5ld0FycmF5W2luZGV4XSA9IG51bGw7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAvLyBTZWxlY3RcbiAgICAgIG5ld0FycmF5W2luZGV4XSA9IHtcbiAgICAgICAgb2JqOiBldmVudC50YXJnZXQsXG4gICAgICAgIGNvc3Q6IHBhcnNlSW50KGNvc3QpLFxuICAgICAgICB1c2U6IHBhcnNlSW50KHVzZSlcbiAgICAgIH07XG4gICAgfVxuICAgIHNldFNlbGVjdGlvbihuZXdBcnJheSk7XG4gIH1cblxuICByZXR1cm4oXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjaG9pY2VzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICB7XG4gICAgICAgICAgcHJvcHMuY2hvaWNlcy5tYXAoKGNob2ljZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGxldCBjb3N0ID0gcHJvcHMuY2hvaWNlc192YWx1ZXNbaW5kZXhdLnNwbGl0KCdfJylbMF07XG4gICAgICAgICAgICBsZXQgdXNlID0gcHJvcHMuY2hvaWNlc192YWx1ZXNbaW5kZXhdLnNwbGl0KCdfJylbMV07XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdGlvbmJ1dHRvblwiIGtleT17aW5kZXh9IG9uQ2xpY2s9eyhlKSA9PiB7dXBkYXRlU2VsZWN0ZWQoZSwgaW5kZXgsIGNvc3QsIHVzZSl9fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPXtpbmRleH0gY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3Rpb25Cb3hcIj5cbiAgICAgICAgICAgICAgICAgICAge3NlbGVjdGlvbltpbmRleF0gPyAnWCcgOiAnJ31cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHA+e2Nob2ljZX0gKGNvw7t0OiB7Y29zdH0gOyBlZmZldDoge3VzZX0pPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICB7cHJvcHMuY3VySW5kZXggPiAwID9cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIHByZXZcIiBvbkNsaWNrPXtwcmV2aW91c1Byb21wdH0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgICAgIDxwPlByZXZpb3VzPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWN0aW9uYnV0dG9uIG5leHQgJHtzZWxlY3Rpb24gPyAnJyA6ICdkaXNhYmxlZCd9YH0gb25DbGljaz17KCkgPT4ge3NlbGVjdGlvbiA/IG5leHRQcm9tcHQoc2VsZWN0aW9uKSA6IGNvbnNvbGUubG9nKCdEaXNhYmxlZC4nKX19PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgIDxwPk5leHQ8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gUHJpbnRQcm9tcHQocHJvcHMpe1xuXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBpZihwcm9wcy5jdXJJbmRleCA+IDApe1xuICAgICAgY29uc29sZS5sb2coJ3ByZXYgcHJvbXB0IScsIHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J107XG4gICAgaWYoTnVtYmVyLmlzSW50ZWdlcihwYXJzZUludCh0cmlnZ2VyTmV4dCkpKXtcbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgdHJpZ2dlciBuZXh0OiAnLCBwYXJzZUludCh0cmlnZ2VyTmV4dCkpO1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHBhcnNlSW50KHRyaWdnZXJOZXh0KSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpbnRwcm9tcHRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZVwiPntwcm9wcy5tZXNzYWdlfTwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gcHJldlwiIG9uQ2xpY2s9e3ByZXZpb3VzUHJvbXB0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgPHA+UHJldmlvdXM8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBuZXh0XCIgb25DbGljaz17bmV4dFByb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlN1aXZhbnQ8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4pXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcGFydGl0aW9uKHByb3BzKXtcblxuICBjb25zdCBbamV0b25zLCBzZXRKZXRvbnNdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFt0ZXJhd2F0dHMsIHNldFRlcmF3YXR0c10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3VuaXRzLCBzZXRVbml0c10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFt0b2tlbnNQZXJVbml0LCBzZXRUb2tlbnNQZXJVbml0XSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgbWF4VG9rZW5zID0gMTA7XG5cbiAgdXNlRWZmZWN0KCAoKSA9PiB7XG5cbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9uUGFyYW1zKCk7XG4gICAgY29uc3QgbmV3VW5pdHMgPSBvcHRpb25zLm1hcCgoKSA9PiAwKTtcbiAgICBjb25zdCB0b2tlbnNQZXJVbml0ID0gb3B0aW9ucy5tYXAoZWxlbSA9PiBlbGVtLnVuaXRWYWx1ZSk7XG4gICAgc2V0VW5pdHMobmV3VW5pdHMpO1xuICAgIHNldFRva2Vuc1BlclVuaXQodG9rZW5zUGVyVW5pdCk7XG4gICAgY29uc29sZS5sb2coJ29wdGlvblBhcmFtczonLCBnZXRPcHRpb25QYXJhbXMoKSk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoICgpID0+IHtcbiAgICBsZXQgbmV3SmV0b25zID0gdW5pdHMucmVkdWNlKFxuICAgICAgKGFjYywgY3VyVmFsLCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgY3VyT3B0aW9uUGFyYW1zID0gZ2V0T3B0aW9uUGFyYW1zKClbaW5kZXhdO1xuICAgICAgICByZXR1cm4gYWNjICsgY3VyVmFsKmN1ck9wdGlvblBhcmFtc1tcInVuaXRWYWx1ZVwiXVxuICAgICAgfSwwKTtcbiAgICBsZXQgbmV3TVcgPSB1bml0cy5yZWR1Y2UoXG4gICAgICAoYWNjLCBjdXJWYWwsIGluZGV4KSA9PiB7XG4gICAgICAgIGxldCBjdXJPcHRpb25QYXJhbXMgPSBnZXRPcHRpb25QYXJhbXMoKVtpbmRleF07XG4gICAgICAgIHJldHVybiBhY2MgKyBjdXJWYWwqY3VyT3B0aW9uUGFyYW1zW1widW5pdFRXaHZhbHVlXCJdXG4gICAgICB9LDApO1xuICAgIHNldEpldG9ucyhuZXdKZXRvbnMpO1xuICAgIHNldFRlcmF3YXR0cyhuZXdNVyk7XG4gIH0sIFt1bml0c10pO1xuXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBpZihwcm9wcy5jdXJJbmRleCA+IDApe1xuICAgICAgY29uc29sZS5sb2coJ3ByZXYgcHJvbXB0IScsIHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGxldCBzcGxpdHRlZFRyaWdnZXJOZXh0ID0gU3RyaW5nKHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J10pLnNwbGl0KFwiX1wiKTtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBTdHJpbmcoc3BsaXR0ZWRUcmlnZ2VyTmV4dFswXSkuc3BsaXQoXCI7XCIpO1xuICAgIGlmKHRyaWdnZXJOZXh0Lmxlbmd0aCA9PSAxICYmIE51bWJlci5pc0ludGVnZXIocGFyc2VJbnQodHJpZ2dlck5leHRbMF0pKSl7XG4gICAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgdHJpZ2dlciBuZXh0OiAnLHRyaWdnZXJOZXh0KTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwYXJzZUludCh0cmlnZ2VyTmV4dCkpO1xuICAgIH1cbiAgICBlbHNlIGlmKHRyaWdnZXJOZXh0Lmxlbmd0aCA+IDEpe1xuICAgICAgaWYoIXVuaXRzLmV2ZXJ5KHZhbCA9PiB2YWwgPT09IHVuaXRzWzBdKSl7XG4gICAgICAgIGxldCBpbmRleE9mTWF4VmFsdWUgPSB1bml0cy5yZWR1Y2UoKGlNYXgsIHgsIGksIGFycikgPT4geCA+IGFycltpTWF4XSA/IGkgOiBpTWF4LCAwKTtcbiAgICAgICAgaWYoTnVtYmVyLmlzSW50ZWdlcihwYXJzZUludCh0cmlnZ2VyTmV4dFtpbmRleE9mTWF4VmFsdWVdKSkpe1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyB0cmlnZ2VyIG5leHQ6ICcsdHJpZ2dlck5leHRbaW5kZXhPZk1heFZhbHVlXSk7XG4gICAgICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHBhcnNlSW50KHRyaWdnZXJOZXh0W2luZGV4T2ZNYXhWYWx1ZV0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgbGV0IGRlZmF1bHROZXh0ID0gc3BsaXR0ZWRUcmlnZ2VyTmV4dFsxXTtcbiAgICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHBhcnNlSW50KGRlZmF1bHROZXh0KSk7XG4gICAgICB9XG4gICAgfVxuICAgIHByb3BzLnVwZGF0ZURvbGxhcnMoLWpldG9ucyk7XG4gIH0pO1xuXG4gIGNvbnN0IHByb2Nlc3NDaG9pY2VzID0gKGNob2ljZSwgY2hvaWNlc192YWx1ZXMpID0+IHtcbiAgICBjb25zdCBzcGxpdHRlZENob2ljZXMgPSBjaG9pY2VzX3ZhbHVlcy5zcGxpdCgnXycpO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBjaG9pY2UsXG4gICAgICB1bml0VmFsdWU6IHBhcnNlSW50KHNwbGl0dGVkQ2hvaWNlc1swXSksXG4gICAgICB1bml0VFdodmFsdWU6IHBhcnNlSW50KHNwbGl0dGVkQ2hvaWNlc1syXSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRPcHRpb25QYXJhbXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHByb3BzLmNob2ljZXMubWFwKChjaG9pY2UsIGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gcHJvY2Vzc0Nob2ljZXMoY2hvaWNlLCBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0pO1xuICAgIH0pXG4gIH1cblxuICBjb25zdCBjaGVja0lmRnVsbCA9IChuZXdBZGRpdGlvbikgPT4ge1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgdW5pdHMuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICB0b3RhbCArPSB2YWx1ZSp0b2tlbnNQZXJVbml0W2luZGV4XTtcbiAgICB9KTtcbiAgICBpZih0b3RhbCtuZXdBZGRpdGlvbiA+IG1heFRva2Vucyl7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgbW9kaWZ5T25DbGljayA9IChlLCBpbmRleCwgZGlmZiwgZWxlbSkgPT4ge1xuICAgIGxldCBuZXdBcnJheSA9IFsuLi51bml0c107XG4gICAgaWYoKG5ld0FycmF5W2luZGV4XStkaWZmKSA+PSAwKXtcbiAgICAgIGlmKGRpZmYgPiAwKVxuICAgICAge1xuICAgICAgICBpZighY2hlY2tJZkZ1bGwoZGlmZip0b2tlbnNQZXJVbml0W2luZGV4XSkpe1xuICAgICAgICAgIG5ld0FycmF5W2luZGV4XSA9IG5ld0FycmF5W2luZGV4XSArIGRpZmY7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIG5ld0FycmF5W2luZGV4XSA9IG5ld0FycmF5W2luZGV4XSArIGRpZmY7XG4gICAgICB9XG4gICAgICBzZXRVbml0cyhuZXdBcnJheSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2VuZXJhdGVUb2tlbnMgPSAoKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRVc2VkVG9rZW5zID0gdW5pdHMubWFwKChlbGVtLCBpbmRleCkgPT4ge1xuICAgICAgbGV0IGN1ck9wdGlvblBhcmFtcyA9IGdldE9wdGlvblBhcmFtcygpW2luZGV4XTtcbiAgICAgIHJldHVybiBBcnJheShlbGVtKmN1ck9wdGlvblBhcmFtc1tcInVuaXRWYWx1ZVwiXSkuZmlsbChjdXJPcHRpb25QYXJhbXNbXCJuYW1lXCJdWzBdKTtcbiAgICB9KTtcbiAgICBsZXQgY29uY2F0VG9rZW5zID0gW10uY29uY2F0LmFwcGx5KFtdLCBjdXJyZW50VXNlZFRva2Vucyk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IG1heFRva2VucyB9KS5tYXAoKGVsZW0sIGluZGV4KSA9PiB7XG4gICAgICBsZXQgY3VyTGV0dGVyID0gY29uY2F0VG9rZW5zW2luZGV4XSA/IFN0cmluZyhjb25jYXRUb2tlbnNbaW5kZXhdKSA6IFwiXCI7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRva2VuQ29udGFpbmVyXCIga2V5PXtpbmRleH0+XG4gICAgICAgICAgPHA+e2N1ckxldHRlcn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgcmVuZGVyUm93cyA9IChjaG9pY2VzKSA9PiB7XG4gICAgcmV0dXJuIGNob2ljZXMubWFwKCAoZWxlbSxpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcHRpb25Vbml0XCIga2V5PXtpbmRleH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3RvclpvbmVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGl2aXNpb24gbWludXNab25lXCIgb25DbGljaz17KGUpID0+IG1vZGlmeU9uQ2xpY2soZSwgaW5kZXgsIC0xLCBlbGVtKX0+XG4gICAgICAgICAgICAgIDxoMz4tPC9oMz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXZpc2lvbiBjZW50cmFsWm9uZVwiPlxuICAgICAgICAgICAgICA8aDM+e3VuaXRzW2luZGV4XX08L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpdmlzaW9uIHBsdXNab25lXCIgb25DbGljaz17KGUpID0+IG1vZGlmeU9uQ2xpY2soZSwgaW5kZXgsIDEsIGVsZW0pfT5cbiAgICAgICAgICAgICAgPGgzPis8L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0Wm9uZVwiPlxuICAgICAgICAgICAgPGgzPntlbGVtLm5hbWV9PC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5ldGV4dFwiPlxuICAgICAgICAgICAgICA8aDU+e2VsZW0udW5pdFZhbHVlfSBqZXRvbnMgcGFyIHVuaXTDqSZuYnNwOyYjODIyNjsmbmJzcDt7ZWxlbS51bml0VFdodmFsdWV9IFRXaCBwYXIgdW5pdMOpPC9oNT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVwYXJ0aXRpb25cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3B0aW9uWm9uZVwiPlxuICAgICAgICB7XG4gICAgICAgICAgcmVuZGVyUm93cyhwcm9wcy5jaG9pY2VzLm1hcCgoZSwgaW5kZXgpID0+IHByb2Nlc3NDaG9pY2VzKGUsIHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XSkpKVxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nX2hlYWRlclwiPlxuICAgICAgICAgICAgPGg1PlLDqXBhcnRpdGlvbiBkZSB2b3MgamV0b25zPC9oNT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vbml0b3JpbmdfdmFsdWVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9rZW5zXCI+e2dlbmVyYXRlVG9rZW5zKCl9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9uaXRvcmluZ19oZWFkZXJcIj5cbiAgICAgICAgICAgIDxoNT7DiWxlY3RyaWNpdMOpIHByb2R1aXRlPC9oNT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vbml0b3JpbmdfdmFsdWVcIj5cbiAgICAgICAgICAgIDxoMz57dGVyYXdhdHRzfSBUV2g8L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAge3Byb3BzLmN1ckluZGV4ID4gMCA/XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIHByZXZcIiBvbkNsaWNrPXtwcmV2aW91c1Byb21wdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDpcbiAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgIH1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIG5leHRcIiBvbkNsaWNrPXtuZXh0UHJvbXB0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgPHA+U3VpdmFudDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxuXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDaG9pY2UgfSBmcm9tIFwiLi9wcm9tcHRmaWxsL0Nob2ljZVwiO1xuaW1wb3J0IHsgTXVsdGlTZWxlY3Rpb24gfSBmcm9tIFwiLi9wcm9tcHRmaWxsL011bHRpU2VsZWN0aW9uXCI7XG5pbXBvcnQgeyBQcmludFByb21wdCB9IGZyb20gXCIuL3Byb21wdGZpbGwvUHJpbnRQcm9tcHRcIjtcbmltcG9ydCB7IFJlcGFydGl0aW9uIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9SZXBhcnRpdGlvblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gUHJvbXB0Qm94KHByb3BzKXtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gIH0sIFtdKTtcblxuICBjb25zdCBjaGFuZ2VQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKG5ld1ZhbHVlKSA9PiB7XG4gICAgcHJvcHMuY2hhbmdlUHJvbXB0KG5ld1ZhbHVlKTtcbiAgfSk7XG5cbiAgY29uc3QgdXBkYXRlRG9sbGFycyA9IHVzZUNhbGxiYWNrKCBhc3luYyAoZGlmZlZhbHVlKSA9PiB7XG4gICAgaWYoTnVtYmVyLmlzSW50ZWdlcihkaWZmVmFsdWUpKXtcbiAgICAgIHByb3BzLnVwZGF0ZURvbGxhcnMoZGlmZlZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZVBlcmZvcm1hbmNlID0gdXNlQ2FsbGJhY2soIGFzeW5jIChkaWZmVmFsdWUpID0+IHtcbiAgICBpZihOdW1iZXIuaXNJbnRlZ2VyKGRpZmZWYWx1ZSkpe1xuICAgICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UoZGlmZlZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHJlbmRlclN3aXRjaCA9IChwYXJhbSkgPT4ge1xuICAgIHN3aXRjaChwYXJhbSl7XG4gICAgICBjYXNlICdSZXBhcnRpdGlvbicgOlxuICAgICAgICByZXR1cm4gPFJlcGFydGl0aW9uIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc192YWx1ZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4X1ZhbGV1cnMnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc30vPjtcbiAgICAgIGNhc2UgJ0NhcnRlJzpcbiAgICAgICAgcmV0dXJuIDxDaG9pY2UgY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9IGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyl9IGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fSBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9Lz47XG4gICAgICBjYXNlICdTdWl2aSc6XG4gICAgICAgIHJldHVybiA8Q2hvaWNlIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fSBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peCddKS5zcGxpdCgnOycpfSBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH0gY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fS8+O1xuICAgICAgY2FzZSAnUHJpbnQnOlxuICAgICAgICByZXR1cm4gPFByaW50UHJvbXB0IGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ1RleHRlX1N1cHAnXSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fS8+O1xuICAgICAgY2FzZSAnY2hvaXhSZXBvbnNlJzpcbiAgICAgICAgcmV0dXJuIDxDaG9pY2UgY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXgnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzX3ZhbHVlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXhfVmFsZXVycyddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEb2xsYXJzPXt1cGRhdGVEb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX0vPjtcbiAgICAgIGNhc2UgJ0NhdGFzdHJvcGhlJzpcbiAgICAgICAgcmV0dXJuIDxDaG9pY2UgY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXgnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzX3ZhbHVlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXhfVmFsZXVycyddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEb2xsYXJzPXt1cGRhdGVEb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX0vPjtcbiAgICAgIGNhc2UgJ0NvY2hlcic6XG4gICAgICAgIHJldHVybiA8TXVsdGlTZWxlY3Rpb24gY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peCddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc192YWx1ZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4X1ZhbGV1cnMnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX0vPjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiA8Q2hvaWNlIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fSBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peCddKS5zcGxpdCgnOycpfSBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH0gY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fS8+O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJnYW1lQm94XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb21wdEJveFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VydGl0cmVcIj5cbiAgICAgICAgICAgIDxoMz57cHJvcHMuY3VyUHJvbXB0WydTdWpldCddfTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWVzdGlvblwiPlxuICAgICAgICAgICAgPHA+e3Byb3BzLmN1clByb21wdFsnUXVlc3Rpb24nXX08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7XG4gICAgICAgICAgcmVuZGVyU3dpdGNoKHByb3BzLmN1clByb21wdFsnVHlwZSddKVxuICAgICAgICB9XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG5cblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEdhdWdlcyB9IGZyb20gXCIuL2dhdWdlcy9HYXVnZXNcIjtcbmltcG9ydCB7IEludHJvQm94IH0gZnJvbSBcIi4vaW50cm9Cb3hcIjtcbmltcG9ydCB7IFByb21wdEJveCB9IGZyb20gXCIuL1Byb21wdEJveFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gTWFpbkZyYW1lKHByb3BzKXtcblxuICBjb25zdCBbZ2FtZVN0YXR1cywgc2V0U3RhdHVzXSA9IHVzZVN0YXRlKCdJRExFJyk7XG4gIGNvbnN0IFtnYW1lSW5kZXgsIHNldEdhbWVJbmRleF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2RvbGxhcnMsIHNldERvbGxhcnNdID0gdXNlU3RhdGUoNTApO1xuICBjb25zdCBbcGVyZm9ybWFuY2UsIHNldFBlcmZvcm1hbmNlXSA9IHVzZVN0YXRlKDUwKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdjaGVja2luZyBwcm9wcyBtYXBPYmo6JywgcHJvcHMubWFwT2JqKTtcbiAgfSxbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZ2FtZSAnLCBnYW1lU3RhdHVzKTtcblxuICB9LCBbZ2FtZVN0YXR1c10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZ2V0R2FtZVByb21wdChnYW1lSW5kZXgpO1xuICB9LCBbZ2FtZUluZGV4XSk7XG5cbiAgY29uc3QgZ2FtZVN0YXJ0ID0gKCkgPT4ge1xuICAgIHNldFN0YXR1cygnU1RBUlRFRCcpO1xuICAgIHNldEdhbWVJbmRleCgwKTtcbiAgfVxuXG4gIGNvbnN0IGdhbWVFbmQgPSAoKSA9PiB7XG4gICAgc2V0U3RhdHVzKCdFTkQnKTtcbiAgfVxuXG4gIGNvbnN0IGdldEdhbWVQcm9tcHQgPSAoZ2FtZUluZGV4KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2N1cnJlbnQgZ2FtZSBwcm9tcHQ6JywgcHJvcHMuZ2FtZURhdGEuZmlsdGVyKGVsZW0gPT4ge3JldHVybiBTdHJpbmcoZWxlbVtcIkluZGV4XCJdKSA9PT0gU3RyaW5nKGdhbWVJbmRleCk7fSkpO1xuICB9XG5cbiAgY29uc3QgdXBkYXRlRG9sbGFycyA9IChkaWZmKSA9PiB7XG4gICAgaWYoZG9sbGFycyArIGRpZmYgPj0gMCl7XG4gICAgICBzZXREb2xsYXJzKGRvbGxhcnMgPT4gZG9sbGFycyArIGRpZmYpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgZ2FtZUVuZCgpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZVBlcmZvcm1hbmNlID0gKGRpZmYpID0+IHtcbiAgICBpZihwZXJmb3JtYW5jZSArIGRpZmYgPj0gMCl7XG4gICAgICBzZXRQZXJmb3JtYW5jZShwZXJmb3JtYW5jZSA9PiBwZXJmb3JtYW5jZSArIGRpZmYpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgZ2FtZUVuZCgpO1xuICAgIH1cblxuICB9XG5cbiAgY29uc3QgZG9tRWxlbWVudCA9IGdhbWVTdGF0dXMgPT09IFwiSURMRVwiID9cbiAgICAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWVTY3JlZW5cIj5cbiAgICAgICAgPEludHJvQm94IGludHJvRWxlbT17cHJvcHMuaW50cm9FbGVtfSBtYXBPYmo9e3Byb3BzLm1hcE9ian0gZ2FtZVN0YXJ0PXtnYW1lU3RhcnR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gICAgOlxuICAgIGdhbWVTdGF0dXMgPT09IFwiRU5EXCIgP1xuICAgICAgKDxkaXY+PC9kaXY+KVxuICAgICAgOlxuICAgICAgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWVTY3JlZW5cIj5cbiAgICAgICAgICA8R2F1Z2VzIGRvbGxhcnM9e2RvbGxhcnN9IHBlcmZvcm1hbmNlPXtwZXJmb3JtYW5jZX0vPlxuICAgICAgICAgIDxQcm9tcHRCb3ggY3VySW5kZXg9e2dhbWVJbmRleH1cbiAgICAgICAgICAgIGN1clByb21wdD17cHJvcHMuZ2FtZURhdGFbZ2FtZUluZGV4XX1cbiAgICAgICAgICAgIGNoYW5nZVByb21wdD17c2V0R2FtZUluZGV4fVxuICAgICAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX0vPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gIHJldHVybiBkb21FbGVtZW50O1xufVxuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb20vY2xpZW50XCI7XG5pbXBvcnQgeyByZW5kZXJUb1N0YXRpY01hcmt1cCB9IGZyb20gJ3JlYWN0LWRvbS9zZXJ2ZXInO1xuaW1wb3J0IHsgTWFpbkZyYW1lIH0gZnJvbSAnLi9jb21wb25lbnRzL21haW5mcmFtZSc7XG5pbXBvcnQgeyBvcHRpb25zRHJvcGRvd25Db25zdGFudHMsIGNvbnRlbnRIZWFkZXJDb25zdGFudHMgfSBmcm9tIFwiLi4vZ2VuZXJhdG9yL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgSW50cm9TZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9JbnRyb1NlY3Rpb24nO1xuXG5leHBvcnQgY2xhc3MgRW5naW5lIHtcblxuICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIG9wdGlvbkRhdGEsIGludHJvT2JqLCBtYXBPYmosIGdhbWVEYXRhKXtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICBjb25zdCByb290RWxlbSA9IHRoaXMuY29udGFpbmVyLmFwcGVuZCgnZGl2JylcbiAgICAgIC5jbGFzc2VkKCdyb290RWxlbScsIHRydWUpO1xuICAgIHRoaXMuZW5naW5lUm9vdCA9IFJlYWN0RE9NLmNyZWF0ZVJvb3Qocm9vdEVsZW0ubm9kZSgpKTtcbiAgICB0aGlzLm9wdGlvbkRhdGEgPSBvcHRpb25EYXRhO1xuICAgIHRoaXMubWFwT2JqID0gbWFwT2JqO1xuICAgIHRoaXMuYW1vcmNlID0gaW50cm9PYmpbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV07XG4gICAgdGhpcy5nYW1lRGF0YSA9IGdhbWVEYXRhO1xuICAgIGNvbnNvbGUubG9nKCdnYW1lIERhdGEgaXMgOiAnLCB0aGlzLmdhbWVEYXRhKTtcbiAgICB0aGlzLmluaXRFbmdpbmUoKTtcbiAgfVxuXG4gIGluaXRFbmdpbmUoKXtcbiAgICBjb25zdCBpbnRyb0VsZW0gPSAoPEludHJvU2VjdGlvblxuICAgICAga2V5PXtcImdhbWVJbnRyb1wifVxuICAgICAgc2VjdGlvblR5cGU9e29wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMuaW50cm90aXRyZX1cbiAgICAgIG9wdGlvbkRhdGE9e3RoaXMub3B0aW9uRGF0YX1cbiAgICAgIGFtb3JjZT17dGhpcy5hbW9yY2V9XG4gICAgICBiYWNrZ3JvdW5kPXtudWxsfVxuICAgICAgY2xhc3Nlcz17XCJcIn1cbiAgICAgIC8+KTtcblxuICAgIHRoaXMuZW5naW5lUm9vdC5yZW5kZXIoPE1haW5GcmFtZSBpbnRyb0VsZW09e2ludHJvRWxlbX0gbWFwT2JqPXt0aGlzLm1hcE9ian0gZ2FtZVN0YXR1cz17dGhpcy5nYW1lU3RhdHVzfSBnYW1lRGF0YT17dGhpcy5nYW1lRGF0YX0vPik7XG4gIH1cblxufVxuIiwiLyoqXG4gKiB2aXouanNcbiAqID09PT09PT1cbiAqIEZpbGUgdXNlZCB0byBkZWZpbmUgdGhlIHZpc3VhbGl6YXRpb24gc2VjdGlvbi5cbiAqL1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBnZXRTdHJ1Y3R1cmUsIGdlbmVyYXRlQ2FsbGJhY2tzLCBnZXRPcHRpb25zIH0gZnJvbSAnLi9nZW5lcmF0b3Ivc3RydWN0dXJlR2VuZXJhdG9yLmpzJztcbmltcG9ydCB7IGNhbGxiYWNrcyB9IGZyb20gJy4uL2RhdGEvc3RydWN0dXJlL2NhbGxiYWNrcy5qcyc7XG5cbmltcG9ydCB7IE1hcCB9IGZyb20gJ2xlZGV2b2lyLWRhdGF2aXonO1xuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSAnLi9nYW1lL2VuZ2luZS5qcyc7XG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgd2lkdGg6IDUwMCxcbiAgaGVpZ2h0OiA1MDAsXG4gIG1hcmdpbjoge1xuICAgIHRvcDogMTAwLFxuICAgIHJpZ2h0OiAxMDAsXG4gICAgYm90dG9tOiAxMDAsXG4gICAgbGVmdDogMTAwXG4gIH1cbn1cbmNvbnN0IGZ1bGxXaWR0aCA9IGNvbmZpZy5tYXJnaW4ubGVmdCArIGNvbmZpZy53aWR0aCArIGNvbmZpZy5tYXJnaW4ucmlnaHQ7XG5jb25zdCBmdWxsSGVpZ2h0ID0gY29uZmlnLm1hcmdpbi50b3AgKyBjb25maWcuaGVpZ2h0ICsgY29uZmlnLm1hcmdpbi5ib3R0b207XG5jb25zdCBtYXBCb3hTdHlsZSA9IFwibWFwYm94Oi8vc3R5bGVzL2xlZGV2b2lyL2NsYWw5emxmazAwNGExNXFvaGhyN3I0OTVcIjtcblxuY29uc3QgY3VzdG9tQ2FsbGJhY2tzTmVlZGVkID0gdHJ1ZTsgLy8gU2V0IHRvIHRydWUgaWYgY3VzdG9tIGNhbGxiYWNrcyBhcmUgbmVlZGVkXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplKGNvbnRlbnREYXRhLCBvcHRpb25zKSB7XG5cbiAgcmV0dXJuIGQzLmNzdihcImh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kL2UvMlBBQ1gtMXZRUVozc3owcTF2blptb1lZUjVJckNmdU9OaEhjTnc1MGlEdGJnMUgybUlYOGxIREwxQlE0c0FNaTdpQXBTRTFHOVdRVFcyakhjV3Y0S1cvcHViP2dpZD0wJnNpbmdsZT10cnVlJm91dHB1dD1jc3ZcIilcbiAgICAudGhlbiggZ2FtZURhdGEgPT4ge1xuICAgICAgcmV0dXJuIGQzLmpzb24oXCIuL2RhdGEvZmlsdGVyZWRfYWNjaWRlbnRzLmdlb2pzb25cIilcbiAgICAgIC50aGVuKCBnZW9EYXRhID0+IHtcblxuICAgICAgICBjb25zdCBtYXBTb3VyY2UgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgc291cmNlTmFtZTonbWFwU291cmNlJyxcbiAgICAgICAgICAgIHNvdXJjZVR5cGU6J2dlb2pzb24nLFxuICAgICAgICAgICAgc291cmNlRGF0YTogZ2VvRGF0YSxcbiAgICAgICAgICAgIGxheWVyVHlwZTonY2lyY2xlJyxcbiAgICAgICAgICAgIGNvbG9yOicjZjU4MzY2JyxcbiAgICAgICAgICAgIG9wYWNpdHk6MC44LFxuICAgICAgICAgICAgY29vcmRzOntcbiAgICAgICAgICAgICAgY2VudGVyOiBbLTcwLjU2NiwgNTIuNDg4XSxcbiAgICAgICAgICAgICAgem9vbTogNFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4dHJhQ29vcmRzOntcbiAgICAgICAgICAgICAgem9uZTE6IHtcbiAgICAgICAgICAgICAgICBjZW50ZXI6IFstNzAuNTY2LCA1Mi40ODhdLFxuICAgICAgICAgICAgICAgIHpvb206IDVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgbWFwQ29udGFpbmVyID0gZDMuc2VsZWN0KFwiLm1hcC1hcmVhXCIpO1xuXG4gICAgICAgIG1hcENvbnRhaW5lci5hcHBlbmQoJ2RpdicpXG4gICAgICAgICAgLmNsYXNzZWQoJ21hcCcsIHRydWUpXG4gICAgICAgICAgLmF0dHIoJ2lkJywgJ3FjbWFwJylcblxuICAgICAgICBjb25zdCBtYXBPYmogPSBuZXcgTWFwKGQzLnNlbGVjdChcIiNxY21hcFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInFjbWFwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwU291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcEJveFN0eWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjpbLTcwLjU2NiwgNTIuNDg4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICBtYXBPYmoubWFwLm9uKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgICAgZDMuc2VsZWN0KFwiI3FjbWFwXCIpLnNlbGVjdChcIi5tYXBib3gtaW1wcm92ZS1tYXBcIikudGV4dChcIlwiKVxuICAgICAgICAgIG1hcE9iai5pbml0TWFwU291cmNlc0FuZExheWVycygpO1xuICAgICAgICAgIGQzLnNlbGVjdChcIiNxY21hcFwiKS5zZWxlY3QoXCIubG9hZGluZ1wiKS5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpXG4gICAgICAgICAgZDMuc2VsZWN0KFwiI3FjbWFwXCIpLnNlbGVjdChcIi5vcHRpb25zLWJhclwiKS5jbGFzc2VkKFwiZGlzYWJsZWRcIiwgZmFsc2UpXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgY29uc3QgZW5naW5lID0gbmV3IEVuZ2luZShtYXBDb250YWluZXIsIGdldE9wdGlvbnMob3B0aW9ucyksIGNvbnRlbnREYXRhWzBdLCBtYXBPYmosIGdhbWVEYXRhKTtcblxuICAgICAgICBsZXQgYXV0b0NhbGxiYWNrcztcbiAgICAgICAgc2V0dXBWaXooY29udGVudERhdGEsb3B0aW9ucyk7XG4gICAgICAgIGlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1YyAmJiBFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICAgIGF1dG9DYWxsYmFja3MgPSBnZW5lcmF0ZUNhbGxiYWNrcyhjb250ZW50RGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICBhdXRvQ2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoY3VzdG9tQ2FsbGJhY2tzTmVlZGVkKXtcbiAgICAgICAgICAvL2lmIGN1c3RvbSBjYWxsYmFja3MgYXJlIG5lZWRlZCwgc3VjaCBhcyBWaXN1YWxpemF0aW9uIHRyYW5zZm9ybWF0aW9ucywgaW5jbHVkZSB0aGVtIGhlcmUuXG4gICAgICAgICAgLy8gVGhpcyBhbGxvd3MgdG8gdXNlIGFueSBvYmplY3QgY3JlYXRlZCBpbiB2aXouanMgKGdyYXBocywgdG9vbHMsIGV0YykgaW4gdGhlIGNhbGxiYWNrcy5cbiAgICAgICAgICAvLyBZb3Ugd2lsbCBuZWVkIHRvIG1hbnVhbGx5IGNyZWF0ZSB0aGUgY29ycmVjdCBudW1iZXIgb2YgY2FsbGJhY2tzIHRvIG1hdGNoIHRoZSB2aXogc2VjdGlvbnNcblxuICAgICAgICAgIGxldCBjdXN0b21DYWxsYmFja3MgPSBbXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICgpID0+IHtcblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgXVxuICAgICAgICAgIHJldHVybiBjdXN0b21DYWxsYmFja3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF1dG9DYWxsYmFja3M7XG4gICAgICB9KTtcblxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIHNldHVwVml6KGNvbnRlbnREYXRhLCBvcHRpb25zKXtcblxuICBjb25zdCBmdWxsU3RydWN0dXJlID0gZ2V0U3RydWN0dXJlKGNvbnRlbnREYXRhLCBvcHRpb25zKTtcbiAgY29uc29sZS5sb2coJ2NoZWNraW5nIHN0cnVjdHVyZTonLCBmdWxsU3RydWN0dXJlKTtcbiAgZnVsbFN0cnVjdHVyZS5tYXAoc2VjdGlvbk9iaiA9PiB7XG5cbiAgICBpZihzZWN0aW9uT2JqLnNlY3Rpb25UeXBlID09PSBcInZpei1zZWN0aW9uXCIpe1xuICAgICAgc2VjdGlvbk9iai5zdGVwcy5tYXAoKHN0ZXAsaW5kZXgpID0+IHtcbiAgICAgICAgICBpZihzdGVwLnZpc3VhbCAhPT0gXCJcIil7XG4gICAgICAgICAgICBpZihpbmRleCA9PT0gMCl7XG4gICAgICAgICAgICAgIGQzLnNlbGVjdChgIyR7c2VjdGlvbk9iai5rZXl9XyR7aW5kZXh9YCkuc3R5bGUoJ29wYWNpdHknLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgIGQzLnNlbGVjdChgIyR7c2VjdGlvbk9iai5rZXl9XyR7aW5kZXh9YCkuc3R5bGUoJ29wYWNpdHknLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG59KTtcbn1cblxuZnVuY3Rpb24gc2V0dXBWaWRlb3MoKXtcbiAgbGV0IHZpZGVvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ2aWRlb1wiKTtcbiAgICB2aWRlb3MuZm9yRWFjaCgodmlkZW8pID0+IHtcbiAgICAgIC8vIFdlIGNhbiBvbmx5IGNvbnRyb2wgcGxheWJhY2sgd2l0aG91dCBpbnN0ZXJhY3Rpb24gaWYgdmlkZW8gaXMgbXV0ZVxuICAgICAgdmlkZW8ubXV0ZWQgPSB0cnVlO1xuICAgICAgdmlkZW8uY3VycmVudFRpbWUgPSAwO1xuICAgICAgLy8gUGxheSBpcyBhIHByb21pc2Ugc28gd2UgbmVlZCB0byBjaGVjayB3ZSBoYXZlIGl0XG4gICAgICBsZXQgcGxheVByb21pc2UgPSB2aWRlby5wbGF5KCk7XG4gICAgICBpZiAocGxheVByb21pc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHBsYXlQcm9taXNlLnRoZW4oKF8pID0+IHtcbiAgICAgICAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgICAgICAgKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LmludGVyc2VjdGlvblJhdGlvICE9PSAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdmlkZW8ucGF1c2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2aWRlby5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHsgdGhyZXNob2xkOiAwLjIgfVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHZpZGVvKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbn1cbiIsIi8qKlxyXG4gKiBzY3JvbGxlci5qc1xyXG4gKiA9PT09PT09PT09PVxyXG4gKiBEZWZpbmVzIHRoZSBsb2dpYyB1c2VkIGJ5IHRoZSBzY3JvbGxlci4gVGhpcyBzY3JpcHQgZG9lcyBub3QgbmVlZCBleHRlcm5hbCBkZXBlbmRlbmNpZXMgYW5kIHVzZXMgbmF0aXZlIGZ1bmN0aW9uc1xyXG4gKiBvZiB0aGUgYnJvd3Nlci5cclxuICpcclxuICogLyFcXCBQTEVBU0UsIERPIE5PVCBNT0RJRlkgVEhJUyBGSUxFLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEFudG9pbmUgQsOpbGFuZCA8YWJlbGFuZEBsZWRldm9pci5jb20+XHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuLyoqXHJcbiAqIERlZmluZXMgYSBzdGVwIGFzc29jaWF0ZWQgd2l0aCBhIHNwZWNpZmljIHZpc3VhbGl6YXRpb24uIEEgc3RlcCBpcyBhY3RpdmF0ZWQgb3IgZGVhY3RpdmF0ZWQgYmFzZWQgb24gdGhlIHNjcm9sbFxyXG4gKiBwb3NpdGlvbi4gVGhpcyBjbGFzcyBpcyB1c2VkIGJ5IHRoZSBzY3JvbGxlciBmdW5jdGlvbi5cclxuICovXHJcbmNsYXNzIFNjcm9sbGVyU3RlcCB7XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgU2Nyb2xsZXJTdGVwLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGVsICAgICAgICAgIFRoZSBuYXRpdmUgZWxlbWVudCB0aGF0IHJlcHJlc2VudHMgdGhlIHN0ZXAgaW4gdGhlIEhUTUwgZG9jdW1lbnQuXHJcbiAgICogQHBhcmFtIGluZGV4ICAgICAgIFRoZSBpbmRleCBvZiB0aGUgc3RlcC5cclxuICAgKiBAcGFyYW0gY2FsbGJhY2sgICAgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgc3RlcCBpcyBhY3RpdmF0ZS5cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihlbCwgaW5kZXgsIGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmVsID0gZWw7XHJcbiAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB0aGlzLl9pc0FjdGl2YXRlID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBY3RpdmF0ZXMgdGhlIGN1cnJlbnQgc3RlcC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBzY3JvbGxEaXJlY3Rpb24gICBUaGUgY3VycmVudCBzY3JvbGwgZGlyZWN0aW9uLlxyXG4gICAqL1xyXG4gIGFjdGl2YXRlKHNjcm9sbERpcmVjdGlvbikge1xyXG4gICAgaWYgKHRoaXMuX2lzQWN0aXZhdGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faXNBY3RpdmF0ZSA9IHRydWU7XHJcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgdGhpcy5jYWxsYmFjayhzY3JvbGxEaXJlY3Rpb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVhY3RpdmF0ZXMgdGhlIGN1cnJlbnQgc3RlcC5cclxuICAgKi9cclxuICBkZWFjdGl2YXRlKCkge1xyXG4gICAgaWYgKCF0aGlzLl9pc0FjdGl2YXRlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX2lzQWN0aXZhdGUgPSBmYWxzZTtcclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRGVmaW5lcyB0aGUgc2Nyb2xsIGRpcmVjdGlvbnMuXHJcbiAqXHJcbiAqIEB0eXBlIHt7dXA6IHN0cmluZywgZG93bjogc3RyaW5nfX1cclxuICovXHJcbmV4cG9ydCBjb25zdCBzY3JvbGxEaXJlY3Rpb25zID0ge1xyXG4gIHVwOiAndXAnLFxyXG4gIGRvd246ICdkb3duJ1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIERlZmluZXMgdGhlIHNjcm9sbGVyIHRvIHVzZSB3aXRoIHRoZSBMZSBEZXZvaXIncyBzY3JvbGx5dGVsbGluZyBhcnRpY2xlcy4gUGxlYXNlIHNlZSBcIlJFQURNRS5tZFwiXHJcbiAqIHRvIGtub3cgaG93IHRvIHVzZSBpdC5cclxuICpcclxuICogLyFcXCBCZSBzdXJlIHRvIHVzZSB0aGUgZ29vZCBDU1MgY2xhc3MgbmFtZXMgaW4geW91ciBIVE1MIGZpbGUgYmVmb3JlIHRvIHVzZSB0aGUgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSBjYWxsYmFja3MgICBBIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IG9mIGNhbGxiYWNrcyB0byB1c2Ugd2l0aCBlYWNoIHN0ZXAuXHJcbiAqIEByZXR1cm5zIHsqfSAgICAgICBUaGUgaW5zdGFuY2Ugb2YgdGhlIHNjcm9sbGVyLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbGVyKGNhbGxiYWNrcykge1xyXG4gIGxldCBfb2Zmc2V0VG9wID0gMDtcclxuICBsZXQgX29mZnNldEJvdHRvbSA9IDA7XHJcblxyXG4gIGxldCBpbm5lckhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICBsZXQgaXNJbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gIGxldCBsYXN0U2Nyb2xsID0gMDtcclxuICBsZXQgc3RlcHMgPSBbXTtcclxuICBsZXQgdml6ID0gW107XHJcbiAgbGV0IHZpc2libGVTdGVwcyA9IFtdO1xyXG4gIFxyXG4gIGNvbnN0IGFydGljbGVSZW1pbmRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcnRpY2xlLXJlbWluZGVyJyk7XHJcbiAgY29uc3Qgc2Nyb2xsUHJvZ3Jlc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgPiAucHJvZ3Jlc3MnKTtcclxuICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyby1zZWN0aW9uIGgxJyk7XHJcblxyXG4gIGNvbnN0IHZpelNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZpei1zZWN0aW9uJyk7XHJcbiAgaWYgKHZpelNlY3Rpb25zLmxlbmd0aCAhPT0gY2FsbGJhY2tzLmxlbmd0aCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgbnVtYmVyIG9mIHZpeiBzZWN0aW9ucyAoJHt2aXpTZWN0aW9ucy5sZW5ndGh9KSBtaXNtYXRjaCB3aXRoIHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IGAgK1xyXG4gICAgICBgZGltZW5zaW9uIG9mIHRoZSBjYWxsYmFja3MgYXJyYXkgKCR7Y2FsbGJhY2tzLmxlbmd0aH0pLiBQbGVhc2UsIGJlIHN1cmUgdGhhdCB0aGUgdHdvIGVsZW1lbnRzIGAgK1xyXG4gICAgICBgaGF2ZSB0aGUgc2FtZSBzaXplLmApO1xyXG4gIH1cclxuICB2aXpTZWN0aW9ucy5mb3JFYWNoKCh2aXpTZWN0aW9uLCBpKSA9PiB7XHJcbiAgICBjb25zdCBzZWN0aW9ucyA9IFsuLi52aXpTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24nKV07XHJcbiAgICBpZiAoc2VjdGlvbnMubGVuZ3RoICE9PSBjYWxsYmFja3NbaV0ubGVuZ3RoKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIG51bWJlciBvZiBzdGVwcyAoJHtzZWN0aW9ucy5sZW5ndGh9KSBpbiB0aGUgdml6IHNlY3Rpb24gIyR7aSArIDF9IG1pc21hdGNoIHdpdGggdGhlIGAgK1xyXG4gICAgICAgIGBudW1iZXIgb2YgY2FsbGJhY2tzIHNwZWNpZmllZCAoJHtjYWxsYmFja3NbaV0ubGVuZ3RofSkgYXQgdGhlIGluZGV4IFwiJHtpfVwiLiBQbGVhc2UsIGJlIHN1cmUgdGhhdCB0aGUgdHdvIGAgK1xyXG4gICAgICAgIGBlbGVtZW50cyBoYXZlIHRoZSBzYW1lIHNpemUuYCk7XHJcbiAgICB9XHJcbiAgICBzdGVwcyA9IHN0ZXBzLmNvbmNhdChzZWN0aW9ucy5tYXAoKGUsIGopID0+IG5ldyBTY3JvbGxlclN0ZXAoZSwgYCR7aX0tJHtqfWAsIGNhbGxiYWNrc1tpXVtqXSkpKTtcclxuICAgIHZpeiA9IHZpei5jb25jYXQodml6LCB2aXpTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy52aXogPiAqJykpO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSBkaXNwbGF5IGJhc2VkIG9uIHNjcm9sbGJhciBwb3NpdGlvbi5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGNvbnN0IF91cGRhdGUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50U2Nyb2xsID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICBzdGVwcy5mb3JFYWNoKHN0ZXAgPT4ge1xyXG4gICAgICAvLyBDaGVjayBpZiB0aGUgY3VycmVudCBzdGVwIGlzIGluIHRoZSB2aWV3cG9ydC5cclxuICAgICAgY29uc3QgYm91bmRpbmdSZWN0ID0gc3RlcC5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgaWYgKGlubmVySGVpZ2h0IC0gYm91bmRpbmdSZWN0LnRvcCAtIF9vZmZzZXRCb3R0b20gPiAwXHJcbiAgICAgICAgJiYgYm91bmRpbmdSZWN0LnRvcCArIGJvdW5kaW5nUmVjdC5oZWlnaHQgLSBfb2Zmc2V0VG9wID4gMCkge1xyXG4gICAgICAgIHZpc2libGVTdGVwcy5wdXNoKHN0ZXApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN0ZXAuZGVhY3RpdmF0ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBEaXNwbGF5IHRoZSB0aXRsZSBhcyBhIHJlbWluZGVyIHdoZW4gdGhlIG1haW4gYXJ0aWNsZSB0aXRsZSBpcyBoaWRkZW4uXHJcbiAgICBjb25zdCBpc0FydGljbGVSZW1pbmRlckRpc3BsYXllZCA9IHRpdGxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSA8PSAwO1xyXG4gICAgY29uc3QgaXNBcnRpY2xlUmVtaW5kZXJJc1Zpc2libGUgPSBhcnRpY2xlUmVtaW5kZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJyk7XHJcbiAgICBpZiAoaXNBcnRpY2xlUmVtaW5kZXJEaXNwbGF5ZWQgJiYgIWlzQXJ0aWNsZVJlbWluZGVySXNWaXNpYmxlKSB7XHJcbiAgICAgIGFydGljbGVSZW1pbmRlci5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJylcclxuICAgIH0gZWxzZSBpZiAoIWlzQXJ0aWNsZVJlbWluZGVyRGlzcGxheWVkICYmIGlzQXJ0aWNsZVJlbWluZGVySXNWaXNpYmxlKSB7XHJcbiAgICAgIGFydGljbGVSZW1pbmRlci5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJylcclxuICAgIH1cclxuXHJcbiAgICAvLyBGb3IgdGhlIHZpc2libGUgc3RlcHMsIGNob29zZSB0aGUgZ29vZCBvbmUgYmFzZWQgb24gdGhlIHNjcm9sbCBkaXJlY3Rpb24uXHJcbiAgICB2aXNpYmxlU3RlcHMuZm9yRWFjaCgoc2VjdGlvbiwgaSkgPT4ge1xyXG4gICAgICBpZiAoY3VycmVudFNjcm9sbCA+PSBsYXN0U2Nyb2xsKSB7IC8vIFNjcm9sbCBkb3duICjihpMpXHJcbiAgICAgICAgaWYgKGkgPT09IHZpc2libGVTdGVwcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICBzZWN0aW9uLmFjdGl2YXRlKHNjcm9sbERpcmVjdGlvbnMuZG93bik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlY3Rpb24uZGVhY3RpdmF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHsgLy8gU2Nyb2xsIHVwICjihpEpXHJcbiAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgIHNlY3Rpb24uYWN0aXZhdGUoc2Nyb2xsRGlyZWN0aW9ucy51cCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlY3Rpb24uZGVhY3RpdmF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBfdXBkYXRlU2Nyb2xsUHJvZ3Jlc3MoKTtcclxuXHJcbiAgICAvLyBSZXNldCB0aGUgdmFyaWFibGVzIGZvciB0aGUgbmV4dCBmdW5jdGlvbiBjYWxsLlxyXG4gICAgdmlzaWJsZVN0ZXBzID0gW107XHJcbiAgICBsYXN0U2Nyb2xsID0gY3VycmVudFNjcm9sbDtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSBzY3JvbGwgcHJvZ3Jlc3Npb24gaW5kaWNhdG9yLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgY29uc3QgX3VwZGF0ZVNjcm9sbFByb2dyZXNzID0gKCkgPT4ge1xyXG4gICAgY29uc3Qgd2luU2Nyb2xsID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgIGNvbnN0IGhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xyXG4gICAgY29uc3Qgc2Nyb2xsZWQgPSAod2luU2Nyb2xsIC8gaGVpZ2h0KSAqIDEwMDtcclxuICAgIHNjcm9sbFByb2dyZXNzLnN0eWxlLndpZHRoID0gc2Nyb2xsZWQgKyAnJSc7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcHVibGljSW50ZXJmYWNlID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgc2Nyb2xsZXIuIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gYmUgb25seSBjYWxsZWQgb25jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIGluc3RhbmNlIG9mIHRoZSBzY3JvbGxlci5cclxuICAgICAqL1xyXG4gICAgaW5pdGlhbGl6ZTogKCkgPT4ge1xyXG4gICAgICBpZiAoaXNJbml0aWFsaXplZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNjcm9sbGVyIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuJyk7XHJcbiAgICAgIH1cclxuICAgICAgaXNJbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfdXBkYXRlKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcclxuICAgICAgICBpbm5lckhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICBfdXBkYXRlU2Nyb2xsUHJvZ3Jlc3MoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICgod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApID4gMCkge1xyXG4gICAgICAgIF91cGRhdGUoKTtcclxuICAgICAgfVxyXG4gICAgICBfdXBkYXRlU2Nyb2xsUHJvZ3Jlc3MoKTtcclxuICAgICAgcmV0dXJuIHB1YmxpY0ludGVyZmFjZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIHRvcCBvZmZzZXQgdG8gdXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvZmZzZXRUb3BcclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgaW5zdGFuY2Ugb2YgdGhlIHNjcm9sbGVyLlxyXG4gICAgICovXHJcbiAgICBvZmZzZXRUb3A6IG9mZnNldFRvcCA9PiB7XHJcbiAgICAgIGlmIChvZmZzZXRUb3AgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBfb2Zmc2V0VG9wO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihvZmZzZXRUb3ApKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgb2Zmc2V0IG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXIuJyk7XHJcbiAgICAgIH1cclxuICAgICAgX29mZnNldFRvcCA9IG9mZnNldFRvcDtcclxuICAgICAgcmV0dXJuIHB1YmxpY0ludGVyZmFjZTtcclxuICAgIH0gLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBvciBzZXRzIHRoZSBib3R0b20gb2Zmc2V0IHRvIHVzZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0Qm90dG9tXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIGluc3RhbmNlIG9mIHRoZSBzY3JvbGxlci5cclxuICAgICAqL1xyXG4gICAgb2Zmc2V0Qm90dG9tOiBvZmZzZXRCb3R0b20gPT4ge1xyXG4gICAgICBpZiAob2Zmc2V0Qm90dG9tID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gX29mZnNldEJvdHRvbTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIob2Zmc2V0Qm90dG9tKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG9mZnNldCBtdXN0IGJlIGFuIGludGVnZXIgbnVtYmVyLicpO1xyXG4gICAgICB9XHJcbiAgICAgIF9vZmZzZXRCb3R0b20gPSBvZmZzZXRCb3R0b207XHJcbiAgICAgIHJldHVybiBwdWJsaWNJbnRlcmZhY2U7XHJcbiAgICB9XHJcbiAgfTtcclxuICByZXR1cm4gcHVibGljSW50ZXJmYWNlO1xyXG59XHJcbiIsIlxyXG5pbXBvcnQgeyBpbml0aWFsaXplIGFzIHYxIH0gZnJvbSAnLi4vdml6JztcclxuaW1wb3J0IHsgc2Nyb2xsZXIgfSBmcm9tICcuLi9zY3JvbGxlcic7XHJcbmltcG9ydCBMYXp5TG9hZCBmcm9tIFwidmFuaWxsYS1sYXp5bG9hZFwiO1xyXG5jb25zdCBoZWFkZXJIZWlnaHQgPSA0MDtcclxuaW1wb3J0IHN0aWNreUJpdHMgZnJvbSAnc3RpY2t5Yml0cydcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0U2Nyb2xsZXIoY29udGVudERhdGEsIHBhcmFtc0RhdGEpe1xyXG5cclxuICAgIGxldCBlbGVtZW50cyA9IFtdO1xyXG4gICAgWycudml6JywgJy5mdWxsLXBhZ2Utc2VjdGlvbiA+IGltZycsICcuZnVsbC1wYWdlLXNlY3Rpb24gPiB2aWRlbyddLmZvckVhY2goc2VsZWN0b3IgPT4ge1xyXG4gICAgICBlbGVtZW50cyA9IGVsZW1lbnRzLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKSk7XHJcbiAgICB9KTtcclxuICAgIHN0aWNreUJpdHMoZWxlbWVudHMsIHsgc3RpY2t5Qml0U3RpY2t5T2Zmc2V0OiBoZWFkZXJIZWlnaHQgfSk7XHJcbiAgXHJcbiAgICBjb25zdCBsbCA9IG5ldyBMYXp5TG9hZCh7XHJcbiAgICAgIGVsZW1lbnRzX3NlbGVjdG9yOiBcIi5sYXp5XCIsXHJcbiAgICAgIHRocmVzaG9sZDogNTAwXHJcbiAgICB9KTtcclxuICBcclxuICAgIFByb21pc2UuYWxsKFt2MShjb250ZW50RGF0YSwgcGFyYW1zRGF0YSldKS50aGVuKChbY2FsbGJhY2tzVjFdKSA9PiAge1xyXG4gICAgICBzY3JvbGxlcihjYWxsYmFja3NWMSlcclxuICAgICAgICAub2Zmc2V0VG9wKGhlYWRlckhlaWdodClcclxuICAgICAgICAub2Zmc2V0Qm90dG9tKDApXHJcbiAgICAgICAgLmluaXRpYWxpemUoKTtcclxuICAgIH0pO1xyXG4gIH0iLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBJbnRyb1NlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9JbnRyb1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IFRleHRTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVGV4dFNlY3Rpb24uanNcIjtcbmltcG9ydCB7IFZpelNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9WaXpTZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBGdWxsUGFnZVNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9GdWxsUGFnZVNlY3Rpb24uanNcIjtcbmltcG9ydCB7IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cyB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuaW1wb3J0IHsgZ2V0U3RydWN0dXJlIH0gZnJvbSBcIi4vc3RydWN0dXJlR2VuZXJhdG9yLmpzXCI7XG5pbXBvcnQgeyBpbml0U2Nyb2xsZXIgfSBmcm9tIFwiLi9pbml0U2Nyb2xsZXIuanNcIjtcblxuXG4vKipcbiAqIFRha2UgcHJvcHMgKGFydGljbGUgc3RydWN0dXJlIGFzIENTViBhbmQgcGFyYW1zKSBhbmQgdHJhbnNmb3JtIGl0IGFzIEhUTUwgYXJjaGl0ZWN0dXJlXG4gKiBAcGFyYW0gIHtPYmplY3R9IGNvbnRlbnREYXRhIEFydGljbGUncyBDU1Ygc3RydWN0dXJlXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zRGF0YSBBcnRpY2xlIHBhcmFtZXRlcnNcbiAqIEByZXR1cm4ge09iamVjdH0gT2JqIEhUTUwgY29kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVuZGVyU3RydWN0dXJlKHByb3BzKXtcbiAgICBpZihwcm9wcy5yZW5kZXJlZCl7XG4gICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgICAgIGluaXRTY3JvbGxlcihwcm9wcy5jb250ZW50RGF0YSwgcHJvcHMucGFyYW1zRGF0YSk7XG5cbiAgICAgICAgfSwgW10pO1xuICAgIH1cblxuICAgIHJldHVybiByZW5kZXJEYXRhKGdldFN0cnVjdHVyZShwcm9wcy5jb250ZW50RGF0YSwgcHJvcHMucGFyYW1zRGF0YSkpO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJEYXRhKHN0cnVjdHVyZURhdGEpe1xuXG4gICAgbGV0IHJlbmRlcmVkRGF0YSA9IHt9O1xuXG4gICAgT2JqZWN0LmtleXMoc3RydWN0dXJlRGF0YSkubWFwKChzZWN0aW9uS2V5LGluZGV4KSA9PiB7XG4gICAgICAgIGxldCBjdXJTZWN0aW9uID0gc3RydWN0dXJlRGF0YVtzZWN0aW9uS2V5XTtcbiAgICAgICAgaWYoY3VyU2VjdGlvbi5zZWN0aW9uVHlwZSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5pbnRyb3RpdHJlKXtcbiAgICAgICAgICAgIHJlbmRlcmVkRGF0YVtzZWN0aW9uS2V5XSA9ICgoPEludHJvU2VjdGlvbiBrZXk9e2N1clNlY3Rpb24ua2V5fSBzZWN0aW9uVHlwZT17Y3VyU2VjdGlvbi5zZWN0aW9uVHlwZX0gb3B0aW9uRGF0YT17Y3VyU2VjdGlvbi5vcHRpb25EYXRhfSBhbW9yY2U9e3BhcnNlKGN1clNlY3Rpb24uYW1vcmNlKX0gYmFja2dyb3VuZD17Y3VyU2VjdGlvbi5iYWNrZ3JvdW5kfSBjbGFzc2VzPXtjdXJTZWN0aW9uLmNsYXNzZXN9IC8+KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihjdXJTZWN0aW9uLnNlY3Rpb25UeXBlID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnRleHRlY2xhc3NpcXVlKXtcblxuICAgICAgICAgICAgcmVuZGVyZWREYXRhW3NlY3Rpb25LZXldID0gKCg8VGV4dFNlY3Rpb24ga2V5PXtjdXJTZWN0aW9uLmtleX0gaWQ9e2N1clNlY3Rpb24ua2V5fSBzZWN0aW9uVHlwZT17Y3VyU2VjdGlvbi5zZWN0aW9uVHlwZX0gdGV4dHM9e2N1clNlY3Rpb24udGV4dHN9IGJhY2tncm91bmQ9e2N1clNlY3Rpb24uYmFja2dyb3VuZH0gY2xhc3Nlcz17Y3VyU2VjdGlvbi5jbGFzc2VzfSB2aXN1ZWxjbGFzc2VzPXtjdXJTZWN0aW9uLnZpc3VlbGNsYXNzZXN9IHZpc3VhbD17Y3VyU2VjdGlvbi52aXN1YWx9IGZpbGVuYW1lPXtjdXJTZWN0aW9uLmZpbGVuYW1lfS8+KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihjdXJTZWN0aW9uLnNlY3Rpb25UeXBlID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnBsZWluZXBhZ2V0aXRyZSl7XG4gICAgICAgICAgICByZW5kZXJlZERhdGFbc2VjdGlvbktleV0gPSAoKDxGdWxsUGFnZVNlY3Rpb24ga2V5PXtjdXJTZWN0aW9uLmtleX0gaWQ9e2N1clNlY3Rpb24ua2V5fSBzZWN0aW9uVHlwZT17Y3VyU2VjdGlvbi5zZWN0aW9uVHlwZX0gYmFja2dyb3VuZD17Y3VyU2VjdGlvbi5iYWNrZ3JvdW5kfSBjbGFzc2VzPXtjdXJTZWN0aW9uLmNsYXNzZXN9IHZpc3VlbGNsYXNzZXM9e2N1clNlY3Rpb24udmlzdWVsY2xhc3Nlc30gdmlzdWFsPXtjdXJTZWN0aW9uLnZpc3VhbH0gbWFpblRpdGxlPXtjdXJTZWN0aW9uLnRleHRzLm1haW5UaXRsZX0gc3ViVGl0bGU9e2N1clNlY3Rpb24udGV4dHMuc3ViVGl0bGV9IGZpbGVuYW1lPXtjdXJTZWN0aW9uLmZpbGVuYW1lfSAvPikpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihjdXJTZWN0aW9uLnNlY3Rpb25UeXBlID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnZpenNlY3Rpb24pe1xuICAgICAgICAgICAgcmVuZGVyZWREYXRhW3NlY3Rpb25LZXldID0gKDxWaXpTZWN0aW9uIGtleT17Y3VyU2VjdGlvbi5rZXl9IGxpc3RJRD17Y3VyU2VjdGlvbi5saXN0SUR9IHN0ZXBzPXtjdXJTZWN0aW9uLnN0ZXBzfSBjbGFzc2VkPXtjdXJTZWN0aW9uLmNsYXNzZWR9IG1lZGlhSW5mbz17Y3VyU2VjdGlvbi5tZWRpYUluZm99IGJhY2tncm91bmQ9e2N1clNlY3Rpb24uYmFja2dyb3VuZH0vPik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZW5kZXJlZERhdGEpO1xufVxuIiwiLyoqXG4gKiBhcHAuanNcbiAqID09PT09PVxuICogTWFpbiBmaWxlIG9mIHRoZSBhcHBsaWNhdGlvbi4gVGhpcyBmaWxlIGlzIHVzZWQgdG8gaW5pdGlhbGl6ZSB0aGUgc2Nyb2xsZXIgYW5kIGltcG9ydHMgdGhlIHZpc3VhbGl6YXRpb25zIHVzZWQuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHN0cnVjdHVyZSBmcm9tICcuLi9kYXRhL3N0cnVjdHVyZS9zdHJ1Y3R1cmUuanNvbic7XG5cbmlmKCFFTlZfQ09ORklHLmRvd25sb2FkU3RydWMpe1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcm9vdCcpLmlubmVySFRNTCA9IChzdHJ1Y3R1cmUuaHRtbHN0cnVjKTtcbn1cblxuaW1wb3J0ICcuLi9hc3NldHMvc3R5bGVzL3N0eWxlLnNjc3MnO1xuaW1wb3J0IHtnb29nbGVfY29uZmlnfSBmcm9tIFwiLi4vZGF0YS9nb29nbGVfY29uZmlnXCI7XG5pbXBvcnQgeyBSZW5kZXJTdHJ1Y3R1cmUgfSBmcm9tICcuL2dlbmVyYXRvci9SZW5kZXJTdHJ1Y3R1cmUnO1xuaW1wb3J0IHsgaW5pdFNjcm9sbGVyIH0gZnJvbSAnLi9nZW5lcmF0b3IvaW5pdFNjcm9sbGVyJztcbmltcG9ydCB7IGdlbmVyYXRlQ2FsbGJhY2tzIH0gZnJvbSAnLi9nZW5lcmF0b3Ivc3RydWN0dXJlR2VuZXJhdG9yJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IHNhdmVBcyB9IGZyb20gJ2ZpbGUtc2F2ZXInO1xuXG5pZihFTlZfQ09ORklHLmRvd25sb2FkU3RydWMpe1xuICBQcm9taXNlLmFsbChbaW1wb3J0KFwicmVhY3QtZG9tL2NsaWVudFwiKSwgaW1wb3J0KFwicmVhY3QtZG9tL3NlcnZlclwiKSwgaW1wb3J0KFwicmVhY3RcIildKVxuICAgIC50aGVuKHBhY2thZ2VzID0+IHtcbiAgICAgIGNvbnN0IFJlYWN0RE9NID0gcGFja2FnZXNbMF07XG4gICAgICBjb25zdCBSZWFjdERPTVNlcnZlciA9IHBhY2thZ2VzWzFdO1xuICAgICAgY29uc3QgUmVhY3QgPSBwYWNrYWdlc1syXTtcbiAgICAgIGFkZE5vdFB1Ymxpc2hlZCgpO1xuICAgICAgaWYoRU5WX0NPTkZJRy5hdXRvcmVuZGVyKXtcbiAgICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcuY29udGVudFVSTCkudGhlbiggY29udGVudERhdGEgPT4ge1xuICAgICAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLnBhcmFtc1VSTCkudGhlbiggcGFyYW1zRGF0YSA9PiB7XG4gICAgICAgICAgICBjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIikpO1xuICAgICAgICAgICAgcm9vdC5yZW5kZXIoXG4gICAgICAgICAgICAgIDxSZW5kZXJTdHJ1Y3R1cmUgY29udGVudERhdGE9e2NvbnRlbnREYXRhfSBwYXJhbXNEYXRhPXtwYXJhbXNEYXRhfSByZW5kZXJlZD17dHJ1ZX0vPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGFkZEZvb3RlcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLmNvbnRlbnRVUkwpLnRoZW4oIGNvbnRlbnREYXRhID0+IHtcbiAgICAgICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5wYXJhbXNVUkwpLnRoZW4oIHBhcmFtc0RhdGEgPT4ge1xuICAgICAgICAgICAgZDMuYmxvYihnb29nbGVfY29uZmlnLmNvbnRlbnRVUkwpLnRoZW4oY29udGVudEJsb2IgPT4ge1xuICAgICAgICAgICAgICBkMy5ibG9iKGdvb2dsZV9jb25maWcucGFyYW1zVVJMKS50aGVuKHBhcmFtc0Jsb2IgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlZFN0cnVjID0gUmVuZGVyU3RydWN0dXJlKHtjb250ZW50RGF0YTogY29udGVudERhdGEsIHBhcmFtc0RhdGE6IHBhcmFtc0RhdGEsIHJlbmRlcjogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBodG1sU3RydWMgPSBSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0YXRpY01hcmt1cChnZW5lcmF0ZWRTdHJ1Yyk7XG4gICAgICAgICAgICAgICAgd3JpdGVIVE1MZmlsZShodG1sU3RydWMsIGNvbnRlbnRCbG9iLCBwYXJhbXNCbG9iKTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUNhbGxiYWNrcyhjb250ZW50RGF0YSxwYXJhbXNEYXRhKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KVxufVxuZWxzZXtcbiAgaWYoRU5WX0NPTkZJRy5hdXRvcmVuZGVyKXtcbiAgICBQcm9taXNlLmFsbChbaW1wb3J0KFwicmVhY3QtZG9tL2NsaWVudFwiKSwgaW1wb3J0KFwicmVhY3RcIildKVxuICAgIC50aGVuKHBhY2thZ2VzID0+IHtcbiAgICAgIGNvbnN0IFJlYWN0RE9NID0gcGFja2FnZXNbMF07XG4gICAgICBjb25zdCBSZWFjdCA9IHBhY2thZ2VzWzFdO1xuICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcuY29udGVudFVSTCkudGhlbiggY29udGVudERhdGEgPT4ge1xuICAgICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5wYXJhbXNVUkwpLnRoZW4oIHBhcmFtc0RhdGEgPT4ge1xuICAgICAgICAgIGNvbnN0IHJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKSk7XG4gICAgICAgICAgcm9vdC5yZW5kZXIoXG4gICAgICAgICAgICA8UmVuZGVyU3RydWN0dXJlIGNvbnRlbnREYXRhPXtjb250ZW50RGF0YX0gcGFyYW1zRGF0YT17cGFyYW1zRGF0YX0gcmVuZGVyZWQ9e3RydWV9Lz5cbiAgICAgICAgICApO1xuICAgICAgICAgIGFkZEZvb3RlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGVsc2V7XG4gICAgZDMuY3N2KGdvb2dsZV9jb25maWcubG9jYWxDb250ZW50VVJMKS50aGVuKCBjb250ZW50RGF0YSA9PiB7XG4gICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5sb2NhbFBhcmFtc1VSTCkudGhlbiggcGFyYW1zRGF0YSA9PiB7XG4gICAgICAgIGluaXRTY3JvbGxlcihjb250ZW50RGF0YSwgcGFyYW1zRGF0YSk7XG4gICAgICAgIGFkZEZvb3RlcigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd3JpdGVIVE1MZmlsZShIVE1MU3RydWN0LCBjb250ZW50RGF0YSwgcGFyYW1zRGF0YSl7XG4gIGxldCBibG9iID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KHtodG1sc3RydWM6IGAke0hUTUxTdHJ1Y3R9YH0sIG51bGwsIDIpXSwge3R5cGU6IFwidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04XCJ9KTtcbiAgbGV0IGNvbnRlbnRDU1YgPSBuZXcgQmxvYihbY29udGVudERhdGFdLCB7dHlwZTogXCJ0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04XCJ9KTtcbiAgbGV0IHBhcmFtc0NTViA9IG5ldyBCbG9iKFtwYXJhbXNEYXRhXSwge3R5cGU6IFwidGV4dC9jc3Y7Y2hhcnNldD11dGYtOFwifSk7XG5cbiAgc2F2ZUFzKGNvbnRlbnRDU1YsIFwiY29udGVudERhdGEuY3N2XCIpO1xuICBzYXZlQXMocGFyYW1zQ1NWLCBcInBhcmFtc0RhdGEuY3N2XCIpO1xuICBzYXZlQXMoYmxvYiwgXCJzdHJ1Y3R1cmUuanNvblwiKTtcbn1cblxuZnVuY3Rpb24gYWRkTm90UHVibGlzaGVkKCl7XG4gIGNvbnN0IGRpdiA9IGQzLnNlbGVjdCgnLnB1bGwtcmlnaHQnKS5pbnNlcnQoXCJsaVwiLCdsaScpO1xuICBkaXYuaHRtbChgPHAgY2xhc3M9J25vdC1wdWJsaXNoZWQnPk5lIHBhcyBwdWJsaWVyPC9wPmApO1xufVxuXG5mdW5jdGlvbiBhZGRGb290ZXIoKXtcbiAgLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9vdGVyQ29udGFpbmVyJykucmVtb3ZlKCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb290ZXJDb250YWluZXInKS5pbm5lckhUTUwgPSBkMy5zZWxlY3QoYCNmb290ZXJDb250ZW50YCkubm9kZSgpLmlubmVySFRNTDtcbn1cbiIsImNvbnN0IGdvb2dsZV9jb25maWcgPSB7XG4gICAgXCJjb250ZW50VVJMXCI6IFwiaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvZS8yUEFDWC0xdlNFeXdKRTBWVWd5M05zcTNUZ19vaC1WczYzM1RTaW1kSUhma1hUeXo5QmJFdFdOVmd1cmQxVG91LVE1YW52ZE9pdzNjb0NGa0RDaVNZcS9wdWI/Z2lkPTAmc2luZ2xlPXRydWUmb3V0cHV0PWNzdlwiLFxuICAgIFwicGFyYW1zVVJMXCI6IFwiaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvZS8yUEFDWC0xdlNFeXdKRTBWVWd5M05zcTNUZ19vaC1WczYzM1RTaW1kSUhma1hUeXo5QmJFdFdOVmd1cmQxVG91LVE1YW52ZE9pdzNjb0NGa0RDaVNZcS9wdWI/Z2lkPTQwOTk1MDIzNyZzaW5nbGU9dHJ1ZSZvdXRwdXQ9Y3N2XCIsXG4gICAgXCJsb2NhbENvbnRlbnRVUkxcIjogXCIuL2RhdGEvc3RydWN0dXJlL2NvbnRlbnREYXRhLmNzdlwiLFxuICAgIFwibG9jYWxQYXJhbXNVUkxcIjogXCIuL2RhdGEvc3RydWN0dXJlL3BhcmFtc0RhdGEuY3N2XCJcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge2dvb2dsZV9jb25maWd9O1xuIl0sIm5hbWVzIjpbIkludHJvU2VjdGlvbiIsInByb3BzIiwiYXV0aG9yc0xpbmUiLCJBcnJheSIsImZyb20iLCJTdHJpbmciLCJvcHRpb25EYXRhIiwiYXV0aG9ycyIsInNwbGl0IiwibWFwIiwibmFtZSIsImkiLCJjdXJMZW4iLCJsZW5ndGgiLCJrZXkiLCJocmVmIiwidXJscyIsImludHJvU2VjdGlvbk9iaiIsImNsYXNzTmFtZSIsImNsYXNzZXMiLCJ0aXRsZSIsImRhdGUiLCJhbW9yY2UiLCJiYWNrZ3JvdW5kIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJUZXh0U2VjdGlvbiIsInF1b3RlT2JqIiwiaXNRdW90ZSIsImluY2x1ZGVzIiwidGV4dCIsInRleHRzIiwiYXV0aG9yIiwiYmlnTnVtYmVyT2JqIiwiaXNCaWdOdW1iZXIiLCJudW1iZXIiLCJ1bmRlclRleHQiLCJpc1Zpc3VhbCIsInZpc3VhbCIsInZpc3VhbE9iaiIsImlkIiwic3JjIiwiZmlsZW5hbWUiLCJ2aXN1ZWxjbGFzc2VzIiwicGFkZGluZ0JvdHRvbSIsImF1dG9QbGF5IiwibG9vcCIsIm11dGVkIiwicGxheXNJbmxpbmUiLCJwcmVsb2FkIiwidGV4dFNlY3Rpb25PYmoiLCJwYXJzZSIsInN0YXJ0c1dpdGgiLCJEV0NoYXJ0IiwiaWZyYW1lUmVmIiwidXNlUmVmIiwidXNlU3RhdGUiLCJoZWlnaHQiLCJzZXRTdGF0ZSIsIm9uTWVzc2FnZSIsInVzZUNhbGxiYWNrIiwiZGF0YSIsInNvdXJjZSIsImN1cnJlbnQiLCJjb250ZW50V2luZG93IiwidXNlRWZmZWN0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZWYiLCJzY3JvbGxpbmciLCJmcmFtZUJvcmRlciIsIndpZHRoIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwibG9hZGluZyIsIm9wdGlvbnNEcm9wZG93bkNvbnN0YW50cyIsInBhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMiLCJ0aXRyZSIsImF1dGV1cnMiLCJWaXpTZWN0aW9uIiwic3RlcHMiLCJjdXJTdGVwQ2xhc3NlcyIsImN1ckNvbW1vbkNsYXNzIiwidml6U2VjdGlvbk9iaiIsImxpc3RJRCIsImNsYXNzZWQiLCJzdGVwIiwiaW5kZXgiLCJzdGVwY2xhc3NlcyIsImZvckVhY2giLCJzdGVwRWxlbSIsImlkeCIsImlzQXJyYXkiLCJlbGVtIiwicmVkdWNlIiwiYSIsImIiLCJGdWxsUGFnZVNlY3Rpb24iLCJmdWxscGFnZVNlY3Rpb25PYmoiLCJtYWluVGl0bGUiLCJjbGFzcyIsInN1YlRpdGxlIiwiZ2V0U3RydWN0dXJlIiwiY29udGVudERhdGEiLCJwYXJhbXNEYXRhIiwic3RydWN0dXJlRGF0YSIsInZpelNlY3Rpb25JRHMiLCJvcHRpb25zIiwiZ2V0T3B0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJyb3dEYXRhIiwiY3VyQW1vcmNlIiwic2VjdGlvbkJhY2tncm91bmQiLCJzZWN0aW9uVHlwZSIsInBhcnNlQ2xhc3NlcyIsImdhbWVpZCIsInRpdGxlT2JqIiwiaXNKc29uIiwiSlNPTiIsImN1ckRhdGEiLCJhdHRyaWJ1dHMiLCJzY3JvbGxUeXBlIiwiaGFzT3duUHJvcGVydHkiLCJjdXJWaXpTZWN0aW9uIiwicHVzaCIsImN1clNlY3Rpb24iLCJzZWN0aW9uQXR0ciIsIm1lZGlhSW5mbyIsIk9iamVjdCIsInZhbHVlcyIsInN0ciIsImUiLCJqb2luIiwiaXNYUyIsImlubmVyV2lkdGgiLCJpc1NtIiwiY29uc3RhbnRzIiwidG9rZW4iLCJtYXBCb3VuZHMiLCJtYXgiLCJjb2xvcnMiLCJjbHVzdGVyTWF4Wm9vbSIsImNsdXN0ZXJSYWRpdXMiLCJjbHVzdGVyTWluUG9pbnRzIiwibWFwYm94Z2wiLCJNYXAiLCJkaXYiLCJkYXRhU291cmNlQXJyYXkiLCJzdHlsZVVybCIsImluaXRDb29yZHMiLCJkaXNhYmxlQ29udHJvbHMiLCJ3aXRoSGFuZGxlcnMiLCJ0aGlzIiwiZGF0YVNvdXJjZU9iamVjdHMiLCJjb250YWluZXIiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJjZW50ZXIiLCJ6b29tIiwibWF4Qm91bmRzIiwiYm91bmRzTGlzdCIsImRhdGFTb3VyY2UiLCJleHRyYUJvdW5kcyIsInNjcm9sbFpvb20iLCJkaXNhYmxlIiwiZHJhZ1BhbiIsImRyYWdSb3RhdGUiLCJib3hab29tIiwiZG91YmxlQ2xpY2tab29tIiwic2V0dXBIYW5kbGVycyIsImRhdGFMaXN0IiwiYm91bmRzIiwicGFkZGluZyIsInNjcmVlbiIsImR1cmF0aW9uIiwiZml0Qm91bmRzIiwiZGF0YVBhaXIiLCJmbHlUbyIsInNwZWVkIiwiY3VydmUiLCJlYXNpbmciLCJ0Iiwib2JqaW5kZXgiLCJ1cGRhdGVDb29yZHNBbmRab29tIiwia2V5TmFtZSIsInNvdXJjZUluZGV4IiwiaXRlbUluZGV4IiwiaW5pdGlhbGlzZWQiLCJhZGRTb3VyY2UiLCJ0eXBlIiwiYWRkTGF5ZXIiLCJwYWludCIsInByb3BlcnR5IiwidmFsdWUiLCJzZXRQYWludFByb3BlcnR5Iiwib24iLCJnZXRDYW52YXMiLCJjdXJzb3IiLCJkcmF3UG9wdXAiLCJjbG9zZVBvcHVwIiwicHJldmVudERlZmF1bHQiLCJjb29yZGluYXRlcyIsImZlYXR1cmVzIiwiZ2VvbWV0cnkiLCJzbGljZSIsInByb3BlcnRpZXMiLCJvcGVuZGF5c3RyIiwib3Blbm1vbnRoc3RyIiwib3BlbnllYXJzdHIiLCJmZXJtZGF5c3RyIiwiZmVybW1vbnRoc3RyIiwiZmVybXllYXJzdHIiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJkYXRlU3R5bGUiLCJmb3JtYXQiLCJEYXRlIiwiVVRDIiwiZGF0ZV9vdXZlcnR1cmUiLCJkYXRlX2Zlcm1ldHVyZSIsImh0bWxfcG9wdXBfY29udGVudCIsIk1hdGgiLCJhYnMiLCJsbmdMYXQiLCJsbmciLCJwb3B1cCIsInNldExuZ0xhdCIsInNldEhUTUwiLCJhZGRUbyIsInJlbW92ZSIsImRhdGFTb3VyY2VOYW1lIiwiaW5pdE1hcFNvdXJjZXNBbmRMYXllcnMiLCJnZXRTb3VyY2UiLCJzZXREYXRhIiwiR2F1Z2VzIiwiZ2F1Z2VzRWxlbXMiLCJtYXhXaWR0aFZhbHVlIiwiZDMiLCJzZWxlY3RBbGwiLCJwYXJzZUludCIsImRvbGxhcnMiLCJwZXJmb3JtYW5jZSIsIm5vZGVzIiwibm9kZSIsImN1cldpZHRoIiwiYXR0ciIsInNlbGVjdCIsInJvdW5kIiwiSW50cm9Cb3giLCJzdGFydEdhbWUiLCJtYXBPYmoiLCJ2aWV3RXh0cmFCb3VuZE9iaiIsImdhbWVTdGFydCIsImludHJvRWxlbSIsIm9uQ2xpY2siLCJDaG9pY2UiLCJzZWxlY3Rpb24iLCJzZXRTZWxlY3Rpb24iLCJvYmoiLCJuZXh0UHJvbXB0IiwiY29zdCIsInVzZSIsInRyaWdnZXJOZXh0IiwiY3VyUHJvbXB0IiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiY2hhbmdlUHJvbXB0IiwidXBkYXRlRG9sbGFycyIsInVwZGF0ZVBlcmZvcm1hbmNlIiwicHJldmlvdXNQcm9tcHQiLCJjdXJJbmRleCIsImNob2ljZXMiLCJjaG9pY2UiLCJjaG9pY2VzX3ZhbHVlcyIsImV2ZW50IiwidGFyZ2V0IiwidXBkYXRlU2VsZWN0ZWQiLCJNdWx0aVNlbGVjdGlvbiIsInJlc2V0U2VsZWN0aW9uIiwiYWNjQ29zdCIsImFjYyIsImN1ciIsImFjY1BlcmZvcm1hbmNlIiwibmV3QXJyYXkiLCJQcmludFByb21wdCIsIm1lc3NhZ2UiLCJSZXBhcnRpdGlvbiIsImpldG9ucyIsInNldEpldG9ucyIsInRlcmF3YXR0cyIsInNldFRlcmF3YXR0cyIsInVuaXRzIiwic2V0VW5pdHMiLCJ0b2tlbnNQZXJVbml0Iiwic2V0VG9rZW5zUGVyVW5pdCIsImdldE9wdGlvblBhcmFtcyIsIm5ld1VuaXRzIiwidW5pdFZhbHVlIiwibmV3SmV0b25zIiwiY3VyVmFsIiwibmV3TVciLCJjdXJyZW50VXNlZFRva2VucyIsImNvbmNhdFRva2VucyIsInNwbGl0dGVkVHJpZ2dlck5leHQiLCJldmVyeSIsInZhbCIsImRlZmF1bHROZXh0IiwiaW5kZXhPZk1heFZhbHVlIiwiaU1heCIsIngiLCJhcnIiLCJwcm9jZXNzQ2hvaWNlcyIsInNwbGl0dGVkQ2hvaWNlcyIsInVuaXRUV2h2YWx1ZSIsIm1vZGlmeU9uQ2xpY2siLCJkaWZmIiwibmV3QWRkaXRpb24iLCJ0b3RhbCIsImN1ck9wdGlvblBhcmFtcyIsImZpbGwiLCJjb25jYXQiLCJhcHBseSIsImN1ckxldHRlciIsIlByb21wdEJveCIsIm5ld1ZhbHVlIiwiZGlmZlZhbHVlIiwicGFyYW0iLCJyZW5kZXJTd2l0Y2giLCJNYWluRnJhbWUiLCJnYW1lU3RhdHVzIiwic2V0U3RhdHVzIiwiZ2FtZUluZGV4Iiwic2V0R2FtZUluZGV4Iiwic2V0RG9sbGFycyIsInNldFBlcmZvcm1hbmNlIiwiZ2V0R2FtZVByb21wdCIsImdhbWVFbmQiLCJnYW1lRGF0YSIsImZpbHRlciIsImRvbUVsZW1lbnQiLCJFbmdpbmUiLCJpbnRyb09iaiIsInJvb3RFbGVtIiwiYXBwZW5kIiwiZW5naW5lUm9vdCIsIlJlYWN0RE9NIiwiaW5pdEVuZ2luZSIsInJlbmRlciIsIm1hcEJveFN0eWxlIiwiaW5pdGlhbGl6ZSIsInRoZW4iLCJnZW9EYXRhIiwibWFwU291cmNlIiwic291cmNlTmFtZSIsInNvdXJjZVR5cGUiLCJzb3VyY2VEYXRhIiwibGF5ZXJUeXBlIiwiY29sb3IiLCJvcGFjaXR5IiwiY29vcmRzIiwiZXh0cmFDb29yZHMiLCJ6b25lMSIsIm1hcENvbnRhaW5lciIsInNldHVwVml6IiwiZnVsbFN0cnVjdHVyZSIsInNlY3Rpb25PYmoiLCJTY3JvbGxlclN0ZXAiLCJlbCIsImNhbGxiYWNrIiwiX2lzQWN0aXZhdGUiLCJzY3JvbGxEaXJlY3Rpb24iLCJjbGFzc0xpc3QiLCJhZGQiLCJpbml0U2Nyb2xsZXIiLCJlbGVtZW50cyIsInNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3RpY2t5Qml0cyIsInN0aWNreUJpdFN0aWNreU9mZnNldCIsIkxhenlMb2FkIiwiZWxlbWVudHNfc2VsZWN0b3IiLCJ0aHJlc2hvbGQiLCJQcm9taXNlIiwiYWxsIiwidjEiLCJjYWxsYmFja3MiLCJfb2Zmc2V0VG9wIiwiX29mZnNldEJvdHRvbSIsImlubmVySGVpZ2h0IiwiaXNJbml0aWFsaXplZCIsImxhc3RTY3JvbGwiLCJ2aXoiLCJ2aXNpYmxlU3RlcHMiLCJhcnRpY2xlUmVtaW5kZXIiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsUHJvZ3Jlc3MiLCJ2aXpTZWN0aW9ucyIsIkVycm9yIiwidml6U2VjdGlvbiIsInNlY3Rpb25zIiwiaiIsIl91cGRhdGUiLCJjdXJyZW50U2Nyb2xsIiwicGFnZVlPZmZzZXQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJib3VuZGluZ1JlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJkZWFjdGl2YXRlIiwiaXNBcnRpY2xlUmVtaW5kZXJEaXNwbGF5ZWQiLCJib3R0b20iLCJpc0FydGljbGVSZW1pbmRlcklzVmlzaWJsZSIsImNvbnRhaW5zIiwic2VjdGlvbiIsImFjdGl2YXRlIiwiX3VwZGF0ZVNjcm9sbFByb2dyZXNzIiwic2Nyb2xsZWQiLCJib2R5Iiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwicHVibGljSW50ZXJmYWNlIiwib2Zmc2V0VG9wIiwidW5kZWZpbmVkIiwib2Zmc2V0Qm90dG9tIiwic2Nyb2xsZXIiLCJSZW5kZXJTdHJ1Y3R1cmUiLCJyZW5kZXJlZCIsInJlbmRlcmVkRGF0YSIsImtleXMiLCJzZWN0aW9uS2V5IiwiaW5uZXJIVE1MIiwic3RydWN0dXJlIiwicGFja2FnZXMiLCJSZWFjdCIsImdvb2dsZV9jb25maWciLCJjcmVhdGVSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==