(self.webpackChunkscrollytelling_template=self.webpackChunkscrollytelling_template||[]).push([[179],{86702:(e,t,n)=>{"use strict";var r=n(40207),a=n(67294),c=n(25935);function o(e){var t=a.createElement("section",{className:"intro-section ".concat(e.classes)},a.createElement("h5",{className:"overTitle"},e.amorce),a.createElement("h1",null,(0,c.ZP)(e.optionData.title)),a.createElement("address",null,a.createElement("div",{className:"date"})));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},t):t}function i(e){var t,n=String(e.classes).includes("citation");n&&(t={text:String(e.texts).split("/")[0],author:String(e.texts).split("/")[1]});var r,o=String(e.classes).includes("bigNumber");o&&(r={number:String(e.texts).split("/")[0],underText:String(e.texts).split("/")[1]});var i=e.visual,s=""!==i?"Photo"===e.visual?a.createElement("img",{key:"photoTextSection_".concat(e.id),id:"photoTextSection_".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses),style:{paddingBottom:"1rem"}}):"Video"===e.visual?a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"videoTextSection_".concat(e.id),id:"videoTextSection_".concat(e.id)},a.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):a.createElement("div",null):a.createElement("div",null),l=a.createElement("section",{className:"text-section ".concat(e.classes)},n?a.createElement("blockquote",{className:"small"},a.createElement("div",null,a.createElement("p",null,a.createElement("b",null,(0,c.ZP)(t.text))),a.createElement("p",{className:"author"},t.author),a.createElement("div",{className:"symbol"}))):o?a.createElement("div",{className:"container-number"},a.createElement("div",{className:"numbers"},a.createElement("h2",null,r.number),a.createElement("small",null,r.underText))):a.createElement("div",null,i?s:a.createElement("div",null),String(e.texts).startsWith("<")?(0,c.ZP)(e.texts):a.createElement("p",null,(0,c.ZP)(e.texts))));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},l):l}var s,l=n(45697),u=n.n(l),m=["title","src"];function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t,n,r=e.title,c=e.src,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,m),i=(0,a.useRef)(),s=(t=(0,a.useState)(500),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1],f=(0,a.useCallback)((function(e){var t=e.data,n=void 0===t?{}:t;e.source===i.current.contentWindow&&"string"!=typeof n&&n["datawrapper-height"]}),[u,i]);return(0,a.useEffect)((function(){return window.addEventListener("message",f),function(){return window.removeEventListener("message",f)}}),[l,u,f]),a.createElement("iframe",p({ref:i,scrolling:"no",frameBorder:"0",width:"100%"},o,{title:r,src:c,height:l}))}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}f.propTypes={title:u().string.isRequired,src:u().string.isRequired,loading:u().oneOf(["eager","lazy"])};var g="intro-titre",h="pleine-page-titre",y="texte-classique",E="viz-section",b="centré",x="Photo",w="Video",S="Visualisation",P="iframe",N=(v(s={titre:"Titre",auteurs:"Auteurs",date:"Date"},"date","Date"),v(s,"urls","LienAuteurs"),v(s,"lienfichiersource","LienFichierSource"),s);function k(e){var t,n,r,o=a.createElement("section",{id:e.listID,className:e.classed},a.createElement("div",{className:"steps ".concat((t=e.steps,n=t.map((function(e,t){return e.stepclasses})),r=new Array(n.length),n.forEach((function(e,t){if(Array.isArray(e))e.forEach((function(e){for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)}));else if("string"==typeof e)for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)})),r.reduce((function(e,t){return e===t&&""!==e&&""!==t?e:""}))))},e.steps.map((function(e,t){var n,r=String(e.stepclasses).includes("citation");return r&&(n={text:String(e.text).split("/")[0],author:String(e.text).split("/")[1]}),a.createElement("section",{key:t,className:e.stepclasses},r?a.createElement("blockquote",{className:"small"},a.createElement("div",null,a.createElement("p",null,a.createElement("b",null,(0,c.ZP)(n.text))),a.createElement("p",{className:"author"},n.author),a.createElement("div",{className:"symbol"}))):String(e.text).startsWith("<")?(0,c.ZP)(e.text):a.createElement("p",null,e.text?(0,c.ZP)(e.text):""))}))),a.createElement("div",{className:"viz",id:"viz"},e.steps.map((function(t,n){return t.visual===x?a.createElement("img",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),src:"assets/img/675/".concat(t.filename),"data-srcset":"assets/img/2048/".concat(t.filename," 2048w, assets/img/990/").concat(t.filename," 990w, assets/img/675/").concat(t.filename," 675w, assets/img/1350/").concat(t.filename," 1350w, assets/img/100/").concat(t.filename," 100w, assets/img/495/").concat(t.filename," 495w, assets/img/1024/").concat(t.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(t.visuelclasses)}):t.visual===w?a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(t.visuelclasses),preload:"metadata",key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n)},a.createElement("source",{src:"assets/videos/".concat(t.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):t.visual===P?a.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer"},a.createElement(f,{title:"Mesures d'arsenic",src:"".concat(t.filename)})):t.visual===S?a.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer ".concat(t.visuelclasses)}):void 0}))));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},o):o}function I(e){var t=a.createElement("section",{className:"full-page-section ".concat(e.classes)},a.createElement("div",{className:"titleImage"},e.filename?"Photo"===e.visual?a.createElement("img",{key:"".concat(e.id),id:"".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses)}):"Video"===e.visual?a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"".concat(e.id),id:"".concat(e.id)},a.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):a.createElement("div",null):a.createElement("div",null),e.filename?a.createElement("div",{className:"filter"}):a.createElement("div",null)),a.createElement("div",{className:"captionholder"},a.createElement("h2",{className:"caption ".concat(e.mainTitle.class)},e.mainTitle.text),e.subTitle?a.createElement("h3",{className:"caption ".concat(e.subTitle.class)},e.subTitle.text):a.createElement("div",null)));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},t):t}n(93162);var T=n(38682);function C(e,t){var n={},r=[],a=O(t);return console.log("content Data",e),e.map((function(e,t){if(e.Section===g){var c=e.StepClasses,o=e.TEXTE,i=e.StyleFond;n[e.SectionID]={key:t,sectionType:g,optionData:a,amorce:o,background:i,classes:D(c),gameid:e.GameID}}else if(e.Section===y){var s=e.TEXTE,l=e.StepClasses,u=e.StyleFond;n[e.SectionID]={key:t,sectionType:y,texts:s,visual:e.VISUEL,filename:e.NomFichierSource,background:u,classes:D(l),visuelclasses:D(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===h){var m=e.TEXTE;A(e.TEXTE)&&(m=JSON.parse(e.TEXTE)),n[e.SectionID]={key:t,sectionType:h,texts:A(e.TEXTE)?m:{mainTitle:{class:"",text:m},subTitle:null},visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,classes:D(e.StepClasses),visuelclasses:D(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===E){var p={attributs:e.Attributs,scrollType:e.Step,text:e.TEXTE,visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,visuelclasses:D(e.VisuelClasses),stepclasses:D(e.StepClasses),gameid:e.GameID};if(n.hasOwnProperty(e.SectionID)){var d=n[e.SectionID];d.push(p),n[e.SectionID]=d}else n[e.SectionID]=[p],r.push(e.SectionID)}})),r.map((function(e){var t=n[e],r=t[0].attributs===b?" full-page":"",a=t[0].background;n[e]={key:e,sectionType:E,listID:e,steps:t,classed:"viz-section".concat(r),mediaInfo:0,background:a}})),Object.values(n)}function _(e,t){var n=C(e,t),r=[];return n.map((function(e){if("viz-section"===e.sectionType){var t=[];e.steps.map((function(n,r){var a=function(){};if(""!==n.visual){var c=Array(e.steps.length).fill(null).map((function(e,t){return t})).filter((function(e){return e!==r})).map((function(t){return"#".concat(e.key,"_").concat(t)})).join(",");a=function(){T.Ys("#".concat(e.key,"_").concat(r)).transition().style("opacity",1).style("display",null),""!==c&&T.td_("".concat(c)).transition().style("opacity",0).style("display","none")}}else if(String(n.filename).startsWith("TAGID")){var o=String(n.filename).split("=")[1],i=parseInt(o.split("_")[1]),s=Array(e.steps.length).fill(null).map((function(e,t){return t})).filter((function(e){return e!==i})).map((function(t){return"#".concat(e.key,"_").concat(t)})).join(",");a=function(){T.Ys("#".concat(o)).transition().style("opacity",1).style("display",null),""!==s&&T.td_("".concat(s)).transition().style("opacity",0).style("display","none")}}t.push(a)})),r.push(t)}})),r}function A(e){try{JSON.parse(e)}catch(e){return!1}return!0}function D(e){return Array.from(e.split(";")).join(" ")}function O(e){return{title:e[0][N.titre],authors:e[0][N.auteurs],urls:e[0][N.urls],date:e[0][N.date]}}n(9208);n(83731).accessToken="pk.eyJ1IjoibGVkZXZvaXIiLCJhIjoiY2p2bW81dHU2MWV1cTRhcXIzaXZqMGYxciJ9.WrIF8o69aR_TstDFu6Qyag",n(6899);var j=n(20745);function R(e){var t;return(0,a.useEffect)((function(){T.Ys(".gauges").selectAll(".gauge").nodes().forEach((function(t){var n=50;"dollars"===T.Ys(t).attr("id")&&(n=e.dollars);var r=n>0?Math.round(e.committed/50*100):0,a=n>0?Math.round(n/50*100):0;T.Ys(t).select(".gaugeColorHolder").select(".committed").style("width","".concat(r,"%")),T.Ys(t).select(".gaugeColor").style("width","".concat(a,"%"))}))})),a.createElement("div",{className:"gauges"},a.createElement("div",{id:"dollars",className:"gauge dollarGauge"},a.createElement("div",{className:"gaugeColorHolder ".concat(e.dollars<0?"red":"")},a.createElement("div",{className:"gaugeColor ".concat(e.dollars<0?"red":"blue")}),0!=e.committed?a.createElement("div",{className:"committed ".concat(e.dollars<0?"red":"blue")}):"",a.createElement("div",{className:"value"},a.createElement("p",null,a.createElement("b",null,"Budget")," • ",(0,c.ZP)((t=e.dollars,Math.abs(t)>1?"".concat(t,"&nbsp;jetons"):"".concat(t,"&nbsp;jeton"))))))))}function M(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){M(c,r,a,o,i,"next",e)}function i(e){M(c,r,a,o,i,"throw",e)}o(void 0)}))}}function V(e){var t=(0,a.useCallback)(z(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("starting game"),e.gameStart();case 2:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"gameBox transparent"},a.createElement("div",{className:"introBox"},e.introElem),a.createElement("div",{className:"userBox"},a.createElement("div",{className:"startbutton",onClick:t},a.createElement("p",null,"Commencer le jeu"))))}function Y(e){return a.createElement("div",{className:"monitoring"},a.createElement("div",{className:"monitoring_content"},a.createElement("div",{className:"column"},a.createElement("div",{className:"monitoring_value"},a.createElement(R,{dollars:e.dollars,committed:e.committed})))),e.terawatts||0===e.terawatts?a.createElement("div",{className:"monitoring_content"},a.createElement("div",{className:"column"},a.createElement("div",{className:"monitoring_header"},a.createElement("h5",null,a.createElement("b",null,"Électricité produite")," • ",e.terawatts," TWh")))):a.createElement("div",null))}function L(e){return e.split("_").slice(1).map((function(e){return parseInt(e)}))}n(97762);var Z=function(e){return 0===parseInt(e)?"":parseInt(e)<0?"-":"+"};function B(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){B(c,r,a,o,i,"next",e)}function i(e){B(c,r,a,o,i,"throw",e)}o(void 0)}))}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e){var t,n,r=(t=(0,a.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];(0,a.useEffect)((function(){}),[]),(0,a.useEffect)((function(){T.td_(".choicebutton").select(".butn").classed("selected",!1),o&&T.Ys(o.obj).select(".butn").classed("selected",!0)}),[o]);var s=(0,a.useCallback)(function(){var t=q(regeneratorRuntime.mark((function t(n,r,a){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=String(e.curPrompt.Trigger_next).split(";")).length>1?e.changePrompt(String(c[a]).replace(/(\r\n|\n|\r)/gm,"")):e.changePrompt(String(c[0]).replace(/(\r\n|\n|\r)/gm,"")),e.updateDollars(parseInt(n)),e.updatePerformance(r),i(null);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()),l=(0,a.useCallback)(q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),i(null);case 2:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"choices"},a.createElement("div",{className:"row"},e.choices.map((function(t,n){var r,s=e.choices_values[n].split("_")[0],l=L(e.choices_values[n]);return a.createElement("div",{className:"choicebutton",key:n,onClick:function(e){!function(e,t,n,r){i({obj:e.target,cost:parseInt(t),performance:n,index:r})}(e,s,l,n)}},a.createElement("div",{id:n,className:"butn"},a.createElement("div",{className:"holder icon"},a.createElement("img",{src:o&&o.index===n?"./assets/img/Off.svg":"./assets/img/On.svg"})),a.createElement("div",{className:"holder label"},a.createElement("h4",null,t),e.choices_values.map((function(e,t){return parseInt(e.split("_")[0])})).filter((function(e){return!Number.isNaN(e)})).every((function(e){return 0===e}))?"":a.createElement("p",null,(0,c.ZP)((r=s,Math.abs(r)>1?"".concat(Z(r)).concat(Math.abs(r),"&nbsp;JETONS"):"".concat(Z(r)).concat(Math.abs(r),"&nbsp;JETON")))))))}))),a.createElement(Y,{showTWh:!1,dollars:o&&o.hasOwnProperty("cost")?parseInt(e.gauges.props.dollars)+parseInt(o.cost):e.gauges.props.dollars,committed:o&&o.hasOwnProperty("cost")&&parseInt(o.cost)<0?Math.abs(o.cost):0,performance:e.gauges.props.performance}),a.createElement("div",{className:"row"},a.createElement("div",{className:"column"},e.curIndex>0?a.createElement("div",{className:"actionbutton prev",onClick:l},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))):a.createElement("div",null)),a.createElement("div",{className:"column"},a.createElement("div",{className:"actionbutton next ".concat(o?"":"disabled"),onClick:function(){o?s(o.cost,o.performance,o.index):console.log("Disabled.")}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))))}function W(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){W(c,r,a,o,i,"next",e)}function i(e){W(c,r,a,o,i,"throw",e)}o(void 0)}))}}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e){var t=F((0,a.useState)([]),2),n=t[0],r=t[1];(0,a.useEffect)((function(){o()}),[]),(0,a.useEffect)((function(){}),[n]);var o=function(){r(e.choices.map((function(e){return null})))},i=function(e){var t=e.reduce((function(e,t){return t&&(e+=t.cost),e}),0),n=[0,0,0];return e.forEach((function(e,t){e&&(n=n.map((function(t,n){return parseInt(t)+parseInt(e.performance[n])})))})),[t,n]},s=(0,a.useCallback)(function(){var t=X(regeneratorRuntime.mark((function t(n){var r,a,c,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.curPrompt.Trigger_next,e.changePrompt(u(r)),a=i(n),c=F(a,2),s=c[0],l=c[1],e.updateDollars(parseInt(s)),e.updatePerformance(l),o();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),l=(0,a.useCallback)(X(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),o();case 2:case"end":return t.stop()}}),t)})))),u=function(e){var t,r=String(e).split("_"),a=String(r[0]).split(";"),c=n.filter((function(e){return null!==e}));return t=r.length>1&&c.length>0?c.length>1?String(r[1]):String(a[n.indexOf(c[0])]):String(r[0]),console.log("checking chosenString:",t),t.replace(/(\r\n|\n|\r)/gm,"")};return a.createElement("div",{className:"choices"},a.createElement("div",{className:"row"},e.choices.map((function(t,o){var i,s=e.choices_values[o].split("_")[0],l=L(e.choices_values[o]);return a.createElement("div",{className:"selectionbutton",key:o,onClick:function(e){!function(e,t,a,c){var o,i=function(e){if(Array.isArray(e))return J(e)}(o=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||G(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();n[t]?i[t]=null:i[t]={obj:e.target,cost:parseInt(a),performance:c},r(i)}(e,o,s,l)}},a.createElement("div",{id:o,className:"butn"},a.createElement("div",{className:"holder selectionBox ".concat(n[o]?"selected":"")},a.createElement("div",null,a.createElement("p",null,"+"))),a.createElement("div",{className:"holder label"},a.createElement("h4",null,t),e.choices_values.map((function(e,t){return parseInt(e.split("_")[0])})).filter((function(e){return!Number.isNaN(e)})).every((function(e){return 0===e}))?"":a.createElement("p",null,(0,c.ZP)((i=s,Math.abs(i)>1?"".concat(Z(i)).concat(Math.abs(i),"&nbsp;JETONS"):"".concat(Z(i)).concat(Math.abs(i),"&nbsp;JETON")))))))}))),a.createElement(Y,{showTWh:!1,dollars:n&&n.length>0?parseInt(e.gauges.props.dollars)+parseInt(i(n)[0]):e.gauges.props.dollars,committed:n&&n.length>0&&parseInt(i(n)[0])<0?Math.abs(parseInt(i(n)[0])):0}),a.createElement("div",{className:"row"},a.createElement("div",{className:"column"},e.curIndex>0?a.createElement("div",{className:"actionbutton prev",onClick:l},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))):a.createElement("div",null)),a.createElement("div",{className:"column"},a.createElement("div",{className:"actionbutton next ".concat(n?"":"disabled"),onClick:function(){n?s(n):console.log("Disabled.")}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))))}function Q(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){Q(c,r,a,o,i,"next",e)}function i(e){Q(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ee(e){var t=(0,a.useCallback)(K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),n=(0,a.useCallback)(K(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)})))),r=(0,a.useCallback)(K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.gameReset();case 1:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"printprompt"},a.createElement("div",{className:"message"},a.createElement("p",null,e.message)),a.createElement("div",{className:"actionbutton prev",onClick:t},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))),"STARTOVER"===e.curPrompt.Trigger_next?a.createElement("div",{className:"actionbutton next",onClick:r},a.createElement("div",{className:"butn"},a.createElement("p",null,"Recommencer"))):a.createElement("div",{className:"actionbutton next",onClick:n},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}function te(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ne(c,r,a,o,i,"next",e)}function i(e){ne(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e){var t=ae((0,a.useState)(0),2),n=t[0],r=t[1],o=ae((0,a.useState)(0),2),i=o[0],s=o[1],l=ae((0,a.useState)([0,0]),2),u=l[0],m=l[1],p=ae((0,a.useState)([]),2),d=p[0],f=p[1],v=ae((0,a.useState)([]),2),g=v[0],h=v[1];(0,a.useEffect)((function(){var e=w(),t=e.map((function(){return 0})),n=e.map((function(e){return Math.abs(e.unitValue)}));f(t),h(n)}),[]),(0,a.useEffect)((function(){var e=d.reduce((function(e,t,n){return w()[n],e+Math.abs(t)}),0),t=d.reduce((function(e,t,n){var r=w()[n];return e+Math.round(Math.abs(t/r.unitValue)*r.unitTWhvalue)}),0),n=[0,0];d.forEach((function(e,t){var r=w()[t];n=n.map((function(t,n){return 0===n?t+e/r.unitValue*r.unitEnvirovalue:1===n?t+e/r.unitValue*r.unitPopuvalue:void 0}))})),r(e),s(t),m(n)}),[d]);var y=(0,a.useCallback)(re(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),E=(0,a.useCallback)(re(regeneratorRuntime.mark((function t(){var r,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=String(e.curPrompt.Trigger_next).split("_"),1==(a=String(r[0]).split(";")).length?e.changePrompt(String(a).replace(/(\r\n|\n|\r)/gm,"")):a.length>1&&(console.log("checking non unique:",b(d)),b(d)?e.changePrompt(N(a,r[1])):(c=d.reduce((function(e,t,n,r){return t>r[e]?n:e}),0),e.changePrompt(String(a[c]).replace(/(\r\n|\n|\r)/gm,"")))),d[4]>0&&e.updateMemoryObj("investedModernization",!0),e.updateDollars(-n),e.updatePerformance([i].concat(u));case 6:case"end":return t.stop()}}),t)})))),b=function(e){return new Set(e).size!==e.length},x=function(e,t){var n=t.split("_");return{name:e,unitValue:parseInt(n[0]),unitTWhvalue:parseInt(n[1]),unitEnvirovalue:parseInt(n[2]),unitPopuvalue:parseInt(n[3])}},w=function(){return e.choices.map((function(t,n){return x(t,e.choices_values[n])}))},S=function(e){var t=w()[e],r=[!1,!1];return 0===Math.abs(d[e])&&(r[0]=!0),n+parseInt(Math.abs(t.unitValue))>25&&(r[1]=!0),r},P=function(e,t,n,r){var a,c,o=te(d);o[t]+n*g[t]>=0&&(n>0?(a=n*g[t],c=0,d.forEach((function(e,t){c+=e})),c+a>25||(o[t]=o[t]+n*g[t])):o[t]=o[t]+n*g[t],f(o))},N=function(e,t){var n,r=Math.max.apply(Math,te(d)),a=[];return d.forEach((function(e,t){return e===r?a.push(t):null})),a.length>1?a.includes(0)?(console.log("equal max units contains barrages"),n=String(e[0])):a.includes(1)?(console.log("equal max units contains eoliens"),n=String(e[1])):(console.log("equality between non important choices"),n=String(t)):n=String(e[a[0]]),n.replace(/(\r\n|\n|\r)/gm,"")};return a.createElement("div",{className:"repartition"},a.createElement("div",{className:"optionZone"},e.choices.map((function(t,n){return x(t,e.choices_values[n])})).map((function(e,t){return a.createElement("div",{className:"optionUnit",key:t},a.createElement("div",{className:"selectorZone"},a.createElement("div",{className:"division minusZone ".concat(S(t)[0]?"disabled":""),onClick:function(e){return P(0,t,-1)}},a.createElement("h3",null,"-")),a.createElement("div",{className:"division centralZone"},void 0===d[t]||0===d[t]?a.createElement("img",{src:"assets/img/".concat((r=t,["Hydro.svg","Eolien.svg","Nucleaire.svg","Solaire.svg","Modernisation.svg"][r]))}):a.createElement("h3",null,d[t])),a.createElement("div",{className:"division plusZone ".concat(S(t)[1]?"disabled":""),onClick:function(e){return P(0,t,1)}},a.createElement("h3",null,"+"))),a.createElement("div",{className:"textZone"},a.createElement("h3",null,e.name),a.createElement("div",{className:"inlinetext"},a.createElement("p",null,(0,c.ZP)((n=e.unitValue,Math.abs(n)>1?"".concat(Math.abs(n),"&nbsp;jetons"):"".concat(Math.abs(n),"&nbsp;jeton")))," • ",e.unitTWhvalue," TWh"))));var n,r}))),a.createElement(Y,{showTWh:!0,dollars:e.gauges.props.dollars-n,committed:n,terawatts:i}),e.curIndex>0?a.createElement("div",{className:"actionbutton prev",onClick:y},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))):a.createElement("div",null),a.createElement("div",{className:"actionbutton next ".concat(n>0?"":"disabled"),onClick:E},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}var se=n(83290);function le(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){le(c,r,a,o,i,"next",e)}function i(e){le(c,r,a,o,i,"throw",e)}o(void 0)}))}}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e){var t=me((0,a.useState)(null),2),n=t[0],r=t[1];(0,a.useEffect)((function(){o()}),[]),(0,a.useEffect)((function(){n?T.Ys(".popUp-bg").style("display","unset"):T.Ys(".popUp-bg").style("display","none")}),[n]);var c=(0,se.Z)().attr("class","d3-tip adjusted").direction("n").html((function(e){return console.log("got d: ",e),"\n                  <h4>".concat(e.title,"</h4>\n                  <p>").concat(e.supp_text,"</p>\n                  ")})),o=function(){Promise.all([T.LsS(e.map[0]),T.LsS(e.map[1])]).then((function(t){var n=me(t,2),r=n[0],a=n[1];T.Ys("#bg-map").node().append(r.documentElement),T.Ys("#on-icons").node().append(a.documentElement);var o=T.Ys("#on-icons").select("svg");o.call(c),T.Ys(".gameScreen").node().appendChild(T.Ys(".d3-tip").node());var s=o.select("#Icone-On").selectAll("g"),l=String(e.curPrompt.Choix).split(";"),u=String(e.message).split(";");s.nodes().reverse().map((function(e,t){var n={title:l[t],supp_text:u[t]};T.Ys(e).on("click",(function(t,r,a){t.stopPropagation(),c.show(n,e),i(t.target.parentElement,!1)})).on("mouseover",(function(t,r,a){console.log("checking d: ",t.target.parentElement),t.stopPropagation(),c.show(n,e),i(t.target.parentElement,!1)})).on("mouseout",(function(t,n,r){c.hide(e),i(t.target.parentElement,!0)}))})),T.Ys(".gameBox").on("click",(function(){c.hide()}))}))},i=function(e,t){!1===t?T.Ys(e).style("opacity",0):T.Ys(e).style("opacity",1)},s=(0,a.useCallback)(ue(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),l=(0,a.useCallback)(ue(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"printprompt mapnavigator"},a.createElement("div",{className:"popUp-bg"},n?a.createElement("div",{className:"popUp-box"},a.createElement("h4",null,n.title),a.createElement("p",null,n.supp_text),a.createElement("div",{className:"actionbutton",onClick:function(){return r(null)}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Fermer")))):a.createElement("div",null)),a.createElement("div",{className:"mapHolder"},a.createElement("div",{className:"superposedMap"},a.createElement("div",{id:"bg-map",className:"map noClick"}),a.createElement("div",{id:"on-icons",className:"map"}))),a.createElement("div",{className:"actionbutton prev",onClick:s},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))),a.createElement("div",{className:"actionbutton next",onClick:l},a.createElement("div",{className:"butn"},a.createElement("p",null,"Suivant"))))}function fe(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){fe(c,r,a,o,i,"next",e)}function i(e){fe(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ge(e){(0,a.useEffect)((function(){console.log("got bilan : ",e.curPrompt)}),[]);var t,n,r,o,i=(0,a.useCallback)(ve(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"bilanContent"},a.createElement("div",{className:"updatableText"},(t=e.curPrompt.Texte.split(";"),n=e.curPrompt.Texte_Supp.split(";"),r=[],o=t[0].replace("*newProd*",e.performance[0]),r.push(o),n[0],n[1],n[2],n[3],r).map((function(e,t){return a.createElement("p",{key:t},(0,c.ZP)(e))}))),a.createElement("div",{className:"actionbutton next",onClick:i},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}function he(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){he(c,r,a,o,i,"next",e)}function i(e){he(c,r,a,o,i,"throw",e)}o(void 0)}))}}function Ee(e){var t=(0,a.useCallback)(ye(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("RESETING GAME"),e.gameReset();case 2:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"promptBox"},a.createElement("div",{className:"header"},a.createElement("div",{className:"surtitre"},a.createElement("h4",null,"Fin du jeu")),a.createElement("div",{className:"question"},a.createElement("p",null,"(reformuler) Le jeu a pris fin à cause de : ","".concat(e.raison)))),a.createElement("div",{className:"actionSection"},a.createElement("div",{className:"actionbutton next",onClick:t},a.createElement("div",{className:"butn"},a.createElement("p",null,"Recommencer")))))}function be(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){be(c,r,a,o,i,"next",e)}function i(e){be(c,r,a,o,i,"throw",e)}o(void 0)}))}}function we(e){var t=(0,a.useCallback)(xe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),n=(0,a.useCallback)(function(){var t=xe(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",a),e.changePrompt(a),e.updateDollars(parseInt(n)),e.updatePerformance(r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),r=function(e){var t=String(e).split("_");return{cost:t[0],performance:t.splice(1)}};return a.createElement("div",{className:"printprompt"},a.createElement("div",{className:"message"},a.createElement("p",null,e.choices[e.whichEventHappens])),a.createElement("div",{className:"actionbutton prev",onClick:t},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))),a.createElement("div",{className:"actionbutton next",onClick:function(){return n(r(e.choices_values[e.whichEventHappens]).cost,r(e.choices_values[e.whichEventHappens]).performance)}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ke(c,r,a,o,i,"next",e)}function i(e){ke(c,r,a,o,i,"throw",e)}o(void 0)}))}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e){var t,n,r=(t=(0,a.useState)({investedModernization:!1,builtDam:!1}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];(0,a.useEffect)((function(){}),[]);var s,l=(0,a.useCallback)(Ie(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({investedModernization:!1,builtDam:!1}),e.gameReset();case 2:case"end":return t.stop()}}),t)})))),u=(0,a.useCallback)(function(){var t=Ie(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Changing prompt for : ",n),e.changePrompt(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),m=(0,a.useCallback)(function(){var t=Ie(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Number.isInteger(n)&&e.updateDollars(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),p=(0,a.useCallback)(function(){var t=Ie(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updatePerformance(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),d=(0,a.useCallback)(function(){var e=Ie(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=Pe({},o))[t]=n,i(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=function(t){switch(t){case"Repartition":return a.createElement(ie,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p,updateMemoryObj:d,gauges:e.gauges});case"Carte":return a.createElement(de,{curPrompt:e.curPrompt,message:String(e.curPrompt.Texte_Supp),changePrompt:u,curIndex:e.curIndex,map:"Q1-1"===e.curIndex?["assets/img/Carte-Hydro.svg","assets/img/Carte-Hydro-icone-on.svg"]:["assets/img/Carte-Eolien.svg","assets/img/Carte-Eolien-icone-on.svg"]});case"texteBoutonSimple":return a.createElement(ee,{curPrompt:e.curPrompt,message:String(e.curPrompt.Texte_Supp),changePrompt:u,curIndex:e.curIndex,gameReset:l});case"ChoixReponse":return a.createElement(H,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p,gauges:e.gauges});case"Catastrophe":return a.createElement(we,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),whichEventHappens:o.investedModernization?1:0,changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p});case"MultiSelection":return a.createElement($,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p,gauges:e.gauges});case"Bilan":return a.createElement(ge,{curPrompt:e.curPrompt,curIndex:e.curIndex,changePrompt:u,updateDollars:m,updatePerformance:p,performance:e.performance,memoryObj:o});default:return a.createElement(H,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),changePrompt:u,curIndex:e.curIndex})}};return!0===e.endGame?a.createElement("div",{className:"gameBox"},a.createElement(Ee,{raison:(s=[],console.log("checking reason processing:",e.gauges.props.dollars,e.performance),e.gauges.props.dollars<0&&s.push("Vous n'avez plus d'argent."),e.performance[0]<0&&s.push("Vous avez gâché le parc de production électrique d'Hydro-Québec."),e.performance[1]<0&&s.push("Votre bilan environnemental est excécrable."),e.performance[2]<0&&s.push("La fureur populaire a eu raison de votre poste."),s),gameReset:l})):a.createElement("div",{className:"gameBox"},"Bilan"===e.curPrompt.Type?a.createElement("div",{className:"promptBox bilan"},a.createElement("div",{className:"header"},a.createElement("div",{className:"massiveTitle"},a.createElement("h2",null,(0,c.ZP)(e.curPrompt.Sujet)))),a.createElement("div",{className:"separator"}),f(e.curPrompt.Type)):a.createElement("div",{className:"promptBox"},a.createElement("div",{className:"header"},a.createElement("div",{className:"surtitre"},a.createElement("h4",null,(0,c.ZP)(e.curPrompt.Sujet))),a.createElement("div",{className:"question"},a.createElement("p",null,(0,c.ZP)(e.curPrompt.Texte)))),f(e.curPrompt.Type)))}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e){var t=_e((0,a.useState)("IDLE"),2),n=t[0],r=t[1],c=_e((0,a.useState)(0),2),o=c[0],i=c[1],s=_e((0,a.useState)(50),2),l=s[0],u=s[1],m=_e((0,a.useState)([0,0,0]),2),p=m[0],d=m[1],f=_e((0,a.useState)("normal"),2),v=f[0],g=f[1];(0,a.useEffect)((function(){console.log("game ",n)}),[n]),(0,a.useEffect)((function(){E(o),"END"===o&&y()}),[o]);var h=function(){r("STARTED"),i(0)},y=function(){r("END")},E=function(t){console.log("current game prompt:",e.gameData.filter((function(e){return String(e.ID)===String(t)})))},b=function(t){return e.gameData.findIndex((function(e){return String(t)===String(e.ID)}))};(0,a.useEffect)((function(){var t=e.gameData[b(o)];t&&t.hasOwnProperty("Type")&&("Catastrophe"===t.Type?g("redpink"):"normal"!==v&&g("normal"))}));var x=function(){var t="END"===n||"END"===o||"redpink"===v?"gameOver":"",r=e.gameData[b(o)];return{gameScreenClass:t,backgroundImage:r?"pylone"===r.Background?"Illus_Section-01_Pylone_V01-14.svg":"ampoule"===r.Background?"Illus_Section-02_Ampoule_V02.svg":"centrale"===r.Background?"Illus_Section-00_Centrale_V01.svg":null:null}};return"IDLE"===n?a.createElement("div",{className:"gameScreen"},a.createElement("div",{className:"background-image"},a.createElement("img",{src:"assets/img/Illus_Section-00_Centrale_V01.svg"})),a.createElement(V,{introElem:e.introElem,mapObj:e.mapObj,gameStart:h})):a.createElement("div",{className:"gameScreen ".concat(x().gameScreenClass)},null!==x().backgroundImage?a.createElement("div",{className:"background-image"},a.createElement("img",{src:"assets/img/".concat(x().backgroundImage),className:"no-mobile"})):"",a.createElement("div",{className:"temporaryInfo"},a.createElement("p",null,"Performance (temporaire)"),a.createElement("p",null,"Dollars: ","".concat(l," $")),a.createElement("p",null,"Elec: ","".concat(p[0]," TWh")),a.createElement("p",null,"Enviro: ","".concat(p[1]," pts")),a.createElement("p",null,"Popu: ","".concat(p[2]," pts"))),a.createElement(Ce,{curIndex:o,curPrompt:"END"===o?"":e.gameData[b(o)],changePrompt:i,updateDollars:function(e){u((function(t){return t+e})),l+e<0&&y()},updatePerformance:function(e){var t=Array.apply(null,Array(e.length)).map((function(){}));p.forEach((function(n,r){e[r],t[r]=parseInt(n)+parseInt(e[r])})),console.log("Setting performance to : ",t),d(t)},gauges:a.createElement(R,{dollars:l}),performance:p,endGame:"END"===o||"END"===n,gameReset:function(){u(50),d([0,0,0]),h()}}))}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t;var c=this.container.append("div").classed("rootElem",!0);this.engineRoot=j.createRoot(c.node()),this.optionData=n,this.amorce=r.TEXTE,this.gameData=a,console.log("game Data is : ",this.gameData),this.initEngine()}var t,n;return t=e,(n=[{key:"initEngine",value:function(){var e=a.createElement(o,{key:"gameIntro",sectionType:g,optionData:this.optionData,amorce:this.amorce,background:null,classes:""});this.engineRoot.render(a.createElement(De,{introElem:e,gameStatus:this.gameStatus,gameData:this.gameData}))}}])&&Oe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Re(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){Re(c,r,a,o,i,"next",e)}function i(e){Re(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ze(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Me(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.gyn("https://docs.google.com/spreadsheets/d/e/2PACX-1vQQZ3sz0q1vnZmoYYR5IrCfuONhHcNw50iDtbg1H2mIX8lHDL1BQ4sAMi7iApSE1G9WQTW2jHcWv4KW/pub?gid=1497861017&single=true&output=csv").then((function(e){var r=T.Ys(".game-area");return new je(r,O(n),t[0],e),Ye(t,n),_(t,n),[[function(){}]]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e,t){var n=C(e,t);console.log("checking structure:",n),n.map((function(e){"viz-section"===e.sectionType&&e.steps.map((function(t,n){""!==t.visual&&(0===n?T.Ys("#".concat(e.key,"_").concat(n)).style("opacity",1):T.Ys("#".concat(e.key,"_").concat(n)).style("opacity",0))}))}))}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Be=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.index=n,this.callback=r,this._isActivate=!1}var t,n;return t=e,(n=[{key:"activate",value:function(e){this._isActivate||(this._isActivate=!0,this.el.classList.add("active"),this.callback(e))}},{key:"deactivate",value:function(){this._isActivate&&(this._isActivate=!1,this.el.classList.remove("active"))}}])&&Ze(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),qe=n(52732),Ue=n.n(qe),He=n(89438);function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t){var n=[];[".viz",".full-page-section > img",".full-page-section > video"].forEach((function(e){n=n.concat(Array.from(document.querySelectorAll(e)))})),(0,He.Z)(n,{stickyBitStickyOffset:40}),new(Ue())({elements_selector:".lazy",threshold:500}),Promise.all([ze(e,t)]).then((function(e){var t,n;(function(e){var t=0,n=0,r=window.innerHeight,a=!1,c=0,o=[],i=[],s=[],l=document.querySelector(".article-reminder"),u=document.querySelector("header > .progress"),m=document.querySelector(".intro-section h1"),p=document.querySelectorAll(".viz-section");if(p.length!==e.length)throw new Error("The number of viz sections (".concat(p.length,") mismatch with the length of the first ")+"dimension of the callbacks array (".concat(e.length,"). Please, be sure that the two elements ")+"have the same size.");p.forEach((function(t,n){var r,a=function(e){if(Array.isArray(e))return Le(e)}(r=t.querySelectorAll("section"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();if(a.length!==e[n].length)throw new Error("The number of steps (".concat(a.length,") in the viz section #").concat(n+1," mismatch with the ")+"number of callbacks specified (".concat(e[n].length,') at the index "').concat(n,'". Please, be sure that the two ')+"elements have the same size.");o=o.concat(a.map((function(t,r){return new Be(t,"".concat(n,"-").concat(r),e[n][r])}))),i=i.concat(i,t.querySelector(".viz > *"))}));var d=function(){var e=window.pageYOffset||document.documentElement.scrollTop;o.forEach((function(e){var a=e.el.getBoundingClientRect();r-a.top-n>0&&a.top+a.height-t>0?s.push(e):e.deactivate()}));var a=m.getBoundingClientRect().bottom<=0,i=l.classList.contains("visible");a&&!i?l.classList.add("visible"):!a&&i&&l.classList.remove("visible"),s.forEach((function(t,n){e>=c?n===s.length-1?t.activate("down"):t.deactivate():0===n?t.activate("up"):t.deactivate()})),f(),s=[],c=e},f=function(){var e=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;u.style.width=e+"%"},v={initialize:function(){if(a)throw new Error("The scroller is already initialized.");return a=!0,window.addEventListener("scroll",d),window.addEventListener("resize",(function(){r=window.innerHeight,f()})),(window.pageYOffset||document.documentElement.scrollTop)>0&&d(),f(),v},offsetTop:function(e){if(void 0===e)return t;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return t=e,v},offsetBottom:function(e){if(void 0===e)return n;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return n=e,v}};return v})((t=e,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]).offsetTop(40).offsetBottom(0).initialize()}))}function Fe(e){return e.rendered&&(0,a.useEffect)((function(){Xe(e.contentData,e.paramsData)}),[]),t=C(e.contentData,e.paramsData),n={},Object.keys(t).map((function(e,r){var s=t[e];s.sectionType===g?n[e]=a.createElement(o,{key:s.key,sectionType:s.sectionType,optionData:s.optionData,amorce:(0,c.ZP)(s.amorce),background:s.background,classes:s.classes}):s.sectionType===y?n[e]=a.createElement(i,{key:s.key,id:s.key,sectionType:s.sectionType,texts:s.texts,background:s.background,classes:s.classes,visuelclasses:s.visuelclasses,visual:s.visual,filename:s.filename}):s.sectionType===h?n[e]=a.createElement(I,{key:s.key,id:s.key,sectionType:s.sectionType,background:s.background,classes:s.classes,visuelclasses:s.visuelclasses,visual:s.visual,mainTitle:s.texts.mainTitle,subTitle:s.texts.subTitle,filename:s.filename}):s.sectionType===E&&(n[e]=a.createElement(k,{key:s.key,listID:s.listID,steps:s.steps,classed:s.classed,mediaInfo:s.mediaInfo,background:s.background}))})),Object.values(n);var t,n}Promise.all([Promise.resolve().then(n.t.bind(n,20745,19)),Promise.resolve().then(n.t.bind(n,97762,19)),Promise.resolve().then(n.t.bind(n,67294,19))]).then((function(e){var t=e[0],n=(e[1],e[2]);T.Ys(".pull-right").insert("li","li").html("<p class='not-published'>Ne pas publier</p>"),T.gyn(r.google_config.contentURL).then((function(e){T.gyn(r.google_config.paramsURL).then((function(r){t.createRoot(document.getElementById("root")).render(n.createElement(Fe,{contentData:e,paramsData:r,rendered:!0})),document.querySelector("#footerContainer").innerHTML=T.Ys("#footerContent").node().innerHTML}))}))}))},40207:e=>{e.exports={google_config:{contentURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=0&single=true&output=csv",paramsURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=409950237&single=true&output=csv",localContentURL:"./data/structure/contentData.csv",localParamsURL:"./data/structure/paramsData.csv"}}}},e=>{var t=t=>e(e.s=t);e.O(0,[216],(()=>(t(28594),t(35666),t(86702)))),e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bnRyb1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2NvbXBvbmVudHMvVGV4dFNlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2NvbXBvbmVudHMvRFdDaGFydC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2VuZXJhdG9yL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvY29tcG9uZW50cy9WaXpTZWN0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9jb21wb25lbnRzL0Z1bGxQYWdlU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2VuZXJhdG9yL3N0cnVjdHVyZUdlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uLi9sZWRldm9pci1kYXRhdml6L3NyYy9tYXBzL2ludGVyYWN0aXZlLW1hcC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uLi9sZWRldm9pci1kYXRhdml6L3NyYy9ncmFwaHMvc3RhY2tlZEFyZWFDaGFydC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL2dhdWdlcy9HYXVnZXMuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9pbnRyb0JveC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL2dhdWdlcy9Nb25pdG9yaW5nLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC91dGlscy5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvQ2hvaWNlLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9NdWx0aVNlbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvUHJpbnRQcm9tcHQuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL1JlcGFydGl0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9NYXBOYXZpZ2F0b3IuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL0JpbGFuLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9FbmRHYW1lLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9DYXRhc3Ryb3BoZS5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL1Byb21wdEJveC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL21haW5mcmFtZS5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9lbmdpbmUuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL3Zpei5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvc2Nyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dlbmVyYXRvci9pbml0U2Nyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dlbmVyYXRvci9SZW5kZXJTdHJ1Y3R1cmUuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2FwcC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9kYXRhL2dvb2dsZV9jb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gSW50cm9TZWN0aW9uKHByb3BzKXtcblxuXG4gICAgbGV0IGludHJvU2VjdGlvbk9iaiA9IChcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtgaW50cm8tc2VjdGlvbiAke3Byb3BzLmNsYXNzZXN9YH0+XG4gICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwib3ZlclRpdGxlXCI+XG4gICAgICAgICAgICAgIHtwcm9wcy5hbW9yY2V9XG4gICAgICAgICAgICA8L2g1PlxuICAgICAgICAgICAgPGgxPntwYXJzZShwcm9wcy5vcHRpb25EYXRhLnRpdGxlKX08L2gxPlxuICAgICAgICAgICAgPGFkZHJlc3M+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkYXRlXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2FkZHJlc3M+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICApO1xuICAgIGxldCBjb250YWluZWRPYmogPSBwcm9wcy5iYWNrZ3JvdW5kID9cbiAgICAgICAgKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogYCR7cHJvcHMuYmFja2dyb3VuZH1gfX0gY2xhc3NOYW1lPXtcInNlY3Rpb25Db250YWluZXJcIn0+XG4gICAgICAgICAgICAgICAge2ludHJvU2VjdGlvbk9ian1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICAgIDpcbiAgICAgICAgKFxuICAgICAgICAgICAgaW50cm9TZWN0aW9uT2JqXG4gICAgICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICAgIGNvbnRhaW5lZE9ialxuICAgIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFRleHRTZWN0aW9uKHByb3BzKXtcclxuXHJcbiAgICBsZXQgaXNRdW90ZSA9IFN0cmluZyhwcm9wcy5jbGFzc2VzKS5pbmNsdWRlcygnY2l0YXRpb24nKTtcclxuICAgIGxldCBxdW90ZU9iajtcclxuICAgIGlmKGlzUXVvdGUpe1xyXG4gICAgICAgIHF1b3RlT2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OlN0cmluZyhwcm9wcy50ZXh0cykuc3BsaXQoJy8nKVswXSxcclxuICAgICAgICAgICAgYXV0aG9yOlN0cmluZyhwcm9wcy50ZXh0cykuc3BsaXQoJy8nKVsxXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlzQmlnTnVtYmVyID0gU3RyaW5nKHByb3BzLmNsYXNzZXMpLmluY2x1ZGVzKCdiaWdOdW1iZXInKTtcclxuICAgIGxldCBiaWdOdW1iZXJPYmo7XHJcbiAgICBpZihpc0JpZ051bWJlcil7XHJcbiAgICAgICAgYmlnTnVtYmVyT2JqID0ge1xyXG4gICAgICAgICAgICBudW1iZXI6U3RyaW5nKHByb3BzLnRleHRzKS5zcGxpdCgnLycpWzBdLFxyXG4gICAgICAgICAgICB1bmRlclRleHQ6U3RyaW5nKHByb3BzLnRleHRzKS5zcGxpdCgnLycpWzFdXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXNWaXN1YWwgPSBwcm9wcy52aXN1YWw7XHJcbiAgICBsZXQgdmlzdWFsT2JqID0gKFxyXG4gICAgICAgIChpc1Zpc3VhbCAhPT0gXCJcIikgPyBcclxuICAgICAgICAgICAgcHJvcHMudmlzdWFsID09PSBcIlBob3RvXCIgPyBcclxuICAgICAgICAgICAgICAgIDxpbWcgXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtgcGhvdG9UZXh0U2VjdGlvbl8ke3Byb3BzLmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9e2BwaG90b1RleHRTZWN0aW9uXyR7cHJvcHMuaWR9YH1cclxuICAgICAgICAgICAgICAgICAgICBzcmM9e2Bhc3NldHMvaW1nLzY3NS8ke3Byb3BzLmZpbGVuYW1lfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1zcmNzZXQ9e2Bhc3NldHMvaW1nLzIwNDgvJHtwcm9wcy5maWxlbmFtZX0gMjA0OHcsIGFzc2V0cy9pbWcvOTkwLyR7cHJvcHMuZmlsZW5hbWV9IDk5MHcsIGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9IDY3NXcsIGFzc2V0cy9pbWcvMTM1MC8ke3Byb3BzLmZpbGVuYW1lfSAxMzUwdywgYXNzZXRzL2ltZy8xMDAvJHtwcm9wcy5maWxlbmFtZX0gMTAwdywgYXNzZXRzL2ltZy80OTUvJHtwcm9wcy5maWxlbmFtZX0gNDk1dywgYXNzZXRzL2ltZy8xMDI0LyR7cHJvcHMuZmlsZW5hbWV9IDEwMjR3YH1cclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXNpemVzPVwiKG1heC13aWR0aDogMTAwcHgpIDEwMHB4LCAobWF4LXdpZHRoOiA0OTVweCkgNDk1cHgsIChtYXgtd2lkdGg6IDY3NXB4KSA2NzVweCwgKG1heC13aWR0aDogOTkwcHgpIDk5MHB4LCAobWF4LXdpZHRoOiAgMTAyNHB4KSAxMDI0cHgsIChtYXgtd2lkdGg6ICAxMzUwcHgpIDEzNTBweCwgKG1heC13aWR0aDogIDIwNDhweCkgMjA0OHB4XCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsYXp5ICR7cHJvcHMudmlzdWVsY2xhc3Nlc31gfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7cGFkZGluZ0JvdHRvbTogJzFyZW0nfX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgcHJvcHMudmlzdWFsID09PSBcIlZpZGVvXCIgPyBcclxuICAgICAgICAgICAgICAgIDx2aWRlbyBhdXRvUGxheSBsb29wIG11dGVkIHBsYXlzSW5saW5lIGNsYXNzTmFtZT17YHZpZGVvICR7cHJvcHMudmlzdWVsY2xhc3Nlc31gfSBwcmVsb2FkPVwibWV0YWRhdGFcIiBrZXk9e2B2aWRlb1RleHRTZWN0aW9uXyR7cHJvcHMuaWR9YH0gaWQ9e2B2aWRlb1RleHRTZWN0aW9uXyR7cHJvcHMuaWR9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9e2Bhc3NldHMvdmlkZW9zLyR7cHJvcHMuZmlsZW5hbWV9YH0vPlxyXG4gICAgICAgICAgICAgICAgICAgIFZpZMOpbyBub24gc3VwcG9ydMOpZS4gUsOpLWVzc2F5ZXogc3VyIHVuIGF1dHJlIGFwcGFyZWlsIG91IGZ1cmV0ZXVyLlxyXG4gICAgICAgICAgICAgICAgPC92aWRlbz5cclxuICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgOlxyXG4gICAgICAgIDxkaXY+PC9kaXY+XHJcbiAgICApXHJcblxyXG4gICAgbGV0IHRleHRTZWN0aW9uT2JqID0gKFxyXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17YHRleHQtc2VjdGlvbiAke3Byb3BzLmNsYXNzZXN9YH0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpc1F1b3RlID8gXHJcbiAgICAgICAgICAgIDxibG9ja3F1b3RlIGNsYXNzTmFtZT1cInNtYWxsXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGI+XHJcbiAgICAgICAgICAgICAgICAgICAge3BhcnNlKHF1b3RlT2JqLnRleHQpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYj5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImF1dGhvclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtxdW90ZU9iai5hdXRob3J9XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN5bWJvbFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvYmxvY2txdW90ZT5cclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICBpc0JpZ051bWJlciA/XHJcbiAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItbnVtYmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibnVtYmVyc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPntiaWdOdW1iZXJPYmoubnVtYmVyfTwvaDI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2JpZ051bWJlck9iai51bmRlclRleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NtYWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Zpc3VhbCA/IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc3VhbE9ialxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHByb3BzLnRleHRzKS5zdGFydHNXaXRoKCc8JykgPyAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZShwcm9wcy50ZXh0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPntwYXJzZShwcm9wcy50ZXh0cyl9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIDwvc2VjdGlvbj5cclxuICAgICk7XHJcbiAgICBsZXQgY29udGFpbmVkT2JqID0gcHJvcHMuYmFja2dyb3VuZCA/IFxyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6IGAke3Byb3BzLmJhY2tncm91bmR9YH19IGNsYXNzTmFtZT17XCJzZWN0aW9uQ29udGFpbmVyXCJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGV4dFNlY3Rpb25PYmp9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFNlY3Rpb25PYmpcclxuICAgICAgICAgICAgICAgIClcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIGNvbnRhaW5lZE9ialxyXG4gICAgKVxyXG59IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRFdDaGFydCh7IHRpdGxlLCBzcmMsIC4uLnByb3BzIH0pIHtcclxuICBjb25zdCBpZnJhbWVSZWYgPSB1c2VSZWYoKVxyXG4gIGNvbnN0IFtoZWlnaHQsIHNldFN0YXRlXSA9IHVzZVN0YXRlKDUwMClcclxuXHJcbiAgY29uc3Qgb25NZXNzYWdlID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoeyBkYXRhID0ge30sIHNvdXJjZSB9KSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBzb3VyY2UgIT09IGlmcmFtZVJlZi5jdXJyZW50LmNvbnRlbnRXaW5kb3cgfHxcclxuICAgICAgICB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgfHxcclxuICAgICAgICAhZGF0YVsnZGF0YXdyYXBwZXItaGVpZ2h0J11cclxuICAgICAgKVxyXG4gICAgICAgIHJldHVyblxyXG5cclxuICAgICAgLy9zZXRTdGF0ZShPYmplY3QudmFsdWVzKGRhdGFbJ2RhdGF3cmFwcGVyLWhlaWdodCddKVswXSlcclxuICAgIH0sXHJcbiAgICBbc2V0U3RhdGUsIGlmcmFtZVJlZl1cclxuICApXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSlcclxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSlcclxuICB9LCBbaGVpZ2h0LCBzZXRTdGF0ZSwgb25NZXNzYWdlXSlcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxpZnJhbWVcclxuICAgICAgcmVmPXtpZnJhbWVSZWZ9XHJcbiAgICAgIHNjcm9sbGluZz1cIm5vXCJcclxuICAgICAgZnJhbWVCb3JkZXI9XCIwXCJcclxuICAgICAgd2lkdGg9XCIxMDAlXCJcclxuICAgICAgey4uLnByb3BzfVxyXG4gICAgICB0aXRsZT17dGl0bGV9XHJcbiAgICAgIHNyYz17c3JjfVxyXG4gICAgICBoZWlnaHQ9e2hlaWdodH1cclxuICAgIC8+XHJcbiAgKVxyXG59XHJcblxyXG5EV0NoYXJ0LnByb3BUeXBlcyA9IHtcclxuICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIHNyYzogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIGxvYWRpbmc6IFByb3BUeXBlcy5vbmVPZihbJ2VhZ2VyJywgJ2xhenknXSksXHJcbn0iLCJleHBvcnQgY29uc3QgY29udGVudEhlYWRlckNvbnN0YW50cyA9IHtcbiAgICBzZWN0aW9uOiBcIlNlY3Rpb25cIixcbiAgICBzZWN0aW9uSUQ6IFwiU2VjdGlvbklEXCIsXG4gICAgYXR0cmlidXRzOiBcIkF0dHJpYnV0c1wiLFxuICAgIHNvdXNzZWN0aW9uOiBcIlN0ZXBcIixcbiAgICB0ZXh0ZTogXCJURVhURVwiLFxuICAgIHZpc3VlbDogXCJWSVNVRUxcIixcbiAgICBub21maWNoaWVyc291cmNlOiBcIk5vbUZpY2hpZXJTb3VyY2VcIixcbiAgICBzdHlsZWZvbmQ6IFwiU3R5bGVGb25kXCIsXG4gICAgc3RlcGNsYXNzZXM6IFwiU3RlcENsYXNzZXNcIixcbiAgICB2aXN1ZWxjbGFzc2VzOiBcIlZpc3VlbENsYXNzZXNcIixcbiAgICBub3RlczogXCJOb3Rlc1wiLFxuICAgIGdhbWVpZDogXCJHYW1lSURcIlxufTtcblxuZXhwb3J0IGNvbnN0IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cyA9IHtcbiAgICBzZWN0aW9udHlwZXM6IHtcbiAgICAgICAgaW50cm90aXRyZTogXCJpbnRyby10aXRyZVwiLFxuICAgICAgICBwbGVpbmVwYWdldGl0cmU6IFwicGxlaW5lLXBhZ2UtdGl0cmVcIixcbiAgICAgICAgdGV4dGVjbGFzc2lxdWU6IFwidGV4dGUtY2xhc3NpcXVlXCIsXG4gICAgICAgIHZpenNlY3Rpb246IFwidml6LXNlY3Rpb25cIlxuICAgIH0sXG4gICAgc2VjdGlvbmF0dHJpYnV0ZXM6e1xuICAgICAgICBwbGVpbmVwYWdlOiBcInBsZWluZS1wYWdlXCIsXG4gICAgICAgIGZvbmRub2lyOiBcImZvbmQtbm9pclwiLFxuICAgICAgICBjZW50cmU6IFwiY2VudHLDqVwiLFxuICAgICAgICBjb3RlY290ZTogXCJjw7R0w6ktY8O0dMOpXCJcbiAgICB9LFxuICAgIHZpc3VlbHR5cGVzOntcbiAgICAgICAgcGhvdG86IFwiUGhvdG9cIixcbiAgICAgICAgdmlkZW86IFwiVmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwiQXVkaW9cIixcbiAgICAgICAgdmlzdWFsaXNhdGlvbjogXCJWaXN1YWxpc2F0aW9uXCIsXG4gICAgICAgIGlmcmFtZTogXCJpZnJhbWVcIlxuICAgIH0sXG4gICAgc291c3NlY3Rpb250eXBlczp7XG4gICAgICAgIHNjcm9sbG5vcm1hbDogXCJzY3JvbGwtbm9ybWFsXCIsXG4gICAgICAgIHNjcm9sbGludmlzaWJsZTogXCJzY3JvbGwtaW52aXNpYmxlXCIsXG4gICAgICAgIHNjcm9sbGxvbmc6IFwic2Nyb2xsLWxvbmdcIlxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzID0ge1xuICAgIHRpdHJlOiBcIlRpdHJlXCIsXG4gICAgYXV0ZXVyczogXCJBdXRldXJzXCIsXG4gICAgZGF0ZTogXCJEYXRlXCIsXG4gICAgZGF0ZTogXCJEYXRlXCIsXG4gICAgdXJsczogXCJMaWVuQXV0ZXVyc1wiLFxuICAgIGxpZW5maWNoaWVyc291cmNlOiBcIkxpZW5GaWNoaWVyU291cmNlXCJcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcbmltcG9ydCBEV0NoYXJ0IGZyb20gXCIuL0RXQ2hhcnRcIjtcbmltcG9ydCB7IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cyB9IGZyb20gXCIuLi9nZW5lcmF0b3IvY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBWaXpTZWN0aW9uKHByb3BzKXtcblxuICAgIGxldCB2aXpTZWN0aW9uT2JqID0gKFxuICAgICAgICA8c2VjdGlvbiBpZD17cHJvcHMubGlzdElEfSBjbGFzc05hbWU9e3Byb3BzLmNsYXNzZWR9PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHN0ZXBzICR7Z2V0U3RlcENvbW1vbkNsYXNzKHByb3BzLnN0ZXBzKX1gfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc3RlcHMubWFwKChzdGVwLGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdzdGVwIGlzICcsIHN0ZXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzUXVvdGUgPSBTdHJpbmcoc3RlcC5zdGVwY2xhc3NlcykuaW5jbHVkZXMoJ2NpdGF0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcXVvdGVPYmo7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpc1F1b3RlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdW90ZU9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDpTdHJpbmcoc3RlcC50ZXh0KS5zcGxpdCgnLycpWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3I6U3RyaW5nKHN0ZXAudGV4dCkuc3BsaXQoJy8nKVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGtleT17aW5kZXh9IGNsYXNzTmFtZT17c3RlcC5zdGVwY2xhc3Nlc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUXVvdGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrcXVvdGUgY2xhc3NOYW1lPVwic21hbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhcnNlKHF1b3RlT2JqLnRleHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2I+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImF1dGhvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cXVvdGVPYmouYXV0aG9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN5bWJvbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9ja3F1b3RlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHN0ZXAudGV4dCkuc3RhcnRzV2l0aCgnPCcpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZShzdGVwLnRleHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57c3RlcC50ZXh0ID8gcGFyc2Uoc3RlcC50ZXh0KSA6IFwiXCJ9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2aXpcIiBpZD1cInZpelwiPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc3RlcHMubWFwKChzdGVwLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RlcC52aXN1YWwgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy52aXN1ZWx0eXBlcy5waG90byl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17YGFzc2V0cy9pbWcvNjc1LyR7c3RlcC5maWxlbmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zcmNzZXQ9e2Bhc3NldHMvaW1nLzIwNDgvJHtzdGVwLmZpbGVuYW1lfSAyMDQ4dywgYXNzZXRzL2ltZy85OTAvJHtzdGVwLmZpbGVuYW1lfSA5OTB3LCBhc3NldHMvaW1nLzY3NS8ke3N0ZXAuZmlsZW5hbWV9IDY3NXcsIGFzc2V0cy9pbWcvMTM1MC8ke3N0ZXAuZmlsZW5hbWV9IDEzNTB3LCBhc3NldHMvaW1nLzEwMC8ke3N0ZXAuZmlsZW5hbWV9IDEwMHcsIGFzc2V0cy9pbWcvNDk1LyR7c3RlcC5maWxlbmFtZX0gNDk1dywgYXNzZXRzL2ltZy8xMDI0LyR7c3RlcC5maWxlbmFtZX0gMTAyNHdgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zaXplcz1cIihtYXgtd2lkdGg6IDEwMHB4KSAxMDBweCwgKG1heC13aWR0aDogNDk1cHgpIDQ5NXB4LCAobWF4LXdpZHRoOiA2NzVweCkgNjc1cHgsIChtYXgtd2lkdGg6IDk5MHB4KSA5OTBweCwgKG1heC13aWR0aDogIDEwMjRweCkgMTAyNHB4LCAobWF4LXdpZHRoOiAgMTM1MHB4KSAxMzUwcHgsIChtYXgtd2lkdGg6ICAyMDQ4cHgpIDIwNDhweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsYXp5ICR7c3RlcC52aXN1ZWxjbGFzc2VzfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzdGVwLnZpc3VhbCA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnZpc3VlbHR5cGVzLnZpZGVvKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmlkZW8gYXV0b1BsYXkgbG9vcCBtdXRlZCBwbGF5c0lubGluZSBjbGFzc05hbWU9e2B2aWRlbyAke3N0ZXAudmlzdWVsY2xhc3Nlc31gfSBwcmVsb2FkPVwibWV0YWRhdGFcIiBrZXk9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBpZD17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9e2Bhc3NldHMvdmlkZW9zLyR7c3RlcC5maWxlbmFtZX1gfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWTDqW8gbm9uIHN1cHBvcnTDqWUuIFLDqS1lc3NheWV6IHN1ciB1biBhdXRyZSBhcHBhcmVpbCBvdSBmdXJldGV1ci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92aWRlbz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoc3RlcC52aXN1YWwgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy52aXN1ZWx0eXBlcy5pZnJhbWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH0gaWQ9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBjbGFzc05hbWU9XCJpZnJhbWVDb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEV0NoYXJ0IHRpdGxlPVwiTWVzdXJlcyBkJ2Fyc2VuaWNcIiBzcmM9e2Ake3N0ZXAuZmlsZW5hbWV9YH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHN0ZXAudmlzdWFsID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMudmlzdWVsdHlwZXMudmlzdWFsaXNhdGlvbil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBpZD17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9IGNsYXNzTmFtZT17YGlmcmFtZUNvbnRhaW5lciAke3N0ZXAudmlzdWVsY2xhc3Nlc31gfT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICk7XG4gICAgbGV0IGNvbnRhaW5lZE9iaiA9IHByb3BzLmJhY2tncm91bmQgP1xuICAgICAgICAoXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7YmFja2dyb3VuZENvbG9yOiBgJHtwcm9wcy5iYWNrZ3JvdW5kfWB9fSBjbGFzc05hbWU9e1wic2VjdGlvbkNvbnRhaW5lclwifT5cbiAgICAgICAgICAgICAgICB7dml6U2VjdGlvbk9ian1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICAgIDpcbiAgICAgICAgKFxuICAgICAgICAgICAgdml6U2VjdGlvbk9ialxuICAgICAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgICBjb250YWluZWRPYmpcbiAgICApXG59XG5cbmZ1bmN0aW9uIGdldFN0ZXBDb21tb25DbGFzcyhzdGVwcyl7XG4gICAgbGV0IGN1clN0ZXBDbGFzc2VzID0gc3RlcHMubWFwKChzdGVwLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gc3RlcC5zdGVwY2xhc3NlcztcbiAgICB9KTtcbiAgICBsZXQgY3VyQ29tbW9uQ2xhc3MgPSBuZXcgQXJyYXkoY3VyU3RlcENsYXNzZXMubGVuZ3RoKTtcbiAgICBjdXJTdGVwQ2xhc3Nlcy5mb3JFYWNoKChzdGVwRWxlbSwgaWR4KSA9PiB7XG4gICAgICAgIGlmKEFycmF5LmlzQXJyYXkoc3RlcEVsZW0pKXtcbiAgICAgICAgICAgIHN0ZXBFbGVtLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yKCBsZXQgaSA9IGlkeDsgaSA8IGN1clN0ZXBDbGFzc2VzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VyU3RlcENsYXNzZXNbaV0uaW5jbHVkZXMoZWxlbSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbW9uQ2xhc3NbaV0gPSAoZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZihzdGVwRWxlbSkgPT09IFwic3RyaW5nXCIpe1xuICAgICAgICAgICAgZm9yKCBsZXQgaSA9IGlkeDsgaSA8IGN1clN0ZXBDbGFzc2VzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZihjdXJTdGVwQ2xhc3Nlc1tpXS5pbmNsdWRlcyhzdGVwRWxlbSkpe1xuICAgICAgICAgICAgICAgICAgICBjdXJDb21tb25DbGFzc1tpXSA9IChzdGVwRWxlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGN1ckNvbW1vbkNsYXNzLnJlZHVjZShmdW5jdGlvbihhLCBiKXsgcmV0dXJuIChhID09PSBiICYmIGEgIT09IFwiXCIgJiYgYiAhPT0gXCJcIikgPyBhIDogXCJcIjsgfSk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBGdWxsUGFnZVNlY3Rpb24ocHJvcHMpe1xuXG4gICAgbGV0IGZ1bGxwYWdlU2VjdGlvbk9iaiA9IChcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtgZnVsbC1wYWdlLXNlY3Rpb24gJHtwcm9wcy5jbGFzc2VzfWB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZUltYWdlXCI+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5maWxlbmFtZSA/XG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnZpc3VhbCA9PT0gXCJQaG90b1wiID9cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7cHJvcHMuaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2Ake3Byb3BzLmlkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17YGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zcmNzZXQ9e2Bhc3NldHMvaW1nLzIwNDgvJHtwcm9wcy5maWxlbmFtZX0gMjA0OHcsIGFzc2V0cy9pbWcvOTkwLyR7cHJvcHMuZmlsZW5hbWV9IDk5MHcsIGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9IDY3NXcsIGFzc2V0cy9pbWcvMTM1MC8ke3Byb3BzLmZpbGVuYW1lfSAxMzUwdywgYXNzZXRzL2ltZy8xMDAvJHtwcm9wcy5maWxlbmFtZX0gMTAwdywgYXNzZXRzL2ltZy80OTUvJHtwcm9wcy5maWxlbmFtZX0gNDk1dywgYXNzZXRzL2ltZy8xMDI0LyR7cHJvcHMuZmlsZW5hbWV9IDEwMjR3YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zaXplcz1cIihtYXgtd2lkdGg6IDEwMHB4KSAxMDBweCwgKG1heC13aWR0aDogNDk1cHgpIDQ5NXB4LCAobWF4LXdpZHRoOiA2NzVweCkgNjc1cHgsIChtYXgtd2lkdGg6IDk5MHB4KSA5OTBweCwgKG1heC13aWR0aDogIDEwMjRweCkgMTAyNHB4LCAobWF4LXdpZHRoOiAgMTM1MHB4KSAxMzUwcHgsIChtYXgtd2lkdGg6ICAyMDQ4cHgpIDIwNDhweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGxhenkgJHtwcm9wcy52aXN1ZWxjbGFzc2VzfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy52aXN1YWwgPT09IFwiVmlkZW9cIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmlkZW8gYXV0b1BsYXkgbG9vcCBtdXRlZCBwbGF5c0lubGluZSBjbGFzc05hbWU9e2B2aWRlbyAke3Byb3BzLnZpc3VlbGNsYXNzZXN9YH0gcHJlbG9hZD1cIm1ldGFkYXRhXCIga2V5PXtgJHtwcm9wcy5pZH1gfSBpZD17YCR7cHJvcHMuaWR9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz17YGFzc2V0cy92aWRlb3MvJHtwcm9wcy5maWxlbmFtZX1gfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWTDqW8gbm9uIHN1cHBvcnTDqWUuIFLDqS1lc3NheWV6IHN1ciB1biBhdXRyZSBhcHBhcmVpbCBvdSBmdXJldGV1ci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92aWRlbz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8ZGl2PjwvZGl2PilcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICg8ZGl2PjwvZGl2PilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5maWxlbmFtZSA/XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsdGVyXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FwdGlvbmhvbGRlclwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9e2BjYXB0aW9uICR7cHJvcHMubWFpblRpdGxlLmNsYXNzfWB9Pntwcm9wcy5tYWluVGl0bGUudGV4dH08L2gyPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc3ViVGl0bGUgP1xuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPXtgY2FwdGlvbiAke3Byb3BzLnN1YlRpdGxlLmNsYXNzfWB9Pntwcm9wcy5zdWJUaXRsZS50ZXh0fTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICk6XG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgKTtcbiAgICBsZXQgY29udGFpbmVkT2JqID0gcHJvcHMuYmFja2dyb3VuZCA/XG4gICAgICAgIChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6IGAke3Byb3BzLmJhY2tncm91bmR9YH19IGNsYXNzTmFtZT17XCJzZWN0aW9uQ29udGFpbmVyXCJ9PlxuICAgICAgICAgICAgICAgIHtmdWxscGFnZVNlY3Rpb25PYmp9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgICA6XG4gICAgICAgIChcbiAgICAgICAgICAgIGZ1bGxwYWdlU2VjdGlvbk9ialxuICAgICAgICApXG5cbiAgICByZXR1cm4gY29udGFpbmVkT2JqO1xuXG59XG4iLCJcbmltcG9ydCB7IHNhdmVBcyB9IGZyb20gJ2ZpbGUtc2F2ZXInO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgY29udGVudEhlYWRlckNvbnN0YW50cywgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLCBwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHJ1Y3R1cmUoY29udGVudERhdGEsIHBhcmFtc0RhdGEpe1xuXG4gICAgbGV0IHN0cnVjdHVyZURhdGEgPSB7fTsgLy8gV2hvbGUgc2Nyb2xseSBzdHJ1Y3R1cmVcbiAgICBsZXQgdml6U2VjdGlvbklEcyA9IFtdOyAvLyBMaXN0IG9mIHNlY3Rpb25JRHNcblxuICAgIGxldCBvcHRpb25zID0gZ2V0T3B0aW9ucyhwYXJhbXNEYXRhKTtcblxuICAgIGNvbnNvbGUubG9nKCdjb250ZW50IERhdGEnLCBjb250ZW50RGF0YSk7XG4gICAgY29udGVudERhdGEubWFwKChyb3dEYXRhLGluZGV4KSA9PiB7XG5cbiAgICAgICAgaWYocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25dID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLmludHJvdGl0cmUpe1xuICAgICAgICAgICAgbGV0IGNsYXNzZXMgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3RlcGNsYXNzZXNdO1xuICAgICAgICAgICAgbGV0IGN1ckFtb3JjZSA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV07XG4gICAgICAgICAgICBsZXQgc2VjdGlvbkJhY2tncm91bmQgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3R5bGVmb25kXTtcbiAgICAgICAgICAgIHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dID0ge1xuICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgc2VjdGlvblR5cGU6IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMuaW50cm90aXRyZSxcbiAgICAgICAgICAgICAgICBvcHRpb25EYXRhOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIGFtb3JjZTogY3VyQW1vcmNlLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHNlY3Rpb25CYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IHBhcnNlQ2xhc3NlcyhjbGFzc2VzKSxcbiAgICAgICAgICAgICAgICBnYW1laWQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5nYW1laWRdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25dID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnRleHRlY2xhc3NpcXVlKXtcbiAgICAgICAgICAgIGxldCB0ZXh0cyA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV07XG4gICAgICAgICAgICBsZXQgY2xhc3NlcyA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdGVwY2xhc3Nlc107XG4gICAgICAgICAgICBsZXQgc2VjdGlvbkJhY2tncm91bmQgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3R5bGVmb25kXTtcbiAgICAgICAgICAgIHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dID0ge1xuICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgc2VjdGlvblR5cGU6IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudGV4dGVjbGFzc2lxdWUsXG4gICAgICAgICAgICAgICAgdGV4dHM6IHRleHRzLFxuICAgICAgICAgICAgICAgIHZpc3VhbDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbF0sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5ub21maWNoaWVyc291cmNlXSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBzZWN0aW9uQmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICBjbGFzc2VzOiBwYXJzZUNsYXNzZXMoY2xhc3NlcyksXG4gICAgICAgICAgICAgICAgdmlzdWVsY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxjbGFzc2VzXSksXG4gICAgICAgICAgICAgICAgZ2FtZWlkOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuZ2FtZWlkXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uXSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5wbGVpbmVwYWdldGl0cmUpe1xuICAgICAgICAgICAgbGV0IHRpdGxlT2JqID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXTtcbiAgICAgICAgICAgIGlmIChpc0pzb24ocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXSkpe1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0T2JqID0gSlNPTi5wYXJzZShyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdKTtcbiAgICAgICAgICAgICAgICB0aXRsZU9iaiA9IHRleHRPYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgICAgICAgIHNlY3Rpb25UeXBlOiBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnBsZWluZXBhZ2V0aXRyZSxcbiAgICAgICAgICAgICAgICB0ZXh0czogaXNKc29uKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV0pID8gdGl0bGVPYmpcbiAgICAgICAgICAgICAgICA6e1xuICAgICAgICAgICAgICAgICAgICBtYWluVGl0bGU6e2NsYXNzOiBcIlwiLCB0ZXh0OiB0aXRsZU9ian0sXG4gICAgICAgICAgICAgICAgICAgIHN1YlRpdGxlOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB2aXN1YWw6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxdLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMubm9tZmljaGllcnNvdXJjZV0sXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0eWxlZm9uZF0sXG4gICAgICAgICAgICAgICAgY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdGVwY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIHZpc3VlbGNsYXNzZXM6IHBhcnNlQ2xhc3Nlcyhyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudmlzdWVsY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIGdhbWVpZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmdhbWVpZF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbl0gPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudml6c2VjdGlvbil7XG5cbiAgICAgICAgICAgIGxldCBjdXJEYXRhID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0czogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmF0dHJpYnV0c10sXG4gICAgICAgICAgICAgICAgc2Nyb2xsVHlwZTogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNvdXNzZWN0aW9uXSxcbiAgICAgICAgICAgICAgICB0ZXh0OiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdLFxuICAgICAgICAgICAgICAgIHZpc3VhbDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbF0sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5ub21maWNoaWVyc291cmNlXSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3R5bGVmb25kXSxcbiAgICAgICAgICAgICAgICB2aXN1ZWxjbGFzc2VzOiBwYXJzZUNsYXNzZXMocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbGNsYXNzZXNdKSxcbiAgICAgICAgICAgICAgICBzdGVwY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdGVwY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIGdhbWVpZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmdhbWVpZF1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZihzdHJ1Y3R1cmVEYXRhLmhhc093blByb3BlcnR5KHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdKSl7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHN0ZXAgdG8gZXhpc3RpbmdcbiAgICAgICAgICAgICAgICBsZXQgY3VyVml6U2VjdGlvbiA9IHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dO1xuICAgICAgICAgICAgICAgIGN1clZpelNlY3Rpb24ucHVzaChjdXJEYXRhKTtcbiAgICAgICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IGN1clZpelNlY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dID0gW2N1ckRhdGFdO1xuICAgICAgICAgICAgICAgIHZpelNlY3Rpb25JRHMucHVzaChyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2aXpTZWN0aW9uSURzLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgIGxldCBjdXJTZWN0aW9uID0gc3RydWN0dXJlRGF0YVtrZXldO1xuICAgICAgICBsZXQgc2VjdGlvbkF0dHIgPSBjdXJTZWN0aW9uWzBdLmF0dHJpYnV0cyA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb25hdHRyaWJ1dGVzLmNlbnRyZSA/IFwiIGZ1bGwtcGFnZVwiIDogXCJcIjtcbiAgICAgICAgbGV0IHNlY3Rpb25CYWNrZ3JvdW5kID0gY3VyU2VjdGlvblswXS5iYWNrZ3JvdW5kO1xuICAgICAgICBzdHJ1Y3R1cmVEYXRhW2tleV0gPSB7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHNlY3Rpb25UeXBlOiBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnZpenNlY3Rpb24sXG4gICAgICAgICAgICBsaXN0SUQ6IGtleSxcbiAgICAgICAgICAgIHN0ZXBzOiBjdXJTZWN0aW9uLFxuICAgICAgICAgICAgY2xhc3NlZDogYHZpei1zZWN0aW9uJHtzZWN0aW9uQXR0cn1gLFxuICAgICAgICAgICAgbWVkaWFJbmZvOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogc2VjdGlvbkJhY2tncm91bmRcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHN0cnVjdHVyZURhdGEpO1xufVxuXG4vKipcbiAqIFRha2UgYXJ0aWNsZSBzdHJ1Y3R1cmUgYXMgQ1NWIGFuZCB0cmFuc2Zvcm0gaXQgYXMgY2FsbGJhY2tBcnJheVxuICogQHBhcmFtICB7T2JqZWN0fSBjb250ZW50RGF0YSBhcnRpY2xlIHN0cnVjdHVyZVxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIGFydGljbGUgb3B0aW9uc1xuICogQHJldHVybiB7QXJyYXl9IFNjcm9sbGVyIGNhbGxiYWNrIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNhbGxiYWNrcyhjb250ZW50RGF0YSwgcGFyYW1zRGF0YSl7XG5cbiAgICBsZXQgZnVsbFN0cnVjdHVyZSA9IGdldFN0cnVjdHVyZShjb250ZW50RGF0YSwgcGFyYW1zRGF0YSk7XG4gICAgbGV0IGNhbGxiYWNrc0FycmF5ID0gW107XG4gICAgZnVsbFN0cnVjdHVyZS5tYXAoY2FsbGJhY2sgPT4ge1xuICAgICAgICBpZihjYWxsYmFjay5zZWN0aW9uVHlwZSA9PT0gXCJ2aXotc2VjdGlvblwiKXtcbiAgICAgICAgICAgIGxldCBjdXJTdGVwcyA9IFtdO1xuICAgICAgICAgICAgY2FsbGJhY2suc3RlcHMubWFwKChzdGVwLGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGN1ckNvbW1hbmQgPSAoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcikgPyAoKCk9Pnt9KSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYoc3RlcC52aXN1YWwgIT09IFwiXCIpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyTnVtYmVyQXJyYXkgPSBBcnJheShjYWxsYmFjay5zdGVwcy5sZW5ndGgpLmZpbGwobnVsbCkubWFwKChfLCBpKSA9PiBpKS5maWx0ZXIoZCA9PiBkICE9PSBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvcGFjaXR5U2VsZWN0b3IgPSBjdXJOdW1iZXJBcnJheS5tYXAoaW5kID0+IGAjJHtjYWxsYmFjay5rZXl9XyR7aW5kfWApLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tYW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdChgIyR7Y2FsbGJhY2sua2V5fV8ke2luZGV4fWApLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob3BhY2l0eVNlbGVjdG9yICE9PSBcIlwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKGAke29wYWNpdHlTZWxlY3Rvcn1gKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tYW5kID0gYGQzLnNlbGVjdCgnIyR7Y2FsbGJhY2sua2V5fV8ke2luZGV4fScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7JHtvcGFjaXR5U2VsZWN0b3IgIT09IFwiXCIgPyBgZDMuc2VsZWN0QWxsKCcke29wYWNpdHlTZWxlY3Rvcn0nKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7YCA6IFwiXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKFN0cmluZyhzdGVwLmZpbGVuYW1lKS5zdGFydHNXaXRoKFwiVEFHSURcIikpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyVGFnSUQgPSBTdHJpbmcoc3RlcC5maWxlbmFtZSkuc3BsaXQoJz0nKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1clRhZ0lEX2luZGV4ID0gcGFyc2VJbnQoY3VyVGFnSUQuc3BsaXQoXCJfXCIpWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ck51bWJlckFycmF5ID0gQXJyYXkoY2FsbGJhY2suc3RlcHMubGVuZ3RoKS5maWxsKG51bGwpLm1hcCgoXywgaSkgPT4gaSkuZmlsdGVyKGQgPT4gZCAhPT0gY3VyVGFnSURfaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3BhY2l0eVNlbGVjdG9yID0gY3VyTnVtYmVyQXJyYXkubWFwKGluZCA9PiBgIyR7Y2FsbGJhY2sua2V5fV8ke2luZH1gKS5qb2luKCcsJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1YyAmJiBFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbWFuZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KGAjJHtjdXJUYWdJRH1gKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAxKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihvcGFjaXR5U2VsZWN0b3IgIT09IFwiXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKGAke29wYWNpdHlTZWxlY3Rvcn1gKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tYW5kID0gYGQzLnNlbGVjdCgnIyR7Y3VyVGFnSUR9JykudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMSkuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTske29wYWNpdHlTZWxlY3RvciAhPT0gXCJcIiA/IGBkMy5zZWxlY3RBbGwoJyR7b3BhY2l0eVNlbGVjdG9yfScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDApLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtgIDogXCJcIn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgICAgICAgICAgICAgICAgY3VyU3RlcHMucHVzaChjdXJDb21tYW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY3VyU3RlcHMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoKSA9PiB7JHtjdXJDb21tYW5kfX1gXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhbGxiYWNrc0FycmF5LnB1c2goY3VyU3RlcHMpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZihFTlZfQ09ORklHLmRvd25sb2FkU3RydWMgJiYgRU5WX0NPTkZJRy5hdXRvcmVuZGVyKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnR09UIENBTExCQUNLUyBBUlJBWTogJywgY2FsbGJhY2tzQXJyYXkpO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2tzQXJyYXk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTYXZpbmcgY2FsbGJhY2tzIHRvIGZpbGUuLi4nKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IGBpbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XFxuZXhwb3J0IGNvbnN0IGNhbGxiYWNrcyA9ICR7SlNPTi5zdHJpbmdpZnkoY2FsbGJhY2tzQXJyYXksIG51bGwsIDIpfWA7XG4gICAgICAgIGxldCBibG9iID0gbmV3IEJsb2IoW3RleHQucmVwbGFjZUFsbCgnXCInLCAnJyldLCB7dHlwZTogXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLThcIn0pO1xuICAgICAgICBzYXZlQXMoYmxvYiwgXCJjYWxsYmFja3MuanNcIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBpc0pzb24oc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgSlNPTi5wYXJzZShzdHIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDbGFzc2VzKHN0cil7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oc3RyLnNwbGl0KCc7JykpLmpvaW4oJyAnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9wdGlvbnMocGFyYW1zRGF0YSl7XG5cbiAgcmV0dXJuIHtcbiAgICB0aXRsZTogcGFyYW1zRGF0YVswXVtwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzLnRpdHJlXSxcbiAgICBhdXRob3JzOiBwYXJhbXNEYXRhWzBdW3BhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMuYXV0ZXVyc10sXG4gICAgdXJsczogcGFyYW1zRGF0YVswXVtwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzLnVybHNdLFxuICAgIGRhdGU6IHBhcmFtc0RhdGFbMF1bcGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cy5kYXRlXVxuICB9O1xufVxuIiwiaW1wb3J0IHsgY29uc3RhbnQgfSBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCBtYXBib3hnbCBmcm9tIFwibWFwYm94LWdsXCI7XHJcbmltcG9ydCAqIGFzIHNjcmVlbiBmcm9tIFwiLi9zY3JlZW4uanNcIjtcclxuXHJcbmNvbnN0IGNvbnN0YW50cyA9IHtcclxuICB0b2tlbjpcclxuICAgIFwicGsuZXlKMUlqb2liR1ZrWlhadmFYSWlMQ0poSWpvaVkycDJiVzgxZEhVMk1XVjFjVFJoY1hJemFYWnFNR1l4Y2lKOS5XcklGOG82OWFSX1RzdERGdTZReWFnXCIsXHJcbiAgbWFwQm91bmRzOiB7XHJcbiAgICBtYXg6IFstMTY1LCAzMC43MjgzMzAsIC0yNS4yMzYzNiwgODIuMjI5NDM0XSxcclxuICB9LFxyXG4gIGNvbG9yczogW1xyXG4gICAgXCIjRjRDQkM2XCIsXHJcbiAgICBcIiNGNEEzOUFcIixcclxuICAgIFwiI0VFNkE1RVwiLFxyXG4gICAgXCIjQ0UzNzI3XCIsXHJcbiAgICBcIiNBMjI4MjNcIixcclxuICAgIFwiIzc1MUExQVwiLFxyXG4gICAgXCIjNDEwMDAwXCIsXHJcbiAgXSxcclxuICBjbHVzdGVyTWF4Wm9vbTogMTEsXHJcbiAgY2x1c3RlclJhZGl1czogMzAsXHJcbiAgY2x1c3Rlck1pblBvaW50czogNVxyXG59O1xyXG5cclxubWFwYm94Z2wuYWNjZXNzVG9rZW4gPSBjb25zdGFudHMudG9rZW47XHJcblxyXG5leHBvcnQgY2xhc3MgTWFwIHtcclxuICBjb25zdHJ1Y3RvcihkaXYsIGNsYXNzTmFtZSwgZGF0YVNvdXJjZUFycmF5LCBzdHlsZVVybCwgaW5pdENvb3JkcywgZGlzYWJsZUNvbnRyb2xzPXRydWUsIHdpdGhIYW5kbGVycz1mYWxzZSwgbWF4Qm91bmRzID0gbnVsbCkge1xyXG5cclxuICAgIHRoaXMuZGF0YVNvdXJjZU9iamVjdHMgPSBkYXRhU291cmNlQXJyYXk7XHJcbiAgICB0aGlzLmNvbnN0YW50cyA9IGNvbnN0YW50cztcclxuICAgIHRoaXMubWFwID0gbmV3IG1hcGJveGdsLk1hcCh7XHJcbiAgICAgIGNvbnRhaW5lcjogY2xhc3NOYW1lLFxyXG4gICAgICBzdHlsZTogc3R5bGVVcmwsXHJcbiAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSxcclxuICAgICAgY2VudGVyOiBpbml0Q29vcmRzLmNlbnRlcixcclxuICAgICAgem9vbTogaW5pdENvb3Jkcy56b29tXHJcbiAgICB9KTtcclxuICAgIHRoaXMubWF4Qm91bmRzID0gaW5pdENvb3JkcztcclxuICAgIHRoaXMuYm91bmRzTGlzdCA9IHRoaXMuZGF0YVNvdXJjZU9iamVjdHMubWFwKGRhdGFTb3VyY2UgPT4gZGF0YVNvdXJjZVsnY29vcmRzJ10pO1xyXG4gICAgdGhpcy5leHRyYUJvdW5kcyA9IHRoaXMuZGF0YVNvdXJjZU9iamVjdHMubWFwKGRhdGFTb3VyY2UgPT4gZGF0YVNvdXJjZVsnZXh0cmFDb29yZHMnXSk7XHJcbiAgICBpZihkaXNhYmxlQ29udHJvbHMpe1xyXG4gICAgICB0aGlzLm1hcC5zY3JvbGxab29tLmRpc2FibGUoKTtcclxuICAgICAgdGhpcy5tYXAuZHJhZ1Bhbi5kaXNhYmxlKCk7XHJcbiAgICAgIHRoaXMubWFwLmRyYWdSb3RhdGUuZGlzYWJsZSgpO1xyXG4gICAgICB0aGlzLm1hcC5ib3hab29tLmRpc2FibGUoKTtcclxuICAgICAgdGhpcy5tYXAuZG91YmxlQ2xpY2tab29tLmRpc2FibGUoKTtcclxuICAgIH1cclxuICAgIGlmKHdpdGhIYW5kbGVycyl7XHJcbiAgICAgIHRoaXMuc2V0dXBIYW5kbGVycygpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRhTGlzdCA9IHRoaXMuZGF0YVNvdXJjZU9iamVjdHMubWFwKGRhdGFTb3VyY2UgPT4gZGF0YVNvdXJjZVsnZGF0YSddKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUJvdW5kcyhcclxuICAgIGJvdW5kcyA9IHRoaXMubWF4Qm91bmRzLFxyXG4gICAgcGFkZGluZyA9IHNjcmVlbi5pc1hTKCkgPyA1IDogc2NyZWVuLmlzU20oKSA/IDE1IDogMjAsXHJcbiAgICBkdXJhdGlvbiA9IDEwMFxyXG4gICkge1xyXG4gICAgdGhpcy5tYXAgPSB0aGlzLm1hcC5maXRCb3VuZHMoYm91bmRzLCB7XHJcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgICAgcGFkZGluZzogcGFkZGluZyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ29vcmRzQW5kWm9vbShkYXRhUGFpcil7XHJcbiAgICB0aGlzLm1hcC5mbHlUbyh7XHJcbiAgICAgIGNlbnRlcjogZGF0YVBhaXIuY2VudGVyLFxyXG4gICAgICB6b29tOiBkYXRhUGFpci56b29tLFxyXG4gICAgICBzcGVlZDogMC43LFxyXG4gICAgICBjdXJ2ZTogMSxcclxuICAgICAgZWFzaW5nKHQpe1xyXG4gICAgICAgIHJldHVybiB0XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB2aWV3Qm91bmRPYmoob2JqaW5kZXgpe1xyXG4gICAgdGhpcy51cGRhdGVDb29yZHNBbmRab29tKHRoaXMuYm91bmRzTGlzdFtvYmppbmRleF0pO1xyXG4gIH1cclxuXHJcbiAgdmlld0V4dHJhQm91bmRPYmoob2JqaW5kZXgsIGtleU5hbWUsIGR1cmF0aW9uKXtcclxuICAgIGxldCBleHRyYUJvdW5kcyA9IHRoaXMuZXh0cmFCb3VuZHNbb2JqaW5kZXhdO1xyXG4gICAgdGhpcy51cGRhdGVDb29yZHNBbmRab29tKGV4dHJhQm91bmRzW2tleU5hbWVdKTtcclxuICB9XHJcblxyXG4gIHZpZXdJbml0Qm91bmRzKGR1cmF0aW9uKXtcclxuICAgIHRoaXMudXBkYXRlQ29vcmRzQW5kWm9vbSh0aGlzLm1heEJvdW5kcyk7XHJcbiAgfVxyXG4gIHNob3dTb3VyY2VYSXRlbVkoc291cmNlSW5kZXgsIGl0ZW1JbmRleCkge1xyXG4gICAgdGhpcy51cGRhdGVDb29yZHNBbmRab29tKHRoaXMuZGF0YUxpc3Rbc291cmNlSW5kZXhdW2l0ZW1JbmRleF0pXHJcbiAgfVxyXG5cclxuICBpbml0TWFwU291cmNlc0FuZExheWVycygpIHtcclxuICAgIGlmICh0aGlzLmluaXRpYWxpc2VkKSByZXR1cm47XHJcbiAgICB0aGlzLmluaXRpYWxpc2VkID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgdGhpcy5kYXRhU291cmNlT2JqZWN0cy5tYXAoZGF0YVNvdXJjZSA9PiB7XHJcbiAgICAgIHRoaXMubWFwLmFkZFNvdXJjZShkYXRhU291cmNlWydzb3VyY2VOYW1lJ10sIHtcclxuICAgICAgICB0eXBlOiBkYXRhU291cmNlWydzb3VyY2VUeXBlJ10sXHJcbiAgICAgICAgZGF0YTogZGF0YVNvdXJjZVsnc291cmNlRGF0YSddXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZihkYXRhU291cmNlWydsYXllclR5cGUnXSA9PT0gJ2ZpbGwnKXtcclxuICAgICAgICB0aGlzLm1hcC5hZGRMYXllcih7XHJcbiAgICAgICAgICBpZDogZGF0YVNvdXJjZVsnc291cmNlTmFtZSddLFxyXG4gICAgICAgICAgdHlwZTogZGF0YVNvdXJjZVsnbGF5ZXJUeXBlJ10sXHJcbiAgICAgICAgICBzb3VyY2U6IGRhdGFTb3VyY2VbJ3NvdXJjZU5hbWUnXSxcclxuICAgICAgICAgIHBhaW50OiB7XHJcbiAgICAgICAgICAgICdmaWxsLWNvbG9yJzogZGF0YVNvdXJjZVsnY29sb3InXSxcclxuICAgICAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IGRhdGFTb3VyY2VbJ29wYWNpdHknXVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmKGRhdGFTb3VyY2VbJ2xheWVyVHlwZSddID09PSAnY2lyY2xlJyl7XHJcbiAgICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIoe1xyXG4gICAgICAgICAgaWQ6IGRhdGFTb3VyY2VbJ3NvdXJjZU5hbWUnXSxcclxuICAgICAgICAgIHR5cGU6IGRhdGFTb3VyY2VbJ2xheWVyVHlwZSddLFxyXG4gICAgICAgICAgc291cmNlOiBkYXRhU291cmNlWydzb3VyY2VOYW1lJ10sXHJcbiAgICAgICAgICBwYWludDoge1xyXG4gICAgICAgICAgICAnY2lyY2xlLWNvbG9yJzogWydtYXRjaCcsIFtcImdldFwiLCBcInN0YXR1dFwiXSwgJ1JlY2hlcmNoZXMgZWZmZWN0dcOpZXMgb3UgZW4gY291cnMnLCAnI2ZmNTYxYycsICdQaGFzZSBwcsOpbGltaW5haXJlJywgJyNmZmM3MzQnLCAnI2I3YjdiNyddLFxyXG4gICAgICAgICAgICAnY2lyY2xlLXJhZGl1cyc6IDVcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG5cclxuICBjaGFuZ2VMYXllclBhaW50KGlkLCBwcm9wZXJ0eSwgdmFsdWUpe1xyXG4gICAgdGhpcy5tYXAuc2V0UGFpbnRQcm9wZXJ0eShpZCwgcHJvcGVydHksIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIHNldHVwSGFuZGxlcnMoKXtcclxuICAgIFxyXG4gICAgdGhpcy5tYXAub24oXCJtb3VzZW92ZXJcIiwgXCJwZW5zaW9ubmF0c1NvdXJjZVwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLm1hcC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcclxuICAgICAgdGhpcy5kcmF3UG9wdXAoZSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMubWFwLm9uKFwibW91c2VvdXRcIiwgXCJwZW5zaW9ubmF0c1NvdXJjZVwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLm1hcC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMubWFwLm9uKFwiY2xpY2tcIiwgXCJwZW5zaW9ubmF0c1NvdXJjZVwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMubWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgICB0aGlzLmRyYXdQb3B1cChlKTtcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG4gIH1cclxuXHJcbiAgZHJhd1BvcHVwKGUpe1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSBlLmZlYXR1cmVzWzBdLmdlb21ldHJ5LmNvb3JkaW5hdGVzLnNsaWNlKCk7XHJcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gZS5mZWF0dXJlc1swXS5wcm9wZXJ0aWVzO1xyXG4gICAgbGV0IFtvcGVuZGF5c3RyLCBvcGVubW9udGhzdHIsIG9wZW55ZWFyc3RyXSA9IHByb3BlcnRpZXNbJ291dmVydHVyZSddLnNwbGl0KCcvJyk7XHJcbiAgICBsZXQgW2Zlcm1kYXlzdHIsIGZlcm1tb250aHN0ciwgZmVybXllYXJzdHJdID0gcHJvcGVydGllc1snZmVybWV0dXJlJ10uc3BsaXQoJy8nKTtcclxuICAgIGxldCBbZGF0ZV9vdXZlcnR1cmUsZGF0ZV9mZXJtZXR1cmVdID0gW1xyXG4gICAgICBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImZyLUNBXCIsIHtkYXRlU3R5bGU6XCJsb25nXCJ9KS5mb3JtYXQobmV3IERhdGUoRGF0ZS5VVEMob3BlbnllYXJzdHIsIG9wZW5tb250aHN0ciwgb3BlbmRheXN0cikpKSxcclxuICAgICAgbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJmci1DQVwiLCB7ZGF0ZVN0eWxlOlwibG9uZ1wifSkuZm9ybWF0KG5ldyBEYXRlKERhdGUuVVRDKGZlcm15ZWFyc3RyLCBmZXJtbW9udGhzdHIsIGZlcm1kYXlzdHIpKSlcclxuICAgIF07XHJcbiAgICBsZXQgaHRtbF9wb3B1cF9jb250ZW50ID0gYFxyXG4gICAgICA8aDM+JHtwcm9wZXJ0aWVzWyduYW1lJ119PC9oMz5cclxuICAgICAgPGg0PiR7cHJvcGVydGllc1sndmlsbGUnXX0sICR7cHJvcGVydGllc1sncHJvdmluY2UnXX08L2g0PlxyXG4gICAgICA8cD4ke2RhdGVfb3V2ZXJ0dXJlfSAtICR7ZGF0ZV9mZXJtZXR1cmV9PC9wPlxyXG4gICAgICA8cD4ke3Byb3BlcnRpZXNbJ3N0YXR1dCddfTwvcD5cclxuICAgIGA7XHJcbiAgICB3aGlsZSAoTWF0aC5hYnMoZS5sbmdMYXQubG5nIC0gY29vcmRpbmF0ZXNbMF0pID4gMTgwKSB7XHJcbiAgICAgIGNvb3JkaW5hdGVzWzBdICs9IGUubG5nTGF0LmxuZyA+IGNvb3JkaW5hdGVzWzBdID8gMzYwIDogLTM2MDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKClcclxuICAgICAgLnNldExuZ0xhdChjb29yZGluYXRlcylcclxuICAgICAgLnNldEhUTUwoaHRtbF9wb3B1cF9jb250ZW50KVxyXG4gICAgICAuYWRkVG8odGhpcy5tYXApO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIGlmICh0aGlzLnBvcHVwKSB7XHJcbiAgICAgIHRoaXMucG9wdXAucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGVEYXRhKGRhdGFTb3VyY2VOYW1lLCBkYXRhKSB7XHJcbiAgICBpZiAoIXRoaXMuaW5pdGlhbGlzZWQpIHRoaXMuaW5pdE1hcFNvdXJjZXNBbmRMYXllcnMoKTtcclxuICAgIHRoaXMubWFwLmdldFNvdXJjZShkYXRhU291cmNlTmFtZSkuc2V0RGF0YShkYXRhKTtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcclxuXHJcbmNvbnN0IHBvc2l0aXZlT3JkZXJEaWN0ID0ge1xyXG4gICAgXCJsYW5kX3NpbmtcIjowLFxyXG4gICAgXCJmb3NzaWxfZW1pc3Npb25zXCI6MSxcclxuICAgIFwibGFuZF91c2VfY2hhbmdlXCI6Mn07XHJcblxyXG5jb25zdCBuZWdhdGl2ZU9yZGVyRGljdCA9IHtcIm9jZWFuX3NpbmtcIjowLFxyXG4gICAgXCJhdG1vc19zaW5rXCI6MSxcclxuICAgIFwibGFuZF9zaW5rXCI6Mn07XHJcblxyXG5jb25zdCBjb2xvckRpY3QgPSB7XHJcblxyXG4gICAgZm9zc2lsX2VtaXNzaW9uczogXCIjYjdjM2MzXCIsXHJcbiAgICBsYW5kX3VzZV9jaGFuZ2U6IFwiI0VGRTY2RlwiLFxyXG4gICAgbGFuZF9zaW5rOiBcIiNhNWRhYThcIixcclxuICAgIG9jZWFuX3Npbms6IFwiIzc1YTNiMVwiLFxyXG4gICAgYXRtb3Nfc2luazogXCIjODljZmYwXCIsXHJcbiAgICBjZW1lbnRfc2luazogXCIjYTJhMTk4XCJcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIHN0YWNrZWRBcmVhQ2hhcnR7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3Znb2JqLCByYXdkYXRhKXtcclxuXHJcbiAgICAgICAgdGhpcy5zdmdPYmogPSBzdmdvYmo7XHJcbiAgICAgICAgdGhpcy5zdmdXaWR0aCA9IHRoaXMuc3ZnT2JqLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICB0aGlzLnN2Z0hlaWdodCA9IHRoaXMuc3ZnT2JqLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jaGFydFdpZHRoID0gdGhpcy5zdmdXaWR0aCAqIDAuOTtcclxuICAgICAgICB0aGlzLmNoYXJ0SGVpZ2h0ID0gdGhpcy5zdmdIZWlnaHQgKiAwLjk7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5jbGVhbkRhdGEocmF3ZGF0YSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NzdkRhdGE6JywgdGhpcy5kYXRhKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5tYWluR3JvdXAgPSB0aGlzLnN2Z09iai5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCB0aGlzLmNoYXJ0V2lkdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCB0aGlzLmNoYXJ0SGVpZ2h0KVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgkeyh0aGlzLnN2Z1dpZHRoLXRoaXMuY2hhcnRXaWR0aCkvMn0sJHsodGhpcy5zdmdIZWlnaHQtdGhpcy5jaGFydEhlaWdodCkvMn0pYCk7XHJcbiAgICAgICAgdGhpcy5pbml0Q2hhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhbkRhdGEoZGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIGRhdGEubWFwKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHllYXI6IHllYXJEYXRhW1wiQW5uw6llXCJdLFxyXG4gICAgICAgICAgICAgICAgZm9zc2lsX2VtaXNzaW9uczogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCLDiW1pc3Npb25zIGlzc3VlcyBkZXMgw6luZXJnaWVzIGZvc3NpbGVzXCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgbGFuZF91c2VfY2hhbmdlOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIkNoYW5nZW1lbnQgZCdhZmZlY3RhdGlvbiBkZXMgdGVycmVzXCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgbGFuZF9zaW5rOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIlB1aXRzIHRlcnJlc3RyZVwiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIG9jZWFuX3Npbms6IHBhcnNlRmxvYXQoU3RyaW5nKHllYXJEYXRhW1wiT2PDqWFuXCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgYXRtb3Nfc2luazogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCJBdG1vc3Bow6hyZVwiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIGNlbWVudF9zaW5rOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIlB1aXRzIGRlIGNpbWVudFwiXSkucmVwbGFjZSgnLCcsXCIuXCIpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENoYXJ0KCl7XHJcblxyXG4gICAgICAgIGxldCBsZWdlbmREYXRhID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCLDiW1pc3Npb25zIGlzc3VlcyBkZXMgw6luZXJnaWVzIGZvc3NpbGVzXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJmb3NzaWxfZW1pc3Npb25zXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2hhbmdlbWVudCBkJ2FmZmVjdGF0aW9uIGRlcyB0ZXJyZXNcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcImxhbmRfdXNlX2NoYW5nZVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlB1aXRzIHRlcnJlc3RyZVwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwibGFuZF9zaW5rXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiT2PDqWFuXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJvY2Vhbl9zaW5rXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQXRtb3NwaMOocmVcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcImF0bW9zX3NpbmtcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgY29uc3QgeEF4aXMgPSB0aGlzLmRyYXdYQXhpcyh0aGlzLm1haW5Hcm91cCwgdGhpcy5jaGFydFdpZHRoLCB0aGlzLmRhdGEpO1xyXG4gICAgICAgIGNvbnN0IHlBeGlzID0gdGhpcy5kcmF3WUF4aXModGhpcy5tYWluR3JvdXAsIHRoaXMuY2hhcnRIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuZHJhd0FyZWFzKHRoaXMubWFpbkdyb3VwLCB4QXhpcywgeUF4aXMpO1xyXG4gICAgICAgIC8vdGhpcy5kcmF3UmVjdGFuZ2xlcyh0aGlzLm1haW5Hcm91cCwgeEF4aXMsIHlBeGlzKTtcclxuICAgICAgICB0aGlzLmRyYXdUaXRsZSh0aGlzLm1haW5Hcm91cCk7XHJcbiAgICAgICAgdGhpcy5kcmF3Qm90dG9tQm94KHRoaXMubWFpbkdyb3VwLCB0aGlzLmNoYXJ0V2lkdGgpXHJcbiAgICAgICAgdGhpcy5kcmF3RGV0YWlscyh0aGlzLm1haW5Hcm91cCwgbGVnZW5kRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge2QzLlNlbGVjdGlvbn0gY29udGFpbmVyIGQzIHNlbGVjdGlvblxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIHdpZHRoIG9mIHRoZSBjaGFydFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgZGF0YSBPYmogY29udGFpbmluZyBzZXJpZXMgYW5kIGRvbWFpbnNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBheGlzVGl0bGUgeCBheGlzIHRpdGxlXHJcbiAgICAgKi9cclxuICAgICBkcmF3WEF4aXMoY29udGFpbmVyLCB3aWR0aCwgZGF0YSwgYXhpc1RpdGxlKXtcclxuXHJcbiAgICAgICAgY29uc3QgeEF4aXNHcm91cCA9IGNvbnRhaW5lci5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCAneEF4aXNHcm91cCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7MH0sJHt0aGlzLmNoYXJ0SGVpZ2h0KjAuOTB9KWApO1xyXG5cclxuICAgICAgICBjb25zdCBzY2FsZSA9IGQzLnNjYWxlQmFuZCgpXHJcbiAgICAgICAgICAgIC5kb21haW4oZGF0YS5tYXAoZWxlbSA9PiBlbGVtLnllYXIpKVxyXG4gICAgICAgICAgICAucmFuZ2UoW3RoaXMuY2hhcnRXaWR0aCowLjA1LCB3aWR0aF0pO1xyXG5cclxuICAgICAgICBjb25zdCBheGlzID0gZDMuYXhpc0JvdHRvbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zY2FsZShzY2FsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpY2tTaXplT3V0ZXIoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpY2tWYWx1ZXMoc2NhbGUuZG9tYWluKCkuZmlsdGVyKChkLGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoaSsxMCklMjAgPT09IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGlja0Zvcm1hdCgoZCxpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zcGxpdCgnLScpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB4QXhpc0dyb3VwLmNhbGwoYXhpcylcclxuICAgICAgICAgICAgLmNhbGwoZyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aWNrR3JvdXBzID0gZy5zZWxlY3RBbGwoXCIudGlja1wiKTtcclxuICAgICAgICAgICAgICAgIHRpY2tHcm91cHMuc2VsZWN0KCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNDAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnZ3JhcGhpaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTRwdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgKGQsaSkgPT4gaSA9PT0gdGlja0dyb3Vwcy5ub2RlcygpLmxlbmd0aC0xID8gXCJlbmRcIiA6IFwibWlkZGxlXCIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICByZXR1cm4gc2NhbGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge2QzLlNlbGVjdGlvbn0gY29udGFpbmVyIGQzIHNlbGVjdGlvblxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIHdpZHRoIG9mIHRoZSBjaGFydFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgZGF0YSBPYmogY29udGFpbmluZyBzZXJpZXMgYW5kIGRvbWFpbnNcclxuICAgICAqL1xyXG4gICAgIGRyYXdZQXhpcyhjb250YWluZXIsIGhlaWdodCl7XHJcblxyXG4gICAgICAgIGNvbnN0IHlBeGlzR3JvdXAgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3lBeGlzR3JvdXAnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2hhcnRXaWR0aCowLjA1fSwkezB9KWApO1xyXG5cclxuICAgICAgICBjb25zdCBzY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAgICAgLmRvbWFpbihbMTIsLTEyXSlcclxuICAgICAgICAgICAgLnJhbmdlKFswLGhlaWdodCowLjkwXSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGF4aXMgPSBkMy5heGlzTGVmdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zY2FsZShzY2FsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpY2tTaXplT3V0ZXIoMCk7XHJcbiAgICAgICAgeUF4aXNHcm91cC5jYWxsKGF4aXMpXHJcbiAgICAgICAgICAgIC5jYWxsKGcgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGlja0dyb3VwcyA9IGcuc2VsZWN0QWxsKFwiLnRpY2tcIik7XHJcbiAgICAgICAgICAgICAgICB0aWNrR3JvdXBzLnNlbGVjdCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDQwMClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ2dyYXBoaWsnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEycHQnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAncm90YXRlKC05MCknKVxyXG4gICAgICAgICAgICAuYXR0cihcInlcIiwgMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIC1zY2FsZSgwKSlcclxuICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi0zZW1cIilcclxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMnB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LWZhbWlseScsICdncmFwaGlrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsICc2MDAnKVxyXG4gICAgICAgICAgICAudGV4dChcIkZsdXggZGUgQ08yIChHdEMgLyBhbm7DqWUpXCIpO1xyXG4gICAgICAgIHJldHVybiBzY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3QXJlYXMoY29udGFpbmVyLCB4U2NhbGUsIHlTY2FsZSl7XHJcblxyXG4gICAgICAgIGxldCBwb3NpdGl2ZV9wYXRoc19hcnJheSA9IHt9O1xyXG4gICAgICAgIGxldCBuZWdhdGl2ZV9wYXRoc19hcnJheSA9IHt9O1xyXG5cclxuICAgICAgICBjb25zdCBwb3NEYXRhID0gdGhpcy5kYXRhLm1hcCh5ZWFyRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwb3NFbGVtcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgY3VyVG90YWwgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY3VyWWVhciA9IHllYXJEYXRhLnllYXI7XHJcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHllYXJEYXRhKS5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgIGlmKGN1ckVsZW0+MCAmJiBlbnRyeVswXSAhPT0gXCJ5ZWFyXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc0VsZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVudHJ5WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGN1clRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyVG90YWwgKz0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKGVudHJ5WzBdID09PSBcImNlbWVudF9zaW5rXCIpeyAvLyBBZGQgY2VtZW50IHNpbmsgdG8gcmVtb3ZlIGl0IGFmdGVyd2FyZHMgKGluIGZvc3NpbCBmdWVsKSAgXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVudHJ5WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnlbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcG9zRWxlbXMuc29ydCgoYSxiKSA9PiBwb3NpdGl2ZU9yZGVyRGljdFthLnR5cGVdIC0gcG9zaXRpdmVPcmRlckRpY3RbYi50eXBlXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5lZ0RhdGEgPSB0aGlzLmRhdGEubWFwKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgbGV0IG5lZ0VsZW1zID0gW107XHJcbiAgICAgICAgICAgIGxldCBjdXJUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjdXJZZWFyID0geWVhckRhdGEueWVhcjtcclxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoeWVhckRhdGEpLnNvcnQoKGEsYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lZ2F0aXZlT3JkZXJEaWN0W2FbMF1dIC0gbmVnYXRpdmVPcmRlckRpY3RbYlswXV07XHJcbiAgICAgICAgICAgIH0pLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyRWxlbSA9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgaWYoY3VyRWxlbTwwICYmIGVudHJ5WzBdICE9PSBcInllYXJcIiAmJiBlbnRyeVswXSAhPT0gXCJjZW1lbnRfc2lua1wiICl7XHJcbiAgICAgICAgICAgICAgICAgICAgbmVnRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVudHJ5WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnlbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogY3VyVG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJUb3RhbCArPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmV0dXJuIG5lZ0VsZW1zOy8vLnNvcnQoKGEsYikgPT4gbmVnYXRpdmVPcmRlckRpY3RbYS50eXBlXSAtIG5lZ2F0aXZlT3JkZXJEaWN0W2IudHlwZV0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnZ290IG5lZ0RhdGE6ICcsIG5lZ0RhdGEpO1xyXG5cclxuICAgICAgICBsZXQgYXJlYUdlbiA9IGQzLmFyZWEoKVxyXG4gICAgICAgICAgICAueChkID0+IHhTY2FsZShkLmN1clllYXIpKVxyXG4gICAgICAgICAgICAueTAoZCA9PiB5U2NhbGUoZC5jdXJUb3QpKVxyXG4gICAgICAgICAgICAueTEoZCA9PiB5U2NhbGUoZC5jdXJUb3QrZC52YWx1ZSkpO1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHBvc2l0aXZlT3JkZXJEaWN0KS5mb3JFYWNoKG9yZGVyT2JqID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJLZXkgPSBvcmRlck9ialswXTtcclxuICAgICAgICAgICAgbGV0IGN1ck9yZGVyVmFsdWUgPSBvcmRlck9ialsxXTtcclxuICAgICAgICAgICAgbGV0IGN1clBhdGhBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBwb3NEYXRhLmZvckVhY2goeWVhckRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSB5ZWFyRGF0YVswXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJZZWFyID0gY3VyRWxlbVsnY3VyWWVhciddO1xyXG4gICAgICAgICAgICAgICAgbGV0IGtleU9iaiA9IHllYXJEYXRhLmZpbHRlcihlbGVtID0+IGN1cktleSA9PT0gZWxlbS50eXBlKTtcclxuICAgICAgICAgICAgICAgIGxldCBjZW1lbnRPYmogPSB5ZWFyRGF0YS5maWx0ZXIoZWxlbSA9PiAnY2VtZW50X3NpbmsnID09PSBlbGVtLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihrZXlPYmoubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJLZXkgPT09IFwiZm9zc2lsX2VtaXNzaW9uc1wiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY3VyS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDoga2V5T2JqWzBdLmN1clRvdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlPYmpbMF0udmFsdWUgLSBNYXRoLmFicyhjZW1lbnRPYmpbMF0udmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY3VyS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDoga2V5T2JqWzBdLmN1clRvdC0gTWF0aC5hYnMoY2VtZW50T2JqWzBdLnZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlPYmpbMF0udmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCB6ZXJvXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjdXJLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHBvc2l0aXZlX3BhdGhzX2FycmF5W2N1cktleV0gPSBjdXJQYXRoQXJyYXk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpdmVQYXRocyA9IHRoaXMubWFpbkdyb3VwLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdwb3NpdGl2ZVBhdGhzJyk7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHBvc2l0aXZlX3BhdGhzX2FycmF5KS5mb3JFYWNoKGNhdGVnb3J5T2JqID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cktleSA9IGNhdGVnb3J5T2JqWzBdO1xyXG4gICAgICAgICAgICBsZXQgY3VyQXJyYXkgPSBjYXRlZ29yeU9ialsxXTtcclxuXHJcbiAgICAgICAgICAgIHBvc2l0aXZlUGF0aHMuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsIGN1cktleSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgICAgICAgICAgLmRhdHVtKGN1ckFycmF5KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjb2xvckRpY3RbY3VyS2V5XSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZCcsIGQgPT4gYXJlYUdlbihkKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG5lZ2F0aXZlT3JkZXJEaWN0KS5zb3J0KChhLGIpID0+IGJbMV0gLSBhWzFdKS5mb3JFYWNoKG9yZGVyT2JqID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJLZXkgPSBvcmRlck9ialswXTtcclxuICAgICAgICAgICAgbGV0IGN1ck9yZGVyVmFsdWUgPSBvcmRlck9ialsxXTtcclxuICAgICAgICAgICAgbGV0IGN1clBhdGhBcnJheSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgbmVnRGF0YS5mb3JFYWNoKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0geWVhckRhdGFbMF07XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyWWVhciA9IGN1ckVsZW1bJ2N1clllYXInXTtcclxuICAgICAgICAgICAgICAgIGxldCBrZXlPYmogPSB5ZWFyRGF0YS5maWx0ZXIoZWxlbSA9PiBjdXJLZXkgPT09IGVsZW0udHlwZSk7XHJcbiAgICAgICAgICAgICAgICBpZihrZXlPYmoubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBjdXJQYXRoQXJyYXkucHVzaChrZXlPYmpbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCB6ZXJvXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjdXJLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5lZ2F0aXZlX3BhdGhzX2FycmF5W2N1cktleV0gPSBjdXJQYXRoQXJyYXk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgbmVnYXRpdmVQYXRocyA9IHRoaXMubWFpbkdyb3VwLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICduZWdhdGl2ZXBhdGhzJyk7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG5lZ2F0aXZlX3BhdGhzX2FycmF5KS5mb3JFYWNoKGNhdGVnb3J5T2JqID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cktleSA9IGNhdGVnb3J5T2JqWzBdO1xyXG4gICAgICAgICAgICBsZXQgY3VyQXJyYXkgPSBjYXRlZ29yeU9ialsxXTtcclxuXHJcbiAgICAgICAgICAgIG5lZ2F0aXZlUGF0aHMuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsIGN1cktleSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgICAgICAgICAgLmRhdHVtKGN1ckFycmF5KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjb2xvckRpY3RbY3VyS2V5XSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZCcsIGQgPT4gYXJlYUdlbihkKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIERyYXcgbGluZVxyXG4gICAgICAgIGNvbnN0IGxpbmVHZW4gPSBkMy5saW5lKCkueChkID0+IHhTY2FsZShkLnllYXIpKS55KGQgPT4geVNjYWxlKGQudmFsdWUpKTtcclxuXHJcbiAgICAgICAgbGV0IG5lZ1llYXJUb3RhbCA9IFtdO1xyXG4gICAgICAgIGxldCBwb3NZZWFyVG90YWwgPSBbXTtcclxuICAgICAgICBwb3NEYXRhLmZvckVhY2goeWVhckRhdGEgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5pdFZhbHVlID0gMDtcclxuICAgICAgICAgICAgbGV0IGN1clZhbHVlID0geWVhckRhdGEucmVkdWNlKChwcmV2VmFsLGN1clZhbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlZHVjaW5nLi4uJywgcHJldlZhbCAsIGN1clZhbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldlZhbCArIGN1clZhbC52YWx1ZTtcclxuICAgICAgICAgICAgfSwgaW5pdFZhbHVlKTtcclxuICAgICAgICAgICAgbmVnWWVhclRvdGFsLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgeWVhcjogeWVhckRhdGFbMF0uY3VyWWVhcixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAtY3VyVmFsdWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHBvc1llYXJUb3RhbC5wdXNoKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IHllYXJEYXRhWzBdLmN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1clZhbHVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygneWVhciB0b3RhbDonLCApO1xyXG5cclxuICAgICAgICB2YXIgcG9zbGluZSA9IGQzLnNlbGVjdCgnc3ZnJylcclxuICAgICAgICAgICAgLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgICAgIC5kYXR1bShwb3NZZWFyVG90YWwpXHJcbiAgICAgICAgICAgIC5hdHRyKCdkJywgbGluZUdlbilcclxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jaGFydFdpZHRoKjAuMDUgKyB4U2NhbGUuYmFuZHdpZHRoKCl9LCR7TWF0aC5hYnMoeVNjYWxlKDIqMC43NCkteVNjYWxlKDApKX0pYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIG5lZ2xpbmUgPSBkMy5zZWxlY3QoJ3N2ZycpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuZGF0dW0obmVnWWVhclRvdGFsKVxyXG4gICAgICAgICAgICAuYXR0cignZCcsIGxpbmVHZW4pXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJzdHJva2UtZGFzaGFycmF5XCIsIChcIjMsIDNcIikpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jaGFydFdpZHRoKjAuMDUgKyB4U2NhbGUuYmFuZHdpZHRoKCl9LCR7TWF0aC5hYnMoeVNjYWxlKDIqMC43NCkteVNjYWxlKDApKX0pYCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdUaXRsZShjb250YWluZXIpe1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsICh0aGlzLnN2Z1dpZHRoIC0gdGhpcy5jaGFydFdpZHRoKSAvIDIgKyB0aGlzLmNoYXJ0V2lkdGgqMC4wNSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCAodGhpcy5zdmdIZWlnaHQgLSB0aGlzLmNoYXJ0SGVpZ2h0KS8yIC0gNTApXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTdwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnZ3JhcGhpaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCAnNjAwJylcclxuICAgICAgICAgICAgLnRleHQoXCJMZSB0aXRyZSBkdSBncmFwaGlxdWVcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywodGhpcy5zdmdXaWR0aCAtIHRoaXMuY2hhcnRXaWR0aCkgLyAyICsgdGhpcy5jaGFydFdpZHRoKjAuMDUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgKHRoaXMuc3ZnSGVpZ2h0IC0gdGhpcy5jaGFydEhlaWdodCkvMiAtIDI1KVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEzcHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ2dyYXBoaWsnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgJzQwMCcpXHJcbiAgICAgICAgICAgIC50ZXh0KFwiTGUgc291cy10aXRyZSBkdSBncmFwaGlxdWVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0JvdHRvbUJveChjb250YWluZXIsIHdpZHRoKXtcclxuXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdzdG9rZS13aWR0aCcsIDEpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDAuMylcclxuICAgICAgICAgICAgLmF0dHIoXCJ4MVwiLCB0aGlzLmNoYXJ0V2lkdGgqMC4wNSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCB0aGlzLmNoYXJ0SGVpZ2h0LTMwKVxyXG4gICAgICAgICAgICAuYXR0cihcIngyXCIsIHRoaXMuY2hhcnRXaWR0aClcclxuICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCB0aGlzLmNoYXJ0SGVpZ2h0LTMwKTtcclxuXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy5jaGFydFdpZHRoKjAuMDUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jaGFydEhlaWdodC0xNylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDYwMClcclxuICAgICAgICAgICAgLnRleHQoJ0dyYXBoaXF1ZSA6JylcclxuICAgICAgICAgICAgLmFwcGVuZCgndHNwYW4nKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY2hhcnRXaWR0aCowLjA1KyA2NSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLmNoYXJ0SGVpZ2h0LTE3KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNDAwKVxyXG4gICAgICAgICAgICAudGV4dCgnTGUgRGV2b2lyIC0gJyk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy5jaGFydFdpZHRoKjAuMDUgKyAxMjIpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jaGFydEhlaWdodC0xNylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDYwMClcclxuICAgICAgICAgICAgLnRleHQoJ1NvdXJjZSA6JylcclxuICAgICAgICAgICAgLmFwcGVuZCgndHNwYW4nKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY2hhcnRXaWR0aCowLjA1ICsgMTY5KVxyXG4gICAgICAgICAgICAuYXR0cigneScsIHRoaXMuY2hhcnRIZWlnaHQtMTcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA0MDApXHJcbiAgICAgICAgICAgIC50ZXh0KCcgLi4uICcpO1xyXG5cclxuICAgICAgICAvLyBjb250YWluZXIuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3gnLCB0aGlzLnN2Z1dpZHRoKjAuMSlcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3knLCB0aGlzLnN2Z0hlaWdodCowLjk1MSlcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDYwMClcclxuICAgICAgICAvLyAgICAgLnRleHQoJ05vdGUgOicpXHJcbiAgICAgICAgLy8gICAgIC5hcHBlbmQoJ3RzcGFuJylcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3gnLCB0aGlzLnN2Z1dpZHRoKjAuMSszNSlcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3knLCB0aGlzLnN2Z0hlaWdodCowLjk1MSlcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDQwMClcclxuICAgICAgICAvLyAgICAgLnRleHQoJ0Rvbm7DqWVzIGNvbGxlY3TDqWVzIGRlcHVpcyBodHRwczovL2Rvbm5lZXMubW9udHJlYWwuY2EvdmlsbGUtZGUtbW9udHJlYWwvY29tcHRhZ2UtdmVoaWN1bGVzLXBpZXRvbnMnKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3RGV0YWlscyhjb250YWluZXIsIGxlZ2VuZERhdGEpe1xyXG5cclxuICAgICAgICBjb25zdCBsZWdlbmRDb250YWluZXIgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZ2VuZENvbnRhaW5lcicpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7KHRoaXMuc3ZnV2lkdGggLSB0aGlzLmNoYXJ0V2lkdGgpIC8gMiArICh0aGlzLmNoYXJ0V2lkdGgqMC4wNSArIDEwKX0sJHt0aGlzLnN2Z0hlaWdodCowLjA3fSlgKTtcclxuXHJcbiAgICAgICAgY29uc3Qgcm93cyA9IGxlZ2VuZENvbnRhaW5lci5zZWxlY3RBbGwoJ2cnKVxyXG4gICAgICAgICAgICAuZGF0YShsZWdlbmREYXRhKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZ2VuZFJvdycpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCxpKSA9PiBgdHJhbnNsYXRlKDAsJHtpKjIwfSlgKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgcm93cy5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjeCcsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCdjeScsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCdyJywgOClcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IGNvbG9yRGljdFtkLmNvbG9yXSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHJvd3MuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCAxOClcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCA0KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNTAwKVxyXG4gICAgICAgICAgICAudGV4dCggZCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5sYWJlbDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdSZWN0YW5nbGVzKGNvbnRhaW5lciwgeFNjYWxlLCB5U2NhbGUpeyAvLyBub3QgdXNlZFxyXG5cclxuICAgICAgICBjb25zdCBwb3NpdGl2ZUFyZWFHcm91cCA9IGNvbnRhaW5lci5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdwb3NBcmVhZ3JvdXAnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHswfSlgKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmVnYXRpdmVBcmVhR3JvdXAgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignaWQnLCAnbmVnQXJlYWdyb3VwJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCR7MH0pYCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBvc1llYXJHcm91cHMgPSBwb3NpdGl2ZUFyZWFHcm91cC5zZWxlY3RBbGwoJ2cnKVxyXG4gICAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCBkID0+IGB5ZWFyXyR7ZC55ZWFyfWApO1xyXG4gICAgICAgIGNvbnN0IHBvc1JlY3RzID0gcG9zWWVhckdyb3Vwcy5zZWxlY3RBbGwoJ3JlY3QnKVxyXG4gICAgICAgICAgICAuZGF0YShkID0+IHsgXHJcbiAgICAgICAgICAgICAgICBsZXQgcG9zRWxlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyWWVhciA9IGQueWVhcjtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGQpLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJFbGVtPjAgJiYgZW50cnlbMF0gIT09IFwieWVhclwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRyeVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogY3VyVG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3RhbCArPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc0VsZW1zLnNvcnQoKGEsYikgPT4gcG9zaXRpdmVPcmRlckRpY3RbYS50eXBlXSAtIHBvc2l0aXZlT3JkZXJEaWN0W2IudHlwZV0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBgJHtkLnR5cGV9XyR7ZC52YWx1ZX1gKVxyXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCB4U2NhbGUuYmFuZHdpZHRoKCkpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCAoZCxpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoeVNjYWxlKDApIC0geVNjYWxlKGQudmFsdWUpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBkID0+IHhTY2FsZShkLmN1clllYXIpKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIGQgPT4gKHlTY2FsZSgwKSAtIChNYXRoLmFicyh5U2NhbGUoMCkgLSB5U2NhbGUoZC52YWx1ZSkpKSAtIChNYXRoLmFicyh5U2NhbGUoMCkgLSB5U2NhbGUoZC5jdXJUb3QpKSkpKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsIGQgPT4gY29sb3JEaWN0W2QudHlwZV0pO1xyXG5cclxuICAgICAgICBjb25zdCBuZWdhdGl2ZVllYXJHcm91cHMgPSBuZWdhdGl2ZUFyZWFHcm91cC5zZWxlY3RBbGwoJ2cnKVxyXG4gICAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCBkID0+IGB5ZWFyXyR7ZC55ZWFyfWApO1xyXG5cclxuICAgICAgICBjb25zdCBuZWdSZWN0cyA9IG5lZ2F0aXZlWWVhckdyb3Vwcy5zZWxlY3RBbGwoJ3JlY3QnKVxyXG4gICAgICAgICAgICAuZGF0YShkID0+IHsgXHJcbiAgICAgICAgICAgICAgICBsZXQgbmVnRWxlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyWWVhciA9IGQueWVhcjtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGQpLmZpbHRlcihlbGVtID0+IGVsZW1bMV08MCkuc29ydCgoYSxiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYVZhbCA9IG5lZ2F0aXZlT3JkZXJEaWN0W2FbMF1dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJWYWwgPSBuZWdhdGl2ZU9yZGVyRGljdFtiWzBdXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVZhbCAtIGJWYWw7XHJcbiAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZW50cnlbMF0gIT09IFwieWVhclwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmVnRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRyeVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogY3VyVG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3RhbCArPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lZ0VsZW1zO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBgJHtkLnR5cGV9XyR7ZC52YWx1ZX1gKVxyXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCB4U2NhbGUuYmFuZHdpZHRoKCkpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCAoZCxpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoeVNjYWxlKDApIC0geVNjYWxlKE1hdGguYWJzKGQudmFsdWUpKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZCA9PiB4U2NhbGUoZC5jdXJZZWFyKSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCBkID0+ICh5U2NhbGUoZC5jdXJUb3QpKSlcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IGNvbG9yRGljdFtkLnR5cGVdKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xyXG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2F1Z2VzKHByb3BzKXtcclxuICBjb25zdCBtYXhXaWR0aFZhbHVlID0gNTA7XHJcbiAgY29uc3QgY2FsY3VsYXRlR2F1Z2VXaWR0aCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGdhdWdlc0VsZW1zID0gZDMuc2VsZWN0KCcuZ2F1Z2VzJykuc2VsZWN0QWxsKCcuZ2F1Z2UnKTtcclxuICAgIGdhdWdlc0VsZW1zLm5vZGVzKCkuZm9yRWFjaCgobm9kZSkgPT4ge1xyXG4gICAgICBsZXQgY3VyV2lkdGggPSBtYXhXaWR0aFZhbHVlO1xyXG4gICAgICBpZihkMy5zZWxlY3Qobm9kZSkuYXR0cignaWQnKSA9PT0gXCJkb2xsYXJzXCIpe1xyXG4gICAgICAgIGN1cldpZHRoID0gcHJvcHMuZG9sbGFycztcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBjb21taXR0ZWRWYWx1ZSA9IGN1cldpZHRoID4gMCA/IE1hdGgucm91bmQocHJvcHMuY29tbWl0dGVkL21heFdpZHRoVmFsdWUqMTAwKSA6IDA7XHJcbiAgICAgIGNvbnN0IGdhdWdlVmFsdWUgPSBjdXJXaWR0aCA+IDAgPyBNYXRoLnJvdW5kKGN1cldpZHRoL21heFdpZHRoVmFsdWUqMTAwKSA6IDA7XHJcbiAgICAgIGQzLnNlbGVjdChub2RlKS5zZWxlY3QoJy5nYXVnZUNvbG9ySG9sZGVyJykuc2VsZWN0KCcuY29tbWl0dGVkJykuc3R5bGUoJ3dpZHRoJywgYCR7Y29tbWl0dGVkVmFsdWV9JWApO1xyXG4gICAgICBkMy5zZWxlY3Qobm9kZSkuc2VsZWN0KCcuZ2F1Z2VDb2xvcicpLnN0eWxlKCd3aWR0aCcsIGAke2dhdWdlVmFsdWV9JWApO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVuZGVySmV0b25UZXh0ID0gKGpldG9uc1ZhbHVlKSA9PiB7XHJcbiAgICBpZihNYXRoLmFicyhqZXRvbnNWYWx1ZSk+MSl7XHJcbiAgICAgIHJldHVybiBgJHtqZXRvbnNWYWx1ZX0mbmJzcDtqZXRvbnNgO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGAke2pldG9uc1ZhbHVlfSZuYnNwO2pldG9uYDtcclxuICB9XHJcblxyXG4gIHVzZUVmZmVjdCggKCkgPT4ge1xyXG4gICAgY2FsY3VsYXRlR2F1Z2VXaWR0aCgpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJnYXVnZXNcIj5cclxuICAgICAgPGRpdiBpZD1cImRvbGxhcnNcIiBjbGFzc05hbWU9XCJnYXVnZSBkb2xsYXJHYXVnZVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZ2F1Z2VDb2xvckhvbGRlciAke3Byb3BzLmRvbGxhcnMgPCAwID8gXCJyZWRcIjpcIlwifWB9PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BnYXVnZUNvbG9yICR7cHJvcHMuZG9sbGFycyA8IDAgPyBcInJlZFwiOlwiYmx1ZVwifWB9PlxyXG5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAge3Byb3BzLmNvbW1pdHRlZCAhPSAwID9cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgY29tbWl0dGVkICR7cHJvcHMuZG9sbGFycyA8IDAgPyBcInJlZFwiOlwiYmx1ZVwifWB9PlxyXG4gICAgICAgICAgICAgIHsvKiA8cD57cHJvcHMuY29tbWl0dGVkfTwvcD4gKi99XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDpcIlwiXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInZhbHVlXCI+XHJcbiAgICAgICAgICAgIDxwPjxiPkJ1ZGdldDwvYj4mbmJzcDsmIzgyMjY7Jm5ic3A7e3BhcnNlKHJlbmRlckpldG9uVGV4dChwcm9wcy5kb2xsYXJzKSl9PC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIClcclxuXHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2t9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gSW50cm9Cb3gocHJvcHMpe1xuXG4gIGNvbnN0IHN0YXJ0R2FtZSA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3N0YXJ0aW5nIGdhbWUnKTtcbiAgICBwcm9wcy5nYW1lU3RhcnQoKTtcbiAgfSk7XG5cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2FtZUJveCB0cmFuc3BhcmVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnRyb0JveFwiPlxuICAgICAgICB7cHJvcHMuaW50cm9FbGVtfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJCb3hcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGFydGJ1dHRvblwiIG9uQ2xpY2s9e3N0YXJ0R2FtZX0+XG4gICAgICAgICAgPHA+Q29tbWVuY2VyIGxlIGpldTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICApXG5cbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUVmZmVjdH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IEdhdWdlcyB9IGZyb20gXCIuL0dhdWdlc1wiO1xyXG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNb25pdG9yaW5nKHByb3BzKXtcclxuXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vbml0b3JpbmdcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nX2NvbnRlbnRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nX3ZhbHVlXCI+XHJcbiAgICAgICAgICAgIDxHYXVnZXMgZG9sbGFycz17cHJvcHMuZG9sbGFyc30gY29tbWl0dGVkPXtwcm9wcy5jb21taXR0ZWR9Lz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsgcHJvcHMudGVyYXdhdHRzIHx8IHByb3BzLnRlcmF3YXR0cyA9PT0gMCA/XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nX2NvbnRlbnRcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9uaXRvcmluZ19oZWFkZXJcIj5cclxuICAgICAgICAgICAgICA8aDU+PGI+w4lsZWN0cmljaXTDqSBwcm9kdWl0ZTwvYj4mbmJzcDsmIzgyMjY7Jm5ic3A7e3Byb3BzLnRlcmF3YXR0c30mbmJzcDtUV2g8L2g1PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDpcclxuICAgICAgICA8ZGl2PjwvZGl2PlxyXG4gICAgICB9XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgKVxyXG59XHJcbiIsIlxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVBlcmZvcm1hbmNlKGNob2ljZXNfdmFsdWVzKXtcbiAgcmV0dXJuIGNob2ljZXNfdmFsdWVzLnNwbGl0KCdfJykuc2xpY2UoMSkubWFwKGVsZW0gPT4gcGFyc2VJbnQoZWxlbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29ycmVjdEljb25Tb3VyY2UoaWR4KXtcblxuICBjb25zdCBpY29uTGlzdCA9IFtcbiAgICBcIkh5ZHJvLnN2Z1wiLFxuICAgIFwiRW9saWVuLnN2Z1wiLFxuICAgIFwiTnVjbGVhaXJlLnN2Z1wiLFxuICAgIFwiU29sYWlyZS5zdmdcIixcbiAgICBcIk1vZGVybmlzYXRpb24uc3ZnXCJcbiAgXTtcbiAgcmV0dXJuIGljb25MaXN0W2lkeF07XG59XG5cbmV4cG9ydCBjb25zdCByZW5kZXJTaWduID0gKHZhbHVlKSA9PiB7XG4gIHJldHVybiBwYXJzZUludCh2YWx1ZSkgPT09IDAgP1xuICAgIFwiXCJcbiAgICA6XG4gICAgcGFyc2VJbnQodmFsdWUpIDwgMCA/XG4gICAgICBcIi1cIlxuICAgICAgOlxuICAgICAgXCIrXCI7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTW9uaXRvcmluZyB9IGZyb20gXCIuLi9nYXVnZXMvTW9uaXRvcmluZ1wiO1xuaW1wb3J0IHsgY2FsY3VsYXRlUGVyZm9ybWFuY2UsIHJlbmRlclNpZ24gfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBDaG9pY2UocHJvcHMpe1xuXG5cbiAgY29uc3QgW3NlbGVjdGlvbiwgc2V0U2VsZWN0aW9uXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0aW9uYnV0dG9ucyA9IGQzLnNlbGVjdEFsbCgnLmNob2ljZWJ1dHRvbicpO1xuICAgIHNlbGVjdGlvbmJ1dHRvbnMuc2VsZWN0KCcuYnV0bicpLmNsYXNzZWQoJ3NlbGVjdGVkJywgZmFsc2UpO1xuICAgIGlmKHNlbGVjdGlvbil7XG4gICAgICBkMy5zZWxlY3Qoc2VsZWN0aW9uLm9iaikuc2VsZWN0KCcuYnV0bicpLmNsYXNzZWQoJ3NlbGVjdGVkJywgdHJ1ZSk7XG4gICAgfVxuICB9LFtzZWxlY3Rpb25dKVxuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKGNvc3QsIHBlcmZvcm1hbmNlLCBpbmRleCkgPT4ge1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IFN0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddKS5zcGxpdChcIjtcIik7XG4gICAgaWYodHJpZ2dlck5leHQubGVuZ3RoID4gMSl7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQoU3RyaW5nKHRyaWdnZXJOZXh0W2luZGV4XSkucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCJcIikpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KFN0cmluZyh0cmlnZ2VyTmV4dFswXSkucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCJcIikpO1xuICAgIH1cblxuXG4gICAgcHJvcHMudXBkYXRlRG9sbGFycyhwYXJzZUludChjb3N0KSk7XG4gICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UocGVyZm9ybWFuY2UpO1xuICAgIHNldFNlbGVjdGlvbihudWxsKTtcbiAgfSk7XG5cbiAgY29uc3QgcHJldmlvdXNQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XG4gICAgICBjb25zb2xlLmxvZygncHJldmlvdXMgcHJvbXB0IScsIHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICB9XG4gICAgc2V0U2VsZWN0aW9uKG51bGwpO1xuICB9KTtcblxuICBjb25zdCB1cGRhdGVTZWxlY3RlZCA9IChldmVudCwgY29zdCwgcGVyZm9ybWFuY2UsIGluZGV4KSA9PiB7XG4gICAgc2V0U2VsZWN0aW9uKHtcbiAgICAgIG9iajogZXZlbnQudGFyZ2V0LFxuICAgICAgY29zdDogcGFyc2VJbnQoY29zdCksXG4gICAgICBwZXJmb3JtYW5jZTogcGVyZm9ybWFuY2UsXG4gICAgICBpbmRleDogaW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHJlbmRlckpldG9uVGV4dCA9IChqZXRvblZhbHVlKSA9PiB7XG4gICAgaWYoTWF0aC5hYnMoamV0b25WYWx1ZSk+MSl7XG4gICAgICByZXR1cm4gYCR7cmVuZGVyU2lnbihqZXRvblZhbHVlKX0ke01hdGguYWJzKGpldG9uVmFsdWUpfSZuYnNwO0pFVE9OU2A7XG4gICAgfVxuICAgIHJldHVybiBgJHtyZW5kZXJTaWduKGpldG9uVmFsdWUpfSR7TWF0aC5hYnMoamV0b25WYWx1ZSl9Jm5ic3A7SkVUT05gO1xuICB9XG5cbiAgY29uc3QgY2hlY2tJZkZ1bGxaZXJvID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvc3RzID0gcHJvcHMuY2hvaWNlc192YWx1ZXMubWFwKChlbGVtLCBpZHgpID0+IHtcbiAgICAgIHJldHVybiBwYXJzZUludChlbGVtLnNwbGl0KFwiX1wiKVswXSk7XG4gICAgfSkuZmlsdGVyKHZhbCA9PiAhTnVtYmVyLmlzTmFOKHZhbCkpO1xuICAgIHJldHVybiBjb3N0cy5ldmVyeShpdGVtID0+IGl0ZW0gPT09IDApO1xuICB9O1xuXG4gIHJldHVybihcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNob2ljZXNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHtcbiAgICAgICAgICBwcm9wcy5jaG9pY2VzLm1hcCgoY2hvaWNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNvc3QgPSBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0uc3BsaXQoJ18nKVswXTtcbiAgICAgICAgICAgIGxldCBwZXJmb3JtYW5jZSA9IGNhbGN1bGF0ZVBlcmZvcm1hbmNlKHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XSk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNob2ljZWJ1dHRvblwiIGtleT17aW5kZXh9IG9uQ2xpY2s9eyhlKSA9PiB7dXBkYXRlU2VsZWN0ZWQoZSwgY29zdCwgcGVyZm9ybWFuY2UsIGluZGV4KX19PlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9e2luZGV4fSBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9sZGVyIGljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17c2VsZWN0aW9uID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uaW5kZXggPT09IGluZGV4ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLi9hc3NldHMvaW1nL09mZi5zdmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIuL2Fzc2V0cy9pbWcvT24uc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIi4vYXNzZXRzL2ltZy9Pbi5zdmdcIn0+PC9pbWc+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhvbGRlciBsYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoND57Y2hvaWNlfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tJZkZ1bGxaZXJvKCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3BhcnNlKHJlbmRlckpldG9uVGV4dChjb3N0KSl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9uaXRvcmluZyBzaG93VFdoPXtmYWxzZX0gZG9sbGFycz17KHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uaGFzT3duUHJvcGVydHkoXCJjb3N0XCIpKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzKSArIHBhcnNlSW50KHNlbGVjdGlvbi5jb3N0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21taXR0ZWQ9eyhzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmhhc093blByb3BlcnR5KFwiY29zdFwiKSAmJiAocGFyc2VJbnQoc2VsZWN0aW9uLmNvc3QpIDwgMCkpID8gTWF0aC5hYnMoc2VsZWN0aW9uLmNvc3QpIDogMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWFuY2U9e3Byb3BzLmdhdWdlcy5wcm9wcy5wZXJmb3JtYW5jZX0vPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICB7cHJvcHMuY3VySW5kZXggPiAwID9cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIHByZXZcIiBvbkNsaWNrPXtwcmV2aW91c1Byb21wdH0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgICAgIDxwPlByZXZpb3VzPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWN0aW9uYnV0dG9uIG5leHQgJHtzZWxlY3Rpb24gPyAnJyA6ICdkaXNhYmxlZCd9YH0gb25DbGljaz17KCkgPT4ge3NlbGVjdGlvbiA/IG5leHRQcm9tcHQoc2VsZWN0aW9uLmNvc3QsIHNlbGVjdGlvbi5wZXJmb3JtYW5jZSwgc2VsZWN0aW9uLmluZGV4KSA6IGNvbnNvbGUubG9nKCdEaXNhYmxlZC4nKX19PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxuXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBNb25pdG9yaW5nIH0gZnJvbSBcIi4uL2dhdWdlcy9Nb25pdG9yaW5nXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVQZXJmb3JtYW5jZSwgcmVuZGVyU2lnbiB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIE11bHRpU2VsZWN0aW9uKHByb3BzKXtcblxuICBjb25zdCBbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dID0gdXNlU3RhdGUoW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVzZXRTZWxlY3Rpb24oKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy9jb25zb2xlLmxvZygnY3VyIHNlbGVjdGlvbjogJywgc2VsZWN0aW9uKTtcbiAgfSwgW3NlbGVjdGlvbl0pO1xuXG4gIGNvbnN0IHJlc2V0U2VsZWN0aW9uID0gKCkgPT4ge1xuICAgIHNldFNlbGVjdGlvbihwcm9wcy5jaG9pY2VzLm1hcChlbGVtID0+IG51bGwpKTtcbiAgfVxuXG4gIGNvbnN0IGNhbGN1bGF0ZVRvdGFsU2VsZWN0aW9uID0gKHNlbGVjdGlvbikgPT4ge1xuICAgIGNvbnN0IGFjY0Nvc3QgPSBzZWxlY3Rpb24ucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuICAgICAgaWYoY3VyKXtcbiAgICAgICAgYWNjICs9IGN1ci5jb3N0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCAwKTtcbiAgICBsZXQgYWNjUGVyZm9ybWFuY2UgPSBbMCwwLDBdO1xuICAgIHNlbGVjdGlvbi5mb3JFYWNoKChjdXIsIGNvdW50KSA9PiB7XG4gICAgICBpZihjdXIpe1xuICAgICAgICBhY2NQZXJmb3JtYW5jZSA9IGFjY1BlcmZvcm1hbmNlLm1hcCgoZWxlbSwgaWR4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsZW0pICsgcGFyc2VJbnQoY3VyLnBlcmZvcm1hbmNlW2lkeF0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gW2FjY0Nvc3QsIGFjY1BlcmZvcm1hbmNlXTtcbiAgfTtcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jIChzZWxlY3Rpb24pID0+IHtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddO1xuICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9jZXNzVHJpZ2dlck5leHQodHJpZ2dlck5leHQpKTtcbiAgICBjb25zdCBbYWNjQ29zdCwgYWNjUGVyZm9ybWFuY2VdID0gY2FsY3VsYXRlVG90YWxTZWxlY3Rpb24oc2VsZWN0aW9uKTtcblxuICAgIHByb3BzLnVwZGF0ZURvbGxhcnMocGFyc2VJbnQoYWNjQ29zdCkpO1xuICAgIHByb3BzLnVwZGF0ZVBlcmZvcm1hbmNlKGFjY1BlcmZvcm1hbmNlKTtcbiAgICByZXNldFNlbGVjdGlvbigpO1xuICB9KTtcblxuICBjb25zdCBwcmV2aW91c1Byb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgaWYocHJvcHMuY3VySW5kZXggPiAwKXtcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2aW91cyBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgIH1cbiAgICByZXNldFNlbGVjdGlvbigpO1xuICB9KTtcblxuICBjb25zdCB1cGRhdGVTZWxlY3RlZCA9IChldmVudCwgaW5kZXgsIGNvc3QsIHBlcmZvcm1hbmNlKSA9PiB7XG4gICAgbGV0IG5ld0FycmF5ID0gWy4uLnNlbGVjdGlvbl07XG4gICAgaWYoc2VsZWN0aW9uW2luZGV4XSl7XG4gICAgICAvLyBVbnNlbGVjdFxuICAgICAgbmV3QXJyYXlbaW5kZXhdID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIC8vIFNlbGVjdFxuICAgICAgbmV3QXJyYXlbaW5kZXhdID0ge1xuICAgICAgICBvYmo6IGV2ZW50LnRhcmdldCxcbiAgICAgICAgY29zdDogcGFyc2VJbnQoY29zdCksXG4gICAgICAgIHBlcmZvcm1hbmNlOiBwZXJmb3JtYW5jZVxuICAgICAgfTtcbiAgICB9XG4gICAgc2V0U2VsZWN0aW9uKG5ld0FycmF5KTtcbiAgfVxuXG4gIGNvbnN0IHByb2Nlc3NUcmlnZ2VyTmV4dCA9ICh0cmlnZ2VyTmV4dHRvQ29tcHV0ZSkgPT4ge1xuICAgIGxldCBjaG9zZW5TdHJpbmc7XG4gICAgY29uc3Qgc3BsaXR0ZWRUcmlnZ2VyTmV4dCA9IFN0cmluZyh0cmlnZ2VyTmV4dHRvQ29tcHV0ZSkuc3BsaXQoXCJfXCIpO1xuICAgIGNvbnN0IGluZGl2aWR1YWxUcmlnZ2VyTmV4dCA9IFN0cmluZyhzcGxpdHRlZFRyaWdnZXJOZXh0WzBdKS5zcGxpdChcIjtcIik7XG4gICAgY29uc3QgZmlsdGVyZWRTZWxlY3Rpb24gPSBzZWxlY3Rpb24uZmlsdGVyKChlbGVtKSA9PiBlbGVtICE9PSBudWxsKTtcbiAgICBpZihzcGxpdHRlZFRyaWdnZXJOZXh0Lmxlbmd0aCA+IDEgJiYgZmlsdGVyZWRTZWxlY3Rpb24ubGVuZ3RoID4gMCl7XG4gICAgICAvLyBJbmRpdmlkdWFsIGFuZCBkZWZhdWx0IHZhbHVlcyBhcmUgYXZhaWxhYmxlXG4gICAgICBpZihmaWx0ZXJlZFNlbGVjdGlvbi5sZW5ndGggPiAxKXtcbiAgICAgICAgLy8gcmV0dXJuIGRlZmF1bHQgY2hvaWNlXG4gICAgICAgIGNob3NlblN0cmluZyA9IFN0cmluZyhzcGxpdHRlZFRyaWdnZXJOZXh0WzFdKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIGNob3NlblN0cmluZyA9IFN0cmluZyhpbmRpdmlkdWFsVHJpZ2dlck5leHRbc2VsZWN0aW9uLmluZGV4T2YoZmlsdGVyZWRTZWxlY3Rpb25bMF0pXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBjaG9zZW5TdHJpbmcgPSBTdHJpbmcoc3BsaXR0ZWRUcmlnZ2VyTmV4dFswXSk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdjaGVja2luZyBjaG9zZW5TdHJpbmc6JywgY2hvc2VuU3RyaW5nKTtcbiAgICByZXR1cm4gY2hvc2VuU3RyaW5nLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpO1xuICB9XG5cbiAgY29uc3QgcmVuZGVySmV0b25UZXh0ID0gKGpldG9uVmFsdWUpID0+IHtcbiAgICBpZihNYXRoLmFicyhqZXRvblZhbHVlKT4xKXtcbiAgICAgIHJldHVybiBgJHtyZW5kZXJTaWduKGpldG9uVmFsdWUpfSR7TWF0aC5hYnMoamV0b25WYWx1ZSl9Jm5ic3A7SkVUT05TYDtcbiAgICB9XG4gICAgcmV0dXJuIGAke3JlbmRlclNpZ24oamV0b25WYWx1ZSl9JHtNYXRoLmFicyhqZXRvblZhbHVlKX0mbmJzcDtKRVRPTmA7XG4gIH1cblxuICBjb25zdCBjaGVja0lmRnVsbFplcm8gPSAoKSA9PiB7XG4gICAgY29uc3QgY29zdHMgPSBwcm9wcy5jaG9pY2VzX3ZhbHVlcy5tYXAoKGVsZW0sIGlkeCkgPT4ge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KGVsZW0uc3BsaXQoXCJfXCIpWzBdKTtcbiAgICB9KS5maWx0ZXIodmFsID0+ICFOdW1iZXIuaXNOYU4odmFsKSk7XG4gICAgcmV0dXJuIGNvc3RzLmV2ZXJ5KGl0ZW0gPT4gaXRlbSA9PT0gMCk7XG4gIH07XG5cbiAgcmV0dXJuKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hvaWNlc1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAge1xuICAgICAgICAgIHByb3BzLmNob2ljZXMubWFwKChjaG9pY2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBsZXQgY29zdCA9IHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XS5zcGxpdCgnXycpWzBdO1xuICAgICAgICAgICAgbGV0IHBlcmZvcm1hbmNlID0gY2FsY3VsYXRlUGVyZm9ybWFuY2UocHJvcHMuY2hvaWNlc192YWx1ZXNbaW5kZXhdKTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0aW9uYnV0dG9uXCIga2V5PXtpbmRleH0gb25DbGljaz17KGUpID0+IHt1cGRhdGVTZWxlY3RlZChlLCBpbmRleCwgY29zdCwgcGVyZm9ybWFuY2UpfX0+XG4gICAgICAgICAgICAgICAgPGRpdiBpZD17aW5kZXh9IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgaG9sZGVyIHNlbGVjdGlvbkJveCAke3NlbGVjdGlvbltpbmRleF0gPyAnc2VsZWN0ZWQnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHA+KzwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9sZGVyIGxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGg0PntjaG9pY2V9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja0lmRnVsbFplcm8oKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57cGFyc2UocmVuZGVySmV0b25UZXh0KGNvc3QpKX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9uaXRvcmluZyBzaG93VFdoPXtmYWxzZX0gZG9sbGFycz17KHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ubGVuZ3RoID4gMCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQocHJvcHMuZ2F1Z2VzLnByb3BzLmRvbGxhcnMpICsgcGFyc2VJbnQoY2FsY3VsYXRlVG90YWxTZWxlY3Rpb24oc2VsZWN0aW9uKVswXSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuZ2F1Z2VzLnByb3BzLmRvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21taXR0ZWQ9eyhzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmxlbmd0aCA+IDAgJiYgcGFyc2VJbnQoY2FsY3VsYXRlVG90YWxTZWxlY3Rpb24oc2VsZWN0aW9uKVswXSkgPCAwKSA/IE1hdGguYWJzKHBhcnNlSW50KGNhbGN1bGF0ZVRvdGFsU2VsZWN0aW9uKHNlbGVjdGlvbilbMF0pKSA6IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICB7cHJvcHMuY3VySW5kZXggPiAwID9cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIHByZXZcIiBvbkNsaWNrPXtwcmV2aW91c1Byb21wdH0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgICAgIDxwPlByZXZpb3VzPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWN0aW9uYnV0dG9uIG5leHQgJHtzZWxlY3Rpb24gPyAnJyA6ICdkaXNhYmxlZCd9YH0gb25DbGljaz17KCkgPT4ge3NlbGVjdGlvbiA/IG5leHRQcm9tcHQoc2VsZWN0aW9uKSA6IGNvbnNvbGUubG9nKCdEaXNhYmxlZC4nKX19PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gUHJpbnRQcm9tcHQocHJvcHMpe1xuXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBpZihwcm9wcy5jdXJJbmRleCA+IDApe1xuICAgICAgY29uc29sZS5sb2coJ3ByZXYgcHJvbXB0IScsIHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J107XG5cbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgdHJpZ2dlciBuZXh0OiAnLCB0cmlnZ2VyTmV4dCk7XG4gICAgcHJvcHMuY2hhbmdlUHJvbXB0KHRyaWdnZXJOZXh0KTtcblxuICB9KTtcblxuICBjb25zdCBnYW1lUmVzZXQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIHByb3BzLmdhbWVSZXNldCgpO1xuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpbnRwcm9tcHRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZVwiPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7cHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtcbiAgICAgICAgcHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXSA9PT0gXCJTVEFSVE9WRVJcIiA/XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gbmV4dFwiIG9uQ2xpY2s9e2dhbWVSZXNldH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgPHA+UmVjb21tZW5jZXI8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA6XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gbmV4dFwiIG9uQ2xpY2s9e25leHRQcm9tcHR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgIH1cbiAgICA8L2Rpdj5cbilcbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEdhdWdlcyB9IGZyb20gXCIuLi9nYXVnZXMvR2F1Z2VzXCI7XG5pbXBvcnQgeyBNb25pdG9yaW5nIH0gZnJvbSBcIi4uL2dhdWdlcy9Nb25pdG9yaW5nXCI7XG5pbXBvcnQgeyBnZXRDb3JyZWN0SWNvblNvdXJjZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBhcnRpdGlvbihwcm9wcyl7XG5cbiAgY29uc3QgW2pldG9ucywgc2V0SmV0b25zXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbdGVyYXdhdHRzLCBzZXRUZXJhd2F0dHNdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtvdGhlclBlcmZvTWV0cmljcywgc2V0T3RoZXJQZXJmb01ldHJpY3NdID0gdXNlU3RhdGUoWzAsMF0pO1xuICBjb25zdCBbdW5pdHMsIHNldFVuaXRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3Rva2Vuc1BlclVuaXQsIHNldFRva2Vuc1BlclVuaXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBtYXhUb2tlbnMgPSAyNTtcblxuICB1c2VFZmZlY3QoICgpID0+IHtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25QYXJhbXMoKTtcbiAgICBjb25zdCBuZXdVbml0cyA9IG9wdGlvbnMubWFwKCgpID0+IDApO1xuICAgIGNvbnN0IHRva2Vuc1BlclVuaXQgPSBvcHRpb25zLm1hcChlbGVtID0+IE1hdGguYWJzKGVsZW0udW5pdFZhbHVlKSk7XG4gICAgc2V0VW5pdHMobmV3VW5pdHMpO1xuICAgIHNldFRva2Vuc1BlclVuaXQodG9rZW5zUGVyVW5pdCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoICgpID0+IHtcbiAgICBsZXQgbmV3SmV0b25zID0gdW5pdHMucmVkdWNlKFxuICAgICAgKGFjYywgY3VyVmFsLCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgY3VyT3B0aW9uUGFyYW1zID0gZ2V0T3B0aW9uUGFyYW1zKClbaW5kZXhdO1xuICAgICAgICByZXR1cm4gYWNjICsgTWF0aC5hYnMoY3VyVmFsKTtcbiAgICAgIH0sMCk7XG4gICAgbGV0IG5ld01XID0gdW5pdHMucmVkdWNlKFxuICAgICAgKGFjYywgY3VyVmFsLCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgY3VyT3B0aW9uUGFyYW1zID0gZ2V0T3B0aW9uUGFyYW1zKClbaW5kZXhdO1xuICAgICAgICByZXR1cm4gYWNjICsgTWF0aC5yb3VuZChNYXRoLmFicyhjdXJWYWwvY3VyT3B0aW9uUGFyYW1zW1widW5pdFZhbHVlXCJdKSpjdXJPcHRpb25QYXJhbXNbXCJ1bml0VFdodmFsdWVcIl0pO1xuICAgICAgfSwwKTtcbiAgICAgIC8vY2FsY3VsYXRlIG90aGVyIHBlcmZvcm1hbmNlIG1ldHJpY3MgYWdncmVnYXRpb25cbiAgICBsZXQgbmV3T3RoZXJQZXJmb01ldHJpY3MgPSBbMCwwXTtcbiAgICB1bml0cy5mb3JFYWNoKChjdXJWYWwsIGNvdW50KSA9PiB7XG4gICAgICBsZXQgY3VyT3B0aW9uUGFyYW1zID0gZ2V0T3B0aW9uUGFyYW1zKClbY291bnRdO1xuICAgICAgbmV3T3RoZXJQZXJmb01ldHJpY3MgPSBuZXdPdGhlclBlcmZvTWV0cmljcy5tYXAoKGVsZW0sIGlkeCkgPT4ge1xuICAgICAgICBpZihpZHggPT09IDApe1xuICAgICAgICAgIHJldHVybiBlbGVtICsgY3VyVmFsL2N1ck9wdGlvblBhcmFtc1tcInVuaXRWYWx1ZVwiXSpjdXJPcHRpb25QYXJhbXNbXCJ1bml0RW52aXJvdmFsdWVcIl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihpZHggPT09IDEpe1xuICAgICAgICAgIHJldHVybiBlbGVtICsgY3VyVmFsL2N1ck9wdGlvblBhcmFtc1tcInVuaXRWYWx1ZVwiXSpjdXJPcHRpb25QYXJhbXNbXCJ1bml0UG9wdXZhbHVlXCJdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBzZXRKZXRvbnMobmV3SmV0b25zKTtcbiAgICBzZXRUZXJhd2F0dHMobmV3TVcpO1xuICAgIHNldE90aGVyUGVyZm9NZXRyaWNzKG5ld090aGVyUGVyZm9NZXRyaWNzKTtcbiAgfSwgW3VuaXRzXSk7XG5cbiAgY29uc3QgcHJldmlvdXNQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XG4gICAgICBjb25zb2xlLmxvZygncHJldiBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgbmV4dFByb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHNwbGl0dGVkVHJpZ2dlck5leHQgPSBTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXSkuc3BsaXQoXCJfXCIpO1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IFN0cmluZyhzcGxpdHRlZFRyaWdnZXJOZXh0WzBdKS5zcGxpdChcIjtcIik7XG4gICAgaWYodHJpZ2dlck5leHQubGVuZ3RoID09IDEpe1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KFN0cmluZyh0cmlnZ2VyTmV4dCkucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCJcIikpO1xuICAgIH1cbiAgICBlbHNlIGlmKHRyaWdnZXJOZXh0Lmxlbmd0aCA+IDEpe1xuICAgICAgY29uc29sZS5sb2coJ2NoZWNraW5nIG5vbiB1bmlxdWU6Jywgbm9uVW5pcXVlKHVuaXRzKSk7XG4gICAgICBpZihub25VbmlxdWUodW5pdHMpKXtcbiAgICAgICAgLy8gU29tZSB2YWx1ZXMgYXJlIGVxdWFsLiBIaWVyYXJjaGl6ZVxuICAgICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQoaGllcmFyY2hpemVVbml0cyh0cmlnZ2VyTmV4dCwgc3BsaXR0ZWRUcmlnZ2VyTmV4dFsxXSkpO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgLy8gQWxsIHZhbHVlcyBhcmUgZGlmZmVyZW50LCBoZW5jZSB0cmlnZ2VyIGNvbmNvcmRpbmcgbmV4dCBwcm9tcHRcbiAgICAgICAgbGV0IGluZGV4T2ZNYXhWYWx1ZSA9IHVuaXRzLnJlZHVjZSgoaU1heCwgeCwgaSwgYXJyKSA9PiB4ID4gYXJyW2lNYXhdID8gaSA6IGlNYXgsIDApO1xuICAgICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQoU3RyaW5nKHRyaWdnZXJOZXh0W2luZGV4T2ZNYXhWYWx1ZV0pLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYodW5pdHNbNF0gPiAwKXtcbiAgICAgIC8vUmVjb3JkIE1vZGVybml6YXRpb24gdmFsdWVcbiAgICAgIHByb3BzLnVwZGF0ZU1lbW9yeU9iaihcImludmVzdGVkTW9kZXJuaXphdGlvblwiLCB0cnVlKTtcbiAgICB9XG4gICAgcHJvcHMudXBkYXRlRG9sbGFycygtamV0b25zKTtcbiAgICBwcm9wcy51cGRhdGVQZXJmb3JtYW5jZShbdGVyYXdhdHRzXS5jb25jYXQob3RoZXJQZXJmb01ldHJpY3MpKTtcbiAgfSk7XG5cbiAgY29uc3Qgbm9uVW5pcXVlID0gYSA9PiBuZXcgU2V0KGEpLnNpemUgIT09IGEubGVuZ3RoO1xuXG4gIGNvbnN0IHByb2Nlc3NDaG9pY2VzID0gKGNob2ljZSwgY2hvaWNlc192YWx1ZXMpID0+IHtcbiAgICBjb25zdCBzcGxpdHRlZENob2ljZXMgPSBjaG9pY2VzX3ZhbHVlcy5zcGxpdCgnXycpO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBjaG9pY2UsXG4gICAgICB1bml0VmFsdWU6IHBhcnNlSW50KHNwbGl0dGVkQ2hvaWNlc1swXSksXG4gICAgICB1bml0VFdodmFsdWU6IHBhcnNlSW50KHNwbGl0dGVkQ2hvaWNlc1sxXSksXG4gICAgICB1bml0RW52aXJvdmFsdWU6IHBhcnNlSW50KHNwbGl0dGVkQ2hvaWNlc1syXSksXG4gICAgICB1bml0UG9wdXZhbHVlOiBwYXJzZUludChzcGxpdHRlZENob2ljZXNbM10pLFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGdldE9wdGlvblBhcmFtcyA9ICgpID0+IHtcbiAgICByZXR1cm4gcHJvcHMuY2hvaWNlcy5tYXAoKGNob2ljZSwgaW5kZXgpID0+IHtcbiAgICAgIHJldHVybiBwcm9jZXNzQ2hvaWNlcyhjaG9pY2UsIHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XSk7XG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGNoZWNrSWZGdWxsID0gKG5ld0FkZGl0aW9uKSA9PiB7XG4gICAgbGV0IHRvdGFsID0gMDtcbiAgICB1bml0cy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgIHRvdGFsICs9IHZhbHVlO1xuICAgIH0pO1xuICAgIGlmKHRvdGFsK25ld0FkZGl0aW9uID4gbWF4VG9rZW5zKXtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGNoZWNrSGlkZUJ1dHRvbiA9IChpZHgpID0+IHtcbiAgICBjb25zdCBvcHRpb25QYXJhbXMgPSBnZXRPcHRpb25QYXJhbXMoKVtpZHhdO1xuICAgIGNvbnN0IGN1clVuaXRWYWx1ZSA9IE1hdGguYWJzKHVuaXRzW2lkeF0pO1xuICAgIGxldCBoaWRlQnV0dG9uID0gW2ZhbHNlLGZhbHNlXTtcbiAgICBpZihjdXJVbml0VmFsdWUgPT09IDApe1xuICAgICAgLy8gQ2hlY2sgZm9yIGxvd2VyIGJvdW5kYXJ5XG4gICAgICBoaWRlQnV0dG9uWzBdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgaGlnaGVyIGJvdW5kYXJ5XG4gICAgaWYoamV0b25zK3BhcnNlSW50KE1hdGguYWJzKG9wdGlvblBhcmFtcy51bml0VmFsdWUpKSA+IG1heFRva2Vucyl7XG4gICAgICBoaWRlQnV0dG9uWzFdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGlkZUJ1dHRvbjtcblxuICB9XG5cbiAgY29uc3QgcmVuZGVySmV0b25UZXh0ID0gKGpldG9uVmFsdWUpID0+IHtcbiAgICBpZihNYXRoLmFicyhqZXRvblZhbHVlKT4xKXtcbiAgICAgIHJldHVybiBgJHtNYXRoLmFicyhqZXRvblZhbHVlKX0mbmJzcDtqZXRvbnNgO1xuICAgIH1cbiAgICByZXR1cm4gYCR7TWF0aC5hYnMoamV0b25WYWx1ZSl9Jm5ic3A7amV0b25gO1xuICB9XG5cbiAgY29uc3QgbW9kaWZ5T25DbGljayA9IChlLCBpbmRleCwgZGlmZiwgZWxlbSkgPT4ge1xuICAgIGxldCBuZXdBcnJheSA9IFsuLi51bml0c107XG4gICAgaWYoKG5ld0FycmF5W2luZGV4XStkaWZmKnRva2Vuc1BlclVuaXRbaW5kZXhdKSA+PSAwKXtcbiAgICAgIGlmKGRpZmYgPiAwKVxuICAgICAge1xuICAgICAgICBpZighY2hlY2tJZkZ1bGwoZGlmZip0b2tlbnNQZXJVbml0W2luZGV4XSkpe1xuICAgICAgICAgIG5ld0FycmF5W2luZGV4XSA9IG5ld0FycmF5W2luZGV4XSArIGRpZmYqdG9rZW5zUGVyVW5pdFtpbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIG5ld0FycmF5W2luZGV4XSA9IG5ld0FycmF5W2luZGV4XSArIGRpZmYqdG9rZW5zUGVyVW5pdFtpbmRleF07XG4gICAgICB9XG4gICAgICBzZXRVbml0cyhuZXdBcnJheSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2hlY2tJZlplcm8gPSAoKSA9PiB7XG4gICAgcmV0dXJuIGpldG9ucyA+IDA7XG4gIH1cblxuICBjb25zdCBoaWVyYXJjaGl6ZVVuaXRzID0gKHRyaWdnZXJOZXh0LCBkZWZhdWx0TmV4dCkgPT4ge1xuXG4gICAgY29uc3QgbWF4ID0gTWF0aC5tYXgoLi4udW5pdHMpO1xuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIHVuaXRzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiBpdGVtID09PSBtYXggPyByZXMucHVzaChpbmRleCk6IG51bGwpO1xuICAgIGxldCBjaG9zZW5TdHJpbmc7XG4gICAgaWYocmVzLmxlbmd0aCA+IDEpe1xuICAgICAgLy9NYXggaXMgbXVsdGlwbGUsIGhpZXJhcmNoaXplXG4gICAgICAvLyBCYXJyYWdlcyBpbmRleCBpcyAwXG4gICAgICAvLyBFb2xpZW4gaW5kZXggaXMgMVxuICAgICAgLy8gSWYgZXF1YWxpdHkgd2l0aCBvbmx5IG90aGVycywgc2tpcCBxdWVzdGlvbi5cblxuICAgICAgaWYocmVzLmluY2x1ZGVzKDApKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2VxdWFsIG1heCB1bml0cyBjb250YWlucyBiYXJyYWdlcycpO1xuICAgICAgICBjaG9zZW5TdHJpbmcgPSBTdHJpbmcodHJpZ2dlck5leHRbMF0pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZihyZXMuaW5jbHVkZXMoMSkpe1xuICAgICAgICBjb25zb2xlLmxvZygnZXF1YWwgbWF4IHVuaXRzIGNvbnRhaW5zIGVvbGllbnMnKTtcbiAgICAgICAgY2hvc2VuU3RyaW5nID0gU3RyaW5nKHRyaWdnZXJOZXh0WzFdKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcXVhbGl0eSBiZXR3ZWVuIG5vbiBpbXBvcnRhbnQgY2hvaWNlcycpO1xuICAgICAgICBjaG9zZW5TdHJpbmcgPSBTdHJpbmcoZGVmYXVsdE5leHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgY2hvc2VuU3RyaW5nID0gU3RyaW5nKHRyaWdnZXJOZXh0W3Jlc1swXV0pO1xuICAgIH1cblxuICAgIHJldHVybiBjaG9zZW5TdHJpbmcucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCJcIik7XG5cbiAgfVxuXG4gIGNvbnN0IHJlbmRlclJvd3MgPSAoY2hvaWNlcykgPT4ge1xuICAgIHJldHVybiBjaG9pY2VzLm1hcCggKGVsZW0saW5kZXgpID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3B0aW9uVW5pdFwiIGtleT17aW5kZXh9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0b3Jab25lXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGRpdmlzaW9uIG1pbnVzWm9uZSAke2NoZWNrSGlkZUJ1dHRvbihpbmRleClbMF0gPyAnZGlzYWJsZWQnOicnfWB9IG9uQ2xpY2s9eyhlKSA9PiBtb2RpZnlPbkNsaWNrKGUsIGluZGV4LCAtMSwgZWxlbSl9PlxuICAgICAgICAgICAgICA8aDM+LTwvaDM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGl2aXNpb24gY2VudHJhbFpvbmVcIj5cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICh1bml0c1tpbmRleF0gPT09IHVuZGVmaW5lZCB8fCB1bml0c1tpbmRleF0gPT09IDApID9cbiAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICBzcmM9e2Bhc3NldHMvaW1nLyR7Z2V0Q29ycmVjdEljb25Tb3VyY2UoaW5kZXgpfWB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgPGgzPnt1bml0c1tpbmRleF19PC9oMz5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGRpdmlzaW9uIHBsdXNab25lICR7Y2hlY2tIaWRlQnV0dG9uKGluZGV4KVsxXSA/ICdkaXNhYmxlZCc6Jyd9YH0gb25DbGljaz17KGUpID0+IG1vZGlmeU9uQ2xpY2soZSwgaW5kZXgsIDEsIGVsZW0pfT5cbiAgICAgICAgICAgICAgPGgzPis8L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0Wm9uZVwiPlxuICAgICAgICAgICAgPGgzPntlbGVtLm5hbWV9PC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5ldGV4dFwiPlxuICAgICAgICAgICAgICA8cD57cGFyc2UocmVuZGVySmV0b25UZXh0KGVsZW0udW5pdFZhbHVlKSl9Jm5ic3A7JiM4MjI2OyZuYnNwO3tlbGVtLnVuaXRUV2h2YWx1ZX0gVFdoPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4oXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZXBhcnRpdGlvblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcHRpb25ab25lXCI+XG4gICAgICAgIHtcbiAgICAgICAgICByZW5kZXJSb3dzKHByb3BzLmNob2ljZXMubWFwKChlLCBpbmRleCkgPT4gcHJvY2Vzc0Nob2ljZXMoZSwgcHJvcHMuY2hvaWNlc192YWx1ZXNbaW5kZXhdKSkpXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vbml0b3Jpbmcgc2hvd1RXaD17dHJ1ZX0gZG9sbGFycz17cHJvcHMuZ2F1Z2VzLnByb3BzLmRvbGxhcnMtamV0b25zfSBjb21taXR0ZWQ9e2pldG9uc30gdGVyYXdhdHRzPXt0ZXJhd2F0dHN9Lz5cbiAgICAgIHtwcm9wcy5jdXJJbmRleCA+IDAgP1xuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgPHA+UHJldmlvdXM8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA6XG4gICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICB9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjdGlvbmJ1dHRvbiBuZXh0ICR7Y2hlY2tJZlplcm8oKT8gJycgOiAnZGlzYWJsZWQnfWB9IG9uQ2xpY2s9e25leHRQcm9tcHR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICA8cD5Qb3Vyc3VpdnJlPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG5cbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCBkM1RpcCBmcm9tICdkMy10aXAnO1xuXG5leHBvcnQgZnVuY3Rpb24gTWFwTmF2aWdhdG9yKHByb3BzKXtcblxuICBjb25zdCBbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXR1cE9uQ2xpY2soKTtcbiAgfSxbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZihzZWxlY3Rpb24pe1xuICAgICAgZDMuc2VsZWN0KCcucG9wVXAtYmcnKS5zdHlsZSgnZGlzcGxheScsICd1bnNldCcpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgZDMuc2VsZWN0KCcucG9wVXAtYmcnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgfVxuICB9LCBbc2VsZWN0aW9uXSk7XG5cbiAgY29uc3QgdGlwID0gZDNUaXAoKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkMy10aXAgYWRqdXN0ZWQnKVxuICAgICAgICAgICAgICAgIC5kaXJlY3Rpb24oJ24nKVxuICAgICAgICAgICAgICAgIC5odG1sKChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ290IGQ6ICcsIGQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgICAgIDxoND4ke2QudGl0bGV9PC9oND5cbiAgICAgICAgICAgICAgICAgIDxwPiR7ZC5zdXBwX3RleHR9PC9wPlxuICAgICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICBjb25zdCBzZXR1cE9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgZDMueG1sKHByb3BzLm1hcFswXSksXG4gICAgICBkMy54bWwocHJvcHMubWFwWzFdKVxuICAgIF0pLnRoZW4oKFtiZ01hcCwgaWNvbk9OTWFwXSkgPT4ge1xuICAgICAgZDMuc2VsZWN0KCcjYmctbWFwJykubm9kZSgpXG4gICAgICAgIC5hcHBlbmQoYmdNYXAuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgIGQzLnNlbGVjdCgnI29uLWljb25zJykubm9kZSgpXG4gICAgICAgIC5hcHBlbmQoaWNvbk9OTWFwLmRvY3VtZW50RWxlbWVudCk7XG4gICAgICBjb25zdCBPbkljb25zU1ZHID0gZDMuc2VsZWN0KCcjb24taWNvbnMnKS5zZWxlY3QoJ3N2ZycpO1xuICAgICAgT25JY29uc1NWRy5jYWxsKHRpcCk7XG4gICAgICBkMy5zZWxlY3QoJy5nYW1lU2NyZWVuJykubm9kZSgpLmFwcGVuZENoaWxkKFxuICAgICAgICBkMy5zZWxlY3QoJy5kMy10aXAnKS5ub2RlKClcbiAgICAgICk7XG4gICAgICBjb25zdCBnQnV0dG9ucyA9IE9uSWNvbnNTVkcuc2VsZWN0KCcjSWNvbmUtT24nKS5zZWxlY3RBbGwoJ2cnKTtcbiAgICAgIGNvbnN0IHRpdGxlcyA9IFN0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyk7XG4gICAgICBjb25zdCBzdXBwX3RleHRzID0gU3RyaW5nKHByb3BzLm1lc3NhZ2UpLnNwbGl0KCc7Jyk7XG4gICAgICBnQnV0dG9ucy5ub2RlcygpLnJldmVyc2UoKS5tYXAoKG5vZGUsY291bnQpID0+IHtcbiAgICAgICAgY29uc3QgY3VyVGlwRGF0YSA9IHtcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZXNbY291bnRdLFxuICAgICAgICAgICAgc3VwcF90ZXh0OiBzdXBwX3RleHRzW2NvdW50XVxuICAgICAgICAgIH1cbiAgICAgICAgZDMuc2VsZWN0KG5vZGUpXG4gICAgICAgIC5vbignY2xpY2snLCAoZCxpLG5vZGVzKSA9PiB7XG4gICAgICAgICAgZC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB0aXAuc2hvdyhjdXJUaXBEYXRhLCBub2RlKTtcbiAgICAgICAgICB0b2dnbGVJY29uKGQudGFyZ2V0LnBhcmVudEVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCAoZCxpLG5vZGVzKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2NoZWNraW5nIGQ6ICcsIGQudGFyZ2V0LnBhcmVudEVsZW1lbnQpO1xuICAgICAgICAgIGQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdGlwLnNob3coY3VyVGlwRGF0YSxub2RlKTtcbiAgICAgICAgICB0b2dnbGVJY29uKGQudGFyZ2V0LnBhcmVudEVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIChkLGksbm9kZXMpID0+IHtcbiAgICAgICAgICB0aXAuaGlkZShub2RlKTtcbiAgICAgICAgICB0b2dnbGVJY29uKGQudGFyZ2V0LnBhcmVudEVsZW1lbnQsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgZDMuc2VsZWN0KFwiLmdhbWVCb3hcIikub24oJ2NsaWNrJywgKCkgPT4ge3RpcC5oaWRlKCl9KTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVJY29uID0gKGljb25PYmosIHN0YXR1cykgPT4ge1xuICAgIGlmKHN0YXR1cyA9PT0gZmFsc2Upe1xuICAgICAgZDMuc2VsZWN0KGljb25PYmopLnN0eWxlKCdvcGFjaXR5JywgMCk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBkMy5zZWxlY3QoaWNvbk9iaikuc3R5bGUoJ29wYWNpdHknLCAxKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcHJldmlvdXNQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XG4gICAgICBjb25zb2xlLmxvZygncHJldiBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgbmV4dFByb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyaWdnZXJOZXh0ID0gcHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXTtcblxuICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyB0cmlnZ2VyIG5leHQ6ICcsIHRyaWdnZXJOZXh0KTtcbiAgICBwcm9wcy5jaGFuZ2VQcm9tcHQodHJpZ2dlck5leHQpO1xuXG4gIH0pO1xuXG4gIHJldHVybiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwicHJpbnRwcm9tcHQgbWFwbmF2aWdhdG9yXCI+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3BVcC1iZ1wiPlxuICAgICAgeyBzZWxlY3Rpb24gP1xuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3BVcC1ib3hcIj5cbiAgICAgICAgPGg0PntzZWxlY3Rpb24udGl0bGV9PC9oND5cbiAgICAgICAgPHA+e3NlbGVjdGlvbi5zdXBwX3RleHR9PC9wPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvblwiIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGlvbihudWxsKX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICA8cD5GZXJtZXI8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA6XG4gICAgICA8ZGl2PjwvZGl2PlxuICAgICAgfVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwSG9sZGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1cGVycG9zZWRNYXBcIj5cbiAgICAgICAgPGRpdiBpZD1cImJnLW1hcFwiIGNsYXNzTmFtZT1cIm1hcCBub0NsaWNrXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9XCJvbi1pY29uc1wiIGNsYXNzTmFtZT1cIm1hcFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gcHJldlwiIG9uQ2xpY2s9e3ByZXZpb3VzUHJvbXB0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIG5leHRcIiBvbkNsaWNrPXtuZXh0UHJvbXB0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICA8cD5TdWl2YW50PC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBCaWxhbihwcm9wcyl7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZ290IGJpbGFuIDogJywgcHJvcHMuY3VyUHJvbXB0KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J107XG5cbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgdHJpZ2dlciBuZXh0OiAnLCB0cmlnZ2VyTmV4dCk7XG4gICAgcHJvcHMuY2hhbmdlUHJvbXB0KHRyaWdnZXJOZXh0KTtcblxuICB9KTtcblxuICBjb25zdCBwcm9jZXNzQmlsYW4gPSAoKSA9PiB7XG4gICAgbGV0IHRleHRDb250ZW50QXJyYXkgPSBwcm9wcy5jdXJQcm9tcHRbXCJUZXh0ZVwiXS5zcGxpdCgnOycpO1xuICAgIGxldCB0ZXh0U3VwcEFycmF5ID0gcHJvcHMuY3VyUHJvbXB0W1wiVGV4dGVfU3VwcFwiXS5zcGxpdCgnOycpO1xuICAgIGxldCBwcm9jZXNzZWRDb250ZW50ID0gW107XG4gICAgLy8gZ2VuZXJpYyB0ZXh0XG4gICAgbGV0IGdlbmVyaWNUZXh0ID0gdGV4dENvbnRlbnRBcnJheVswXS5yZXBsYWNlKCcqbmV3UHJvZConLCBwcm9wcy5wZXJmb3JtYW5jZVswXSk7XG4gICAgcHJvY2Vzc2VkQ29udGVudC5wdXNoKGdlbmVyaWNUZXh0KTtcbiAgICBsZXQgYmFycmFnZVRleHQgPSB0ZXh0U3VwcEFycmF5WzBdO1xuICAgIGxldCBsb3dDYXNoVGV4dCA9IHRleHRTdXBwQXJyYXlbMV07XG4gICAgbGV0IGxvd0VudlRleHQgPSB0ZXh0U3VwcEFycmF5WzJdO1xuICAgIGxldCBsb3dQb3BUZXh0ID0gdGV4dFN1cHBBcnJheVszXTtcblxuICAgIHJldHVybiBwcm9jZXNzZWRDb250ZW50O1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiaWxhbkNvbnRlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXBkYXRhYmxlVGV4dFwiPlxuICAgICAgICB7XG4gICAgICAgIHByb2Nlc3NCaWxhbigpLm1hcCgoZWxlbSwgY291bnQpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxwIGtleT17Y291bnR9PlxuICAgICAgICAgICAge3BhcnNlKGVsZW0pfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBuZXh0XCIgb25DbGljaz17bmV4dFByb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gRW5kR2FtZShwcm9wcyl7XG5cbiAgY29uc3QgZ2FtZVJlc2V0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnUkVTRVRJTkcgR0FNRScpO1xuICAgIHByb3BzLmdhbWVSZXNldCgpO1xuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvbXB0Qm94XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1cnRpdHJlXCI+XG4gICAgICAgICAgPGg0PkZpbiBkdSBqZXU8L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWVzdGlvblwiPlxuICAgICAgICAgIDxwPihyZWZvcm11bGVyKSBMZSBqZXUgYSBwcmlzIGZpbiDDoCBjYXVzZSBkZSA6IHtgJHtwcm9wcy5yYWlzb259YH08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvblNlY3Rpb25cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gbmV4dFwiIG9uQ2xpY2s9e2dhbWVSZXNldH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICA8cD5SZWNvbW1lbmNlcjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlUGVyZm9ybWFuY2UgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBDYXRhc3Ryb3BoZShwcm9wcyl7XG5cbiAgY29uc3QgcHJldmlvdXNQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XG4gICAgICBjb25zb2xlLmxvZygncHJldiBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgbmV4dFByb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoY29zdCwgcGVyZm9ybWFuY2UpID0+IHtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddO1xuXG4gICAgY29uc29sZS5sb2coJ0NoZWNraW5nIHRyaWdnZXIgbmV4dDogJywgdHJpZ2dlck5leHQpO1xuICAgIHByb3BzLmNoYW5nZVByb21wdCh0cmlnZ2VyTmV4dCk7XG5cbiAgICBwcm9wcy51cGRhdGVEb2xsYXJzKHBhcnNlSW50KGNvc3QpKTtcbiAgICBwcm9wcy51cGRhdGVQZXJmb3JtYW5jZShwZXJmb3JtYW5jZSk7XG4gIH0pO1xuXG4gIGNvbnN0IHBhcnNlQ2hvaWNlVmFsdWVzID0gKGNob2ljZV92YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHNwbGl0dGVkQ2hvaWNlVmFsdWVzID0gU3RyaW5nKGNob2ljZV92YWx1ZSkuc3BsaXQoJ18nKTtcbiAgICByZXR1cm4ge1xuICAgICAgY29zdDogc3BsaXR0ZWRDaG9pY2VWYWx1ZXNbMF0sXG4gICAgICBwZXJmb3JtYW5jZTogc3BsaXR0ZWRDaG9pY2VWYWx1ZXMuc3BsaWNlKDEpXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwcmludHByb21wdFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlXCI+XG4gICAgICAgIDxwPlxuICAgICAgICAgIHtwcm9wcy5jaG9pY2VzW3Byb3BzLndoaWNoRXZlbnRIYXBwZW5zXX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIG5leHRcIiBvbkNsaWNrPXsoKSA9PiBuZXh0UHJvbXB0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlQ2hvaWNlVmFsdWVzKHByb3BzLmNob2ljZXNfdmFsdWVzW3Byb3BzLndoaWNoRXZlbnRIYXBwZW5zXSkuY29zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUNob2ljZVZhbHVlcyhwcm9wcy5jaG9pY2VzX3ZhbHVlc1twcm9wcy53aGljaEV2ZW50SGFwcGVuc10pLnBlcmZvcm1hbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENob2ljZSB9IGZyb20gXCIuL3Byb21wdGZpbGwvQ2hvaWNlXCI7XG5pbXBvcnQgeyBNdWx0aVNlbGVjdGlvbiB9IGZyb20gXCIuL3Byb21wdGZpbGwvTXVsdGlTZWxlY3Rpb25cIjtcbmltcG9ydCB7IFByaW50UHJvbXB0IH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9QcmludFByb21wdFwiO1xuaW1wb3J0IHsgUmVwYXJ0aXRpb24gfSBmcm9tIFwiLi9wcm9tcHRmaWxsL1JlcGFydGl0aW9uXCI7XG5pbXBvcnQgeyBNYXBOYXZpZ2F0b3IgfSBmcm9tIFwiLi9wcm9tcHRmaWxsL01hcE5hdmlnYXRvclwiO1xuaW1wb3J0IHsgQmlsYW4gfSBmcm9tIFwiLi9wcm9tcHRmaWxsL0JpbGFuXCI7XG5pbXBvcnQgeyBFbmRHYW1lIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9FbmRHYW1lXCI7XG5pbXBvcnQgeyBDYXRhc3Ryb3BoZSB9IGZyb20gXCIuL3Byb21wdGZpbGwvQ2F0YXN0cm9waGVcIjtcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFByb21wdEJveChwcm9wcyl7XG5cbiAgY29uc3QgWyBtZW1vcnlPYmosIHNldE1lbW9yeU9ial0gPSB1c2VTdGF0ZSh7XG4gICAgaW52ZXN0ZWRNb2Rlcm5pemF0aW9uOiBmYWxzZSxcbiAgICBidWlsdERhbTogZmFsc2VcbiAgfSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gIH0sIFtdKTtcblxuXG4gIGNvbnN0IGdhbWVSZXNldCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgc2V0TWVtb3J5T2JqKHtcbiAgICAgIGludmVzdGVkTW9kZXJuaXphdGlvbjogZmFsc2UsXG4gICAgICBidWlsdERhbTogZmFsc2VcbiAgICB9KTtcbiAgICBwcm9wcy5nYW1lUmVzZXQoKTtcbiAgfSk7XG5cbiAgY29uc3QgY2hhbmdlUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jIChuZXdWYWx1ZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdDaGFuZ2luZyBwcm9tcHQgZm9yIDogJywgbmV3VmFsdWUpO1xuICAgIHByb3BzLmNoYW5nZVByb21wdChuZXdWYWx1ZSk7XG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZURvbGxhcnMgPSB1c2VDYWxsYmFjayggYXN5bmMgKGRpZmZWYWx1ZSkgPT4ge1xuICAgIGlmKE51bWJlci5pc0ludGVnZXIoZGlmZlZhbHVlKSl7XG4gICAgICBwcm9wcy51cGRhdGVEb2xsYXJzKGRpZmZWYWx1ZSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCB1cGRhdGVQZXJmb3JtYW5jZSA9IHVzZUNhbGxiYWNrKCBhc3luYyAoZGlmZkFycmF5KSA9PiB7XG4gICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UoZGlmZkFycmF5KTtcbiAgfSk7XG5cbiAgY29uc3QgdXBkYXRlTWVtb3J5T2JqID0gdXNlQ2FsbGJhY2soIGFzeW5jIChmaWVsZCwgbmV3VmFsdWUpID0+IHtcbiAgICBsZXQgbmV3TWVtb3J5T2JqID0gey4uLm1lbW9yeU9ian07XG4gICAgbmV3TWVtb3J5T2JqW2ZpZWxkXSA9IG5ld1ZhbHVlO1xuICAgIHNldE1lbW9yeU9iaihuZXdNZW1vcnlPYmopO1xuICB9KTtcblxuICBjb25zdCBwcm9jZXNzUmVhc29uRW5kR2FtZSA9ICgpID0+IHtcbiAgICBsZXQgcmVhc29ucyA9IFtdO1xuICAgIGNvbnNvbGUubG9nKCdjaGVja2luZyByZWFzb24gcHJvY2Vzc2luZzonLCBwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFycywgcHJvcHMucGVyZm9ybWFuY2UpO1xuICAgIGlmKHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzIDwgMCl7XG4gICAgICByZWFzb25zLnB1c2goXCJWb3VzIG4nYXZleiBwbHVzIGQnYXJnZW50LlwiKTtcbiAgICB9XG4gICAgaWYocHJvcHMucGVyZm9ybWFuY2VbMF0gPCAwKXtcbiAgICAgIHJlYXNvbnMucHVzaChcIlZvdXMgYXZleiBnw6JjaMOpIGxlIHBhcmMgZGUgcHJvZHVjdGlvbiDDqWxlY3RyaXF1ZSBkJ0h5ZHJvLVF1w6liZWMuXCIpO1xuICAgIH1cbiAgICBpZihwcm9wcy5wZXJmb3JtYW5jZVsxXSA8IDApe1xuICAgICAgcmVhc29ucy5wdXNoKFwiVm90cmUgYmlsYW4gZW52aXJvbm5lbWVudGFsIGVzdCBleGPDqWNyYWJsZS5cIik7XG4gICAgfVxuICAgIGlmKHByb3BzLnBlcmZvcm1hbmNlWzJdIDwgMCl7XG4gICAgICByZWFzb25zLnB1c2goXCJMYSBmdXJldXIgcG9wdWxhaXJlIGEgZXUgcmFpc29uIGRlIHZvdHJlIHBvc3RlLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlYXNvbnM7XG4gIH1cblxuICBjb25zdCByZW5kZXJTd2l0Y2ggPSAocGFyYW0pID0+IHtcbiAgICBzd2l0Y2gocGFyYW0pe1xuICAgICAgY2FzZSAnUmVwYXJ0aXRpb24nIDpcbiAgICAgICAgcmV0dXJuIDxSZXBhcnRpdGlvbiBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peCddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXNfdmFsdWVzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDb3V0X0VsZWNfRW52X1BvcHUnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlTWVtb3J5T2JqPXt1cGRhdGVNZW1vcnlPYmp9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2F1Z2VzPXtwcm9wcy5nYXVnZXN9Lz47XG4gICAgICBjYXNlICdDYXJ0ZSc6XG4gICAgICAgIHJldHVybiA8TWFwTmF2aWdhdG9yIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ1RleHRlX1N1cHAnXSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5jdXJJbmRleCA9PT0gXCJRMS0xXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJhc3NldHMvaW1nL0NhcnRlLUh5ZHJvLnN2Z1wiLFwiYXNzZXRzL2ltZy9DYXJ0ZS1IeWRyby1pY29uZS1vbi5zdmdcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJhc3NldHMvaW1nL0NhcnRlLUVvbGllbi5zdmdcIixcImFzc2V0cy9pbWcvQ2FydGUtRW9saWVuLWljb25lLW9uLnN2Z1wiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vPjtcbiAgICAgIGNhc2UgJ3RleHRlQm91dG9uU2ltcGxlJzpcbiAgICAgICAgcmV0dXJuIDxQcmludFByb21wdCBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydUZXh0ZV9TdXBwJ10pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lUmVzZXQ9e2dhbWVSZXNldH0vPjtcbiAgICAgIGNhc2UgJ0Nob2l4UmVwb25zZSc6XG4gICAgICAgIHJldHVybiA8Q2hvaWNlIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc192YWx1ZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0NvdXRfRWxlY19FbnZfUG9wdSddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEb2xsYXJzPXt1cGRhdGVEb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX1cbiAgICAgICAgICAgICAgICAgICAgICBnYXVnZXM9e3Byb3BzLmdhdWdlc30vPjtcbiAgICAgIGNhc2UgJ0NhdGFzdHJvcGhlJzpcbiAgICAgICAgcmV0dXJuIDxDYXRhc3Ryb3BoZSBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peCddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXNfdmFsdWVzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDb3V0X0VsZWNfRW52X1BvcHUnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICB3aGljaEV2ZW50SGFwcGVucz17bWVtb3J5T2JqLmludmVzdGVkTW9kZXJuaXphdGlvbiA/IDEgOiAwfVxuICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEb2xsYXJzPXt1cGRhdGVEb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX0vPjtcbiAgICAgIGNhc2UgJ011bHRpU2VsZWN0aW9uJzpcbiAgICAgICAgcmV0dXJuIDxNdWx0aVNlbGVjdGlvbiBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzX3ZhbHVlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ291dF9FbGVjX0Vudl9Qb3B1J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURvbGxhcnM9e3VwZGF0ZURvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXVnZXM9e3Byb3BzLmdhdWdlc30vPjtcbiAgICAgIGNhc2UgJ0JpbGFuJzpcbiAgICAgICAgcmV0dXJuIDxCaWxhbiBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWFuY2U9e3Byb3BzLnBlcmZvcm1hbmNlfVxuICAgICAgICAgICAgICAgICAgICAgIG1lbW9yeU9iaj17bWVtb3J5T2JqfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiA8Q2hvaWNlIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fSBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peCddKS5zcGxpdCgnOycpfSBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH0gY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fS8+O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgICBwcm9wcy5lbmRHYW1lID09PSB0cnVlID9cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnYW1lQm94XCI+XG4gICAgICAgICAgPEVuZEdhbWVcbiAgICAgICAgICAgIHJhaXNvbj17cHJvY2Vzc1JlYXNvbkVuZEdhbWUoKX1cbiAgICAgICAgICAgIGdhbWVSZXNldD17Z2FtZVJlc2V0fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgOlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWVCb3hcIj5cblxuICAgICAgICAgIHtwcm9wcy5jdXJQcm9tcHRbJ1R5cGUnXSA9PT0gXCJCaWxhblwiID9cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvbXB0Qm94IGJpbGFuXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXNzaXZlVGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgIDxoMj57cGFyc2UocHJvcHMuY3VyUHJvbXB0WydTdWpldCddKX08L2gyPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZXBhcmF0b3JcIj48L2Rpdj5cbiAgICAgICAgICAgICAge3JlbmRlclN3aXRjaChwcm9wcy5jdXJQcm9tcHRbJ1R5cGUnXSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA6XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb21wdEJveFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VydGl0cmVcIj5cbiAgICAgICAgICAgICAgICAgIDxoND57cGFyc2UocHJvcHMuY3VyUHJvbXB0WydTdWpldCddKX08L2g0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicXVlc3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgIDxwPntwYXJzZShwcm9wcy5jdXJQcm9tcHRbJ1RleHRlJ10pfTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtyZW5kZXJTd2l0Y2gocHJvcHMuY3VyUHJvbXB0WydUeXBlJ10pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgKVxuXG5cbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBHYXVnZXMgfSBmcm9tIFwiLi9nYXVnZXMvR2F1Z2VzXCI7XG5pbXBvcnQgeyBJbnRyb0JveCB9IGZyb20gXCIuL2ludHJvQm94XCI7XG5pbXBvcnQgeyBQcm9tcHRCb3ggfSBmcm9tIFwiLi9Qcm9tcHRCb3hcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIE1haW5GcmFtZShwcm9wcyl7XG5cbiAgY29uc3QgW2dhbWVTdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZSgnSURMRScpO1xuICBjb25zdCBbZ2FtZUluZGV4LCBzZXRHYW1lSW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtkb2xsYXJzLCBzZXREb2xsYXJzXSA9IHVzZVN0YXRlKDUwKTtcbiAgY29uc3QgW3BlcmZvcm1hbmNlLCBzZXRQZXJmb3JtYW5jZV0gPSB1c2VTdGF0ZShbMCwwLDBdKTtcbiAgY29uc3QgW2JnLCBzZXRCR10gPSB1c2VTdGF0ZSgnbm9ybWFsJyk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZ2FtZSAnLCBnYW1lU3RhdHVzKTtcbiAgfSwgW2dhbWVTdGF0dXNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdldEdhbWVQcm9tcHQoZ2FtZUluZGV4KTtcbiAgICBpZihnYW1lSW5kZXggPT09IFwiRU5EXCIpe1xuICAgICAgZ2FtZUVuZCgpO1xuICAgIH1cbiAgfSwgW2dhbWVJbmRleF0pO1xuXG4gIGNvbnN0IGdhbWVTdGFydCA9ICgpID0+IHtcbiAgICBzZXRTdGF0dXMoJ1NUQVJURUQnKTtcbiAgICBzZXRHYW1lSW5kZXgoMCk7XG4gIH1cblxuICBjb25zdCBnYW1lRW5kID0gKCkgPT4ge1xuICAgIHNldFN0YXR1cygnRU5EJyk7XG4gIH1cblxuICBjb25zdCBnYW1lUmVzZXQgPSAoKSA9PiB7XG4gICAgc2V0RG9sbGFycyg1MCk7XG4gICAgc2V0UGVyZm9ybWFuY2UoWzAsMCwwXSk7XG4gICAgZ2FtZVN0YXJ0KCk7XG4gIH1cblxuICBjb25zdCBnZXRHYW1lUHJvbXB0ID0gKGdhbWVJbmRleCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdjdXJyZW50IGdhbWUgcHJvbXB0OicsIHByb3BzLmdhbWVEYXRhLmZpbHRlcihlbGVtID0+IHtyZXR1cm4gU3RyaW5nKGVsZW1bXCJJRFwiXSkgPT09IFN0cmluZyhnYW1lSW5kZXgpO30pKTtcbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZURvbGxhcnMgPSAoZGlmZikgPT4ge1xuICAgIHNldERvbGxhcnMoZG9sbGFycyA9PiBkb2xsYXJzICsgZGlmZik7XG4gICAgaWYoZG9sbGFycyArIGRpZmYgPCAwKXtcbiAgICAgIGdhbWVFbmQoKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB1cGRhdGVQZXJmb3JtYW5jZSA9IChkaWZmKSA9PiB7XG4gICAgbGV0IG5ld1BlcmZvcm1hbmNlID0gQXJyYXkuYXBwbHkobnVsbCwgQXJyYXkoZGlmZi5sZW5ndGgpKS5tYXAoZnVuY3Rpb24gKCkge30pO1xuICAgIHBlcmZvcm1hbmNlLmZvckVhY2goKGVsZW0sIGNvdW50KSA9PiB7XG4gICAgICBpZihlbGVtICsgZGlmZltjb3VudF0gPCAwKXtcbiAgICAgICAgLy9nYW1lRW5kKCk7XG4gICAgICB9XG4gICAgICBuZXdQZXJmb3JtYW5jZVtjb3VudF0gPSBwYXJzZUludChlbGVtKSArIHBhcnNlSW50KGRpZmZbY291bnRdKTtcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZygnU2V0dGluZyBwZXJmb3JtYW5jZSB0byA6ICcsIG5ld1BlcmZvcm1hbmNlKTtcbiAgICBzZXRQZXJmb3JtYW5jZShuZXdQZXJmb3JtYW5jZSk7XG5cbiAgfVxuXG4gIGNvbnN0IGZpbmRHYW1lSW5kZXggPSAoSURuYW1lKSA9PiB7XG5cbiAgICBjb25zdCBmb3VuZElEID0gcHJvcHMuZ2FtZURhdGEuZmluZEluZGV4KChlbGVtKSA9PiB7XG4gICAgICByZXR1cm4gU3RyaW5nKElEbmFtZSkgPT09IFN0cmluZyhlbGVtWydJRCddKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm91bmRJRDtcbiAgfVxuXG4gIGNvbnN0IGNoZWNrQkcgPSAoY3VyUHJvbXB0VHlwZSkgPT4ge1xuICAgIGlmKGN1clByb21wdFR5cGUgPT09IFwiQ2F0YXN0cm9waGVcIil7XG4gICAgICBzZXRCRygncmVkcGluaycpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgaWYoYmcgIT09ICdub3JtYWwnKXtcbiAgICAgICAgc2V0QkcoJ25vcm1hbCcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGN1clByb21wdCA9IHByb3BzLmdhbWVEYXRhW2ZpbmRHYW1lSW5kZXgoZ2FtZUluZGV4KV07XG4gICAgaWYoY3VyUHJvbXB0ICYmIGN1clByb21wdC5oYXNPd25Qcm9wZXJ0eShcIlR5cGVcIikpe1xuICAgICAgY2hlY2tCRyhjdXJQcm9tcHRbXCJUeXBlXCJdKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGdldEJhY2tncm91bmRJbmZvID0gKCkgPT4ge1xuICAgIGNvbnN0IGdhbWVTY3JlZW5DbGFzcyA9IChnYW1lU3RhdHVzID09PSBcIkVORFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUluZGV4ID09PSBcIkVORFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmcgPT09IFwicmVkcGlua1wiKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnYW1lT3ZlclwiIDogXCJcIjtcblxuXG4gICAgY29uc3QgY3VyUHJvbXB0ID0gcHJvcHMuZ2FtZURhdGFbZmluZEdhbWVJbmRleChnYW1lSW5kZXgpXTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kSW1hZ2UgPSBjdXJQcm9tcHQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN1clByb21wdFtcIkJhY2tncm91bmRcIl0gPT09IFwicHlsb25lXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIklsbHVzX1NlY3Rpb24tMDFfUHlsb25lX1YwMS0xNC5zdmdcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clByb21wdFtcIkJhY2tncm91bmRcIl0gPT09IFwiYW1wb3VsZVwiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIklsbHVzX1NlY3Rpb24tMDJfQW1wb3VsZV9WMDIuc3ZnXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyUHJvbXB0W1wiQmFja2dyb3VuZFwiXSA9PT0gXCJjZW50cmFsZVwiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSWxsdXNfU2VjdGlvbi0wMF9DZW50cmFsZV9WMDEuc3ZnXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICBnYW1lU2NyZWVuQ2xhc3M6IGdhbWVTY3JlZW5DbGFzcyxcbiAgICAgIGJhY2tncm91bmRJbWFnZTogYmFja2dyb3VuZEltYWdlXG4gICAgfTtcbiAgfTtcblxuXG4gIGNvbnN0IGRvbUVsZW1lbnQgPSBnYW1lU3RhdHVzID09PSBcIklETEVcIiA/XG4gICAgKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnYW1lU2NyZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFja2dyb3VuZC1pbWFnZVwiPlxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIHNyYz1cImFzc2V0cy9pbWcvSWxsdXNfU2VjdGlvbi0wMF9DZW50cmFsZV9WMDEuc3ZnXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEludHJvQm94IGludHJvRWxlbT17cHJvcHMuaW50cm9FbGVtfSBtYXBPYmo9e3Byb3BzLm1hcE9ian0gZ2FtZVN0YXJ0PXtnYW1lU3RhcnR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gICAgOlxuICAgIDxkaXYgY2xhc3NOYW1lPXtgZ2FtZVNjcmVlbiAke2dldEJhY2tncm91bmRJbmZvKCkuZ2FtZVNjcmVlbkNsYXNzfWB9PlxuICAgICAge1xuICAgICAgICAoZ2V0QmFja2dyb3VuZEluZm8oKS5iYWNrZ3JvdW5kSW1hZ2UgIT09IG51bGwpP1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFja2dyb3VuZC1pbWFnZVwiPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBzcmM9e2Bhc3NldHMvaW1nLyR7Z2V0QmFja2dyb3VuZEluZm8oKS5iYWNrZ3JvdW5kSW1hZ2V9YH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibm8tbW9iaWxlXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgOlxuICAgICAgICAgICcnXG4gICAgICB9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlbXBvcmFyeUluZm9cIj5cbiAgICAgICAgPHA+UGVyZm9ybWFuY2UgKHRlbXBvcmFpcmUpPC9wPlxuICAgICAgICA8cD5Eb2xsYXJzOiB7YCR7ZG9sbGFyc30gJGB9PC9wPlxuICAgICAgICA8cD5FbGVjOiB7YCR7cGVyZm9ybWFuY2VbMF19IFRXaGB9PC9wPlxuICAgICAgICA8cD5FbnZpcm86IHtgJHtwZXJmb3JtYW5jZVsxXX0gcHRzYH08L3A+XG4gICAgICAgIDxwPlBvcHU6IHtgJHtwZXJmb3JtYW5jZVsyXX0gcHRzYH08L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxQcm9tcHRCb3ggY3VySW5kZXg9e2dhbWVJbmRleH1cbiAgICAgICAgY3VyUHJvbXB0PXsoZ2FtZUluZGV4ID09PSBcIkVORFwiKSA/IFwiXCIgOiBwcm9wcy5nYW1lRGF0YVtmaW5kR2FtZUluZGV4KGdhbWVJbmRleCldfVxuICAgICAgICBjaGFuZ2VQcm9tcHQ9e3NldEdhbWVJbmRleH1cbiAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgdXBkYXRlUGVyZm9ybWFuY2U9e3VwZGF0ZVBlcmZvcm1hbmNlfVxuICAgICAgICBnYXVnZXM9ezxHYXVnZXMgZG9sbGFycz17ZG9sbGFyc30vPn1cbiAgICAgICAgcGVyZm9ybWFuY2U9e3BlcmZvcm1hbmNlfVxuICAgICAgICBlbmRHYW1lPXtnYW1lSW5kZXggPT09IFwiRU5EXCIgfHwgZ2FtZVN0YXR1cyA9PT0gXCJFTkRcIn1cbiAgICAgICAgZ2FtZVJlc2V0PXtnYW1lUmVzZXR9XG4gICAgICAgIC8+XG4gICAgPC9kaXY+O1xuXG4gIHJldHVybiBkb21FbGVtZW50O1xufVxuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb20vY2xpZW50XCI7XG5pbXBvcnQgeyByZW5kZXJUb1N0YXRpY01hcmt1cCB9IGZyb20gJ3JlYWN0LWRvbS9zZXJ2ZXInO1xuaW1wb3J0IHsgTWFpbkZyYW1lIH0gZnJvbSAnLi9jb21wb25lbnRzL21haW5mcmFtZSc7XG5pbXBvcnQgeyBvcHRpb25zRHJvcGRvd25Db25zdGFudHMsIGNvbnRlbnRIZWFkZXJDb25zdGFudHMgfSBmcm9tIFwiLi4vZ2VuZXJhdG9yL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgSW50cm9TZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9JbnRyb1NlY3Rpb24nO1xuXG5leHBvcnQgY2xhc3MgRW5naW5lIHtcblxuICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIG9wdGlvbkRhdGEsIGludHJvT2JqLCBnYW1lRGF0YSl7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgY29uc3Qgcm9vdEVsZW0gPSB0aGlzLmNvbnRhaW5lci5hcHBlbmQoJ2RpdicpXG4gICAgICAuY2xhc3NlZCgncm9vdEVsZW0nLCB0cnVlKTtcbiAgICB0aGlzLmVuZ2luZVJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KHJvb3RFbGVtLm5vZGUoKSk7XG4gICAgdGhpcy5vcHRpb25EYXRhID0gb3B0aW9uRGF0YTtcbiAgICB0aGlzLmFtb3JjZSA9IGludHJvT2JqW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdO1xuICAgIHRoaXMuZ2FtZURhdGEgPSBnYW1lRGF0YTtcbiAgICBjb25zb2xlLmxvZygnZ2FtZSBEYXRhIGlzIDogJywgdGhpcy5nYW1lRGF0YSk7XG4gICAgdGhpcy5pbml0RW5naW5lKCk7XG4gIH1cblxuICBpbml0RW5naW5lKCl7XG4gICAgY29uc3QgaW50cm9FbGVtID0gKDxJbnRyb1NlY3Rpb25cbiAgICAgIGtleT17XCJnYW1lSW50cm9cIn1cbiAgICAgIHNlY3Rpb25UeXBlPXtvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLmludHJvdGl0cmV9XG4gICAgICBvcHRpb25EYXRhPXt0aGlzLm9wdGlvbkRhdGF9XG4gICAgICBhbW9yY2U9e3RoaXMuYW1vcmNlfVxuICAgICAgYmFja2dyb3VuZD17bnVsbH1cbiAgICAgIGNsYXNzZXM9e1wiXCJ9XG4gICAgICAvPik7XG5cbiAgICB0aGlzLmVuZ2luZVJvb3QucmVuZGVyKDxNYWluRnJhbWUgaW50cm9FbGVtPXtpbnRyb0VsZW19IGdhbWVTdGF0dXM9e3RoaXMuZ2FtZVN0YXR1c30gZ2FtZURhdGE9e3RoaXMuZ2FtZURhdGF9Lz4pO1xuICB9XG5cbn1cbiIsIi8qKlxuICogdml6LmpzXG4gKiA9PT09PT09XG4gKiBGaWxlIHVzZWQgdG8gZGVmaW5lIHRoZSB2aXN1YWxpemF0aW9uIHNlY3Rpb24uXG4gKi9cblxuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgZ2V0U3RydWN0dXJlLCBnZW5lcmF0ZUNhbGxiYWNrcywgZ2V0T3B0aW9ucyB9IGZyb20gJy4vZ2VuZXJhdG9yL3N0cnVjdHVyZUdlbmVyYXRvci5qcyc7XG5pbXBvcnQgeyBjYWxsYmFja3MgfSBmcm9tICcuLi9kYXRhL3N0cnVjdHVyZS9jYWxsYmFja3MuanMnO1xuXG5pbXBvcnQgeyBNYXAgfSBmcm9tICdsZWRldm9pci1kYXRhdml6JztcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4vZ2FtZS9lbmdpbmUuanMnO1xuXG5jb25zdCBjb25maWcgPSB7XG4gIHdpZHRoOiA1MDAsXG4gIGhlaWdodDogNTAwLFxuICBtYXJnaW46IHtcbiAgICB0b3A6IDEwMCxcbiAgICByaWdodDogMTAwLFxuICAgIGJvdHRvbTogMTAwLFxuICAgIGxlZnQ6IDEwMFxuICB9XG59XG5jb25zdCBmdWxsV2lkdGggPSBjb25maWcubWFyZ2luLmxlZnQgKyBjb25maWcud2lkdGggKyBjb25maWcubWFyZ2luLnJpZ2h0O1xuY29uc3QgZnVsbEhlaWdodCA9IGNvbmZpZy5tYXJnaW4udG9wICsgY29uZmlnLmhlaWdodCArIGNvbmZpZy5tYXJnaW4uYm90dG9tO1xuY29uc3QgbWFwQm94U3R5bGUgPSBcIm1hcGJveDovL3N0eWxlcy9sZWRldm9pci9jbGFsOXpsZmswMDRhMTVxb2hocjdyNDk1XCI7XG5cbmNvbnN0IGN1c3RvbUNhbGxiYWNrc05lZWRlZCA9IHRydWU7IC8vIFNldCB0byB0cnVlIGlmIGN1c3RvbSBjYWxsYmFja3MgYXJlIG5lZWRlZFxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZShjb250ZW50RGF0YSwgb3B0aW9ucykge1xuXG4gIHJldHVybiBkMy5jc3YoXCJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC9lLzJQQUNYLTF2UVFaM3N6MHExdm5abW9ZWVI1SXJDZnVPTmhIY053NTBpRHRiZzFIMm1JWDhsSERMMUJRNHNBTWk3aUFwU0UxRzlXUVRXMmpIY1d2NEtXL3B1Yj9naWQ9MTQ5Nzg2MTAxNyZzaW5nbGU9dHJ1ZSZvdXRwdXQ9Y3N2XCIpXG4gICAgLnRoZW4oIGdhbWVEYXRhID0+IHtcblxuICAgICAgY29uc3QgbWFwQ29udGFpbmVyID0gZDMuc2VsZWN0KFwiLmdhbWUtYXJlYVwiKTtcblxuICAgICAgY29uc3QgZW5naW5lID0gbmV3IEVuZ2luZShtYXBDb250YWluZXIsIGdldE9wdGlvbnMob3B0aW9ucyksIGNvbnRlbnREYXRhWzBdLCBnYW1lRGF0YSk7XG5cbiAgICAgIGxldCBhdXRvQ2FsbGJhY2tzO1xuICAgICAgc2V0dXBWaXooY29udGVudERhdGEsb3B0aW9ucyk7XG4gICAgICBpZihFTlZfQ09ORklHLmRvd25sb2FkU3RydWMgJiYgRU5WX0NPTkZJRy5hdXRvcmVuZGVyKXtcbiAgICAgICAgYXV0b0NhbGxiYWNrcyA9IGdlbmVyYXRlQ2FsbGJhY2tzKGNvbnRlbnREYXRhLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIGF1dG9DYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gICAgICB9XG5cbiAgICAgIGlmKGN1c3RvbUNhbGxiYWNrc05lZWRlZCl7XG4gICAgICAgIC8vaWYgY3VzdG9tIGNhbGxiYWNrcyBhcmUgbmVlZGVkLCBzdWNoIGFzIFZpc3VhbGl6YXRpb24gdHJhbnNmb3JtYXRpb25zLCBpbmNsdWRlIHRoZW0gaGVyZS5cbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgdG8gdXNlIGFueSBvYmplY3QgY3JlYXRlZCBpbiB2aXouanMgKGdyYXBocywgdG9vbHMsIGV0YykgaW4gdGhlIGNhbGxiYWNrcy5cbiAgICAgICAgLy8gWW91IHdpbGwgbmVlZCB0byBtYW51YWxseSBjcmVhdGUgdGhlIGNvcnJlY3QgbnVtYmVyIG9mIGNhbGxiYWNrcyB0byBtYXRjaCB0aGUgdml6IHNlY3Rpb25zXG5cbiAgICAgICAgbGV0IGN1c3RvbUNhbGxiYWNrcyA9IFtcbiAgICAgICAgICBbXG4gICAgICAgICAgICAoKSA9PiB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIF1cbiAgICAgICAgcmV0dXJuIGN1c3RvbUNhbGxiYWNrcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBhdXRvQ2FsbGJhY2tzO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cFZpeihjb250ZW50RGF0YSwgb3B0aW9ucyl7XG5cbiAgY29uc3QgZnVsbFN0cnVjdHVyZSA9IGdldFN0cnVjdHVyZShjb250ZW50RGF0YSwgb3B0aW9ucyk7XG4gIGNvbnNvbGUubG9nKCdjaGVja2luZyBzdHJ1Y3R1cmU6JywgZnVsbFN0cnVjdHVyZSk7XG4gIGZ1bGxTdHJ1Y3R1cmUubWFwKHNlY3Rpb25PYmogPT4ge1xuXG4gICAgaWYoc2VjdGlvbk9iai5zZWN0aW9uVHlwZSA9PT0gXCJ2aXotc2VjdGlvblwiKXtcbiAgICAgIHNlY3Rpb25PYmouc3RlcHMubWFwKChzdGVwLGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYoc3RlcC52aXN1YWwgIT09IFwiXCIpe1xuICAgICAgICAgICAgaWYoaW5kZXggPT09IDApe1xuICAgICAgICAgICAgICBkMy5zZWxlY3QoYCMke3NlY3Rpb25PYmoua2V5fV8ke2luZGV4fWApLnN0eWxlKCdvcGFjaXR5JywgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICBkMy5zZWxlY3QoYCMke3NlY3Rpb25PYmoua2V5fV8ke2luZGV4fWApLnN0eWxlKCdvcGFjaXR5JywgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxufSk7XG59XG5cbmZ1bmN0aW9uIHNldHVwVmlkZW9zKCl7XG4gIGxldCB2aWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwidmlkZW9cIik7XG4gICAgdmlkZW9zLmZvckVhY2goKHZpZGVvKSA9PiB7XG4gICAgICAvLyBXZSBjYW4gb25seSBjb250cm9sIHBsYXliYWNrIHdpdGhvdXQgaW5zdGVyYWN0aW9uIGlmIHZpZGVvIGlzIG11dGVcbiAgICAgIHZpZGVvLm11dGVkID0gdHJ1ZTtcbiAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgIC8vIFBsYXkgaXMgYSBwcm9taXNlIHNvIHdlIG5lZWQgdG8gY2hlY2sgd2UgaGF2ZSBpdFxuICAgICAgbGV0IHBsYXlQcm9taXNlID0gdmlkZW8ucGxheSgpO1xuICAgICAgaWYgKHBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwbGF5UHJvbWlzZS50aGVuKChfKSA9PiB7XG4gICAgICAgICAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgICAgICAgICAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyAhPT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXZpZGVvLnBhdXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlby5jdXJyZW50VGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmlkZW8ucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlby5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB7IHRocmVzaG9sZDogMC4yIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh2aWRlbyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG59XG4iLCIvKipcclxuICogc2Nyb2xsZXIuanNcclxuICogPT09PT09PT09PT1cclxuICogRGVmaW5lcyB0aGUgbG9naWMgdXNlZCBieSB0aGUgc2Nyb2xsZXIuIFRoaXMgc2NyaXB0IGRvZXMgbm90IG5lZWQgZXh0ZXJuYWwgZGVwZW5kZW5jaWVzIGFuZCB1c2VzIG5hdGl2ZSBmdW5jdGlvbnNcclxuICogb2YgdGhlIGJyb3dzZXIuXHJcbiAqXHJcbiAqIC8hXFwgUExFQVNFLCBETyBOT1QgTU9ESUZZIFRISVMgRklMRS5cclxuICpcclxuICogQGF1dGhvciBBbnRvaW5lIELDqWxhbmQgPGFiZWxhbmRAbGVkZXZvaXIuY29tPlxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIGEgc3RlcCBhc3NvY2lhdGVkIHdpdGggYSBzcGVjaWZpYyB2aXN1YWxpemF0aW9uLiBBIHN0ZXAgaXMgYWN0aXZhdGVkIG9yIGRlYWN0aXZhdGVkIGJhc2VkIG9uIHRoZSBzY3JvbGxcclxuICogcG9zaXRpb24uIFRoaXMgY2xhc3MgaXMgdXNlZCBieSB0aGUgc2Nyb2xsZXIgZnVuY3Rpb24uXHJcbiAqL1xyXG5jbGFzcyBTY3JvbGxlclN0ZXAge1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGEgbmV3IGluc3RhbmNlIG9mIFNjcm9sbGVyU3RlcC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBlbCAgICAgICAgICBUaGUgbmF0aXZlIGVsZW1lbnQgdGhhdCByZXByZXNlbnRzIHRoZSBzdGVwIGluIHRoZSBIVE1MIGRvY3VtZW50LlxyXG4gICAqIEBwYXJhbSBpbmRleCAgICAgICBUaGUgaW5kZXggb2YgdGhlIHN0ZXAuXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrICAgIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIHN0ZXAgaXMgYWN0aXZhdGUuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZWwsIGluZGV4LCBjYWxsYmFjaykge1xyXG4gICAgdGhpcy5lbCA9IGVsO1xyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgdGhpcy5faXNBY3RpdmF0ZSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWN0aXZhdGVzIHRoZSBjdXJyZW50IHN0ZXAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc2Nyb2xsRGlyZWN0aW9uICAgVGhlIGN1cnJlbnQgc2Nyb2xsIGRpcmVjdGlvbi5cclxuICAgKi9cclxuICBhY3RpdmF0ZShzY3JvbGxEaXJlY3Rpb24pIHtcclxuICAgIGlmICh0aGlzLl9pc0FjdGl2YXRlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX2lzQWN0aXZhdGUgPSB0cnVlO1xyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIHRoaXMuY2FsbGJhY2soc2Nyb2xsRGlyZWN0aW9uKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlYWN0aXZhdGVzIHRoZSBjdXJyZW50IHN0ZXAuXHJcbiAgICovXHJcbiAgZGVhY3RpdmF0ZSgpIHtcclxuICAgIGlmICghdGhpcy5faXNBY3RpdmF0ZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLl9pc0FjdGl2YXRlID0gZmFsc2U7XHJcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIERlZmluZXMgdGhlIHNjcm9sbCBkaXJlY3Rpb25zLlxyXG4gKlxyXG4gKiBAdHlwZSB7e3VwOiBzdHJpbmcsIGRvd246IHN0cmluZ319XHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2Nyb2xsRGlyZWN0aW9ucyA9IHtcclxuICB1cDogJ3VwJyxcclxuICBkb3duOiAnZG93bidcclxufTtcclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIHRoZSBzY3JvbGxlciB0byB1c2Ugd2l0aCB0aGUgTGUgRGV2b2lyJ3Mgc2Nyb2xseXRlbGxpbmcgYXJ0aWNsZXMuIFBsZWFzZSBzZWUgXCJSRUFETUUubWRcIlxyXG4gKiB0byBrbm93IGhvdyB0byB1c2UgaXQuXHJcbiAqXHJcbiAqIC8hXFwgQmUgc3VyZSB0byB1c2UgdGhlIGdvb2QgQ1NTIGNsYXNzIG5hbWVzIGluIHlvdXIgSFRNTCBmaWxlIGJlZm9yZSB0byB1c2UgdGhlIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0gY2FsbGJhY2tzICAgQSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBvZiBjYWxsYmFja3MgdG8gdXNlIHdpdGggZWFjaCBzdGVwLlxyXG4gKiBAcmV0dXJucyB7Kn0gICAgICAgVGhlIGluc3RhbmNlIG9mIHRoZSBzY3JvbGxlci5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxlcihjYWxsYmFja3MpIHtcclxuICBsZXQgX29mZnNldFRvcCA9IDA7XHJcbiAgbGV0IF9vZmZzZXRCb3R0b20gPSAwO1xyXG5cclxuICBsZXQgaW5uZXJIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgbGV0IGlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICBsZXQgbGFzdFNjcm9sbCA9IDA7XHJcbiAgbGV0IHN0ZXBzID0gW107XHJcbiAgbGV0IHZpeiA9IFtdO1xyXG4gIGxldCB2aXNpYmxlU3RlcHMgPSBbXTtcclxuICBcclxuICBjb25zdCBhcnRpY2xlUmVtaW5kZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJ0aWNsZS1yZW1pbmRlcicpO1xyXG4gIGNvbnN0IHNjcm9sbFByb2dyZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyID4gLnByb2dyZXNzJyk7XHJcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8tc2VjdGlvbiBoMScpO1xyXG5cclxuICBjb25zdCB2aXpTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52aXotc2VjdGlvbicpO1xyXG4gIGlmICh2aXpTZWN0aW9ucy5sZW5ndGggIT09IGNhbGxiYWNrcy5sZW5ndGgpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgVGhlIG51bWJlciBvZiB2aXogc2VjdGlvbnMgKCR7dml6U2VjdGlvbnMubGVuZ3RofSkgbWlzbWF0Y2ggd2l0aCB0aGUgbGVuZ3RoIG9mIHRoZSBmaXJzdCBgICtcclxuICAgICAgYGRpbWVuc2lvbiBvZiB0aGUgY2FsbGJhY2tzIGFycmF5ICgke2NhbGxiYWNrcy5sZW5ndGh9KS4gUGxlYXNlLCBiZSBzdXJlIHRoYXQgdGhlIHR3byBlbGVtZW50cyBgICtcclxuICAgICAgYGhhdmUgdGhlIHNhbWUgc2l6ZS5gKTtcclxuICB9XHJcbiAgdml6U2VjdGlvbnMuZm9yRWFjaCgodml6U2VjdGlvbiwgaSkgPT4ge1xyXG4gICAgY29uc3Qgc2VjdGlvbnMgPSBbLi4udml6U2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uJyldO1xyXG4gICAgaWYgKHNlY3Rpb25zLmxlbmd0aCAhPT0gY2FsbGJhY2tzW2ldLmxlbmd0aCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBudW1iZXIgb2Ygc3RlcHMgKCR7c2VjdGlvbnMubGVuZ3RofSkgaW4gdGhlIHZpeiBzZWN0aW9uICMke2kgKyAxfSBtaXNtYXRjaCB3aXRoIHRoZSBgICtcclxuICAgICAgICBgbnVtYmVyIG9mIGNhbGxiYWNrcyBzcGVjaWZpZWQgKCR7Y2FsbGJhY2tzW2ldLmxlbmd0aH0pIGF0IHRoZSBpbmRleCBcIiR7aX1cIi4gUGxlYXNlLCBiZSBzdXJlIHRoYXQgdGhlIHR3byBgICtcclxuICAgICAgICBgZWxlbWVudHMgaGF2ZSB0aGUgc2FtZSBzaXplLmApO1xyXG4gICAgfVxyXG4gICAgc3RlcHMgPSBzdGVwcy5jb25jYXQoc2VjdGlvbnMubWFwKChlLCBqKSA9PiBuZXcgU2Nyb2xsZXJTdGVwKGUsIGAke2l9LSR7an1gLCBjYWxsYmFja3NbaV1bal0pKSk7XHJcbiAgICB2aXogPSB2aXouY29uY2F0KHZpeiwgdml6U2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcudml6ID4gKicpKTtcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgZGlzcGxheSBiYXNlZCBvbiBzY3JvbGxiYXIgcG9zaXRpb24uXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBjb25zdCBfdXBkYXRlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFNjcm9sbCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgc3RlcHMuZm9yRWFjaChzdGVwID0+IHtcclxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgc3RlcCBpcyBpbiB0aGUgdmlld3BvcnQuXHJcbiAgICAgIGNvbnN0IGJvdW5kaW5nUmVjdCA9IHN0ZXAuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGlmIChpbm5lckhlaWdodCAtIGJvdW5kaW5nUmVjdC50b3AgLSBfb2Zmc2V0Qm90dG9tID4gMFxyXG4gICAgICAgICYmIGJvdW5kaW5nUmVjdC50b3AgKyBib3VuZGluZ1JlY3QuaGVpZ2h0IC0gX29mZnNldFRvcCA+IDApIHtcclxuICAgICAgICB2aXNpYmxlU3RlcHMucHVzaChzdGVwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzdGVwLmRlYWN0aXZhdGUoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRGlzcGxheSB0aGUgdGl0bGUgYXMgYSByZW1pbmRlciB3aGVuIHRoZSBtYWluIGFydGljbGUgdGl0bGUgaXMgaGlkZGVuLlxyXG4gICAgY29uc3QgaXNBcnRpY2xlUmVtaW5kZXJEaXNwbGF5ZWQgPSB0aXRsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gPD0gMDtcclxuICAgIGNvbnN0IGlzQXJ0aWNsZVJlbWluZGVySXNWaXNpYmxlID0gYXJ0aWNsZVJlbWluZGVyLmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpO1xyXG4gICAgaWYgKGlzQXJ0aWNsZVJlbWluZGVyRGlzcGxheWVkICYmICFpc0FydGljbGVSZW1pbmRlcklzVmlzaWJsZSkge1xyXG4gICAgICBhcnRpY2xlUmVtaW5kZXIuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpXHJcbiAgICB9IGVsc2UgaWYgKCFpc0FydGljbGVSZW1pbmRlckRpc3BsYXllZCAmJiBpc0FydGljbGVSZW1pbmRlcklzVmlzaWJsZSkge1xyXG4gICAgICBhcnRpY2xlUmVtaW5kZXIuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gRm9yIHRoZSB2aXNpYmxlIHN0ZXBzLCBjaG9vc2UgdGhlIGdvb2Qgb25lIGJhc2VkIG9uIHRoZSBzY3JvbGwgZGlyZWN0aW9uLlxyXG4gICAgdmlzaWJsZVN0ZXBzLmZvckVhY2goKHNlY3Rpb24sIGkpID0+IHtcclxuICAgICAgaWYgKGN1cnJlbnRTY3JvbGwgPj0gbGFzdFNjcm9sbCkgeyAvLyBTY3JvbGwgZG93biAo4oaTKVxyXG4gICAgICAgIGlmIChpID09PSB2aXNpYmxlU3RlcHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgc2VjdGlvbi5hY3RpdmF0ZShzY3JvbGxEaXJlY3Rpb25zLmRvd24pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWN0aW9uLmRlYWN0aXZhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7IC8vIFNjcm9sbCB1cCAo4oaRKVxyXG4gICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICBzZWN0aW9uLmFjdGl2YXRlKHNjcm9sbERpcmVjdGlvbnMudXApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWN0aW9uLmRlYWN0aXZhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgX3VwZGF0ZVNjcm9sbFByb2dyZXNzKCk7XHJcblxyXG4gICAgLy8gUmVzZXQgdGhlIHZhcmlhYmxlcyBmb3IgdGhlIG5leHQgZnVuY3Rpb24gY2FsbC5cclxuICAgIHZpc2libGVTdGVwcyA9IFtdO1xyXG4gICAgbGFzdFNjcm9sbCA9IGN1cnJlbnRTY3JvbGw7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgc2Nyb2xsIHByb2dyZXNzaW9uIGluZGljYXRvci5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGNvbnN0IF91cGRhdGVTY3JvbGxQcm9ncmVzcyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHdpblNjcm9sbCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcclxuICAgIGNvbnN0IHNjcm9sbGVkID0gKHdpblNjcm9sbCAvIGhlaWdodCkgKiAxMDA7XHJcbiAgICBzY3JvbGxQcm9ncmVzcy5zdHlsZS53aWR0aCA9IHNjcm9sbGVkICsgJyUnO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHB1YmxpY0ludGVyZmFjZSA9IHtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIHNjcm9sbGVyLiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIGJlIG9ubHkgY2FsbGVkIG9uY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBpbnN0YW5jZSBvZiB0aGUgc2Nyb2xsZXIuXHJcbiAgICAgKi9cclxuICAgIGluaXRpYWxpemU6ICgpID0+IHtcclxuICAgICAgaWYgKGlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzY3JvbGxlciBpcyBhbHJlYWR5IGluaXRpYWxpemVkLicpO1xyXG4gICAgICB9XHJcbiAgICAgIGlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX3VwZGF0ZSk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICAgICAgaW5uZXJIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgX3VwZGF0ZVNjcm9sbFByb2dyZXNzKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoKHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSA+IDApIHtcclxuICAgICAgICBfdXBkYXRlKCk7XHJcbiAgICAgIH1cclxuICAgICAgX3VwZGF0ZVNjcm9sbFByb2dyZXNzKCk7XHJcbiAgICAgIHJldHVybiBwdWJsaWNJbnRlcmZhY2U7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBvciBzZXRzIHRoZSB0b3Agb2Zmc2V0IHRvIHVzZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0VG9wXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIGluc3RhbmNlIG9mIHRoZSBzY3JvbGxlci5cclxuICAgICAqL1xyXG4gICAgb2Zmc2V0VG9wOiBvZmZzZXRUb3AgPT4ge1xyXG4gICAgICBpZiAob2Zmc2V0VG9wID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gX29mZnNldFRvcDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIob2Zmc2V0VG9wKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG9mZnNldCBtdXN0IGJlIGFuIGludGVnZXIgbnVtYmVyLicpO1xyXG4gICAgICB9XHJcbiAgICAgIF9vZmZzZXRUb3AgPSBvZmZzZXRUb3A7XHJcbiAgICAgIHJldHVybiBwdWJsaWNJbnRlcmZhY2U7XHJcbiAgICB9ICxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgYm90dG9tIG9mZnNldCB0byB1c2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9mZnNldEJvdHRvbVxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBpbnN0YW5jZSBvZiB0aGUgc2Nyb2xsZXIuXHJcbiAgICAgKi9cclxuICAgIG9mZnNldEJvdHRvbTogb2Zmc2V0Qm90dG9tID0+IHtcclxuICAgICAgaWYgKG9mZnNldEJvdHRvbSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9vZmZzZXRCb3R0b207XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG9mZnNldEJvdHRvbSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBvZmZzZXQgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlci4nKTtcclxuICAgICAgfVxyXG4gICAgICBfb2Zmc2V0Qm90dG9tID0gb2Zmc2V0Qm90dG9tO1xyXG4gICAgICByZXR1cm4gcHVibGljSW50ZXJmYWNlO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgcmV0dXJuIHB1YmxpY0ludGVyZmFjZTtcclxufVxyXG4iLCJcclxuaW1wb3J0IHsgaW5pdGlhbGl6ZSBhcyB2MSB9IGZyb20gJy4uL3Zpeic7XHJcbmltcG9ydCB7IHNjcm9sbGVyIH0gZnJvbSAnLi4vc2Nyb2xsZXInO1xyXG5pbXBvcnQgTGF6eUxvYWQgZnJvbSBcInZhbmlsbGEtbGF6eWxvYWRcIjtcclxuY29uc3QgaGVhZGVySGVpZ2h0ID0gNDA7XHJcbmltcG9ydCBzdGlja3lCaXRzIGZyb20gJ3N0aWNreWJpdHMnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNjcm9sbGVyKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKXtcclxuXHJcbiAgICBsZXQgZWxlbWVudHMgPSBbXTtcclxuICAgIFsnLnZpeicsICcuZnVsbC1wYWdlLXNlY3Rpb24gPiBpbWcnLCAnLmZ1bGwtcGFnZS1zZWN0aW9uID4gdmlkZW8nXS5mb3JFYWNoKHNlbGVjdG9yID0+IHtcclxuICAgICAgZWxlbWVudHMgPSBlbGVtZW50cy5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkpO1xyXG4gICAgfSk7XHJcbiAgICBzdGlja3lCaXRzKGVsZW1lbnRzLCB7IHN0aWNreUJpdFN0aWNreU9mZnNldDogaGVhZGVySGVpZ2h0IH0pO1xyXG4gIFxyXG4gICAgY29uc3QgbGwgPSBuZXcgTGF6eUxvYWQoe1xyXG4gICAgICBlbGVtZW50c19zZWxlY3RvcjogXCIubGF6eVwiLFxyXG4gICAgICB0aHJlc2hvbGQ6IDUwMFxyXG4gICAgfSk7XHJcbiAgXHJcbiAgICBQcm9taXNlLmFsbChbdjEoY29udGVudERhdGEsIHBhcmFtc0RhdGEpXSkudGhlbigoW2NhbGxiYWNrc1YxXSkgPT4gIHtcclxuICAgICAgc2Nyb2xsZXIoY2FsbGJhY2tzVjEpXHJcbiAgICAgICAgLm9mZnNldFRvcChoZWFkZXJIZWlnaHQpXHJcbiAgICAgICAgLm9mZnNldEJvdHRvbSgwKVxyXG4gICAgICAgIC5pbml0aWFsaXplKCk7XHJcbiAgICB9KTtcclxuICB9IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgSW50cm9TZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvSW50cm9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBUZXh0U2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1RleHRTZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBWaXpTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVml6U2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgRnVsbFBhZ2VTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRnVsbFBhZ2VTZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBvcHRpb25zRHJvcGRvd25Db25zdGFudHMgfSBmcm9tIFwiLi9jb25zdGFudHMuanNcIjtcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcbmltcG9ydCB7IGdldFN0cnVjdHVyZSB9IGZyb20gXCIuL3N0cnVjdHVyZUdlbmVyYXRvci5qc1wiO1xuaW1wb3J0IHsgaW5pdFNjcm9sbGVyIH0gZnJvbSBcIi4vaW5pdFNjcm9sbGVyLmpzXCI7XG5cblxuLyoqXG4gKiBUYWtlIHByb3BzIChhcnRpY2xlIHN0cnVjdHVyZSBhcyBDU1YgYW5kIHBhcmFtcykgYW5kIHRyYW5zZm9ybSBpdCBhcyBIVE1MIGFyY2hpdGVjdHVyZVxuICogQHBhcmFtICB7T2JqZWN0fSBjb250ZW50RGF0YSBBcnRpY2xlJ3MgQ1NWIHN0cnVjdHVyZVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc0RhdGEgQXJ0aWNsZSBwYXJhbWV0ZXJzXG4gKiBAcmV0dXJuIHtPYmplY3R9IE9iaiBIVE1MIGNvZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbmRlclN0cnVjdHVyZShwcm9wcyl7XG4gICAgaWYocHJvcHMucmVuZGVyZWQpe1xuICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgICAgICBpbml0U2Nyb2xsZXIocHJvcHMuY29udGVudERhdGEsIHByb3BzLnBhcmFtc0RhdGEpO1xuXG4gICAgICAgIH0sIFtdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyRGF0YShnZXRTdHJ1Y3R1cmUocHJvcHMuY29udGVudERhdGEsIHByb3BzLnBhcmFtc0RhdGEpKTtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyRGF0YShzdHJ1Y3R1cmVEYXRhKXtcblxuICAgIGxldCByZW5kZXJlZERhdGEgPSB7fTtcblxuICAgIE9iamVjdC5rZXlzKHN0cnVjdHVyZURhdGEpLm1hcCgoc2VjdGlvbktleSxpbmRleCkgPT4ge1xuICAgICAgICBsZXQgY3VyU2VjdGlvbiA9IHN0cnVjdHVyZURhdGFbc2VjdGlvbktleV07XG4gICAgICAgIGlmKGN1clNlY3Rpb24uc2VjdGlvblR5cGUgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMuaW50cm90aXRyZSl7XG4gICAgICAgICAgICByZW5kZXJlZERhdGFbc2VjdGlvbktleV0gPSAoKDxJbnRyb1NlY3Rpb24ga2V5PXtjdXJTZWN0aW9uLmtleX0gc2VjdGlvblR5cGU9e2N1clNlY3Rpb24uc2VjdGlvblR5cGV9IG9wdGlvbkRhdGE9e2N1clNlY3Rpb24ub3B0aW9uRGF0YX0gYW1vcmNlPXtwYXJzZShjdXJTZWN0aW9uLmFtb3JjZSl9IGJhY2tncm91bmQ9e2N1clNlY3Rpb24uYmFja2dyb3VuZH0gY2xhc3Nlcz17Y3VyU2VjdGlvbi5jbGFzc2VzfSAvPikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoY3VyU2VjdGlvbi5zZWN0aW9uVHlwZSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy50ZXh0ZWNsYXNzaXF1ZSl7XG5cbiAgICAgICAgICAgIHJlbmRlcmVkRGF0YVtzZWN0aW9uS2V5XSA9ICgoPFRleHRTZWN0aW9uIGtleT17Y3VyU2VjdGlvbi5rZXl9IGlkPXtjdXJTZWN0aW9uLmtleX0gc2VjdGlvblR5cGU9e2N1clNlY3Rpb24uc2VjdGlvblR5cGV9IHRleHRzPXtjdXJTZWN0aW9uLnRleHRzfSBiYWNrZ3JvdW5kPXtjdXJTZWN0aW9uLmJhY2tncm91bmR9IGNsYXNzZXM9e2N1clNlY3Rpb24uY2xhc3Nlc30gdmlzdWVsY2xhc3Nlcz17Y3VyU2VjdGlvbi52aXN1ZWxjbGFzc2VzfSB2aXN1YWw9e2N1clNlY3Rpb24udmlzdWFsfSBmaWxlbmFtZT17Y3VyU2VjdGlvbi5maWxlbmFtZX0vPikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoY3VyU2VjdGlvbi5zZWN0aW9uVHlwZSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5wbGVpbmVwYWdldGl0cmUpe1xuICAgICAgICAgICAgcmVuZGVyZWREYXRhW3NlY3Rpb25LZXldID0gKCg8RnVsbFBhZ2VTZWN0aW9uIGtleT17Y3VyU2VjdGlvbi5rZXl9IGlkPXtjdXJTZWN0aW9uLmtleX0gc2VjdGlvblR5cGU9e2N1clNlY3Rpb24uc2VjdGlvblR5cGV9IGJhY2tncm91bmQ9e2N1clNlY3Rpb24uYmFja2dyb3VuZH0gY2xhc3Nlcz17Y3VyU2VjdGlvbi5jbGFzc2VzfSB2aXN1ZWxjbGFzc2VzPXtjdXJTZWN0aW9uLnZpc3VlbGNsYXNzZXN9IHZpc3VhbD17Y3VyU2VjdGlvbi52aXN1YWx9IG1haW5UaXRsZT17Y3VyU2VjdGlvbi50ZXh0cy5tYWluVGl0bGV9IHN1YlRpdGxlPXtjdXJTZWN0aW9uLnRleHRzLnN1YlRpdGxlfSBmaWxlbmFtZT17Y3VyU2VjdGlvbi5maWxlbmFtZX0gLz4pKVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoY3VyU2VjdGlvbi5zZWN0aW9uVHlwZSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy52aXpzZWN0aW9uKXtcbiAgICAgICAgICAgIHJlbmRlcmVkRGF0YVtzZWN0aW9uS2V5XSA9ICg8Vml6U2VjdGlvbiBrZXk9e2N1clNlY3Rpb24ua2V5fSBsaXN0SUQ9e2N1clNlY3Rpb24ubGlzdElEfSBzdGVwcz17Y3VyU2VjdGlvbi5zdGVwc30gY2xhc3NlZD17Y3VyU2VjdGlvbi5jbGFzc2VkfSBtZWRpYUluZm89e2N1clNlY3Rpb24ubWVkaWFJbmZvfSBiYWNrZ3JvdW5kPXtjdXJTZWN0aW9uLmJhY2tncm91bmR9Lz4pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVuZGVyZWREYXRhKTtcbn1cbiIsIi8qKlxuICogYXBwLmpzXG4gKiA9PT09PT1cbiAqIE1haW4gZmlsZSBvZiB0aGUgYXBwbGljYXRpb24uIFRoaXMgZmlsZSBpcyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIHNjcm9sbGVyIGFuZCBpbXBvcnRzIHRoZSB2aXN1YWxpemF0aW9ucyB1c2VkLlxuICovXG5cbid1c2Ugc3RyaWN0JztcbmltcG9ydCBzdHJ1Y3R1cmUgZnJvbSAnLi4vZGF0YS9zdHJ1Y3R1cmUvc3RydWN0dXJlLmpzb24nO1xuXG5pZighRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjKXtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jvb3QnKS5pbm5lckhUTUwgPSAoc3RydWN0dXJlLmh0bWxzdHJ1Yyk7XG59XG5cbmltcG9ydCAnLi4vYXNzZXRzL3N0eWxlcy9zdHlsZS5zY3NzJztcbmltcG9ydCB7Z29vZ2xlX2NvbmZpZ30gZnJvbSBcIi4uL2RhdGEvZ29vZ2xlX2NvbmZpZ1wiO1xuaW1wb3J0IHsgUmVuZGVyU3RydWN0dXJlIH0gZnJvbSAnLi9nZW5lcmF0b3IvUmVuZGVyU3RydWN0dXJlJztcbmltcG9ydCB7IGluaXRTY3JvbGxlciB9IGZyb20gJy4vZ2VuZXJhdG9yL2luaXRTY3JvbGxlcic7XG5pbXBvcnQgeyBnZW5lcmF0ZUNhbGxiYWNrcyB9IGZyb20gJy4vZ2VuZXJhdG9yL3N0cnVjdHVyZUdlbmVyYXRvcic7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBzYXZlQXMgfSBmcm9tICdmaWxlLXNhdmVyJztcblxuaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjKXtcbiAgUHJvbWlzZS5hbGwoW2ltcG9ydChcInJlYWN0LWRvbS9jbGllbnRcIiksIGltcG9ydChcInJlYWN0LWRvbS9zZXJ2ZXJcIiksIGltcG9ydChcInJlYWN0XCIpXSlcbiAgICAudGhlbihwYWNrYWdlcyA9PiB7XG4gICAgICBjb25zdCBSZWFjdERPTSA9IHBhY2thZ2VzWzBdO1xuICAgICAgY29uc3QgUmVhY3RET01TZXJ2ZXIgPSBwYWNrYWdlc1sxXTtcbiAgICAgIGNvbnN0IFJlYWN0ID0gcGFja2FnZXNbMl07XG4gICAgICBhZGROb3RQdWJsaXNoZWQoKTtcbiAgICAgIGlmKEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLmNvbnRlbnRVUkwpLnRoZW4oIGNvbnRlbnREYXRhID0+IHtcbiAgICAgICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5wYXJhbXNVUkwpLnRoZW4oIHBhcmFtc0RhdGEgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm9vdCA9IFJlYWN0RE9NLmNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpKTtcbiAgICAgICAgICAgIHJvb3QucmVuZGVyKFxuICAgICAgICAgICAgICA8UmVuZGVyU3RydWN0dXJlIGNvbnRlbnREYXRhPXtjb250ZW50RGF0YX0gcGFyYW1zRGF0YT17cGFyYW1zRGF0YX0gcmVuZGVyZWQ9e3RydWV9Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBhZGRGb290ZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5jb250ZW50VVJMKS50aGVuKCBjb250ZW50RGF0YSA9PiB7XG4gICAgICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcucGFyYW1zVVJMKS50aGVuKCBwYXJhbXNEYXRhID0+IHtcbiAgICAgICAgICAgIGQzLmJsb2IoZ29vZ2xlX2NvbmZpZy5jb250ZW50VVJMKS50aGVuKGNvbnRlbnRCbG9iID0+IHtcbiAgICAgICAgICAgICAgZDMuYmxvYihnb29nbGVfY29uZmlnLnBhcmFtc1VSTCkudGhlbihwYXJhbXNCbG9iID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBnZW5lcmF0ZWRTdHJ1YyA9IFJlbmRlclN0cnVjdHVyZSh7Y29udGVudERhdGE6IGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhOiBwYXJhbXNEYXRhLCByZW5kZXI6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbFN0cnVjID0gUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdGF0aWNNYXJrdXAoZ2VuZXJhdGVkU3RydWMpO1xuICAgICAgICAgICAgICAgIHdyaXRlSFRNTGZpbGUoaHRtbFN0cnVjLCBjb250ZW50QmxvYiwgcGFyYW1zQmxvYik7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVDYWxsYmFja3MoY29udGVudERhdGEscGFyYW1zRGF0YSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSlcbn1cbmVsc2V7XG4gIGlmKEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgUHJvbWlzZS5hbGwoW2ltcG9ydChcInJlYWN0LWRvbS9jbGllbnRcIiksIGltcG9ydChcInJlYWN0XCIpXSlcbiAgICAudGhlbihwYWNrYWdlcyA9PiB7XG4gICAgICBjb25zdCBSZWFjdERPTSA9IHBhY2thZ2VzWzBdO1xuICAgICAgY29uc3QgUmVhY3QgPSBwYWNrYWdlc1sxXTtcbiAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLmNvbnRlbnRVUkwpLnRoZW4oIGNvbnRlbnREYXRhID0+IHtcbiAgICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcucGFyYW1zVVJMKS50aGVuKCBwYXJhbXNEYXRhID0+IHtcbiAgICAgICAgICBjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIikpO1xuICAgICAgICAgIHJvb3QucmVuZGVyKFxuICAgICAgICAgICAgPFJlbmRlclN0cnVjdHVyZSBjb250ZW50RGF0YT17Y29udGVudERhdGF9IHBhcmFtc0RhdGE9e3BhcmFtc0RhdGF9IHJlbmRlcmVkPXt0cnVlfS8+XG4gICAgICAgICAgKTtcbiAgICAgICAgICBhZGRGb290ZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBlbHNle1xuICAgIGQzLmNzdihnb29nbGVfY29uZmlnLmxvY2FsQ29udGVudFVSTCkudGhlbiggY29udGVudERhdGEgPT4ge1xuICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcubG9jYWxQYXJhbXNVUkwpLnRoZW4oIHBhcmFtc0RhdGEgPT4ge1xuICAgICAgICBpbml0U2Nyb2xsZXIoY29udGVudERhdGEsIHBhcmFtc0RhdGEpO1xuICAgICAgICBhZGRGb290ZXIoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdyaXRlSFRNTGZpbGUoSFRNTFN0cnVjdCwgY29udGVudERhdGEsIHBhcmFtc0RhdGEpe1xuICBsZXQgYmxvYiA9IG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeSh7aHRtbHN0cnVjOiBgJHtIVE1MU3RydWN0fWB9LCBudWxsLCAyKV0sIHt0eXBlOiBcInRleHQvcGxhaW47Y2hhcnNldD11dGYtOFwifSk7XG4gIGxldCBjb250ZW50Q1NWID0gbmV3IEJsb2IoW2NvbnRlbnREYXRhXSwge3R5cGU6IFwidGV4dC9jc3Y7Y2hhcnNldD11dGYtOFwifSk7XG4gIGxldCBwYXJhbXNDU1YgPSBuZXcgQmxvYihbcGFyYW1zRGF0YV0sIHt0eXBlOiBcInRleHQvY3N2O2NoYXJzZXQ9dXRmLThcIn0pO1xuXG4gIHNhdmVBcyhjb250ZW50Q1NWLCBcImNvbnRlbnREYXRhLmNzdlwiKTtcbiAgc2F2ZUFzKHBhcmFtc0NTViwgXCJwYXJhbXNEYXRhLmNzdlwiKTtcbiAgc2F2ZUFzKGJsb2IsIFwic3RydWN0dXJlLmpzb25cIik7XG59XG5cbmZ1bmN0aW9uIGFkZE5vdFB1Ymxpc2hlZCgpe1xuICBjb25zdCBkaXYgPSBkMy5zZWxlY3QoJy5wdWxsLXJpZ2h0JykuaW5zZXJ0KFwibGlcIiwnbGknKTtcbiAgZGl2Lmh0bWwoYDxwIGNsYXNzPSdub3QtcHVibGlzaGVkJz5OZSBwYXMgcHVibGllcjwvcD5gKTtcbn1cblxuZnVuY3Rpb24gYWRkRm9vdGVyKCl7XG4gIC8vZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvb3RlckNvbnRhaW5lcicpLnJlbW92ZSgpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9vdGVyQ29udGFpbmVyJykuaW5uZXJIVE1MID0gZDMuc2VsZWN0KGAjZm9vdGVyQ29udGVudGApLm5vZGUoKS5pbm5lckhUTUw7XG59XG4iLCJjb25zdCBnb29nbGVfY29uZmlnID0ge1xuICAgIFwiY29udGVudFVSTFwiOiBcImh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kL2UvMlBBQ1gtMXZTRXl3SkUwVlVneTNOc3EzVGdfb2gtVnM2MzNUU2ltZElIZmtYVHl6OUJiRXRXTlZndXJkMVRvdS1RNWFudmRPaXczY29DRmtEQ2lTWXEvcHViP2dpZD0wJnNpbmdsZT10cnVlJm91dHB1dD1jc3ZcIixcbiAgICBcInBhcmFtc1VSTFwiOiBcImh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kL2UvMlBBQ1gtMXZTRXl3SkUwVlVneTNOc3EzVGdfb2gtVnM2MzNUU2ltZElIZmtYVHl6OUJiRXRXTlZndXJkMVRvdS1RNWFudmRPaXczY29DRmtEQ2lTWXEvcHViP2dpZD00MDk5NTAyMzcmc2luZ2xlPXRydWUmb3V0cHV0PWNzdlwiLFxuICAgIFwibG9jYWxDb250ZW50VVJMXCI6IFwiLi9kYXRhL3N0cnVjdHVyZS9jb250ZW50RGF0YS5jc3ZcIixcbiAgICBcImxvY2FsUGFyYW1zVVJMXCI6IFwiLi9kYXRhL3N0cnVjdHVyZS9wYXJhbXNEYXRhLmNzdlwiXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtnb29nbGVfY29uZmlnfTtcbiJdLCJuYW1lcyI6WyJJbnRyb1NlY3Rpb24iLCJwcm9wcyIsImludHJvU2VjdGlvbk9iaiIsImNsYXNzTmFtZSIsImNsYXNzZXMiLCJhbW9yY2UiLCJwYXJzZSIsIm9wdGlvbkRhdGEiLCJ0aXRsZSIsImJhY2tncm91bmQiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsIlRleHRTZWN0aW9uIiwicXVvdGVPYmoiLCJpc1F1b3RlIiwiU3RyaW5nIiwiaW5jbHVkZXMiLCJ0ZXh0IiwidGV4dHMiLCJzcGxpdCIsImF1dGhvciIsImJpZ051bWJlck9iaiIsImlzQmlnTnVtYmVyIiwibnVtYmVyIiwidW5kZXJUZXh0IiwiaXNWaXN1YWwiLCJ2aXN1YWwiLCJ2aXN1YWxPYmoiLCJrZXkiLCJpZCIsInNyYyIsImZpbGVuYW1lIiwidmlzdWVsY2xhc3NlcyIsInBhZGRpbmdCb3R0b20iLCJhdXRvUGxheSIsImxvb3AiLCJtdXRlZCIsInBsYXlzSW5saW5lIiwicHJlbG9hZCIsInRleHRTZWN0aW9uT2JqIiwic3RhcnRzV2l0aCIsIkRXQ2hhcnQiLCJpZnJhbWVSZWYiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImhlaWdodCIsInNldFN0YXRlIiwib25NZXNzYWdlIiwidXNlQ2FsbGJhY2siLCJkYXRhIiwic291cmNlIiwiY3VycmVudCIsImNvbnRlbnRXaW5kb3ciLCJ1c2VFZmZlY3QiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlZiIsInNjcm9sbGluZyIsImZyYW1lQm9yZGVyIiwid2lkdGgiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJsb2FkaW5nIiwib3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzIiwicGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cyIsInRpdHJlIiwiYXV0ZXVycyIsImRhdGUiLCJWaXpTZWN0aW9uIiwic3RlcHMiLCJjdXJTdGVwQ2xhc3NlcyIsImN1ckNvbW1vbkNsYXNzIiwidml6U2VjdGlvbk9iaiIsImxpc3RJRCIsImNsYXNzZWQiLCJtYXAiLCJzdGVwIiwiaW5kZXgiLCJzdGVwY2xhc3NlcyIsIkFycmF5IiwibGVuZ3RoIiwiZm9yRWFjaCIsInN0ZXBFbGVtIiwiaWR4IiwiaXNBcnJheSIsImVsZW0iLCJpIiwicmVkdWNlIiwiYSIsImIiLCJGdWxsUGFnZVNlY3Rpb24iLCJmdWxscGFnZVNlY3Rpb25PYmoiLCJtYWluVGl0bGUiLCJjbGFzcyIsInN1YlRpdGxlIiwiZ2V0U3RydWN0dXJlIiwiY29udGVudERhdGEiLCJwYXJhbXNEYXRhIiwic3RydWN0dXJlRGF0YSIsInZpelNlY3Rpb25JRHMiLCJvcHRpb25zIiwiZ2V0T3B0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJyb3dEYXRhIiwiY3VyQW1vcmNlIiwic2VjdGlvbkJhY2tncm91bmQiLCJzZWN0aW9uVHlwZSIsInBhcnNlQ2xhc3NlcyIsImdhbWVpZCIsInRpdGxlT2JqIiwiaXNKc29uIiwiSlNPTiIsImN1ckRhdGEiLCJhdHRyaWJ1dHMiLCJzY3JvbGxUeXBlIiwiaGFzT3duUHJvcGVydHkiLCJjdXJWaXpTZWN0aW9uIiwicHVzaCIsImN1clNlY3Rpb24iLCJzZWN0aW9uQXR0ciIsIm1lZGlhSW5mbyIsIk9iamVjdCIsInZhbHVlcyIsImdlbmVyYXRlQ2FsbGJhY2tzIiwiZnVsbFN0cnVjdHVyZSIsImNhbGxiYWNrc0FycmF5IiwiY2FsbGJhY2siLCJjdXJTdGVwcyIsImN1ckNvbW1hbmQiLCJvcGFjaXR5U2VsZWN0b3IiLCJmaWxsIiwiXyIsImZpbHRlciIsImQiLCJpbmQiLCJqb2luIiwiZDMiLCJ0cmFuc2l0aW9uIiwiY3VyVGFnSUQiLCJjdXJUYWdJRF9pbmRleCIsInBhcnNlSW50Iiwic3RyIiwiZSIsImZyb20iLCJhdXRob3JzIiwidXJscyIsIm1hcGJveGdsIiwiR2F1Z2VzIiwiamV0b25zVmFsdWUiLCJzZWxlY3RBbGwiLCJub2RlcyIsIm5vZGUiLCJjdXJXaWR0aCIsImF0dHIiLCJkb2xsYXJzIiwiY29tbWl0dGVkVmFsdWUiLCJNYXRoIiwicm91bmQiLCJjb21taXR0ZWQiLCJnYXVnZVZhbHVlIiwic2VsZWN0IiwiYWJzIiwiSW50cm9Cb3giLCJzdGFydEdhbWUiLCJnYW1lU3RhcnQiLCJpbnRyb0VsZW0iLCJvbkNsaWNrIiwiTW9uaXRvcmluZyIsInRlcmF3YXR0cyIsImNhbGN1bGF0ZVBlcmZvcm1hbmNlIiwiY2hvaWNlc192YWx1ZXMiLCJzbGljZSIsInJlbmRlclNpZ24iLCJ2YWx1ZSIsIkNob2ljZSIsInNlbGVjdGlvbiIsInNldFNlbGVjdGlvbiIsIm9iaiIsIm5leHRQcm9tcHQiLCJjb3N0IiwicGVyZm9ybWFuY2UiLCJ0cmlnZ2VyTmV4dCIsImN1clByb21wdCIsImNoYW5nZVByb21wdCIsInJlcGxhY2UiLCJ1cGRhdGVEb2xsYXJzIiwidXBkYXRlUGVyZm9ybWFuY2UiLCJwcmV2aW91c1Byb21wdCIsImN1ckluZGV4IiwiY2hvaWNlcyIsImNob2ljZSIsImpldG9uVmFsdWUiLCJldmVudCIsInRhcmdldCIsInVwZGF0ZVNlbGVjdGVkIiwidmFsIiwiTnVtYmVyIiwiaXNOYU4iLCJldmVyeSIsIml0ZW0iLCJzaG93VFdoIiwiZ2F1Z2VzIiwiTXVsdGlTZWxlY3Rpb24iLCJyZXNldFNlbGVjdGlvbiIsImNhbGN1bGF0ZVRvdGFsU2VsZWN0aW9uIiwiYWNjQ29zdCIsImFjYyIsImN1ciIsImFjY1BlcmZvcm1hbmNlIiwiY291bnQiLCJwcm9jZXNzVHJpZ2dlck5leHQiLCJ0cmlnZ2VyTmV4dHRvQ29tcHV0ZSIsImNob3NlblN0cmluZyIsInNwbGl0dGVkVHJpZ2dlck5leHQiLCJpbmRpdmlkdWFsVHJpZ2dlck5leHQiLCJmaWx0ZXJlZFNlbGVjdGlvbiIsImluZGV4T2YiLCJuZXdBcnJheSIsIlByaW50UHJvbXB0IiwiZ2FtZVJlc2V0IiwibWVzc2FnZSIsIlJlcGFydGl0aW9uIiwiamV0b25zIiwic2V0SmV0b25zIiwic2V0VGVyYXdhdHRzIiwib3RoZXJQZXJmb01ldHJpY3MiLCJzZXRPdGhlclBlcmZvTWV0cmljcyIsInVuaXRzIiwic2V0VW5pdHMiLCJ0b2tlbnNQZXJVbml0Iiwic2V0VG9rZW5zUGVyVW5pdCIsImdldE9wdGlvblBhcmFtcyIsIm5ld1VuaXRzIiwidW5pdFZhbHVlIiwibmV3SmV0b25zIiwiY3VyVmFsIiwibmV3TVciLCJjdXJPcHRpb25QYXJhbXMiLCJuZXdPdGhlclBlcmZvTWV0cmljcyIsIm5vblVuaXF1ZSIsImhpZXJhcmNoaXplVW5pdHMiLCJpbmRleE9mTWF4VmFsdWUiLCJpTWF4IiwieCIsImFyciIsInVwZGF0ZU1lbW9yeU9iaiIsImNvbmNhdCIsIlNldCIsInNpemUiLCJwcm9jZXNzQ2hvaWNlcyIsInNwbGl0dGVkQ2hvaWNlcyIsIm5hbWUiLCJ1bml0VFdodmFsdWUiLCJ1bml0RW52aXJvdmFsdWUiLCJ1bml0UG9wdXZhbHVlIiwiY2hlY2tIaWRlQnV0dG9uIiwib3B0aW9uUGFyYW1zIiwiaGlkZUJ1dHRvbiIsIm1vZGlmeU9uQ2xpY2siLCJkaWZmIiwibmV3QWRkaXRpb24iLCJ0b3RhbCIsImRlZmF1bHROZXh0IiwibWF4IiwicmVzIiwidW5kZWZpbmVkIiwiTWFwTmF2aWdhdG9yIiwic2V0dXBPbkNsaWNrIiwidGlwIiwiZDNUaXAiLCJkaXJlY3Rpb24iLCJodG1sIiwic3VwcF90ZXh0IiwiUHJvbWlzZSIsImFsbCIsInRoZW4iLCJiZ01hcCIsImljb25PTk1hcCIsImFwcGVuZCIsImRvY3VtZW50RWxlbWVudCIsIk9uSWNvbnNTVkciLCJjYWxsIiwiYXBwZW5kQ2hpbGQiLCJnQnV0dG9ucyIsInRpdGxlcyIsInN1cHBfdGV4dHMiLCJyZXZlcnNlIiwiY3VyVGlwRGF0YSIsIm9uIiwic3RvcFByb3BhZ2F0aW9uIiwic2hvdyIsInRvZ2dsZUljb24iLCJwYXJlbnRFbGVtZW50IiwiaGlkZSIsImljb25PYmoiLCJzdGF0dXMiLCJCaWxhbiIsInRleHRDb250ZW50QXJyYXkiLCJ0ZXh0U3VwcEFycmF5IiwicHJvY2Vzc2VkQ29udGVudCIsImdlbmVyaWNUZXh0IiwiRW5kR2FtZSIsInJhaXNvbiIsIkNhdGFzdHJvcGhlIiwicGFyc2VDaG9pY2VWYWx1ZXMiLCJjaG9pY2VfdmFsdWUiLCJzcGxpdHRlZENob2ljZVZhbHVlcyIsInNwbGljZSIsIndoaWNoRXZlbnRIYXBwZW5zIiwiUHJvbXB0Qm94IiwiaW52ZXN0ZWRNb2Rlcm5pemF0aW9uIiwiYnVpbHREYW0iLCJtZW1vcnlPYmoiLCJzZXRNZW1vcnlPYmoiLCJyZWFzb25zIiwibmV3VmFsdWUiLCJkaWZmVmFsdWUiLCJpc0ludGVnZXIiLCJkaWZmQXJyYXkiLCJmaWVsZCIsIm5ld01lbW9yeU9iaiIsInJlbmRlclN3aXRjaCIsInBhcmFtIiwiZW5kR2FtZSIsIk1haW5GcmFtZSIsImdhbWVTdGF0dXMiLCJzZXRTdGF0dXMiLCJnYW1lSW5kZXgiLCJzZXRHYW1lSW5kZXgiLCJzZXREb2xsYXJzIiwic2V0UGVyZm9ybWFuY2UiLCJiZyIsInNldEJHIiwiZ2V0R2FtZVByb21wdCIsImdhbWVFbmQiLCJnYW1lRGF0YSIsImZpbmRHYW1lSW5kZXgiLCJJRG5hbWUiLCJmaW5kSW5kZXgiLCJnZXRCYWNrZ3JvdW5kSW5mbyIsImdhbWVTY3JlZW5DbGFzcyIsImJhY2tncm91bmRJbWFnZSIsIm1hcE9iaiIsIm5ld1BlcmZvcm1hbmNlIiwiYXBwbHkiLCJFbmdpbmUiLCJjb250YWluZXIiLCJpbnRyb09iaiIsInRoaXMiLCJyb290RWxlbSIsImVuZ2luZVJvb3QiLCJSZWFjdERPTSIsImluaXRFbmdpbmUiLCJyZW5kZXIiLCJpbml0aWFsaXplIiwibWFwQ29udGFpbmVyIiwic2V0dXBWaXoiLCJzZWN0aW9uT2JqIiwiU2Nyb2xsZXJTdGVwIiwiZWwiLCJfaXNBY3RpdmF0ZSIsInNjcm9sbERpcmVjdGlvbiIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImluaXRTY3JvbGxlciIsImVsZW1lbnRzIiwic2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzdGlja3lCaXRzIiwic3RpY2t5Qml0U3RpY2t5T2Zmc2V0IiwiTGF6eUxvYWQiLCJlbGVtZW50c19zZWxlY3RvciIsInRocmVzaG9sZCIsInYxIiwiY2FsbGJhY2tzIiwiX29mZnNldFRvcCIsIl9vZmZzZXRCb3R0b20iLCJpbm5lckhlaWdodCIsImlzSW5pdGlhbGl6ZWQiLCJsYXN0U2Nyb2xsIiwidml6IiwidmlzaWJsZVN0ZXBzIiwiYXJ0aWNsZVJlbWluZGVyIiwicXVlcnlTZWxlY3RvciIsInNjcm9sbFByb2dyZXNzIiwidml6U2VjdGlvbnMiLCJFcnJvciIsInZpelNlY3Rpb24iLCJzZWN0aW9ucyIsImoiLCJfdXBkYXRlIiwiY3VycmVudFNjcm9sbCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwiYm91bmRpbmdSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiZGVhY3RpdmF0ZSIsImlzQXJ0aWNsZVJlbWluZGVyRGlzcGxheWVkIiwiYm90dG9tIiwiaXNBcnRpY2xlUmVtaW5kZXJJc1Zpc2libGUiLCJjb250YWlucyIsInNlY3Rpb24iLCJhY3RpdmF0ZSIsIl91cGRhdGVTY3JvbGxQcm9ncmVzcyIsInNjcm9sbGVkIiwiYm9keSIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsInB1YmxpY0ludGVyZmFjZSIsIm9mZnNldFRvcCIsIm9mZnNldEJvdHRvbSIsInNjcm9sbGVyIiwiUmVuZGVyU3RydWN0dXJlIiwicmVuZGVyZWQiLCJyZW5kZXJlZERhdGEiLCJrZXlzIiwic2VjdGlvbktleSIsInBhY2thZ2VzIiwiUmVhY3QiLCJpbnNlcnQiLCJnb29nbGVfY29uZmlnIiwiY3JlYXRlUm9vdCIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=