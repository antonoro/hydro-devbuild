(self.webpackChunkscrollytelling_template=self.webpackChunkscrollytelling_template||[]).push([[179],{74854:(e,t,n)=>{"use strict";const r=JSON.parse('{"E":"<section id=\\"vizSection1_0\\" class=\\"viz-section full-page\\"><div class=\\"steps display-none\\"><section class=\\"display-none\\"><p>Bla bl abl abl ablalbalanl.</p></section></div><div class=\\"viz\\" id=\\"viz\\"><div id=\\"vizSection1_0_0\\" class=\\"iframeContainer map-area\\"></div></div></section>"}');var a=n(40207),c=n(67294);function o(e){var t=c.createElement("section",{className:"intro-section ".concat(e.classes)},c.createElement("h5",{className:"overTitle"},e.amorce),c.createElement("h1",null,e.optionData.title),c.createElement("address",null,c.createElement("div",{className:"date"})));return e.background?c.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},t):t}var i=n(25935);function s(e){var t,n=String(e.classes).includes("citation");n&&(t={text:String(e.texts).split("/")[0],author:String(e.texts).split("/")[1]});var r,a=String(e.classes).includes("bigNumber");a&&(r={number:String(e.texts).split("/")[0],underText:String(e.texts).split("/")[1]});var o=e.visual,s=""!==o?"Photo"===e.visual?c.createElement("img",{key:"photoTextSection_".concat(e.id),id:"photoTextSection_".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses),style:{paddingBottom:"1rem"}}):"Video"===e.visual?c.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"videoTextSection_".concat(e.id),id:"videoTextSection_".concat(e.id)},c.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):c.createElement("div",null):c.createElement("div",null),l=c.createElement("section",{className:"text-section ".concat(e.classes)},n?c.createElement("blockquote",{className:"small"},c.createElement("div",null,c.createElement("p",null,c.createElement("b",null,(0,i.ZP)(t.text))),c.createElement("p",{className:"author"},t.author),c.createElement("div",{className:"symbol"}))):a?c.createElement("div",{className:"container-number"},c.createElement("div",{className:"numbers"},c.createElement("h2",null,r.number),c.createElement("small",null,r.underText))):c.createElement("div",null,o?s:c.createElement("div",null),String(e.texts).startsWith("<")?(0,i.ZP)(e.texts):c.createElement("p",null,(0,i.ZP)(e.texts))));return e.background?c.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},l):l}var l,u=n(45697),m=n.n(u),p=["title","src"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n,r=e.title,a=e.src,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,p),i=(0,c.useRef)(),s=(t=(0,c.useState)(500),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1],m=(0,c.useCallback)((function(e){var t=e.data,n=void 0===t?{}:t;e.source===i.current.contentWindow&&"string"!=typeof n&&n["datawrapper-height"]}),[u,i]);return(0,c.useEffect)((function(){return window.addEventListener("message",m),function(){return window.removeEventListener("message",m)}}),[l,u,m]),c.createElement("iframe",d({ref:i,scrolling:"no",frameBorder:"0",width:"100%"},o,{title:r,src:a,height:l}))}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}v.propTypes={title:m().string.isRequired,src:m().string.isRequired,loading:m().oneOf(["eager","lazy"])};var h="intro-titre",y="pleine-page-titre",E="texte-classique",b="viz-section",x="centré",w="Photo",S="Video",N="Visualisation",P="iframe",k=(g(l={titre:"Titre",auteurs:"Auteurs",date:"Date"},"date","Date"),g(l,"urls","LienAuteurs"),g(l,"lienfichiersource","LienFichierSource"),l);function I(e){var t,n,r,a=c.createElement("section",{id:e.listID,className:e.classed},c.createElement("div",{className:"steps ".concat((t=e.steps,n=t.map((function(e,t){return e.stepclasses})),r=new Array(n.length),n.forEach((function(e,t){if(Array.isArray(e))e.forEach((function(e){for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)}));else if("string"==typeof e)for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)})),r.reduce((function(e,t){return e===t&&""!==e&&""!==t?e:""}))))},e.steps.map((function(e,t){var n,r=String(e.stepclasses).includes("citation");return r&&(n={text:String(e.text).split("/")[0],author:String(e.text).split("/")[1]}),c.createElement("section",{key:t,className:e.stepclasses},r?c.createElement("blockquote",{className:"small"},c.createElement("div",null,c.createElement("p",null,c.createElement("b",null,(0,i.ZP)(n.text))),c.createElement("p",{className:"author"},n.author),c.createElement("div",{className:"symbol"}))):String(e.text).startsWith("<")?(0,i.ZP)(e.text):c.createElement("p",null,e.text?(0,i.ZP)(e.text):""))}))),c.createElement("div",{className:"viz",id:"viz"},e.steps.map((function(t,n){return t.visual===w?c.createElement("img",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),src:"assets/img/675/".concat(t.filename),"data-srcset":"assets/img/2048/".concat(t.filename," 2048w, assets/img/990/").concat(t.filename," 990w, assets/img/675/").concat(t.filename," 675w, assets/img/1350/").concat(t.filename," 1350w, assets/img/100/").concat(t.filename," 100w, assets/img/495/").concat(t.filename," 495w, assets/img/1024/").concat(t.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(t.visuelclasses)}):t.visual===S?c.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(t.visuelclasses),preload:"metadata",key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n)},c.createElement("source",{src:"assets/videos/".concat(t.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):t.visual===P?c.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer"},c.createElement(v,{title:"Mesures d'arsenic",src:"".concat(t.filename)})):t.visual===N?c.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer ".concat(t.visuelclasses)}):void 0}))));return e.background?c.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},a):a}function T(e){var t=c.createElement("section",{className:"full-page-section ".concat(e.classes)},c.createElement("div",{className:"titleImage"},e.filename?"Photo"===e.visual?c.createElement("img",{key:"".concat(e.id),id:"".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses)}):"Video"===e.visual?c.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"".concat(e.id),id:"".concat(e.id)},c.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):c.createElement("div",null):c.createElement("div",null),e.filename?c.createElement("div",{className:"filter"}):c.createElement("div",null)),c.createElement("div",{className:"captionholder"},c.createElement("h2",{className:"caption ".concat(e.mainTitle.class)},e.mainTitle.text),e.subTitle?c.createElement("h3",{className:"caption ".concat(e.subTitle.class)},e.subTitle.text):c.createElement("div",null)));return e.background?c.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},t):t}n(93162);var C=n(38682);function A(e,t){var n={},r=[],a=O(t);return console.log("content Data",e),e.map((function(e,t){if(e.Section===h){var c=e.StepClasses,o=e.TEXTE,i=e.StyleFond;n[e.SectionID]={key:t,sectionType:h,optionData:a,amorce:o,background:i,classes:_(c),gameid:e.GameID}}else if(e.Section===E){var s=e.TEXTE,l=e.StepClasses,u=e.StyleFond;n[e.SectionID]={key:t,sectionType:E,texts:s,visual:e.VISUEL,filename:e.NomFichierSource,background:u,classes:_(l),visuelclasses:_(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===y){var m=e.TEXTE;D(e.TEXTE)&&(m=JSON.parse(e.TEXTE)),n[e.SectionID]={key:t,sectionType:y,texts:D(e.TEXTE)?m:{mainTitle:{class:"",text:m},subTitle:null},visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,classes:_(e.StepClasses),visuelclasses:_(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===b){var p={attributs:e.Attributs,scrollType:e.Step,text:e.TEXTE,visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,visuelclasses:_(e.VisuelClasses),stepclasses:_(e.StepClasses),gameid:e.GameID};if(n.hasOwnProperty(e.SectionID)){var d=n[e.SectionID];d.push(p),n[e.SectionID]=d}else n[e.SectionID]=[p],r.push(e.SectionID)}})),r.map((function(e){var t=n[e],r=t[0].attributs===x?" full-page":"",a=t[0].background;n[e]={key:e,sectionType:b,listID:e,steps:t,classed:"viz-section".concat(r),mediaInfo:0,background:a}})),Object.values(n)}function D(e){try{JSON.parse(e)}catch(e){return!1}return!0}function _(e){return Array.from(e.split(";")).join(" ")}function O(e){return{title:e[0][k.titre],authors:e[0][k.auteurs],urls:e[0][k.urls],date:e[0][k.date]}}n(9208);n(83731).accessToken="pk.eyJ1IjoibGVkZXZvaXIiLCJhIjoiY2p2bW81dHU2MWV1cTRhcXIzaXZqMGYxciJ9.WrIF8o69aR_TstDFu6Qyag",n(6899);var j=n(20745);function R(e){return(0,c.useEffect)((function(){C.Ys(".gauges").selectAll(".gauge").nodes().forEach((function(t){var n=50;"dollars"===C.Ys(t).attr("id")&&(n=e.dollars),C.Ys(t).select(".gaugeColorHolder").select(".committed").style("width","".concat(Math.round(e.committed/50*100),"%")),C.Ys(t).select(".gaugeColor").style("width","".concat(Math.round(n/50*100),"%"))}))})),c.createElement("div",{className:"gauges"},c.createElement("div",{id:"dollars",className:"gauge dollarGauge"},c.createElement("div",{className:"gaugeColorHolder"},c.createElement("div",{className:"gaugeColor blue"}),0!=e.committed?c.createElement("div",{className:"committed"}):"",c.createElement("div",{className:"value"},c.createElement("p",null,"Budget • ",e.dollars," jetons")))))}function z(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){z(c,r,a,o,i,"next",e)}function i(e){z(c,r,a,o,i,"throw",e)}o(void 0)}))}}function L(e){var t=(0,c.useCallback)(V(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("starting game"),e.gameStart();case 2:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"gameBox transparent"},c.createElement("div",{className:"introBox"},e.introElem),c.createElement("div",{className:"userBox"},c.createElement("div",{className:"startbutton",onClick:t},c.createElement("p",null,"Commencer le jeu"))))}function Y(e){return c.createElement("div",{className:"monitoring"},c.createElement("div",{className:"monitoring_content"},c.createElement("div",{className:"column"},c.createElement("div",{className:"monitoring_value"},c.createElement(R,{dollars:e.dollars,committed:e.committed})))),e.terawatts||0===e.terawatts?c.createElement("div",{className:"monitoring_content"},c.createElement("div",{className:"column"},c.createElement("div",{className:"monitoring_header"},c.createElement("h5",null,"Électricité produite • ",e.terawatts," TWh")))):c.createElement("div",null))}function B(e){return e.split("_").slice(1).map((function(e){return parseInt(e)}))}function U(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){U(c,r,a,o,i,"next",e)}function i(e){U(c,r,a,o,i,"throw",e)}o(void 0)}))}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e){var t,n,r=(t=(0,c.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],o=r[1];(0,c.useEffect)((function(){}),[]),(0,c.useEffect)((function(){C.td_(".choicebutton").select(".butn").classed("selected",!1),a&&C.Ys(a.obj).select(".butn").classed("selected",!0)}),[a]);var i=(0,c.useCallback)(function(){var t=Z(regeneratorRuntime.mark((function t(n,r,a){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=String(e.curPrompt.Trigger_next).split(";")).length>1?(console.log("checking next: ",c," index:",a," result:",String(c[a]).replace(/(\r\n|\n|\r)/gm,"")),e.changePrompt(String(c[a]).replace(/(\r\n|\n|\r)/gm,""))):e.changePrompt(String(c[0]).replace(/(\r\n|\n|\r)/gm,"")),e.updateDollars(-parseInt(n)),e.updatePerformance(r),o(null);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()),s=(0,c.useCallback)(Z(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),o(null);case 2:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"choices"},c.createElement("div",{className:"row"},e.choices.map((function(t,n){var r=e.choices_values[n].split("_")[0],i=B(e.choices_values[n]);return c.createElement("div",{className:"choicebutton",key:n,onClick:function(e){!function(e,t,n,r){o({obj:e.target,cost:t,performance:n,index:r})}(e,r,i,n)}},c.createElement("div",{id:n,className:"butn"},c.createElement("div",{className:"holder icon"},c.createElement("img",{src:a&&a.index===n?"./assets/img/On.svg":"./assets/img/Off.svg"})),c.createElement("div",{className:"holder label"},c.createElement("h4",null,t),c.createElement("p",null,r," JETONS"))))}))),c.createElement(Y,{showTWh:!1,dollars:a&&a.hasOwnProperty("cost")?e.gauges.props.dollars-a.cost:e.gauges.props.dollars,committed:a&&a.hasOwnProperty("cost")?a.cost:0,performance:e.gauges.props.performance}),c.createElement("div",{className:"row"},c.createElement("div",{className:"column"},e.curIndex>0?c.createElement("div",{className:"actionbutton prev",onClick:s},c.createElement("div",{className:"butn"},c.createElement("p",null,"Previous"))):c.createElement("div",null)),c.createElement("div",{className:"column"},c.createElement("div",{className:"actionbutton next ".concat(a?"":"disabled"),onClick:function(){a?i(a.cost,a.performance,a.index):console.log("Disabled.")}},c.createElement("div",{className:"butn"},c.createElement("p",null,"Poursuivre"))))))}function H(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){H(c,r,a,o,i,"next",e)}function i(e){H(c,r,a,o,i,"throw",e)}o(void 0)}))}}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e){var t=X((0,c.useState)([]),2),n=t[0],r=t[1];(0,c.useEffect)((function(){a()}),[]),(0,c.useEffect)((function(){}),[n]);var a=function(){r(e.choices.map((function(e){return null})))},o=function(e){var t=e.reduce((function(e,t){return t&&(e+=t.cost),e}),0),n=[0,0,0];return e.forEach((function(e,t){e&&(n=n.map((function(t,n){return parseInt(t)+parseInt(e.performance[n])})))})),[t,n]},i=(0,c.useCallback)(function(){var t=M(regeneratorRuntime.mark((function t(n){var r,c,i,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.curPrompt.Trigger_next,e.changePrompt(r),c=o(n),i=X(c,2),s=i[0],l=i[1],e.updateDollars(-parseInt(s)),e.updatePerformance(l),a();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),s=(0,c.useCallback)(M(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),a();case 2:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"choices"},c.createElement("div",{className:"row"},e.choices.map((function(t,a){var o=e.choices_values[a].split("_")[0],i=B(e.choices_values[a]);return c.createElement("div",{className:"selectionbutton",key:a,onClick:function(e){!function(e,t,a,c){var o,i=function(e){if(Array.isArray(e))return G(e)}(o=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||F(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();n[t]?i[t]=null:i[t]={obj:e.target,cost:parseInt(a),performance:c},r(i)}(e,a,o,i)}},c.createElement("div",{id:a,className:"butn"},c.createElement("div",{className:"holder selectionBox ".concat(n[a]?"selected":"")},c.createElement("div",null,c.createElement("p",null,"+"))),c.createElement("div",{className:"holder label"},c.createElement("h4",null,t),c.createElement("p",null,o," JETONS"))))}))),c.createElement(Y,{showTWh:!1,dollars:n&&n.length>0?e.gauges.props.dollars-o(n)[0]:e.gauges.props.dollars,committed:n&&n.length>0?o(n)[0]:0}),c.createElement("div",{className:"row"},c.createElement("div",{className:"column"},e.curIndex>0?c.createElement("div",{className:"actionbutton prev",onClick:s},c.createElement("div",{className:"butn"},c.createElement("p",null,"Previous"))):c.createElement("div",null)),c.createElement("div",{className:"column"},c.createElement("div",{className:"actionbutton next ".concat(n?"":"disabled"),onClick:function(){n?i(n):console.log("Disabled.")}},c.createElement("div",{className:"butn"},c.createElement("p",null,"Poursuivre"))))))}function Q(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){Q(c,r,a,o,i,"next",e)}function i(e){Q(c,r,a,o,i,"throw",e)}o(void 0)}))}}function K(e){var t=(0,c.useCallback)($(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),n=(0,c.useCallback)($(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"printprompt"},c.createElement("div",{className:"message"},c.createElement("p",null,e.message)),c.createElement("div",{className:"actionbutton prev",onClick:t},c.createElement("div",{className:"butn"},c.createElement("p",null,"Previous"))),c.createElement("div",{className:"actionbutton next",onClick:n},c.createElement("div",{className:"butn"},c.createElement("p",null,"Poursuivre"))))}function ee(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ee(c,r,a,o,i,"next",e)}function i(e){ee(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e){var t=ne((0,c.useState)(0),2),n=t[0],r=t[1],a=ne((0,c.useState)(0),2),o=a[0],i=a[1],s=ne((0,c.useState)([0,0]),2),l=s[0],u=s[1],m=ne((0,c.useState)([]),2),p=m[0],d=m[1],f=ne((0,c.useState)([]),2),v=f[0],g=f[1];(0,c.useEffect)((function(){var e=b(),t=e.map((function(){return 0})),n=e.map((function(e){return e.unitValue}));d(t),g(n)}),[]),(0,c.useEffect)((function(){var e=p.reduce((function(e,t,n){return b()[n],e+t}),0),t=p.reduce((function(e,t,n){var r=b()[n];return e+Math.round(t/r.unitValue*r.unitTWhvalue)}),0),n=[0,0];p.forEach((function(e,t){var r=b()[t];n=n.map((function(t,n){return 0===n?t+e/r.unitValue*r.unitEnvirovalue:1===n?t+e/r.unitValue*r.unitPopuvalue:void 0}))})),r(e),i(t),u(n)}),[p]);var h=(0,c.useCallback)(te(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),y=(0,c.useCallback)(te(regeneratorRuntime.mark((function t(){var r,a,c,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=String(e.curPrompt.Trigger_next).split("_"),1==(a=String(r[0]).split(";")).length?e.changePrompt(String(a).replace(/(\r\n|\n|\r)/gm,"")):a.length>1&&(p.every((function(e){return e===p[0]}))?(i=String(r[1]).replace(/(\r\n|\n|\r)/gm,""),e.changePrompt(i)):(c=p.reduce((function(e,t,n,r){return t>r[e]?n:e}),0),e.changePrompt(String(a[c]).replace(/(\r\n|\n|\r)/gm,"")))),e.updateDollars(-n),e.updatePerformance([o].concat(l));case 5:case"end":return t.stop()}}),t)})))),E=function(e,t){var n=t.split("_");return{name:e,unitValue:parseInt(n[0]),unitTWhvalue:parseInt(n[1]),unitEnvirovalue:parseInt(n[2]),unitPopuvalue:parseInt(n[3])}},b=function(){return e.choices.map((function(t,n){return E(t,e.choices_values[n])}))},x=function(e,t,n,r){var a,c,o,i=function(e){if(Array.isArray(e))return ae(e)}(o=p)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||re(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();i[t]+n*v[t]>=0&&(n>0?(a=n*v[t],c=0,p.forEach((function(e,t){c+=e})),c+a>20||(i[t]=i[t]+n*v[t])):i[t]=i[t]+n*v[t],d(i))};return c.createElement("div",{className:"repartition"},c.createElement("div",{className:"optionZone"},e.choices.map((function(t,n){return E(t,e.choices_values[n])})).map((function(e,t){return c.createElement("div",{className:"optionUnit",key:t},c.createElement("div",{className:"selectorZone"},c.createElement("div",{className:"division minusZone",onClick:function(e){return x(0,t,-1)}},c.createElement("h3",null,"-")),c.createElement("div",{className:"division centralZone"},c.createElement("h3",null,p[t])),c.createElement("div",{className:"division plusZone",onClick:function(e){return x(0,t,1)}},c.createElement("h3",null,"+"))),c.createElement("div",{className:"textZone"},c.createElement("h3",null,e.name),c.createElement("div",{className:"inlinetext"},c.createElement("p",null,e.unitValue," jetons • ",e.unitTWhvalue," TWh"))))}))),c.createElement(Y,{showTWh:!0,dollars:e.gauges.props.dollars-n,committed:n,terawatts:o}),e.curIndex>0?c.createElement("div",{className:"actionbutton prev",onClick:h},c.createElement("div",{className:"butn"},c.createElement("p",null,"Previous"))):c.createElement("div",null),c.createElement("div",{className:"actionbutton next",onClick:y},c.createElement("div",{className:"butn"},c.createElement("p",null,"Poursuivre"))))}n(97762);var oe=n(83290);function ie(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ie(c,r,a,o,i,"next",e)}function i(e){ie(c,r,a,o,i,"throw",e)}o(void 0)}))}}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e){var t=le((0,c.useState)(null),2),n=t[0],r=t[1];(0,c.useEffect)((function(){o()}),[]),(0,c.useEffect)((function(){n?C.Ys(".popUp-bg").style("display","unset"):C.Ys(".popUp-bg").style("display","none")}),[n]);var a=(0,oe.Z)().attr("class","d3-tip adjusted").direction("n").html((function(e){return console.log("got d: ",e),"\n                  <h4>".concat(e.title,"</h4>\n                  <p>").concat(e.supp_text,"</p>\n                  ")})),o=function(){Promise.all([C.LsS(e.map[0]),C.LsS(e.map[1])]).then((function(t){var n=le(t,2),r=n[0],c=n[1];C.Ys("#bg-map").node().append(r.documentElement),C.Ys("#on-icons").node().append(c.documentElement);var o=C.Ys("#on-icons").select("svg");o.call(a),C.Ys(".gameScreen").node().appendChild(C.Ys(".d3-tip").node());var s=o.select("#Icone-On").selectAll("g"),l=String(e.curPrompt.Choix).split(";"),u=String(e.message).split(";");s.nodes().reverse().map((function(e,t){var n={title:l[t],supp_text:u[t]};C.Ys(e).on("click",(function(t,r,c){t.stopPropagation(),a.show(n,e),i(t.target.parentElement,!1)})).on("mouseover",(function(t,r,c){console.log("checking d: ",t.target.parentElement),t.stopPropagation(),a.show(n,e),i(t.target.parentElement,!1)})).on("mouseout",(function(t,n,r){a.hide(e),i(t.target.parentElement,!0)}))})),C.Ys(".gameBox").on("click",(function(){a.hide()}))}))},i=function(e,t){!1===t?C.Ys(e).style("opacity",0):C.Ys(e).style("opacity",1)},s=(0,c.useCallback)(se(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),l=(0,c.useCallback)(se(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"printprompt mapnavigator"},c.createElement("div",{className:"popUp-bg"},n?c.createElement("div",{className:"popUp-box"},c.createElement("h4",null,n.title),c.createElement("p",null,n.supp_text),c.createElement("div",{className:"actionbutton",onClick:function(){return r(null)}},c.createElement("div",{className:"butn"},c.createElement("p",null,"Fermer")))):c.createElement("div",null)),c.createElement("div",{className:"mapHolder"},c.createElement("div",{className:"superposedMap"},c.createElement("div",{id:"bg-map",className:"map noClick"}),c.createElement("div",{id:"on-icons",className:"map"}))),c.createElement("div",{className:"actionbutton prev",onClick:s},c.createElement("div",{className:"butn"},c.createElement("p",null,"Previous"))),c.createElement("div",{className:"actionbutton next",onClick:l},c.createElement("div",{className:"butn"},c.createElement("p",null,"Suivant"))))}function pe(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){pe(c,r,a,o,i,"next",e)}function i(e){pe(c,r,a,o,i,"throw",e)}o(void 0)}))}}function fe(e){(0,c.useEffect)((function(){console.log("got bilan : ",e.curPrompt)}),[]);var t,n,r,a,o=(0,c.useCallback)(de(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"bilanContent"},c.createElement("div",{className:"updatableText"},(t=e.curPrompt.Texte.split(";"),n=e.curPrompt.Texte_Supp.split(";"),r=[],a=t[0].replace("*newProd*",e.performance[0]),r.push(a),n[0],n[1],n[2],n[3],r).map((function(e,t){return c.createElement("p",{key:t},(0,i.ZP)(e))}))),c.createElement("div",{className:"actionbutton next",onClick:o},c.createElement("div",{className:"butn"},c.createElement("p",null,"Poursuivre"))))}function ve(e){return c.createElement("div",null,c.createElement("p",null,"Fin du jeu."),c.createElement("p",null,"(reformuler) Le jeu a pris fin à cause de : ","".concat(e.raison)))}function ge(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function he(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ge(c,r,a,o,i,"next",e)}function i(e){ge(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ye(e){(0,c.useEffect)((function(){}),[]);var t,n=(0,c.useCallback)(function(){var t=he(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.changePrompt(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r=(0,c.useCallback)(function(){var t=he(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Number.isInteger(n)&&e.updateDollars(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a=(0,c.useCallback)(function(){var t=he(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updatePerformance(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o=function(t){switch(t){case"Repartition":return c.createElement(ce,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:n,curIndex:e.curIndex,updateDollars:r,updatePerformance:a,gauges:e.gauges});case"Carte":return c.createElement(me,{curPrompt:e.curPrompt,message:String(e.curPrompt.Texte_Supp),changePrompt:n,curIndex:e.curIndex,map:"Q1-1"===e.curIndex?["assets/img/Carte-Hydro.svg","assets/img/Carte-Hydro-icone-on.svg"]:["assets/img/Carte-Eolien.svg","assets/img/Carte-Eolien-icone-on.svg"]});case"texteBoutonSimple":return c.createElement(K,{curPrompt:e.curPrompt,message:String(e.curPrompt.Texte_Supp),changePrompt:n,curIndex:e.curIndex});case"ChoixReponse":case"Catastrophe":return c.createElement(W,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:n,curIndex:e.curIndex,updateDollars:r,updatePerformance:a,gauges:e.gauges});case"MultiSelection":return c.createElement(J,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:n,curIndex:e.curIndex,updateDollars:r,updatePerformance:a,gauges:e.gauges});case"Bilan":return c.createElement(fe,{curPrompt:e.curPrompt,curIndex:e.curIndex,changePrompt:n,updateDollars:r,updatePerformance:a,performance:e.performance});default:return c.createElement(W,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),changePrompt:n,curIndex:e.curIndex})}};return!0===e.endGame?c.createElement("div",{className:"gameBox"},c.createElement(ve,{raison:(t=[],console.log("checking reason processing:",e.gauges.props.dollars,e.performance),e.gauges.props.dollars<0&&t.push("Vous n'avez plus d'argent."),e.performance[0]<0&&t.push("Vous avez gâché le parc de production électrique d'Hydro-Québec."),e.performance[1]<0&&t.push("Votre bilan environnemental est excécrable."),e.performance[2]<0&&t.push("La fureur populaire a eu raison de votre poste."),t)})):c.createElement("div",{className:"gameBox"},"Bilan"===e.curPrompt.Type?c.createElement("div",{className:"promptBox bilan"},c.createElement("div",{className:"header"},c.createElement("div",{className:"massiveTitle"},c.createElement("h2",null,(0,i.ZP)(e.curPrompt.Sujet)))),c.createElement("div",{className:"separator"}),o(e.curPrompt.Type)):c.createElement("div",{className:"promptBox"},c.createElement("div",{className:"header"},c.createElement("div",{className:"surtitre"},c.createElement("h4",null,(0,i.ZP)(e.curPrompt.Sujet))),c.createElement("div",{className:"question"},c.createElement("p",null,(0,i.ZP)(e.curPrompt.Texte)))),o(e.curPrompt.Type)))}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e){var t=Ee((0,c.useState)("IDLE"),2),n=t[0],r=t[1],a=Ee((0,c.useState)(0),2),o=a[0],i=a[1],s=Ee((0,c.useState)(50),2),l=s[0],u=s[1],m=Ee((0,c.useState)([0,0,0]),2),p=m[0],d=m[1],f=Ee((0,c.useState)("normal"),2),v=f[0],g=f[1];(0,c.useEffect)((function(){console.log("game ",n)}),[n]),(0,c.useEffect)((function(){y(o),"END"===o&&h()}),[o]);var h=function(){r("END")},y=function(t){console.log("current game prompt:",e.gameData.filter((function(e){return String(e.ID)===String(t)})))},E=function(t){return e.gameData.findIndex((function(e){return String(t)===String(e.ID)}))};return(0,c.useEffect)((function(){var t=e.gameData[E(o)];t&&t.hasOwnProperty("Type")&&("Catastrophe"===t.Type?g("redpink"):"normal"!==v&&g("normal"))})),"IDLE"===n?c.createElement("div",{className:"gameScreen"},c.createElement("div",{className:"background-image"},c.createElement("img",{src:"assets/img/Illus_Section-00_Centrale_V01.svg"})),c.createElement(L,{introElem:e.introElem,mapObj:e.mapObj,gameStart:function(){r("STARTED"),i(0)}})):c.createElement("div",{className:"gameScreen ".concat("END"===n||"END"===o||"redpink"===v?"gameOver":"")},"END"===n||"B1"!==o&&"B2"!==o?"":c.createElement("div",{className:"background-image"},c.createElement("img",{src:"assets/img/Illus_Section-01_Pylone_V01-14.svg"})),c.createElement("div",{className:"temporaryInfo"},c.createElement("p",null,"Performance (temporaire)"),c.createElement("p",null,"Dollars: ","".concat(l," $")),c.createElement("p",null,"Elec: ","".concat(p[0]," TWh")),c.createElement("p",null,"Enviro: ","".concat(p[1]," pts")),c.createElement("p",null,"Popu: ","".concat(p[2]," pts"))),c.createElement(ye,{curIndex:o,curPrompt:"END"===o?"":e.gameData[E(o)],changePrompt:i,updateDollars:function(e){l+e>=0?u((function(t){return t+e})):h()},updatePerformance:function(e){var t=Array.apply(null,Array(e.length)).map((function(){}));p.forEach((function(n,r){e[r],t[r]=n+e[r]})),console.log("Setting performance to : ",t),d(t)},gauges:c.createElement(R,{dollars:l}),performance:p,endGame:"END"===o||"END"===n}))}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Se=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t;var c=this.container.append("div").classed("rootElem",!0);this.engineRoot=j.createRoot(c.node()),this.optionData=n,this.amorce=r.TEXTE,this.gameData=a,console.log("game Data is : ",this.gameData),this.initEngine()}var t,n;return t=e,(n=[{key:"initEngine",value:function(){var e=c.createElement(o,{key:"gameIntro",sectionType:h,optionData:this.optionData,amorce:this.amorce,background:null,classes:""});this.engineRoot.render(c.createElement(xe,{introElem:e,gameStatus:this.gameStatus,gameData:this.gameData}))}}])&&we(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ne(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){Ne(c,r,a,o,i,"next",e)}function i(e){Ne(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ke(e,t){return Ie.apply(this,arguments)}function Ie(){return(Ie=Pe(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.gyn("https://docs.google.com/spreadsheets/d/e/2PACX-1vQQZ3sz0q1vnZmoYYR5IrCfuONhHcNw50iDtbg1H2mIX8lHDL1BQ4sAMi7iApSE1G9WQTW2jHcWv4KW/pub?gid=1497861017&single=true&output=csv").then((function(e){var r=C.Ys(".game-area");return new Se(r,O(n),t[0],e),Te(t,n),[[function(){}]]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e,t){var n=A(e,t);console.log("checking structure:",n),n.map((function(e){"viz-section"===e.sectionType&&e.steps.map((function(t,n){""!==t.visual&&(0===n?C.Ys("#".concat(e.key,"_").concat(n)).style("opacity",1):C.Ys("#".concat(e.key,"_").concat(n)).style("opacity",0))}))}))}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var De=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.index=n,this.callback=r,this._isActivate=!1}var t,n;return t=e,(n=[{key:"activate",value:function(e){this._isActivate||(this._isActivate=!0,this.el.classList.add("active"),this.callback(e))}},{key:"deactivate",value:function(){this._isActivate&&(this._isActivate=!1,this.el.classList.remove("active"))}}])&&Ae(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),_e=n(52732),Oe=n.n(_e),je=n(89438);function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e,t){var n=[];[".viz",".full-page-section > img",".full-page-section > video"].forEach((function(e){n=n.concat(Array.from(document.querySelectorAll(e)))})),(0,je.Z)(n,{stickyBitStickyOffset:40}),new(Oe())({elements_selector:".lazy",threshold:500}),Promise.all([ke(e,t)]).then((function(e){var t,n;(function(e){var t=0,n=0,r=window.innerHeight,a=!1,c=0,o=[],i=[],s=[],l=document.querySelector(".article-reminder"),u=document.querySelector("header > .progress"),m=document.querySelector(".intro-section h1"),p=document.querySelectorAll(".viz-section");if(p.length!==e.length)throw new Error("The number of viz sections (".concat(p.length,") mismatch with the length of the first ")+"dimension of the callbacks array (".concat(e.length,"). Please, be sure that the two elements ")+"have the same size.");p.forEach((function(t,n){var r,a=function(e){if(Array.isArray(e))return Ce(e)}(r=t.querySelectorAll("section"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();if(a.length!==e[n].length)throw new Error("The number of steps (".concat(a.length,") in the viz section #").concat(n+1," mismatch with the ")+"number of callbacks specified (".concat(e[n].length,') at the index "').concat(n,'". Please, be sure that the two ')+"elements have the same size.");o=o.concat(a.map((function(t,r){return new De(t,"".concat(n,"-").concat(r),e[n][r])}))),i=i.concat(i,t.querySelector(".viz > *"))}));var d=function(){var e=window.pageYOffset||document.documentElement.scrollTop;o.forEach((function(e){var a=e.el.getBoundingClientRect();r-a.top-n>0&&a.top+a.height-t>0?s.push(e):e.deactivate()}));var a=m.getBoundingClientRect().bottom<=0,i=l.classList.contains("visible");a&&!i?l.classList.add("visible"):!a&&i&&l.classList.remove("visible"),s.forEach((function(t,n){e>=c?n===s.length-1?t.activate("down"):t.deactivate():0===n?t.activate("up"):t.deactivate()})),f(),s=[],c=e},f=function(){var e=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;u.style.width=e+"%"},v={initialize:function(){if(a)throw new Error("The scroller is already initialized.");return a=!0,window.addEventListener("scroll",d),window.addEventListener("resize",(function(){r=window.innerHeight,f()})),(window.pageYOffset||document.documentElement.scrollTop)>0&&d(),f(),v},offsetTop:function(e){if(void 0===e)return t;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return t=e,v},offsetBottom:function(e){if(void 0===e)return n;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return n=e,v}};return v})((t=e,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]).offsetTop(40).offsetBottom(0).initialize()}))}function Ve(e){return e.rendered&&(0,c.useEffect)((function(){ze(e.contentData,e.paramsData)}),[]),t=A(e.contentData,e.paramsData),n={},Object.keys(t).map((function(e,r){var a=t[e];a.sectionType===h?n[e]=c.createElement(o,{key:a.key,sectionType:a.sectionType,optionData:a.optionData,amorce:(0,i.ZP)(a.amorce),background:a.background,classes:a.classes}):a.sectionType===E?n[e]=c.createElement(s,{key:a.key,id:a.key,sectionType:a.sectionType,texts:a.texts,background:a.background,classes:a.classes,visuelclasses:a.visuelclasses,visual:a.visual,filename:a.filename}):a.sectionType===y?n[e]=c.createElement(T,{key:a.key,id:a.key,sectionType:a.sectionType,background:a.background,classes:a.classes,visuelclasses:a.visuelclasses,visual:a.visual,mainTitle:a.texts.mainTitle,subTitle:a.texts.subTitle,filename:a.filename}):a.sectionType===b&&(n[e]=c.createElement(I,{key:a.key,listID:a.listID,steps:a.steps,classed:a.classed,mediaInfo:a.mediaInfo,background:a.background}))})),Object.values(n);var t,n}document.querySelector("#root").innerHTML=r.E,Promise.all([Promise.resolve().then(n.t.bind(n,20745,19)),Promise.resolve().then(n.t.bind(n,67294,19))]).then((function(e){var t=e[0],n=e[1];C.gyn(a.google_config.contentURL).then((function(e){C.gyn(a.google_config.paramsURL).then((function(r){t.createRoot(document.getElementById("root")).render(n.createElement(Ve,{contentData:e,paramsData:r,rendered:!0})),document.querySelector("#footerContainer").innerHTML=C.Ys("#footerContent").node().innerHTML}))}))}))},40207:e=>{e.exports={google_config:{contentURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=0&single=true&output=csv",paramsURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=409950237&single=true&output=csv",localContentURL:"./data/structure/contentData.csv",localParamsURL:"./data/structure/paramsData.csv"}}}},e=>{var t=t=>e(e.s=t);e.O(0,[216],(()=>(t(28594),t(35666),t(74854)))),e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFRRCxFQUFTLEdBQ3ZCaFAsRUFBQUEsSUFBT2tQLEVBQWMsY0FBZEEsWUFBMEIzSSxNQUFNLFNBQUEzSSxHQUNyQ29DLEVBQUFBLElBQU9rUCxFQUFjLGNBQWRBLFdBQXlCM0ksTUFBTSxTQUFBMUksR0FDdkJ5TSxFQUFTNkUsV0FBVzFELFNBQVMyRCxlQUFlLFNBQ3BENUUsT0FDSCxnQkFBQ2lFLEdBQUQsQ0FBaUI3USxZQUFhQSxFQUFhQyxXQUFZQSxFQUFZNlEsVUFBVSxLQWtDdkZqRCxTQUFTaUIsY0FBYyxvQkFBb0JvQyxVQUFZOU8sRUFBQUEsR0FBQSxrQkFBNEJHLE9BQU8yTyxvQixVQzdGNUZPLEVBQU9DLFFBQVUsQ0FBQ0osY0FQSSxDQUNsQixXQUFjLG1LQUNkLFVBQWEsMktBQ2IsZ0JBQW1CLG1DQUNuQixlQUFrQixzQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9jb21wb25lbnRzL0ludHJvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvY29tcG9uZW50cy9UZXh0U2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvY29tcG9uZW50cy9EV0NoYXJ0LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3IvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9jb21wb25lbnRzL1ZpelNlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2NvbXBvbmVudHMvRnVsbFBhZ2VTZWN0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3Ivc3RydWN0dXJlR2VuZXJhdG9yLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4uL2xlZGV2b2lyLWRhdGF2aXovc3JjL21hcHMvaW50ZXJhY3RpdmUtbWFwLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4uL2xlZGV2b2lyLWRhdGF2aXovc3JjL2dyYXBocy9zdGFja2VkQXJlYUNoYXJ0LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvZ2F1Z2VzL0dhdWdlcy5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL2ludHJvQm94LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvZ2F1Z2VzL01vbml0b3JpbmcuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL3V0aWxzLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9DaG9pY2UuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL011bHRpU2VsZWN0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9QcmludFByb21wdC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvUmVwYXJ0aXRpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL01hcE5hdmlnYXRvci5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvQmlsYW4uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL0VuZEdhbWUuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9Qcm9tcHRCb3guanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9tYWluZnJhbWUuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvZW5naW5lLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC92aXouanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL3Njcm9sbGVyLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3IvaW5pdFNjcm9sbGVyLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3IvUmVuZGVyU3RydWN0dXJlLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9hcHAuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvZGF0YS9nb29nbGVfY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEludHJvU2VjdGlvbihwcm9wcyl7XG5cblxuICAgIGxldCBpbnRyb1NlY3Rpb25PYmogPSAoXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17YGludHJvLXNlY3Rpb24gJHtwcm9wcy5jbGFzc2VzfWB9PlxuICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIm92ZXJUaXRsZVwiPlxuICAgICAgICAgICAgICB7cHJvcHMuYW1vcmNlfVxuICAgICAgICAgICAgPC9oNT5cbiAgICAgICAgICAgIDxoMT57cHJvcHMub3B0aW9uRGF0YS50aXRsZX08L2gxPlxuICAgICAgICAgICAgPGFkZHJlc3M+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkYXRlXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2FkZHJlc3M+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICApO1xuICAgIGxldCBjb250YWluZWRPYmogPSBwcm9wcy5iYWNrZ3JvdW5kID9cbiAgICAgICAgKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogYCR7cHJvcHMuYmFja2dyb3VuZH1gfX0gY2xhc3NOYW1lPXtcInNlY3Rpb25Db250YWluZXJcIn0+XG4gICAgICAgICAgICAgICAge2ludHJvU2VjdGlvbk9ian1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICAgIDpcbiAgICAgICAgKFxuICAgICAgICAgICAgaW50cm9TZWN0aW9uT2JqXG4gICAgICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICAgIGNvbnRhaW5lZE9ialxuICAgIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFRleHRTZWN0aW9uKHByb3BzKXtcclxuXHJcbiAgICBsZXQgaXNRdW90ZSA9IFN0cmluZyhwcm9wcy5jbGFzc2VzKS5pbmNsdWRlcygnY2l0YXRpb24nKTtcclxuICAgIGxldCBxdW90ZU9iajtcclxuICAgIGlmKGlzUXVvdGUpe1xyXG4gICAgICAgIHF1b3RlT2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OlN0cmluZyhwcm9wcy50ZXh0cykuc3BsaXQoJy8nKVswXSxcclxuICAgICAgICAgICAgYXV0aG9yOlN0cmluZyhwcm9wcy50ZXh0cykuc3BsaXQoJy8nKVsxXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlzQmlnTnVtYmVyID0gU3RyaW5nKHByb3BzLmNsYXNzZXMpLmluY2x1ZGVzKCdiaWdOdW1iZXInKTtcclxuICAgIGxldCBiaWdOdW1iZXJPYmo7XHJcbiAgICBpZihpc0JpZ051bWJlcil7XHJcbiAgICAgICAgYmlnTnVtYmVyT2JqID0ge1xyXG4gICAgICAgICAgICBudW1iZXI6U3RyaW5nKHByb3BzLnRleHRzKS5zcGxpdCgnLycpWzBdLFxyXG4gICAgICAgICAgICB1bmRlclRleHQ6U3RyaW5nKHByb3BzLnRleHRzKS5zcGxpdCgnLycpWzFdXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXNWaXN1YWwgPSBwcm9wcy52aXN1YWw7XHJcbiAgICBsZXQgdmlzdWFsT2JqID0gKFxyXG4gICAgICAgIChpc1Zpc3VhbCAhPT0gXCJcIikgPyBcclxuICAgICAgICAgICAgcHJvcHMudmlzdWFsID09PSBcIlBob3RvXCIgPyBcclxuICAgICAgICAgICAgICAgIDxpbWcgXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtgcGhvdG9UZXh0U2VjdGlvbl8ke3Byb3BzLmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9e2BwaG90b1RleHRTZWN0aW9uXyR7cHJvcHMuaWR9YH1cclxuICAgICAgICAgICAgICAgICAgICBzcmM9e2Bhc3NldHMvaW1nLzY3NS8ke3Byb3BzLmZpbGVuYW1lfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1zcmNzZXQ9e2Bhc3NldHMvaW1nLzIwNDgvJHtwcm9wcy5maWxlbmFtZX0gMjA0OHcsIGFzc2V0cy9pbWcvOTkwLyR7cHJvcHMuZmlsZW5hbWV9IDk5MHcsIGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9IDY3NXcsIGFzc2V0cy9pbWcvMTM1MC8ke3Byb3BzLmZpbGVuYW1lfSAxMzUwdywgYXNzZXRzL2ltZy8xMDAvJHtwcm9wcy5maWxlbmFtZX0gMTAwdywgYXNzZXRzL2ltZy80OTUvJHtwcm9wcy5maWxlbmFtZX0gNDk1dywgYXNzZXRzL2ltZy8xMDI0LyR7cHJvcHMuZmlsZW5hbWV9IDEwMjR3YH1cclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXNpemVzPVwiKG1heC13aWR0aDogMTAwcHgpIDEwMHB4LCAobWF4LXdpZHRoOiA0OTVweCkgNDk1cHgsIChtYXgtd2lkdGg6IDY3NXB4KSA2NzVweCwgKG1heC13aWR0aDogOTkwcHgpIDk5MHB4LCAobWF4LXdpZHRoOiAgMTAyNHB4KSAxMDI0cHgsIChtYXgtd2lkdGg6ICAxMzUwcHgpIDEzNTBweCwgKG1heC13aWR0aDogIDIwNDhweCkgMjA0OHB4XCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsYXp5ICR7cHJvcHMudmlzdWVsY2xhc3Nlc31gfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7cGFkZGluZ0JvdHRvbTogJzFyZW0nfX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgcHJvcHMudmlzdWFsID09PSBcIlZpZGVvXCIgPyBcclxuICAgICAgICAgICAgICAgIDx2aWRlbyBhdXRvUGxheSBsb29wIG11dGVkIHBsYXlzSW5saW5lIGNsYXNzTmFtZT17YHZpZGVvICR7cHJvcHMudmlzdWVsY2xhc3Nlc31gfSBwcmVsb2FkPVwibWV0YWRhdGFcIiBrZXk9e2B2aWRlb1RleHRTZWN0aW9uXyR7cHJvcHMuaWR9YH0gaWQ9e2B2aWRlb1RleHRTZWN0aW9uXyR7cHJvcHMuaWR9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9e2Bhc3NldHMvdmlkZW9zLyR7cHJvcHMuZmlsZW5hbWV9YH0vPlxyXG4gICAgICAgICAgICAgICAgICAgIFZpZMOpbyBub24gc3VwcG9ydMOpZS4gUsOpLWVzc2F5ZXogc3VyIHVuIGF1dHJlIGFwcGFyZWlsIG91IGZ1cmV0ZXVyLlxyXG4gICAgICAgICAgICAgICAgPC92aWRlbz5cclxuICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgOlxyXG4gICAgICAgIDxkaXY+PC9kaXY+XHJcbiAgICApXHJcblxyXG4gICAgbGV0IHRleHRTZWN0aW9uT2JqID0gKFxyXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17YHRleHQtc2VjdGlvbiAke3Byb3BzLmNsYXNzZXN9YH0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpc1F1b3RlID8gXHJcbiAgICAgICAgICAgIDxibG9ja3F1b3RlIGNsYXNzTmFtZT1cInNtYWxsXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGI+XHJcbiAgICAgICAgICAgICAgICAgICAge3BhcnNlKHF1b3RlT2JqLnRleHQpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYj5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImF1dGhvclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtxdW90ZU9iai5hdXRob3J9XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN5bWJvbFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvYmxvY2txdW90ZT5cclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICBpc0JpZ051bWJlciA/XHJcbiAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItbnVtYmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibnVtYmVyc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPntiaWdOdW1iZXJPYmoubnVtYmVyfTwvaDI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2JpZ051bWJlck9iai51bmRlclRleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NtYWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Zpc3VhbCA/IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc3VhbE9ialxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHByb3BzLnRleHRzKS5zdGFydHNXaXRoKCc8JykgPyAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZShwcm9wcy50ZXh0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPntwYXJzZShwcm9wcy50ZXh0cyl9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIDwvc2VjdGlvbj5cclxuICAgICk7XHJcbiAgICBsZXQgY29udGFpbmVkT2JqID0gcHJvcHMuYmFja2dyb3VuZCA/IFxyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6IGAke3Byb3BzLmJhY2tncm91bmR9YH19IGNsYXNzTmFtZT17XCJzZWN0aW9uQ29udGFpbmVyXCJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGV4dFNlY3Rpb25PYmp9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFNlY3Rpb25PYmpcclxuICAgICAgICAgICAgICAgIClcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIGNvbnRhaW5lZE9ialxyXG4gICAgKVxyXG59IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRFdDaGFydCh7IHRpdGxlLCBzcmMsIC4uLnByb3BzIH0pIHtcclxuICBjb25zdCBpZnJhbWVSZWYgPSB1c2VSZWYoKVxyXG4gIGNvbnN0IFtoZWlnaHQsIHNldFN0YXRlXSA9IHVzZVN0YXRlKDUwMClcclxuXHJcbiAgY29uc3Qgb25NZXNzYWdlID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoeyBkYXRhID0ge30sIHNvdXJjZSB9KSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBzb3VyY2UgIT09IGlmcmFtZVJlZi5jdXJyZW50LmNvbnRlbnRXaW5kb3cgfHxcclxuICAgICAgICB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgfHxcclxuICAgICAgICAhZGF0YVsnZGF0YXdyYXBwZXItaGVpZ2h0J11cclxuICAgICAgKVxyXG4gICAgICAgIHJldHVyblxyXG5cclxuICAgICAgLy9zZXRTdGF0ZShPYmplY3QudmFsdWVzKGRhdGFbJ2RhdGF3cmFwcGVyLWhlaWdodCddKVswXSlcclxuICAgIH0sXHJcbiAgICBbc2V0U3RhdGUsIGlmcmFtZVJlZl1cclxuICApXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSlcclxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSlcclxuICB9LCBbaGVpZ2h0LCBzZXRTdGF0ZSwgb25NZXNzYWdlXSlcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxpZnJhbWVcclxuICAgICAgcmVmPXtpZnJhbWVSZWZ9XHJcbiAgICAgIHNjcm9sbGluZz1cIm5vXCJcclxuICAgICAgZnJhbWVCb3JkZXI9XCIwXCJcclxuICAgICAgd2lkdGg9XCIxMDAlXCJcclxuICAgICAgey4uLnByb3BzfVxyXG4gICAgICB0aXRsZT17dGl0bGV9XHJcbiAgICAgIHNyYz17c3JjfVxyXG4gICAgICBoZWlnaHQ9e2hlaWdodH1cclxuICAgIC8+XHJcbiAgKVxyXG59XHJcblxyXG5EV0NoYXJ0LnByb3BUeXBlcyA9IHtcclxuICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIHNyYzogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIGxvYWRpbmc6IFByb3BUeXBlcy5vbmVPZihbJ2VhZ2VyJywgJ2xhenknXSksXHJcbn0iLCJleHBvcnQgY29uc3QgY29udGVudEhlYWRlckNvbnN0YW50cyA9IHtcbiAgICBzZWN0aW9uOiBcIlNlY3Rpb25cIixcbiAgICBzZWN0aW9uSUQ6IFwiU2VjdGlvbklEXCIsXG4gICAgYXR0cmlidXRzOiBcIkF0dHJpYnV0c1wiLFxuICAgIHNvdXNzZWN0aW9uOiBcIlN0ZXBcIixcbiAgICB0ZXh0ZTogXCJURVhURVwiLFxuICAgIHZpc3VlbDogXCJWSVNVRUxcIixcbiAgICBub21maWNoaWVyc291cmNlOiBcIk5vbUZpY2hpZXJTb3VyY2VcIixcbiAgICBzdHlsZWZvbmQ6IFwiU3R5bGVGb25kXCIsXG4gICAgc3RlcGNsYXNzZXM6IFwiU3RlcENsYXNzZXNcIixcbiAgICB2aXN1ZWxjbGFzc2VzOiBcIlZpc3VlbENsYXNzZXNcIixcbiAgICBub3RlczogXCJOb3Rlc1wiLFxuICAgIGdhbWVpZDogXCJHYW1lSURcIlxufTtcblxuZXhwb3J0IGNvbnN0IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cyA9IHtcbiAgICBzZWN0aW9udHlwZXM6IHtcbiAgICAgICAgaW50cm90aXRyZTogXCJpbnRyby10aXRyZVwiLFxuICAgICAgICBwbGVpbmVwYWdldGl0cmU6IFwicGxlaW5lLXBhZ2UtdGl0cmVcIixcbiAgICAgICAgdGV4dGVjbGFzc2lxdWU6IFwidGV4dGUtY2xhc3NpcXVlXCIsXG4gICAgICAgIHZpenNlY3Rpb246IFwidml6LXNlY3Rpb25cIlxuICAgIH0sXG4gICAgc2VjdGlvbmF0dHJpYnV0ZXM6e1xuICAgICAgICBwbGVpbmVwYWdlOiBcInBsZWluZS1wYWdlXCIsXG4gICAgICAgIGZvbmRub2lyOiBcImZvbmQtbm9pclwiLFxuICAgICAgICBjZW50cmU6IFwiY2VudHLDqVwiLFxuICAgICAgICBjb3RlY290ZTogXCJjw7R0w6ktY8O0dMOpXCJcbiAgICB9LFxuICAgIHZpc3VlbHR5cGVzOntcbiAgICAgICAgcGhvdG86IFwiUGhvdG9cIixcbiAgICAgICAgdmlkZW86IFwiVmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwiQXVkaW9cIixcbiAgICAgICAgdmlzdWFsaXNhdGlvbjogXCJWaXN1YWxpc2F0aW9uXCIsXG4gICAgICAgIGlmcmFtZTogXCJpZnJhbWVcIlxuICAgIH0sXG4gICAgc291c3NlY3Rpb250eXBlczp7XG4gICAgICAgIHNjcm9sbG5vcm1hbDogXCJzY3JvbGwtbm9ybWFsXCIsXG4gICAgICAgIHNjcm9sbGludmlzaWJsZTogXCJzY3JvbGwtaW52aXNpYmxlXCIsXG4gICAgICAgIHNjcm9sbGxvbmc6IFwic2Nyb2xsLWxvbmdcIlxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzID0ge1xuICAgIHRpdHJlOiBcIlRpdHJlXCIsXG4gICAgYXV0ZXVyczogXCJBdXRldXJzXCIsXG4gICAgZGF0ZTogXCJEYXRlXCIsXG4gICAgZGF0ZTogXCJEYXRlXCIsXG4gICAgdXJsczogXCJMaWVuQXV0ZXVyc1wiLFxuICAgIGxpZW5maWNoaWVyc291cmNlOiBcIkxpZW5GaWNoaWVyU291cmNlXCJcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcbmltcG9ydCBEV0NoYXJ0IGZyb20gXCIuL0RXQ2hhcnRcIjtcbmltcG9ydCB7IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cyB9IGZyb20gXCIuLi9nZW5lcmF0b3IvY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBWaXpTZWN0aW9uKHByb3BzKXtcblxuICAgIGxldCB2aXpTZWN0aW9uT2JqID0gKFxuICAgICAgICA8c2VjdGlvbiBpZD17cHJvcHMubGlzdElEfSBjbGFzc05hbWU9e3Byb3BzLmNsYXNzZWR9PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHN0ZXBzICR7Z2V0U3RlcENvbW1vbkNsYXNzKHByb3BzLnN0ZXBzKX1gfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc3RlcHMubWFwKChzdGVwLGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdzdGVwIGlzICcsIHN0ZXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzUXVvdGUgPSBTdHJpbmcoc3RlcC5zdGVwY2xhc3NlcykuaW5jbHVkZXMoJ2NpdGF0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcXVvdGVPYmo7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpc1F1b3RlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdW90ZU9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDpTdHJpbmcoc3RlcC50ZXh0KS5zcGxpdCgnLycpWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3I6U3RyaW5nKHN0ZXAudGV4dCkuc3BsaXQoJy8nKVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGtleT17aW5kZXh9IGNsYXNzTmFtZT17c3RlcC5zdGVwY2xhc3Nlc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUXVvdGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrcXVvdGUgY2xhc3NOYW1lPVwic21hbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhcnNlKHF1b3RlT2JqLnRleHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2I+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImF1dGhvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cXVvdGVPYmouYXV0aG9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN5bWJvbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9ja3F1b3RlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHN0ZXAudGV4dCkuc3RhcnRzV2l0aCgnPCcpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZShzdGVwLnRleHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57c3RlcC50ZXh0ID8gcGFyc2Uoc3RlcC50ZXh0KSA6IFwiXCJ9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2aXpcIiBpZD1cInZpelwiPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc3RlcHMubWFwKChzdGVwLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RlcC52aXN1YWwgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy52aXN1ZWx0eXBlcy5waG90byl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17YGFzc2V0cy9pbWcvNjc1LyR7c3RlcC5maWxlbmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zcmNzZXQ9e2Bhc3NldHMvaW1nLzIwNDgvJHtzdGVwLmZpbGVuYW1lfSAyMDQ4dywgYXNzZXRzL2ltZy85OTAvJHtzdGVwLmZpbGVuYW1lfSA5OTB3LCBhc3NldHMvaW1nLzY3NS8ke3N0ZXAuZmlsZW5hbWV9IDY3NXcsIGFzc2V0cy9pbWcvMTM1MC8ke3N0ZXAuZmlsZW5hbWV9IDEzNTB3LCBhc3NldHMvaW1nLzEwMC8ke3N0ZXAuZmlsZW5hbWV9IDEwMHcsIGFzc2V0cy9pbWcvNDk1LyR7c3RlcC5maWxlbmFtZX0gNDk1dywgYXNzZXRzL2ltZy8xMDI0LyR7c3RlcC5maWxlbmFtZX0gMTAyNHdgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zaXplcz1cIihtYXgtd2lkdGg6IDEwMHB4KSAxMDBweCwgKG1heC13aWR0aDogNDk1cHgpIDQ5NXB4LCAobWF4LXdpZHRoOiA2NzVweCkgNjc1cHgsIChtYXgtd2lkdGg6IDk5MHB4KSA5OTBweCwgKG1heC13aWR0aDogIDEwMjRweCkgMTAyNHB4LCAobWF4LXdpZHRoOiAgMTM1MHB4KSAxMzUwcHgsIChtYXgtd2lkdGg6ICAyMDQ4cHgpIDIwNDhweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsYXp5ICR7c3RlcC52aXN1ZWxjbGFzc2VzfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzdGVwLnZpc3VhbCA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnZpc3VlbHR5cGVzLnZpZGVvKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmlkZW8gYXV0b1BsYXkgbG9vcCBtdXRlZCBwbGF5c0lubGluZSBjbGFzc05hbWU9e2B2aWRlbyAke3N0ZXAudmlzdWVsY2xhc3Nlc31gfSBwcmVsb2FkPVwibWV0YWRhdGFcIiBrZXk9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBpZD17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9e2Bhc3NldHMvdmlkZW9zLyR7c3RlcC5maWxlbmFtZX1gfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWTDqW8gbm9uIHN1cHBvcnTDqWUuIFLDqS1lc3NheWV6IHN1ciB1biBhdXRyZSBhcHBhcmVpbCBvdSBmdXJldGV1ci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92aWRlbz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoc3RlcC52aXN1YWwgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy52aXN1ZWx0eXBlcy5pZnJhbWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH0gaWQ9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBjbGFzc05hbWU9XCJpZnJhbWVDb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEV0NoYXJ0IHRpdGxlPVwiTWVzdXJlcyBkJ2Fyc2VuaWNcIiBzcmM9e2Ake3N0ZXAuZmlsZW5hbWV9YH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHN0ZXAudmlzdWFsID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMudmlzdWVsdHlwZXMudmlzdWFsaXNhdGlvbil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBpZD17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9IGNsYXNzTmFtZT17YGlmcmFtZUNvbnRhaW5lciAke3N0ZXAudmlzdWVsY2xhc3Nlc31gfT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICk7XG4gICAgbGV0IGNvbnRhaW5lZE9iaiA9IHByb3BzLmJhY2tncm91bmQgP1xuICAgICAgICAoXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7YmFja2dyb3VuZENvbG9yOiBgJHtwcm9wcy5iYWNrZ3JvdW5kfWB9fSBjbGFzc05hbWU9e1wic2VjdGlvbkNvbnRhaW5lclwifT5cbiAgICAgICAgICAgICAgICB7dml6U2VjdGlvbk9ian1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICAgIDpcbiAgICAgICAgKFxuICAgICAgICAgICAgdml6U2VjdGlvbk9ialxuICAgICAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgICBjb250YWluZWRPYmpcbiAgICApXG59XG5cbmZ1bmN0aW9uIGdldFN0ZXBDb21tb25DbGFzcyhzdGVwcyl7XG4gICAgbGV0IGN1clN0ZXBDbGFzc2VzID0gc3RlcHMubWFwKChzdGVwLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gc3RlcC5zdGVwY2xhc3NlcztcbiAgICB9KTtcbiAgICBsZXQgY3VyQ29tbW9uQ2xhc3MgPSBuZXcgQXJyYXkoY3VyU3RlcENsYXNzZXMubGVuZ3RoKTtcbiAgICBjdXJTdGVwQ2xhc3Nlcy5mb3JFYWNoKChzdGVwRWxlbSwgaWR4KSA9PiB7XG4gICAgICAgIGlmKEFycmF5LmlzQXJyYXkoc3RlcEVsZW0pKXtcbiAgICAgICAgICAgIHN0ZXBFbGVtLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yKCBsZXQgaSA9IGlkeDsgaSA8IGN1clN0ZXBDbGFzc2VzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VyU3RlcENsYXNzZXNbaV0uaW5jbHVkZXMoZWxlbSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbW9uQ2xhc3NbaV0gPSAoZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZihzdGVwRWxlbSkgPT09IFwic3RyaW5nXCIpe1xuICAgICAgICAgICAgZm9yKCBsZXQgaSA9IGlkeDsgaSA8IGN1clN0ZXBDbGFzc2VzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZihjdXJTdGVwQ2xhc3Nlc1tpXS5pbmNsdWRlcyhzdGVwRWxlbSkpe1xuICAgICAgICAgICAgICAgICAgICBjdXJDb21tb25DbGFzc1tpXSA9IChzdGVwRWxlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGN1ckNvbW1vbkNsYXNzLnJlZHVjZShmdW5jdGlvbihhLCBiKXsgcmV0dXJuIChhID09PSBiICYmIGEgIT09IFwiXCIgJiYgYiAhPT0gXCJcIikgPyBhIDogXCJcIjsgfSk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBGdWxsUGFnZVNlY3Rpb24ocHJvcHMpe1xuXG4gICAgbGV0IGZ1bGxwYWdlU2VjdGlvbk9iaiA9IChcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtgZnVsbC1wYWdlLXNlY3Rpb24gJHtwcm9wcy5jbGFzc2VzfWB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZUltYWdlXCI+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5maWxlbmFtZSA/XG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnZpc3VhbCA9PT0gXCJQaG90b1wiID9cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7cHJvcHMuaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2Ake3Byb3BzLmlkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17YGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zcmNzZXQ9e2Bhc3NldHMvaW1nLzIwNDgvJHtwcm9wcy5maWxlbmFtZX0gMjA0OHcsIGFzc2V0cy9pbWcvOTkwLyR7cHJvcHMuZmlsZW5hbWV9IDk5MHcsIGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9IDY3NXcsIGFzc2V0cy9pbWcvMTM1MC8ke3Byb3BzLmZpbGVuYW1lfSAxMzUwdywgYXNzZXRzL2ltZy8xMDAvJHtwcm9wcy5maWxlbmFtZX0gMTAwdywgYXNzZXRzL2ltZy80OTUvJHtwcm9wcy5maWxlbmFtZX0gNDk1dywgYXNzZXRzL2ltZy8xMDI0LyR7cHJvcHMuZmlsZW5hbWV9IDEwMjR3YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zaXplcz1cIihtYXgtd2lkdGg6IDEwMHB4KSAxMDBweCwgKG1heC13aWR0aDogNDk1cHgpIDQ5NXB4LCAobWF4LXdpZHRoOiA2NzVweCkgNjc1cHgsIChtYXgtd2lkdGg6IDk5MHB4KSA5OTBweCwgKG1heC13aWR0aDogIDEwMjRweCkgMTAyNHB4LCAobWF4LXdpZHRoOiAgMTM1MHB4KSAxMzUwcHgsIChtYXgtd2lkdGg6ICAyMDQ4cHgpIDIwNDhweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGxhenkgJHtwcm9wcy52aXN1ZWxjbGFzc2VzfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy52aXN1YWwgPT09IFwiVmlkZW9cIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmlkZW8gYXV0b1BsYXkgbG9vcCBtdXRlZCBwbGF5c0lubGluZSBjbGFzc05hbWU9e2B2aWRlbyAke3Byb3BzLnZpc3VlbGNsYXNzZXN9YH0gcHJlbG9hZD1cIm1ldGFkYXRhXCIga2V5PXtgJHtwcm9wcy5pZH1gfSBpZD17YCR7cHJvcHMuaWR9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz17YGFzc2V0cy92aWRlb3MvJHtwcm9wcy5maWxlbmFtZX1gfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWTDqW8gbm9uIHN1cHBvcnTDqWUuIFLDqS1lc3NheWV6IHN1ciB1biBhdXRyZSBhcHBhcmVpbCBvdSBmdXJldGV1ci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92aWRlbz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8ZGl2PjwvZGl2PilcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICg8ZGl2PjwvZGl2PilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5maWxlbmFtZSA/XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsdGVyXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FwdGlvbmhvbGRlclwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9e2BjYXB0aW9uICR7cHJvcHMubWFpblRpdGxlLmNsYXNzfWB9Pntwcm9wcy5tYWluVGl0bGUudGV4dH08L2gyPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc3ViVGl0bGUgP1xuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPXtgY2FwdGlvbiAke3Byb3BzLnN1YlRpdGxlLmNsYXNzfWB9Pntwcm9wcy5zdWJUaXRsZS50ZXh0fTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICk6XG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgKTtcbiAgICBsZXQgY29udGFpbmVkT2JqID0gcHJvcHMuYmFja2dyb3VuZCA/XG4gICAgICAgIChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6IGAke3Byb3BzLmJhY2tncm91bmR9YH19IGNsYXNzTmFtZT17XCJzZWN0aW9uQ29udGFpbmVyXCJ9PlxuICAgICAgICAgICAgICAgIHtmdWxscGFnZVNlY3Rpb25PYmp9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgICA6XG4gICAgICAgIChcbiAgICAgICAgICAgIGZ1bGxwYWdlU2VjdGlvbk9ialxuICAgICAgICApXG5cbiAgICByZXR1cm4gY29udGFpbmVkT2JqO1xuXG59XG4iLCJcbmltcG9ydCB7IHNhdmVBcyB9IGZyb20gJ2ZpbGUtc2F2ZXInO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgY29udGVudEhlYWRlckNvbnN0YW50cywgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLCBwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHJ1Y3R1cmUoY29udGVudERhdGEsIHBhcmFtc0RhdGEpe1xuXG4gICAgbGV0IHN0cnVjdHVyZURhdGEgPSB7fTsgLy8gV2hvbGUgc2Nyb2xseSBzdHJ1Y3R1cmVcbiAgICBsZXQgdml6U2VjdGlvbklEcyA9IFtdOyAvLyBMaXN0IG9mIHNlY3Rpb25JRHNcblxuICAgIGxldCBvcHRpb25zID0gZ2V0T3B0aW9ucyhwYXJhbXNEYXRhKTtcblxuICAgIGNvbnNvbGUubG9nKCdjb250ZW50IERhdGEnLCBjb250ZW50RGF0YSk7XG4gICAgY29udGVudERhdGEubWFwKChyb3dEYXRhLGluZGV4KSA9PiB7XG5cbiAgICAgICAgaWYocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25dID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLmludHJvdGl0cmUpe1xuICAgICAgICAgICAgbGV0IGNsYXNzZXMgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3RlcGNsYXNzZXNdO1xuICAgICAgICAgICAgbGV0IGN1ckFtb3JjZSA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV07XG4gICAgICAgICAgICBsZXQgc2VjdGlvbkJhY2tncm91bmQgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3R5bGVmb25kXTtcbiAgICAgICAgICAgIHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dID0ge1xuICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgc2VjdGlvblR5cGU6IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMuaW50cm90aXRyZSxcbiAgICAgICAgICAgICAgICBvcHRpb25EYXRhOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIGFtb3JjZTogY3VyQW1vcmNlLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHNlY3Rpb25CYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IHBhcnNlQ2xhc3NlcyhjbGFzc2VzKSxcbiAgICAgICAgICAgICAgICBnYW1laWQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5nYW1laWRdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25dID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnRleHRlY2xhc3NpcXVlKXtcbiAgICAgICAgICAgIGxldCB0ZXh0cyA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV07XG4gICAgICAgICAgICBsZXQgY2xhc3NlcyA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdGVwY2xhc3Nlc107XG4gICAgICAgICAgICBsZXQgc2VjdGlvbkJhY2tncm91bmQgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3R5bGVmb25kXTtcbiAgICAgICAgICAgIHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dID0ge1xuICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgc2VjdGlvblR5cGU6IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudGV4dGVjbGFzc2lxdWUsXG4gICAgICAgICAgICAgICAgdGV4dHM6IHRleHRzLFxuICAgICAgICAgICAgICAgIHZpc3VhbDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbF0sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5ub21maWNoaWVyc291cmNlXSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBzZWN0aW9uQmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICBjbGFzc2VzOiBwYXJzZUNsYXNzZXMoY2xhc3NlcyksXG4gICAgICAgICAgICAgICAgdmlzdWVsY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxjbGFzc2VzXSksXG4gICAgICAgICAgICAgICAgZ2FtZWlkOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuZ2FtZWlkXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uXSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5wbGVpbmVwYWdldGl0cmUpe1xuICAgICAgICAgICAgbGV0IHRpdGxlT2JqID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXTtcbiAgICAgICAgICAgIGlmIChpc0pzb24ocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXSkpe1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0T2JqID0gSlNPTi5wYXJzZShyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdKTtcbiAgICAgICAgICAgICAgICB0aXRsZU9iaiA9IHRleHRPYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgICAgICAgIHNlY3Rpb25UeXBlOiBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnBsZWluZXBhZ2V0aXRyZSxcbiAgICAgICAgICAgICAgICB0ZXh0czogaXNKc29uKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV0pID8gdGl0bGVPYmpcbiAgICAgICAgICAgICAgICA6e1xuICAgICAgICAgICAgICAgICAgICBtYWluVGl0bGU6e2NsYXNzOiBcIlwiLCB0ZXh0OiB0aXRsZU9ian0sXG4gICAgICAgICAgICAgICAgICAgIHN1YlRpdGxlOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB2aXN1YWw6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxdLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMubm9tZmljaGllcnNvdXJjZV0sXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0eWxlZm9uZF0sXG4gICAgICAgICAgICAgICAgY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdGVwY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIHZpc3VlbGNsYXNzZXM6IHBhcnNlQ2xhc3Nlcyhyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudmlzdWVsY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIGdhbWVpZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmdhbWVpZF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbl0gPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudml6c2VjdGlvbil7XG5cbiAgICAgICAgICAgIGxldCBjdXJEYXRhID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0czogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmF0dHJpYnV0c10sXG4gICAgICAgICAgICAgICAgc2Nyb2xsVHlwZTogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNvdXNzZWN0aW9uXSxcbiAgICAgICAgICAgICAgICB0ZXh0OiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdLFxuICAgICAgICAgICAgICAgIHZpc3VhbDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbF0sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5ub21maWNoaWVyc291cmNlXSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3R5bGVmb25kXSxcbiAgICAgICAgICAgICAgICB2aXN1ZWxjbGFzc2VzOiBwYXJzZUNsYXNzZXMocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbGNsYXNzZXNdKSxcbiAgICAgICAgICAgICAgICBzdGVwY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdGVwY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIGdhbWVpZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmdhbWVpZF1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZihzdHJ1Y3R1cmVEYXRhLmhhc093blByb3BlcnR5KHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdKSl7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHN0ZXAgdG8gZXhpc3RpbmdcbiAgICAgICAgICAgICAgICBsZXQgY3VyVml6U2VjdGlvbiA9IHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dO1xuICAgICAgICAgICAgICAgIGN1clZpelNlY3Rpb24ucHVzaChjdXJEYXRhKTtcbiAgICAgICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IGN1clZpelNlY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dID0gW2N1ckRhdGFdO1xuICAgICAgICAgICAgICAgIHZpelNlY3Rpb25JRHMucHVzaChyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2aXpTZWN0aW9uSURzLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgIGxldCBjdXJTZWN0aW9uID0gc3RydWN0dXJlRGF0YVtrZXldO1xuICAgICAgICBsZXQgc2VjdGlvbkF0dHIgPSBjdXJTZWN0aW9uWzBdLmF0dHJpYnV0cyA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb25hdHRyaWJ1dGVzLmNlbnRyZSA/IFwiIGZ1bGwtcGFnZVwiIDogXCJcIjtcbiAgICAgICAgbGV0IHNlY3Rpb25CYWNrZ3JvdW5kID0gY3VyU2VjdGlvblswXS5iYWNrZ3JvdW5kO1xuICAgICAgICBzdHJ1Y3R1cmVEYXRhW2tleV0gPSB7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHNlY3Rpb25UeXBlOiBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnZpenNlY3Rpb24sXG4gICAgICAgICAgICBsaXN0SUQ6IGtleSxcbiAgICAgICAgICAgIHN0ZXBzOiBjdXJTZWN0aW9uLFxuICAgICAgICAgICAgY2xhc3NlZDogYHZpei1zZWN0aW9uJHtzZWN0aW9uQXR0cn1gLFxuICAgICAgICAgICAgbWVkaWFJbmZvOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogc2VjdGlvbkJhY2tncm91bmRcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHN0cnVjdHVyZURhdGEpO1xufVxuXG4vKipcbiAqIFRha2UgYXJ0aWNsZSBzdHJ1Y3R1cmUgYXMgQ1NWIGFuZCB0cmFuc2Zvcm0gaXQgYXMgY2FsbGJhY2tBcnJheVxuICogQHBhcmFtICB7T2JqZWN0fSBjb250ZW50RGF0YSBhcnRpY2xlIHN0cnVjdHVyZVxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIGFydGljbGUgb3B0aW9uc1xuICogQHJldHVybiB7QXJyYXl9IFNjcm9sbGVyIGNhbGxiYWNrIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNhbGxiYWNrcyhjb250ZW50RGF0YSwgcGFyYW1zRGF0YSl7XG5cbiAgICBsZXQgZnVsbFN0cnVjdHVyZSA9IGdldFN0cnVjdHVyZShjb250ZW50RGF0YSwgcGFyYW1zRGF0YSk7XG4gICAgbGV0IGNhbGxiYWNrc0FycmF5ID0gW107XG4gICAgZnVsbFN0cnVjdHVyZS5tYXAoY2FsbGJhY2sgPT4ge1xuICAgICAgICBpZihjYWxsYmFjay5zZWN0aW9uVHlwZSA9PT0gXCJ2aXotc2VjdGlvblwiKXtcbiAgICAgICAgICAgIGxldCBjdXJTdGVwcyA9IFtdO1xuICAgICAgICAgICAgY2FsbGJhY2suc3RlcHMubWFwKChzdGVwLGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGN1ckNvbW1hbmQgPSAoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcikgPyAoKCk9Pnt9KSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYoc3RlcC52aXN1YWwgIT09IFwiXCIpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyTnVtYmVyQXJyYXkgPSBBcnJheShjYWxsYmFjay5zdGVwcy5sZW5ndGgpLmZpbGwobnVsbCkubWFwKChfLCBpKSA9PiBpKS5maWx0ZXIoZCA9PiBkICE9PSBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvcGFjaXR5U2VsZWN0b3IgPSBjdXJOdW1iZXJBcnJheS5tYXAoaW5kID0+IGAjJHtjYWxsYmFjay5rZXl9XyR7aW5kfWApLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tYW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdChgIyR7Y2FsbGJhY2sua2V5fV8ke2luZGV4fWApLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob3BhY2l0eVNlbGVjdG9yICE9PSBcIlwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKGAke29wYWNpdHlTZWxlY3Rvcn1gKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tYW5kID0gYGQzLnNlbGVjdCgnIyR7Y2FsbGJhY2sua2V5fV8ke2luZGV4fScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7JHtvcGFjaXR5U2VsZWN0b3IgIT09IFwiXCIgPyBgZDMuc2VsZWN0QWxsKCcke29wYWNpdHlTZWxlY3Rvcn0nKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7YCA6IFwiXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKFN0cmluZyhzdGVwLmZpbGVuYW1lKS5zdGFydHNXaXRoKFwiVEFHSURcIikpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyVGFnSUQgPSBTdHJpbmcoc3RlcC5maWxlbmFtZSkuc3BsaXQoJz0nKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1clRhZ0lEX2luZGV4ID0gcGFyc2VJbnQoY3VyVGFnSUQuc3BsaXQoXCJfXCIpWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ck51bWJlckFycmF5ID0gQXJyYXkoY2FsbGJhY2suc3RlcHMubGVuZ3RoKS5maWxsKG51bGwpLm1hcCgoXywgaSkgPT4gaSkuZmlsdGVyKGQgPT4gZCAhPT0gY3VyVGFnSURfaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3BhY2l0eVNlbGVjdG9yID0gY3VyTnVtYmVyQXJyYXkubWFwKGluZCA9PiBgIyR7Y2FsbGJhY2sua2V5fV8ke2luZH1gKS5qb2luKCcsJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1YyAmJiBFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbWFuZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KGAjJHtjdXJUYWdJRH1gKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAxKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihvcGFjaXR5U2VsZWN0b3IgIT09IFwiXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKGAke29wYWNpdHlTZWxlY3Rvcn1gKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tYW5kID0gYGQzLnNlbGVjdCgnIyR7Y3VyVGFnSUR9JykudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMSkuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTske29wYWNpdHlTZWxlY3RvciAhPT0gXCJcIiA/IGBkMy5zZWxlY3RBbGwoJyR7b3BhY2l0eVNlbGVjdG9yfScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDApLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtgIDogXCJcIn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgICAgICAgICAgICAgICAgY3VyU3RlcHMucHVzaChjdXJDb21tYW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY3VyU3RlcHMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoKSA9PiB7JHtjdXJDb21tYW5kfX1gXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhbGxiYWNrc0FycmF5LnB1c2goY3VyU3RlcHMpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZihFTlZfQ09ORklHLmRvd25sb2FkU3RydWMgJiYgRU5WX0NPTkZJRy5hdXRvcmVuZGVyKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnR09UIENBTExCQUNLUyBBUlJBWTogJywgY2FsbGJhY2tzQXJyYXkpO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2tzQXJyYXk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTYXZpbmcgY2FsbGJhY2tzIHRvIGZpbGUuLi4nKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IGBpbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XFxuZXhwb3J0IGNvbnN0IGNhbGxiYWNrcyA9ICR7SlNPTi5zdHJpbmdpZnkoY2FsbGJhY2tzQXJyYXksIG51bGwsIDIpfWA7XG4gICAgICAgIGxldCBibG9iID0gbmV3IEJsb2IoW3RleHQucmVwbGFjZUFsbCgnXCInLCAnJyldLCB7dHlwZTogXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLThcIn0pO1xuICAgICAgICBzYXZlQXMoYmxvYiwgXCJjYWxsYmFja3MuanNcIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBpc0pzb24oc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgSlNPTi5wYXJzZShzdHIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDbGFzc2VzKHN0cil7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oc3RyLnNwbGl0KCc7JykpLmpvaW4oJyAnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9wdGlvbnMocGFyYW1zRGF0YSl7XG5cbiAgcmV0dXJuIHtcbiAgICB0aXRsZTogcGFyYW1zRGF0YVswXVtwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzLnRpdHJlXSxcbiAgICBhdXRob3JzOiBwYXJhbXNEYXRhWzBdW3BhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMuYXV0ZXVyc10sXG4gICAgdXJsczogcGFyYW1zRGF0YVswXVtwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzLnVybHNdLFxuICAgIGRhdGU6IHBhcmFtc0RhdGFbMF1bcGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cy5kYXRlXVxuICB9O1xufVxuIiwiaW1wb3J0IHsgY29uc3RhbnQgfSBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCBtYXBib3hnbCBmcm9tIFwibWFwYm94LWdsXCI7XHJcbmltcG9ydCAqIGFzIHNjcmVlbiBmcm9tIFwiLi9zY3JlZW4uanNcIjtcclxuXHJcbmNvbnN0IGNvbnN0YW50cyA9IHtcclxuICB0b2tlbjpcclxuICAgIFwicGsuZXlKMUlqb2liR1ZrWlhadmFYSWlMQ0poSWpvaVkycDJiVzgxZEhVMk1XVjFjVFJoY1hJemFYWnFNR1l4Y2lKOS5XcklGOG82OWFSX1RzdERGdTZReWFnXCIsXHJcbiAgbWFwQm91bmRzOiB7XHJcbiAgICBtYXg6IFstMTY1LCAzMC43MjgzMzAsIC0yNS4yMzYzNiwgODIuMjI5NDM0XSxcclxuICB9LFxyXG4gIGNvbG9yczogW1xyXG4gICAgXCIjRjRDQkM2XCIsXHJcbiAgICBcIiNGNEEzOUFcIixcclxuICAgIFwiI0VFNkE1RVwiLFxyXG4gICAgXCIjQ0UzNzI3XCIsXHJcbiAgICBcIiNBMjI4MjNcIixcclxuICAgIFwiIzc1MUExQVwiLFxyXG4gICAgXCIjNDEwMDAwXCIsXHJcbiAgXSxcclxuICBjbHVzdGVyTWF4Wm9vbTogMTEsXHJcbiAgY2x1c3RlclJhZGl1czogMzAsXHJcbiAgY2x1c3Rlck1pblBvaW50czogNVxyXG59O1xyXG5cclxubWFwYm94Z2wuYWNjZXNzVG9rZW4gPSBjb25zdGFudHMudG9rZW47XHJcblxyXG5leHBvcnQgY2xhc3MgTWFwIHtcclxuICBjb25zdHJ1Y3RvcihkaXYsIGNsYXNzTmFtZSwgZGF0YVNvdXJjZUFycmF5LCBzdHlsZVVybCwgaW5pdENvb3JkcywgZGlzYWJsZUNvbnRyb2xzPXRydWUsIHdpdGhIYW5kbGVycz1mYWxzZSwgbWF4Qm91bmRzID0gbnVsbCkge1xyXG5cclxuICAgIHRoaXMuZGF0YVNvdXJjZU9iamVjdHMgPSBkYXRhU291cmNlQXJyYXk7XHJcbiAgICB0aGlzLmNvbnN0YW50cyA9IGNvbnN0YW50cztcclxuICAgIHRoaXMubWFwID0gbmV3IG1hcGJveGdsLk1hcCh7XHJcbiAgICAgIGNvbnRhaW5lcjogY2xhc3NOYW1lLFxyXG4gICAgICBzdHlsZTogc3R5bGVVcmwsXHJcbiAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSxcclxuICAgICAgY2VudGVyOiBpbml0Q29vcmRzLmNlbnRlcixcclxuICAgICAgem9vbTogaW5pdENvb3Jkcy56b29tXHJcbiAgICB9KTtcclxuICAgIHRoaXMubWF4Qm91bmRzID0gaW5pdENvb3JkcztcclxuICAgIHRoaXMuYm91bmRzTGlzdCA9IHRoaXMuZGF0YVNvdXJjZU9iamVjdHMubWFwKGRhdGFTb3VyY2UgPT4gZGF0YVNvdXJjZVsnY29vcmRzJ10pO1xyXG4gICAgdGhpcy5leHRyYUJvdW5kcyA9IHRoaXMuZGF0YVNvdXJjZU9iamVjdHMubWFwKGRhdGFTb3VyY2UgPT4gZGF0YVNvdXJjZVsnZXh0cmFDb29yZHMnXSk7XHJcbiAgICBpZihkaXNhYmxlQ29udHJvbHMpe1xyXG4gICAgICB0aGlzLm1hcC5zY3JvbGxab29tLmRpc2FibGUoKTtcclxuICAgICAgdGhpcy5tYXAuZHJhZ1Bhbi5kaXNhYmxlKCk7XHJcbiAgICAgIHRoaXMubWFwLmRyYWdSb3RhdGUuZGlzYWJsZSgpO1xyXG4gICAgICB0aGlzLm1hcC5ib3hab29tLmRpc2FibGUoKTtcclxuICAgICAgdGhpcy5tYXAuZG91YmxlQ2xpY2tab29tLmRpc2FibGUoKTtcclxuICAgIH1cclxuICAgIGlmKHdpdGhIYW5kbGVycyl7XHJcbiAgICAgIHRoaXMuc2V0dXBIYW5kbGVycygpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRhTGlzdCA9IHRoaXMuZGF0YVNvdXJjZU9iamVjdHMubWFwKGRhdGFTb3VyY2UgPT4gZGF0YVNvdXJjZVsnZGF0YSddKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUJvdW5kcyhcclxuICAgIGJvdW5kcyA9IHRoaXMubWF4Qm91bmRzLFxyXG4gICAgcGFkZGluZyA9IHNjcmVlbi5pc1hTKCkgPyA1IDogc2NyZWVuLmlzU20oKSA/IDE1IDogMjAsXHJcbiAgICBkdXJhdGlvbiA9IDEwMFxyXG4gICkge1xyXG4gICAgdGhpcy5tYXAgPSB0aGlzLm1hcC5maXRCb3VuZHMoYm91bmRzLCB7XHJcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgICAgcGFkZGluZzogcGFkZGluZyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ29vcmRzQW5kWm9vbShkYXRhUGFpcil7XHJcbiAgICB0aGlzLm1hcC5mbHlUbyh7XHJcbiAgICAgIGNlbnRlcjogZGF0YVBhaXIuY2VudGVyLFxyXG4gICAgICB6b29tOiBkYXRhUGFpci56b29tLFxyXG4gICAgICBzcGVlZDogMC43LFxyXG4gICAgICBjdXJ2ZTogMSxcclxuICAgICAgZWFzaW5nKHQpe1xyXG4gICAgICAgIHJldHVybiB0XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB2aWV3Qm91bmRPYmoob2JqaW5kZXgpe1xyXG4gICAgdGhpcy51cGRhdGVDb29yZHNBbmRab29tKHRoaXMuYm91bmRzTGlzdFtvYmppbmRleF0pO1xyXG4gIH1cclxuXHJcbiAgdmlld0V4dHJhQm91bmRPYmoob2JqaW5kZXgsIGtleU5hbWUsIGR1cmF0aW9uKXtcclxuICAgIGxldCBleHRyYUJvdW5kcyA9IHRoaXMuZXh0cmFCb3VuZHNbb2JqaW5kZXhdO1xyXG4gICAgdGhpcy51cGRhdGVDb29yZHNBbmRab29tKGV4dHJhQm91bmRzW2tleU5hbWVdKTtcclxuICB9XHJcblxyXG4gIHZpZXdJbml0Qm91bmRzKGR1cmF0aW9uKXtcclxuICAgIHRoaXMudXBkYXRlQ29vcmRzQW5kWm9vbSh0aGlzLm1heEJvdW5kcyk7XHJcbiAgfVxyXG4gIHNob3dTb3VyY2VYSXRlbVkoc291cmNlSW5kZXgsIGl0ZW1JbmRleCkge1xyXG4gICAgdGhpcy51cGRhdGVDb29yZHNBbmRab29tKHRoaXMuZGF0YUxpc3Rbc291cmNlSW5kZXhdW2l0ZW1JbmRleF0pXHJcbiAgfVxyXG5cclxuICBpbml0TWFwU291cmNlc0FuZExheWVycygpIHtcclxuICAgIGlmICh0aGlzLmluaXRpYWxpc2VkKSByZXR1cm47XHJcbiAgICB0aGlzLmluaXRpYWxpc2VkID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgdGhpcy5kYXRhU291cmNlT2JqZWN0cy5tYXAoZGF0YVNvdXJjZSA9PiB7XHJcbiAgICAgIHRoaXMubWFwLmFkZFNvdXJjZShkYXRhU291cmNlWydzb3VyY2VOYW1lJ10sIHtcclxuICAgICAgICB0eXBlOiBkYXRhU291cmNlWydzb3VyY2VUeXBlJ10sXHJcbiAgICAgICAgZGF0YTogZGF0YVNvdXJjZVsnc291cmNlRGF0YSddXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZihkYXRhU291cmNlWydsYXllclR5cGUnXSA9PT0gJ2ZpbGwnKXtcclxuICAgICAgICB0aGlzLm1hcC5hZGRMYXllcih7XHJcbiAgICAgICAgICBpZDogZGF0YVNvdXJjZVsnc291cmNlTmFtZSddLFxyXG4gICAgICAgICAgdHlwZTogZGF0YVNvdXJjZVsnbGF5ZXJUeXBlJ10sXHJcbiAgICAgICAgICBzb3VyY2U6IGRhdGFTb3VyY2VbJ3NvdXJjZU5hbWUnXSxcclxuICAgICAgICAgIHBhaW50OiB7XHJcbiAgICAgICAgICAgICdmaWxsLWNvbG9yJzogZGF0YVNvdXJjZVsnY29sb3InXSxcclxuICAgICAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IGRhdGFTb3VyY2VbJ29wYWNpdHknXVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmKGRhdGFTb3VyY2VbJ2xheWVyVHlwZSddID09PSAnY2lyY2xlJyl7XHJcbiAgICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIoe1xyXG4gICAgICAgICAgaWQ6IGRhdGFTb3VyY2VbJ3NvdXJjZU5hbWUnXSxcclxuICAgICAgICAgIHR5cGU6IGRhdGFTb3VyY2VbJ2xheWVyVHlwZSddLFxyXG4gICAgICAgICAgc291cmNlOiBkYXRhU291cmNlWydzb3VyY2VOYW1lJ10sXHJcbiAgICAgICAgICBwYWludDoge1xyXG4gICAgICAgICAgICAnY2lyY2xlLWNvbG9yJzogWydtYXRjaCcsIFtcImdldFwiLCBcInN0YXR1dFwiXSwgJ1JlY2hlcmNoZXMgZWZmZWN0dcOpZXMgb3UgZW4gY291cnMnLCAnI2ZmNTYxYycsICdQaGFzZSBwcsOpbGltaW5haXJlJywgJyNmZmM3MzQnLCAnI2I3YjdiNyddLFxyXG4gICAgICAgICAgICAnY2lyY2xlLXJhZGl1cyc6IDVcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG5cclxuICBjaGFuZ2VMYXllclBhaW50KGlkLCBwcm9wZXJ0eSwgdmFsdWUpe1xyXG4gICAgdGhpcy5tYXAuc2V0UGFpbnRQcm9wZXJ0eShpZCwgcHJvcGVydHksIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIHNldHVwSGFuZGxlcnMoKXtcclxuICAgIFxyXG4gICAgdGhpcy5tYXAub24oXCJtb3VzZW92ZXJcIiwgXCJwZW5zaW9ubmF0c1NvdXJjZVwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLm1hcC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcclxuICAgICAgdGhpcy5kcmF3UG9wdXAoZSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMubWFwLm9uKFwibW91c2VvdXRcIiwgXCJwZW5zaW9ubmF0c1NvdXJjZVwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLm1hcC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMubWFwLm9uKFwiY2xpY2tcIiwgXCJwZW5zaW9ubmF0c1NvdXJjZVwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMubWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgICB0aGlzLmRyYXdQb3B1cChlKTtcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG4gIH1cclxuXHJcbiAgZHJhd1BvcHVwKGUpe1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSBlLmZlYXR1cmVzWzBdLmdlb21ldHJ5LmNvb3JkaW5hdGVzLnNsaWNlKCk7XHJcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gZS5mZWF0dXJlc1swXS5wcm9wZXJ0aWVzO1xyXG4gICAgbGV0IFtvcGVuZGF5c3RyLCBvcGVubW9udGhzdHIsIG9wZW55ZWFyc3RyXSA9IHByb3BlcnRpZXNbJ291dmVydHVyZSddLnNwbGl0KCcvJyk7XHJcbiAgICBsZXQgW2Zlcm1kYXlzdHIsIGZlcm1tb250aHN0ciwgZmVybXllYXJzdHJdID0gcHJvcGVydGllc1snZmVybWV0dXJlJ10uc3BsaXQoJy8nKTtcclxuICAgIGxldCBbZGF0ZV9vdXZlcnR1cmUsZGF0ZV9mZXJtZXR1cmVdID0gW1xyXG4gICAgICBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImZyLUNBXCIsIHtkYXRlU3R5bGU6XCJsb25nXCJ9KS5mb3JtYXQobmV3IERhdGUoRGF0ZS5VVEMob3BlbnllYXJzdHIsIG9wZW5tb250aHN0ciwgb3BlbmRheXN0cikpKSxcclxuICAgICAgbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJmci1DQVwiLCB7ZGF0ZVN0eWxlOlwibG9uZ1wifSkuZm9ybWF0KG5ldyBEYXRlKERhdGUuVVRDKGZlcm15ZWFyc3RyLCBmZXJtbW9udGhzdHIsIGZlcm1kYXlzdHIpKSlcclxuICAgIF07XHJcbiAgICBsZXQgaHRtbF9wb3B1cF9jb250ZW50ID0gYFxyXG4gICAgICA8aDM+JHtwcm9wZXJ0aWVzWyduYW1lJ119PC9oMz5cclxuICAgICAgPGg0PiR7cHJvcGVydGllc1sndmlsbGUnXX0sICR7cHJvcGVydGllc1sncHJvdmluY2UnXX08L2g0PlxyXG4gICAgICA8cD4ke2RhdGVfb3V2ZXJ0dXJlfSAtICR7ZGF0ZV9mZXJtZXR1cmV9PC9wPlxyXG4gICAgICA8cD4ke3Byb3BlcnRpZXNbJ3N0YXR1dCddfTwvcD5cclxuICAgIGA7XHJcbiAgICB3aGlsZSAoTWF0aC5hYnMoZS5sbmdMYXQubG5nIC0gY29vcmRpbmF0ZXNbMF0pID4gMTgwKSB7XHJcbiAgICAgIGNvb3JkaW5hdGVzWzBdICs9IGUubG5nTGF0LmxuZyA+IGNvb3JkaW5hdGVzWzBdID8gMzYwIDogLTM2MDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKClcclxuICAgICAgLnNldExuZ0xhdChjb29yZGluYXRlcylcclxuICAgICAgLnNldEhUTUwoaHRtbF9wb3B1cF9jb250ZW50KVxyXG4gICAgICAuYWRkVG8odGhpcy5tYXApO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIGlmICh0aGlzLnBvcHVwKSB7XHJcbiAgICAgIHRoaXMucG9wdXAucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGVEYXRhKGRhdGFTb3VyY2VOYW1lLCBkYXRhKSB7XHJcbiAgICBpZiAoIXRoaXMuaW5pdGlhbGlzZWQpIHRoaXMuaW5pdE1hcFNvdXJjZXNBbmRMYXllcnMoKTtcclxuICAgIHRoaXMubWFwLmdldFNvdXJjZShkYXRhU291cmNlTmFtZSkuc2V0RGF0YShkYXRhKTtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcclxuXHJcbmNvbnN0IHBvc2l0aXZlT3JkZXJEaWN0ID0ge1xyXG4gICAgXCJsYW5kX3NpbmtcIjowLFxyXG4gICAgXCJmb3NzaWxfZW1pc3Npb25zXCI6MSxcclxuICAgIFwibGFuZF91c2VfY2hhbmdlXCI6Mn07XHJcblxyXG5jb25zdCBuZWdhdGl2ZU9yZGVyRGljdCA9IHtcIm9jZWFuX3NpbmtcIjowLFxyXG4gICAgXCJhdG1vc19zaW5rXCI6MSxcclxuICAgIFwibGFuZF9zaW5rXCI6Mn07XHJcblxyXG5jb25zdCBjb2xvckRpY3QgPSB7XHJcblxyXG4gICAgZm9zc2lsX2VtaXNzaW9uczogXCIjYjdjM2MzXCIsXHJcbiAgICBsYW5kX3VzZV9jaGFuZ2U6IFwiI0VGRTY2RlwiLFxyXG4gICAgbGFuZF9zaW5rOiBcIiNhNWRhYThcIixcclxuICAgIG9jZWFuX3Npbms6IFwiIzc1YTNiMVwiLFxyXG4gICAgYXRtb3Nfc2luazogXCIjODljZmYwXCIsXHJcbiAgICBjZW1lbnRfc2luazogXCIjYTJhMTk4XCJcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIHN0YWNrZWRBcmVhQ2hhcnR7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3Znb2JqLCByYXdkYXRhKXtcclxuXHJcbiAgICAgICAgdGhpcy5zdmdPYmogPSBzdmdvYmo7XHJcbiAgICAgICAgdGhpcy5zdmdXaWR0aCA9IHRoaXMuc3ZnT2JqLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICB0aGlzLnN2Z0hlaWdodCA9IHRoaXMuc3ZnT2JqLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jaGFydFdpZHRoID0gdGhpcy5zdmdXaWR0aCAqIDAuOTtcclxuICAgICAgICB0aGlzLmNoYXJ0SGVpZ2h0ID0gdGhpcy5zdmdIZWlnaHQgKiAwLjk7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5jbGVhbkRhdGEocmF3ZGF0YSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NzdkRhdGE6JywgdGhpcy5kYXRhKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5tYWluR3JvdXAgPSB0aGlzLnN2Z09iai5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCB0aGlzLmNoYXJ0V2lkdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCB0aGlzLmNoYXJ0SGVpZ2h0KVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgkeyh0aGlzLnN2Z1dpZHRoLXRoaXMuY2hhcnRXaWR0aCkvMn0sJHsodGhpcy5zdmdIZWlnaHQtdGhpcy5jaGFydEhlaWdodCkvMn0pYCk7XHJcbiAgICAgICAgdGhpcy5pbml0Q2hhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhbkRhdGEoZGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIGRhdGEubWFwKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHllYXI6IHllYXJEYXRhW1wiQW5uw6llXCJdLFxyXG4gICAgICAgICAgICAgICAgZm9zc2lsX2VtaXNzaW9uczogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCLDiW1pc3Npb25zIGlzc3VlcyBkZXMgw6luZXJnaWVzIGZvc3NpbGVzXCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgbGFuZF91c2VfY2hhbmdlOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIkNoYW5nZW1lbnQgZCdhZmZlY3RhdGlvbiBkZXMgdGVycmVzXCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgbGFuZF9zaW5rOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIlB1aXRzIHRlcnJlc3RyZVwiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIG9jZWFuX3Npbms6IHBhcnNlRmxvYXQoU3RyaW5nKHllYXJEYXRhW1wiT2PDqWFuXCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgYXRtb3Nfc2luazogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCJBdG1vc3Bow6hyZVwiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIGNlbWVudF9zaW5rOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIlB1aXRzIGRlIGNpbWVudFwiXSkucmVwbGFjZSgnLCcsXCIuXCIpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENoYXJ0KCl7XHJcblxyXG4gICAgICAgIGxldCBsZWdlbmREYXRhID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCLDiW1pc3Npb25zIGlzc3VlcyBkZXMgw6luZXJnaWVzIGZvc3NpbGVzXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJmb3NzaWxfZW1pc3Npb25zXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2hhbmdlbWVudCBkJ2FmZmVjdGF0aW9uIGRlcyB0ZXJyZXNcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcImxhbmRfdXNlX2NoYW5nZVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlB1aXRzIHRlcnJlc3RyZVwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwibGFuZF9zaW5rXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiT2PDqWFuXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJvY2Vhbl9zaW5rXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQXRtb3NwaMOocmVcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcImF0bW9zX3NpbmtcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgY29uc3QgeEF4aXMgPSB0aGlzLmRyYXdYQXhpcyh0aGlzLm1haW5Hcm91cCwgdGhpcy5jaGFydFdpZHRoLCB0aGlzLmRhdGEpO1xyXG4gICAgICAgIGNvbnN0IHlBeGlzID0gdGhpcy5kcmF3WUF4aXModGhpcy5tYWluR3JvdXAsIHRoaXMuY2hhcnRIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuZHJhd0FyZWFzKHRoaXMubWFpbkdyb3VwLCB4QXhpcywgeUF4aXMpO1xyXG4gICAgICAgIC8vdGhpcy5kcmF3UmVjdGFuZ2xlcyh0aGlzLm1haW5Hcm91cCwgeEF4aXMsIHlBeGlzKTtcclxuICAgICAgICB0aGlzLmRyYXdUaXRsZSh0aGlzLm1haW5Hcm91cCk7XHJcbiAgICAgICAgdGhpcy5kcmF3Qm90dG9tQm94KHRoaXMubWFpbkdyb3VwLCB0aGlzLmNoYXJ0V2lkdGgpXHJcbiAgICAgICAgdGhpcy5kcmF3RGV0YWlscyh0aGlzLm1haW5Hcm91cCwgbGVnZW5kRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge2QzLlNlbGVjdGlvbn0gY29udGFpbmVyIGQzIHNlbGVjdGlvblxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIHdpZHRoIG9mIHRoZSBjaGFydFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgZGF0YSBPYmogY29udGFpbmluZyBzZXJpZXMgYW5kIGRvbWFpbnNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBheGlzVGl0bGUgeCBheGlzIHRpdGxlXHJcbiAgICAgKi9cclxuICAgICBkcmF3WEF4aXMoY29udGFpbmVyLCB3aWR0aCwgZGF0YSwgYXhpc1RpdGxlKXtcclxuXHJcbiAgICAgICAgY29uc3QgeEF4aXNHcm91cCA9IGNvbnRhaW5lci5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCAneEF4aXNHcm91cCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7MH0sJHt0aGlzLmNoYXJ0SGVpZ2h0KjAuOTB9KWApO1xyXG5cclxuICAgICAgICBjb25zdCBzY2FsZSA9IGQzLnNjYWxlQmFuZCgpXHJcbiAgICAgICAgICAgIC5kb21haW4oZGF0YS5tYXAoZWxlbSA9PiBlbGVtLnllYXIpKVxyXG4gICAgICAgICAgICAucmFuZ2UoW3RoaXMuY2hhcnRXaWR0aCowLjA1LCB3aWR0aF0pO1xyXG5cclxuICAgICAgICBjb25zdCBheGlzID0gZDMuYXhpc0JvdHRvbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zY2FsZShzY2FsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpY2tTaXplT3V0ZXIoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpY2tWYWx1ZXMoc2NhbGUuZG9tYWluKCkuZmlsdGVyKChkLGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoaSsxMCklMjAgPT09IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGlja0Zvcm1hdCgoZCxpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zcGxpdCgnLScpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB4QXhpc0dyb3VwLmNhbGwoYXhpcylcclxuICAgICAgICAgICAgLmNhbGwoZyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aWNrR3JvdXBzID0gZy5zZWxlY3RBbGwoXCIudGlja1wiKTtcclxuICAgICAgICAgICAgICAgIHRpY2tHcm91cHMuc2VsZWN0KCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNDAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnZ3JhcGhpaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTRwdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgKGQsaSkgPT4gaSA9PT0gdGlja0dyb3Vwcy5ub2RlcygpLmxlbmd0aC0xID8gXCJlbmRcIiA6IFwibWlkZGxlXCIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICByZXR1cm4gc2NhbGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge2QzLlNlbGVjdGlvbn0gY29udGFpbmVyIGQzIHNlbGVjdGlvblxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIHdpZHRoIG9mIHRoZSBjaGFydFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgZGF0YSBPYmogY29udGFpbmluZyBzZXJpZXMgYW5kIGRvbWFpbnNcclxuICAgICAqL1xyXG4gICAgIGRyYXdZQXhpcyhjb250YWluZXIsIGhlaWdodCl7XHJcblxyXG4gICAgICAgIGNvbnN0IHlBeGlzR3JvdXAgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3lBeGlzR3JvdXAnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2hhcnRXaWR0aCowLjA1fSwkezB9KWApO1xyXG5cclxuICAgICAgICBjb25zdCBzY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAgICAgLmRvbWFpbihbMTIsLTEyXSlcclxuICAgICAgICAgICAgLnJhbmdlKFswLGhlaWdodCowLjkwXSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGF4aXMgPSBkMy5heGlzTGVmdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zY2FsZShzY2FsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpY2tTaXplT3V0ZXIoMCk7XHJcbiAgICAgICAgeUF4aXNHcm91cC5jYWxsKGF4aXMpXHJcbiAgICAgICAgICAgIC5jYWxsKGcgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGlja0dyb3VwcyA9IGcuc2VsZWN0QWxsKFwiLnRpY2tcIik7XHJcbiAgICAgICAgICAgICAgICB0aWNrR3JvdXBzLnNlbGVjdCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDQwMClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ2dyYXBoaWsnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEycHQnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAncm90YXRlKC05MCknKVxyXG4gICAgICAgICAgICAuYXR0cihcInlcIiwgMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIC1zY2FsZSgwKSlcclxuICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi0zZW1cIilcclxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMnB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LWZhbWlseScsICdncmFwaGlrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsICc2MDAnKVxyXG4gICAgICAgICAgICAudGV4dChcIkZsdXggZGUgQ08yIChHdEMgLyBhbm7DqWUpXCIpO1xyXG4gICAgICAgIHJldHVybiBzY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3QXJlYXMoY29udGFpbmVyLCB4U2NhbGUsIHlTY2FsZSl7XHJcblxyXG4gICAgICAgIGxldCBwb3NpdGl2ZV9wYXRoc19hcnJheSA9IHt9O1xyXG4gICAgICAgIGxldCBuZWdhdGl2ZV9wYXRoc19hcnJheSA9IHt9O1xyXG5cclxuICAgICAgICBjb25zdCBwb3NEYXRhID0gdGhpcy5kYXRhLm1hcCh5ZWFyRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwb3NFbGVtcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgY3VyVG90YWwgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY3VyWWVhciA9IHllYXJEYXRhLnllYXI7XHJcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHllYXJEYXRhKS5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgIGlmKGN1ckVsZW0+MCAmJiBlbnRyeVswXSAhPT0gXCJ5ZWFyXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc0VsZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVudHJ5WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGN1clRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyVG90YWwgKz0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKGVudHJ5WzBdID09PSBcImNlbWVudF9zaW5rXCIpeyAvLyBBZGQgY2VtZW50IHNpbmsgdG8gcmVtb3ZlIGl0IGFmdGVyd2FyZHMgKGluIGZvc3NpbCBmdWVsKSAgXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVudHJ5WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnlbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcG9zRWxlbXMuc29ydCgoYSxiKSA9PiBwb3NpdGl2ZU9yZGVyRGljdFthLnR5cGVdIC0gcG9zaXRpdmVPcmRlckRpY3RbYi50eXBlXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5lZ0RhdGEgPSB0aGlzLmRhdGEubWFwKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgbGV0IG5lZ0VsZW1zID0gW107XHJcbiAgICAgICAgICAgIGxldCBjdXJUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjdXJZZWFyID0geWVhckRhdGEueWVhcjtcclxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoeWVhckRhdGEpLnNvcnQoKGEsYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lZ2F0aXZlT3JkZXJEaWN0W2FbMF1dIC0gbmVnYXRpdmVPcmRlckRpY3RbYlswXV07XHJcbiAgICAgICAgICAgIH0pLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyRWxlbSA9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgaWYoY3VyRWxlbTwwICYmIGVudHJ5WzBdICE9PSBcInllYXJcIiAmJiBlbnRyeVswXSAhPT0gXCJjZW1lbnRfc2lua1wiICl7XHJcbiAgICAgICAgICAgICAgICAgICAgbmVnRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVudHJ5WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnlbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogY3VyVG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJUb3RhbCArPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmV0dXJuIG5lZ0VsZW1zOy8vLnNvcnQoKGEsYikgPT4gbmVnYXRpdmVPcmRlckRpY3RbYS50eXBlXSAtIG5lZ2F0aXZlT3JkZXJEaWN0W2IudHlwZV0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnZ290IG5lZ0RhdGE6ICcsIG5lZ0RhdGEpO1xyXG5cclxuICAgICAgICBsZXQgYXJlYUdlbiA9IGQzLmFyZWEoKVxyXG4gICAgICAgICAgICAueChkID0+IHhTY2FsZShkLmN1clllYXIpKVxyXG4gICAgICAgICAgICAueTAoZCA9PiB5U2NhbGUoZC5jdXJUb3QpKVxyXG4gICAgICAgICAgICAueTEoZCA9PiB5U2NhbGUoZC5jdXJUb3QrZC52YWx1ZSkpO1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHBvc2l0aXZlT3JkZXJEaWN0KS5mb3JFYWNoKG9yZGVyT2JqID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJLZXkgPSBvcmRlck9ialswXTtcclxuICAgICAgICAgICAgbGV0IGN1ck9yZGVyVmFsdWUgPSBvcmRlck9ialsxXTtcclxuICAgICAgICAgICAgbGV0IGN1clBhdGhBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBwb3NEYXRhLmZvckVhY2goeWVhckRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSB5ZWFyRGF0YVswXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJZZWFyID0gY3VyRWxlbVsnY3VyWWVhciddO1xyXG4gICAgICAgICAgICAgICAgbGV0IGtleU9iaiA9IHllYXJEYXRhLmZpbHRlcihlbGVtID0+IGN1cktleSA9PT0gZWxlbS50eXBlKTtcclxuICAgICAgICAgICAgICAgIGxldCBjZW1lbnRPYmogPSB5ZWFyRGF0YS5maWx0ZXIoZWxlbSA9PiAnY2VtZW50X3NpbmsnID09PSBlbGVtLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihrZXlPYmoubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJLZXkgPT09IFwiZm9zc2lsX2VtaXNzaW9uc1wiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY3VyS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDoga2V5T2JqWzBdLmN1clRvdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlPYmpbMF0udmFsdWUgLSBNYXRoLmFicyhjZW1lbnRPYmpbMF0udmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY3VyS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDoga2V5T2JqWzBdLmN1clRvdC0gTWF0aC5hYnMoY2VtZW50T2JqWzBdLnZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlPYmpbMF0udmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCB6ZXJvXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjdXJLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHBvc2l0aXZlX3BhdGhzX2FycmF5W2N1cktleV0gPSBjdXJQYXRoQXJyYXk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpdmVQYXRocyA9IHRoaXMubWFpbkdyb3VwLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdwb3NpdGl2ZVBhdGhzJyk7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHBvc2l0aXZlX3BhdGhzX2FycmF5KS5mb3JFYWNoKGNhdGVnb3J5T2JqID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cktleSA9IGNhdGVnb3J5T2JqWzBdO1xyXG4gICAgICAgICAgICBsZXQgY3VyQXJyYXkgPSBjYXRlZ29yeU9ialsxXTtcclxuXHJcbiAgICAgICAgICAgIHBvc2l0aXZlUGF0aHMuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsIGN1cktleSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgICAgICAgICAgLmRhdHVtKGN1ckFycmF5KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjb2xvckRpY3RbY3VyS2V5XSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZCcsIGQgPT4gYXJlYUdlbihkKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG5lZ2F0aXZlT3JkZXJEaWN0KS5zb3J0KChhLGIpID0+IGJbMV0gLSBhWzFdKS5mb3JFYWNoKG9yZGVyT2JqID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJLZXkgPSBvcmRlck9ialswXTtcclxuICAgICAgICAgICAgbGV0IGN1ck9yZGVyVmFsdWUgPSBvcmRlck9ialsxXTtcclxuICAgICAgICAgICAgbGV0IGN1clBhdGhBcnJheSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgbmVnRGF0YS5mb3JFYWNoKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0geWVhckRhdGFbMF07XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyWWVhciA9IGN1ckVsZW1bJ2N1clllYXInXTtcclxuICAgICAgICAgICAgICAgIGxldCBrZXlPYmogPSB5ZWFyRGF0YS5maWx0ZXIoZWxlbSA9PiBjdXJLZXkgPT09IGVsZW0udHlwZSk7XHJcbiAgICAgICAgICAgICAgICBpZihrZXlPYmoubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBjdXJQYXRoQXJyYXkucHVzaChrZXlPYmpbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCB6ZXJvXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjdXJLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5lZ2F0aXZlX3BhdGhzX2FycmF5W2N1cktleV0gPSBjdXJQYXRoQXJyYXk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgbmVnYXRpdmVQYXRocyA9IHRoaXMubWFpbkdyb3VwLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICduZWdhdGl2ZXBhdGhzJyk7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG5lZ2F0aXZlX3BhdGhzX2FycmF5KS5mb3JFYWNoKGNhdGVnb3J5T2JqID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cktleSA9IGNhdGVnb3J5T2JqWzBdO1xyXG4gICAgICAgICAgICBsZXQgY3VyQXJyYXkgPSBjYXRlZ29yeU9ialsxXTtcclxuXHJcbiAgICAgICAgICAgIG5lZ2F0aXZlUGF0aHMuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsIGN1cktleSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgICAgICAgICAgLmRhdHVtKGN1ckFycmF5KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjb2xvckRpY3RbY3VyS2V5XSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZCcsIGQgPT4gYXJlYUdlbihkKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIERyYXcgbGluZVxyXG4gICAgICAgIGNvbnN0IGxpbmVHZW4gPSBkMy5saW5lKCkueChkID0+IHhTY2FsZShkLnllYXIpKS55KGQgPT4geVNjYWxlKGQudmFsdWUpKTtcclxuXHJcbiAgICAgICAgbGV0IG5lZ1llYXJUb3RhbCA9IFtdO1xyXG4gICAgICAgIGxldCBwb3NZZWFyVG90YWwgPSBbXTtcclxuICAgICAgICBwb3NEYXRhLmZvckVhY2goeWVhckRhdGEgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5pdFZhbHVlID0gMDtcclxuICAgICAgICAgICAgbGV0IGN1clZhbHVlID0geWVhckRhdGEucmVkdWNlKChwcmV2VmFsLGN1clZhbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlZHVjaW5nLi4uJywgcHJldlZhbCAsIGN1clZhbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldlZhbCArIGN1clZhbC52YWx1ZTtcclxuICAgICAgICAgICAgfSwgaW5pdFZhbHVlKTtcclxuICAgICAgICAgICAgbmVnWWVhclRvdGFsLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgeWVhcjogeWVhckRhdGFbMF0uY3VyWWVhcixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAtY3VyVmFsdWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHBvc1llYXJUb3RhbC5wdXNoKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IHllYXJEYXRhWzBdLmN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1clZhbHVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygneWVhciB0b3RhbDonLCApO1xyXG5cclxuICAgICAgICB2YXIgcG9zbGluZSA9IGQzLnNlbGVjdCgnc3ZnJylcclxuICAgICAgICAgICAgLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgICAgIC5kYXR1bShwb3NZZWFyVG90YWwpXHJcbiAgICAgICAgICAgIC5hdHRyKCdkJywgbGluZUdlbilcclxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jaGFydFdpZHRoKjAuMDUgKyB4U2NhbGUuYmFuZHdpZHRoKCl9LCR7TWF0aC5hYnMoeVNjYWxlKDIqMC43NCkteVNjYWxlKDApKX0pYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIG5lZ2xpbmUgPSBkMy5zZWxlY3QoJ3N2ZycpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuZGF0dW0obmVnWWVhclRvdGFsKVxyXG4gICAgICAgICAgICAuYXR0cignZCcsIGxpbmVHZW4pXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJzdHJva2UtZGFzaGFycmF5XCIsIChcIjMsIDNcIikpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jaGFydFdpZHRoKjAuMDUgKyB4U2NhbGUuYmFuZHdpZHRoKCl9LCR7TWF0aC5hYnMoeVNjYWxlKDIqMC43NCkteVNjYWxlKDApKX0pYCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdUaXRsZShjb250YWluZXIpe1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsICh0aGlzLnN2Z1dpZHRoIC0gdGhpcy5jaGFydFdpZHRoKSAvIDIgKyB0aGlzLmNoYXJ0V2lkdGgqMC4wNSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCAodGhpcy5zdmdIZWlnaHQgLSB0aGlzLmNoYXJ0SGVpZ2h0KS8yIC0gNTApXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTdwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnZ3JhcGhpaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCAnNjAwJylcclxuICAgICAgICAgICAgLnRleHQoXCJMZSB0aXRyZSBkdSBncmFwaGlxdWVcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywodGhpcy5zdmdXaWR0aCAtIHRoaXMuY2hhcnRXaWR0aCkgLyAyICsgdGhpcy5jaGFydFdpZHRoKjAuMDUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgKHRoaXMuc3ZnSGVpZ2h0IC0gdGhpcy5jaGFydEhlaWdodCkvMiAtIDI1KVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEzcHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ2dyYXBoaWsnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgJzQwMCcpXHJcbiAgICAgICAgICAgIC50ZXh0KFwiTGUgc291cy10aXRyZSBkdSBncmFwaGlxdWVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0JvdHRvbUJveChjb250YWluZXIsIHdpZHRoKXtcclxuXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdzdG9rZS13aWR0aCcsIDEpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDAuMylcclxuICAgICAgICAgICAgLmF0dHIoXCJ4MVwiLCB0aGlzLmNoYXJ0V2lkdGgqMC4wNSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCB0aGlzLmNoYXJ0SGVpZ2h0LTMwKVxyXG4gICAgICAgICAgICAuYXR0cihcIngyXCIsIHRoaXMuY2hhcnRXaWR0aClcclxuICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCB0aGlzLmNoYXJ0SGVpZ2h0LTMwKTtcclxuXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy5jaGFydFdpZHRoKjAuMDUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jaGFydEhlaWdodC0xNylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDYwMClcclxuICAgICAgICAgICAgLnRleHQoJ0dyYXBoaXF1ZSA6JylcclxuICAgICAgICAgICAgLmFwcGVuZCgndHNwYW4nKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY2hhcnRXaWR0aCowLjA1KyA2NSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLmNoYXJ0SGVpZ2h0LTE3KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNDAwKVxyXG4gICAgICAgICAgICAudGV4dCgnTGUgRGV2b2lyIC0gJyk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy5jaGFydFdpZHRoKjAuMDUgKyAxMjIpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jaGFydEhlaWdodC0xNylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDYwMClcclxuICAgICAgICAgICAgLnRleHQoJ1NvdXJjZSA6JylcclxuICAgICAgICAgICAgLmFwcGVuZCgndHNwYW4nKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY2hhcnRXaWR0aCowLjA1ICsgMTY5KVxyXG4gICAgICAgICAgICAuYXR0cigneScsIHRoaXMuY2hhcnRIZWlnaHQtMTcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA0MDApXHJcbiAgICAgICAgICAgIC50ZXh0KCcgLi4uICcpO1xyXG5cclxuICAgICAgICAvLyBjb250YWluZXIuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3gnLCB0aGlzLnN2Z1dpZHRoKjAuMSlcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3knLCB0aGlzLnN2Z0hlaWdodCowLjk1MSlcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDYwMClcclxuICAgICAgICAvLyAgICAgLnRleHQoJ05vdGUgOicpXHJcbiAgICAgICAgLy8gICAgIC5hcHBlbmQoJ3RzcGFuJylcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3gnLCB0aGlzLnN2Z1dpZHRoKjAuMSszNSlcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3knLCB0aGlzLnN2Z0hlaWdodCowLjk1MSlcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDQwMClcclxuICAgICAgICAvLyAgICAgLnRleHQoJ0Rvbm7DqWVzIGNvbGxlY3TDqWVzIGRlcHVpcyBodHRwczovL2Rvbm5lZXMubW9udHJlYWwuY2EvdmlsbGUtZGUtbW9udHJlYWwvY29tcHRhZ2UtdmVoaWN1bGVzLXBpZXRvbnMnKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3RGV0YWlscyhjb250YWluZXIsIGxlZ2VuZERhdGEpe1xyXG5cclxuICAgICAgICBjb25zdCBsZWdlbmRDb250YWluZXIgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZ2VuZENvbnRhaW5lcicpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7KHRoaXMuc3ZnV2lkdGggLSB0aGlzLmNoYXJ0V2lkdGgpIC8gMiArICh0aGlzLmNoYXJ0V2lkdGgqMC4wNSArIDEwKX0sJHt0aGlzLnN2Z0hlaWdodCowLjA3fSlgKTtcclxuXHJcbiAgICAgICAgY29uc3Qgcm93cyA9IGxlZ2VuZENvbnRhaW5lci5zZWxlY3RBbGwoJ2cnKVxyXG4gICAgICAgICAgICAuZGF0YShsZWdlbmREYXRhKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZ2VuZFJvdycpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCxpKSA9PiBgdHJhbnNsYXRlKDAsJHtpKjIwfSlgKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgcm93cy5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjeCcsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCdjeScsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCdyJywgOClcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IGNvbG9yRGljdFtkLmNvbG9yXSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHJvd3MuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCAxOClcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCA0KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNTAwKVxyXG4gICAgICAgICAgICAudGV4dCggZCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5sYWJlbDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdSZWN0YW5nbGVzKGNvbnRhaW5lciwgeFNjYWxlLCB5U2NhbGUpeyAvLyBub3QgdXNlZFxyXG5cclxuICAgICAgICBjb25zdCBwb3NpdGl2ZUFyZWFHcm91cCA9IGNvbnRhaW5lci5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdwb3NBcmVhZ3JvdXAnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHswfSlgKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmVnYXRpdmVBcmVhR3JvdXAgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignaWQnLCAnbmVnQXJlYWdyb3VwJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCR7MH0pYCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBvc1llYXJHcm91cHMgPSBwb3NpdGl2ZUFyZWFHcm91cC5zZWxlY3RBbGwoJ2cnKVxyXG4gICAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCBkID0+IGB5ZWFyXyR7ZC55ZWFyfWApO1xyXG4gICAgICAgIGNvbnN0IHBvc1JlY3RzID0gcG9zWWVhckdyb3Vwcy5zZWxlY3RBbGwoJ3JlY3QnKVxyXG4gICAgICAgICAgICAuZGF0YShkID0+IHsgXHJcbiAgICAgICAgICAgICAgICBsZXQgcG9zRWxlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyWWVhciA9IGQueWVhcjtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGQpLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJFbGVtPjAgJiYgZW50cnlbMF0gIT09IFwieWVhclwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRyeVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogY3VyVG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3RhbCArPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc0VsZW1zLnNvcnQoKGEsYikgPT4gcG9zaXRpdmVPcmRlckRpY3RbYS50eXBlXSAtIHBvc2l0aXZlT3JkZXJEaWN0W2IudHlwZV0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBgJHtkLnR5cGV9XyR7ZC52YWx1ZX1gKVxyXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCB4U2NhbGUuYmFuZHdpZHRoKCkpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCAoZCxpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoeVNjYWxlKDApIC0geVNjYWxlKGQudmFsdWUpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBkID0+IHhTY2FsZShkLmN1clllYXIpKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIGQgPT4gKHlTY2FsZSgwKSAtIChNYXRoLmFicyh5U2NhbGUoMCkgLSB5U2NhbGUoZC52YWx1ZSkpKSAtIChNYXRoLmFicyh5U2NhbGUoMCkgLSB5U2NhbGUoZC5jdXJUb3QpKSkpKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsIGQgPT4gY29sb3JEaWN0W2QudHlwZV0pO1xyXG5cclxuICAgICAgICBjb25zdCBuZWdhdGl2ZVllYXJHcm91cHMgPSBuZWdhdGl2ZUFyZWFHcm91cC5zZWxlY3RBbGwoJ2cnKVxyXG4gICAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCBkID0+IGB5ZWFyXyR7ZC55ZWFyfWApO1xyXG5cclxuICAgICAgICBjb25zdCBuZWdSZWN0cyA9IG5lZ2F0aXZlWWVhckdyb3Vwcy5zZWxlY3RBbGwoJ3JlY3QnKVxyXG4gICAgICAgICAgICAuZGF0YShkID0+IHsgXHJcbiAgICAgICAgICAgICAgICBsZXQgbmVnRWxlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyWWVhciA9IGQueWVhcjtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGQpLmZpbHRlcihlbGVtID0+IGVsZW1bMV08MCkuc29ydCgoYSxiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYVZhbCA9IG5lZ2F0aXZlT3JkZXJEaWN0W2FbMF1dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJWYWwgPSBuZWdhdGl2ZU9yZGVyRGljdFtiWzBdXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVZhbCAtIGJWYWw7XHJcbiAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZW50cnlbMF0gIT09IFwieWVhclwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmVnRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRyeVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogY3VyVG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3RhbCArPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lZ0VsZW1zO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBgJHtkLnR5cGV9XyR7ZC52YWx1ZX1gKVxyXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCB4U2NhbGUuYmFuZHdpZHRoKCkpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCAoZCxpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoeVNjYWxlKDApIC0geVNjYWxlKE1hdGguYWJzKGQudmFsdWUpKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZCA9PiB4U2NhbGUoZC5jdXJZZWFyKSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCBkID0+ICh5U2NhbGUoZC5jdXJUb3QpKSlcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IGNvbG9yRGljdFtkLnR5cGVdKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEdhdWdlcyhwcm9wcyl7XG4gIGNvbnN0IG1heFdpZHRoVmFsdWUgPSA1MDtcbiAgY29uc3QgY2FsY3VsYXRlR2F1Z2VXaWR0aCA9ICgpID0+IHtcbiAgICBjb25zdCBnYXVnZXNFbGVtcyA9IGQzLnNlbGVjdCgnLmdhdWdlcycpLnNlbGVjdEFsbCgnLmdhdWdlJyk7XG4gICAgZ2F1Z2VzRWxlbXMubm9kZXMoKS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICBsZXQgY3VyV2lkdGggPSBtYXhXaWR0aFZhbHVlO1xuICAgICAgaWYoZDMuc2VsZWN0KG5vZGUpLmF0dHIoJ2lkJykgPT09IFwiZG9sbGFyc1wiKXtcbiAgICAgICAgY3VyV2lkdGggPSBwcm9wcy5kb2xsYXJzO1xuICAgICAgfVxuICAgICAgZDMuc2VsZWN0KG5vZGUpLnNlbGVjdCgnLmdhdWdlQ29sb3JIb2xkZXInKS5zZWxlY3QoJy5jb21taXR0ZWQnKS5zdHlsZSgnd2lkdGgnLCBgJHtNYXRoLnJvdW5kKHByb3BzLmNvbW1pdHRlZC9tYXhXaWR0aFZhbHVlKjEwMCl9JWApO1xuICAgICAgZDMuc2VsZWN0KG5vZGUpLnNlbGVjdCgnLmdhdWdlQ29sb3InKS5zdHlsZSgnd2lkdGgnLCBgJHtNYXRoLnJvdW5kKGN1cldpZHRoL21heFdpZHRoVmFsdWUqMTAwKX0lYCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCAoKSA9PiB7XG4gICAgY2FsY3VsYXRlR2F1Z2VXaWR0aCgpO1xuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2F1Z2VzXCI+XG4gICAgICA8ZGl2IGlkPVwiZG9sbGFyc1wiIGNsYXNzTmFtZT1cImdhdWdlIGRvbGxhckdhdWdlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2F1Z2VDb2xvckhvbGRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2F1Z2VDb2xvciBibHVlXCI+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7cHJvcHMuY29tbWl0dGVkICE9IDAgP1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWl0dGVkXCI+XG4gICAgICAgICAgICAgIHsvKiA8cD57cHJvcHMuY29tbWl0dGVkfTwvcD4gKi99XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgOlwiXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2YWx1ZVwiPlxuICAgICAgICAgICAgPHA+QnVkZ2V0Jm5ic3A7JiM4MjI2OyZuYnNwO3twcm9wcy5kb2xsYXJzfSZuYnNwO2pldG9uczwvcD5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG5cbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEludHJvQm94KHByb3BzKXtcblxuICBjb25zdCBzdGFydEdhbWUgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdzdGFydGluZyBnYW1lJyk7XG4gICAgcHJvcHMuZ2FtZVN0YXJ0KCk7XG4gIH0pO1xuXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWVCb3ggdHJhbnNwYXJlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW50cm9Cb3hcIj5cbiAgICAgICAge3Byb3BzLmludHJvRWxlbX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyQm94XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RhcnRidXR0b25cIiBvbkNsaWNrPXtzdGFydEdhbWV9PlxuICAgICAgICAgIDxwPkNvbW1lbmNlciBsZSBqZXU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgKVxuXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VFZmZlY3R9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR2F1Z2VzIH0gZnJvbSBcIi4vR2F1Z2VzXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIE1vbml0b3JpbmcocHJvcHMpe1xuXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vbml0b3JpbmdcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9uaXRvcmluZ19jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nX3ZhbHVlXCI+XG4gICAgICAgICAgICA8R2F1Z2VzIGRvbGxhcnM9e3Byb3BzLmRvbGxhcnN9IGNvbW1pdHRlZD17cHJvcHMuY29tbWl0dGVkfS8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsgcHJvcHMudGVyYXdhdHRzIHx8IHByb3BzLnRlcmF3YXR0cyA9PT0gMCA/XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9uaXRvcmluZ19jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9uaXRvcmluZ19oZWFkZXJcIj5cbiAgICAgICAgICAgICAgPGg1PsOJbGVjdHJpY2l0w6kgcHJvZHVpdGUmbmJzcDsmIzgyMjY7Jm5ic3A7e3Byb3BzLnRlcmF3YXR0c30mbmJzcDtUV2g8L2g1PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA6XG4gICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICB9XG4gICAgPC9kaXY+XG5cbiAgKVxufVxuIiwiXG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQZXJmb3JtYW5jZShjaG9pY2VzX3ZhbHVlcyl7XG4gIHJldHVybiBjaG9pY2VzX3ZhbHVlcy5zcGxpdCgnXycpLnNsaWNlKDEpLm1hcChlbGVtID0+IHBhcnNlSW50KGVsZW0pKTtcbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE1vbml0b3JpbmcgfSBmcm9tIFwiLi4vZ2F1Z2VzL01vbml0b3JpbmdcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZVBlcmZvcm1hbmNlIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ2hvaWNlKHByb3BzKXtcblxuXG4gIGNvbnN0IFtzZWxlY3Rpb24sIHNldFNlbGVjdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGlvbmJ1dHRvbnMgPSBkMy5zZWxlY3RBbGwoJy5jaG9pY2VidXR0b24nKTtcbiAgICBzZWxlY3Rpb25idXR0b25zLnNlbGVjdCgnLmJ1dG4nKS5jbGFzc2VkKCdzZWxlY3RlZCcsIGZhbHNlKTtcbiAgICBpZihzZWxlY3Rpb24pe1xuICAgICAgZDMuc2VsZWN0KHNlbGVjdGlvbi5vYmopLnNlbGVjdCgnLmJ1dG4nKS5jbGFzc2VkKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgIH1cbiAgfSxbc2VsZWN0aW9uXSlcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jIChjb3N0LCBwZXJmb3JtYW5jZSwgaW5kZXgpID0+IHtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXSkuc3BsaXQoXCI7XCIpO1xuICAgIGlmKHRyaWdnZXJOZXh0Lmxlbmd0aCA+IDEpe1xuICAgICAgY29uc29sZS5sb2coJ2NoZWNraW5nIG5leHQ6ICcsIHRyaWdnZXJOZXh0LCAnIGluZGV4OicsIGluZGV4LCAnIHJlc3VsdDonLCBTdHJpbmcodHJpZ2dlck5leHRbaW5kZXhdKS5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIlwiKSk7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQoU3RyaW5nKHRyaWdnZXJOZXh0W2luZGV4XSkucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCJcIikpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KFN0cmluZyh0cmlnZ2VyTmV4dFswXSkucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCJcIikpO1xuICAgIH1cblxuXG4gICAgcHJvcHMudXBkYXRlRG9sbGFycygtcGFyc2VJbnQoY29zdCkpO1xuICAgIHByb3BzLnVwZGF0ZVBlcmZvcm1hbmNlKHBlcmZvcm1hbmNlKTtcbiAgICBzZXRTZWxlY3Rpb24obnVsbCk7XG4gIH0pO1xuXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBpZihwcm9wcy5jdXJJbmRleCA+IDApe1xuICAgICAgY29uc29sZS5sb2coJ3ByZXZpb3VzIHByb21wdCEnLCBwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgfVxuICAgIHNldFNlbGVjdGlvbihudWxsKTtcbiAgfSk7XG5cbiAgY29uc3QgdXBkYXRlU2VsZWN0ZWQgPSAoZXZlbnQsIGNvc3QsIHBlcmZvcm1hbmNlLCBpbmRleCkgPT4ge1xuICAgIHNldFNlbGVjdGlvbih7XG4gICAgICBvYmo6IGV2ZW50LnRhcmdldCxcbiAgICAgIGNvc3Q6IGNvc3QsXG4gICAgICBwZXJmb3JtYW5jZTogcGVyZm9ybWFuY2UsXG4gICAgICBpbmRleDogaW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybihcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNob2ljZXNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHtcbiAgICAgICAgICBwcm9wcy5jaG9pY2VzLm1hcCgoY2hvaWNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNvc3QgPSBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0uc3BsaXQoJ18nKVswXTtcbiAgICAgICAgICAgIGxldCBwZXJmb3JtYW5jZSA9IGNhbGN1bGF0ZVBlcmZvcm1hbmNlKHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XSk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNob2ljZWJ1dHRvblwiIGtleT17aW5kZXh9IG9uQ2xpY2s9eyhlKSA9PiB7dXBkYXRlU2VsZWN0ZWQoZSwgY29zdCwgcGVyZm9ybWFuY2UsIGluZGV4KX19PlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9e2luZGV4fSBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9sZGVyIGljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17c2VsZWN0aW9uID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uaW5kZXggPT09IGluZGV4ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLi9hc3NldHMvaW1nL09uLnN2Z1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIi4vYXNzZXRzL2ltZy9PZmYuc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIi4vYXNzZXRzL2ltZy9PZmYuc3ZnXCJ9PjwvaW1nPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob2xkZXIgbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDQ+e2Nob2ljZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgIDxwPntjb3N0fSBKRVRPTlM8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vbml0b3Jpbmcgc2hvd1RXaD17ZmFsc2V9IGRvbGxhcnM9eyhzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmhhc093blByb3BlcnR5KFwiY29zdFwiKSkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuZ2F1Z2VzLnByb3BzLmRvbGxhcnMgLSBzZWxlY3Rpb24uY29zdCA6IHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0dGVkPXsoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5oYXNPd25Qcm9wZXJ0eShcImNvc3RcIikpID8gc2VsZWN0aW9uLmNvc3QgOiAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWFuY2U9e3Byb3BzLmdhdWdlcy5wcm9wcy5wZXJmb3JtYW5jZX0vPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICB7cHJvcHMuY3VySW5kZXggPiAwID9cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIHByZXZcIiBvbkNsaWNrPXtwcmV2aW91c1Byb21wdH0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgICAgIDxwPlByZXZpb3VzPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWN0aW9uYnV0dG9uIG5leHQgJHtzZWxlY3Rpb24gPyAnJyA6ICdkaXNhYmxlZCd9YH0gb25DbGljaz17KCkgPT4ge3NlbGVjdGlvbiA/IG5leHRQcm9tcHQoc2VsZWN0aW9uLmNvc3QsIHNlbGVjdGlvbi5wZXJmb3JtYW5jZSwgc2VsZWN0aW9uLmluZGV4KSA6IGNvbnNvbGUubG9nKCdEaXNhYmxlZC4nKX19PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxuXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBNb25pdG9yaW5nIH0gZnJvbSBcIi4uL2dhdWdlcy9Nb25pdG9yaW5nXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVQZXJmb3JtYW5jZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIE11bHRpU2VsZWN0aW9uKHByb3BzKXtcblxuICBjb25zdCBbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dID0gdXNlU3RhdGUoW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVzZXRTZWxlY3Rpb24oKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy9jb25zb2xlLmxvZygnY3VyIHNlbGVjdGlvbjogJywgc2VsZWN0aW9uKTtcbiAgfSwgW3NlbGVjdGlvbl0pO1xuXG4gIGNvbnN0IHJlc2V0U2VsZWN0aW9uID0gKCkgPT4ge1xuICAgIHNldFNlbGVjdGlvbihwcm9wcy5jaG9pY2VzLm1hcChlbGVtID0+IG51bGwpKTtcbiAgfVxuXG4gIGNvbnN0IGNhbGN1bGF0ZVRvdGFsU2VsZWN0aW9uID0gKHNlbGVjdGlvbikgPT4ge1xuICAgIGNvbnN0IGFjY0Nvc3QgPSBzZWxlY3Rpb24ucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuICAgICAgaWYoY3VyKXtcbiAgICAgICAgYWNjICs9IGN1ci5jb3N0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCAwKTtcbiAgICBsZXQgYWNjUGVyZm9ybWFuY2UgPSBbMCwwLDBdO1xuICAgIHNlbGVjdGlvbi5mb3JFYWNoKChjdXIsIGNvdW50KSA9PiB7XG4gICAgICBpZihjdXIpe1xuICAgICAgICBhY2NQZXJmb3JtYW5jZSA9IGFjY1BlcmZvcm1hbmNlLm1hcCgoZWxlbSwgaWR4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsZW0pICsgcGFyc2VJbnQoY3VyLnBlcmZvcm1hbmNlW2lkeF0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gW2FjY0Nvc3QsIGFjY1BlcmZvcm1hbmNlXTtcbiAgfTtcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jIChzZWxlY3Rpb24pID0+IHtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddO1xuICAgIHByb3BzLmNoYW5nZVByb21wdCh0cmlnZ2VyTmV4dCk7XG4gICAgY29uc3QgW2FjY0Nvc3QsIGFjY1BlcmZvcm1hbmNlXSA9IGNhbGN1bGF0ZVRvdGFsU2VsZWN0aW9uKHNlbGVjdGlvbik7XG5cbiAgICBwcm9wcy51cGRhdGVEb2xsYXJzKC1wYXJzZUludChhY2NDb3N0KSk7XG4gICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UoYWNjUGVyZm9ybWFuY2UpO1xuICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gIH0pO1xuXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBpZihwcm9wcy5jdXJJbmRleCA+IDApe1xuICAgICAgY29uc29sZS5sb2coJ3ByZXZpb3VzIHByb21wdCEnLCBwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgfVxuICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZVNlbGVjdGVkID0gKGV2ZW50LCBpbmRleCwgY29zdCwgcGVyZm9ybWFuY2UpID0+IHtcbiAgICBsZXQgbmV3QXJyYXkgPSBbLi4uc2VsZWN0aW9uXTtcbiAgICBpZihzZWxlY3Rpb25baW5kZXhdKXtcbiAgICAgIC8vIFVuc2VsZWN0XG4gICAgICBuZXdBcnJheVtpbmRleF0gPSBudWxsO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgLy8gU2VsZWN0XG4gICAgICBuZXdBcnJheVtpbmRleF0gPSB7XG4gICAgICAgIG9iajogZXZlbnQudGFyZ2V0LFxuICAgICAgICBjb3N0OiBwYXJzZUludChjb3N0KSxcbiAgICAgICAgcGVyZm9ybWFuY2U6IHBlcmZvcm1hbmNlXG4gICAgICB9O1xuICAgIH1cbiAgICBzZXRTZWxlY3Rpb24obmV3QXJyYXkpO1xuICB9XG5cbiAgcmV0dXJuKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hvaWNlc1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAge1xuICAgICAgICAgIHByb3BzLmNob2ljZXMubWFwKChjaG9pY2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBsZXQgY29zdCA9IHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XS5zcGxpdCgnXycpWzBdO1xuICAgICAgICAgICAgbGV0IHBlcmZvcm1hbmNlID0gY2FsY3VsYXRlUGVyZm9ybWFuY2UocHJvcHMuY2hvaWNlc192YWx1ZXNbaW5kZXhdKTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0aW9uYnV0dG9uXCIga2V5PXtpbmRleH0gb25DbGljaz17KGUpID0+IHt1cGRhdGVTZWxlY3RlZChlLCBpbmRleCwgY29zdCwgcGVyZm9ybWFuY2UpfX0+XG4gICAgICAgICAgICAgICAgPGRpdiBpZD17aW5kZXh9IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgaG9sZGVyIHNlbGVjdGlvbkJveCAke3NlbGVjdGlvbltpbmRleF0gPyAnc2VsZWN0ZWQnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHA+KzwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9sZGVyIGxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGg0PntjaG9pY2V9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICA8cD57Y29zdH0gSkVUT05TPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9uaXRvcmluZyBzaG93VFdoPXtmYWxzZX0gZG9sbGFycz17KHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ubGVuZ3RoID4gMCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuZ2F1Z2VzLnByb3BzLmRvbGxhcnMgLSBjYWxjdWxhdGVUb3RhbFNlbGVjdGlvbihzZWxlY3Rpb24pWzBdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0dGVkPXsoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5sZW5ndGggPiAwKSA/IGNhbGN1bGF0ZVRvdGFsU2VsZWN0aW9uKHNlbGVjdGlvbilbMF0gOiAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XG4gICAgICAgICAge3Byb3BzLmN1ckluZGV4ID4gMCA/XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjdGlvbmJ1dHRvbiBuZXh0ICR7c2VsZWN0aW9uID8gJycgOiAnZGlzYWJsZWQnfWB9IG9uQ2xpY2s9eygpID0+IHtzZWxlY3Rpb24gPyBuZXh0UHJvbXB0KHNlbGVjdGlvbikgOiBjb25zb2xlLmxvZygnRGlzYWJsZWQuJyl9fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgICA8cD5Qb3Vyc3VpdnJlPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFByaW50UHJvbXB0KHByb3BzKXtcblxuICBjb25zdCBwcmV2aW91c1Byb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgaWYocHJvcHMuY3VySW5kZXggPiAwKXtcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2IHByb21wdCEnLCBwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddO1xuXG4gICAgY29uc29sZS5sb2coJ0NoZWNraW5nIHRyaWdnZXIgbmV4dDogJywgdHJpZ2dlck5leHQpO1xuICAgIHByb3BzLmNoYW5nZVByb21wdCh0cmlnZ2VyTmV4dCk7XG5cbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInByaW50cHJvbXB0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2VcIj5cbiAgICAgICAgPHA+XG4gICAgICAgICAge3Byb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gcHJldlwiIG9uQ2xpY2s9e3ByZXZpb3VzUHJvbXB0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgPHA+UHJldmlvdXM8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBuZXh0XCIgb25DbGljaz17bmV4dFByb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4pXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBHYXVnZXMgfSBmcm9tIFwiLi4vZ2F1Z2VzL0dhdWdlc1wiO1xuaW1wb3J0IHsgTW9uaXRvcmluZyB9IGZyb20gXCIuLi9nYXVnZXMvTW9uaXRvcmluZ1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gUmVwYXJ0aXRpb24ocHJvcHMpe1xuXG4gIGNvbnN0IFtqZXRvbnMsIHNldEpldG9uc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3RlcmF3YXR0cywgc2V0VGVyYXdhdHRzXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbb3RoZXJQZXJmb01ldHJpY3MsIHNldE90aGVyUGVyZm9NZXRyaWNzXSA9IHVzZVN0YXRlKFswLDBdKTtcbiAgY29uc3QgW3VuaXRzLCBzZXRVbml0c10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFt0b2tlbnNQZXJVbml0LCBzZXRUb2tlbnNQZXJVbml0XSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgbWF4VG9rZW5zID0gMjA7XG5cbiAgdXNlRWZmZWN0KCAoKSA9PiB7XG5cbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9uUGFyYW1zKCk7XG4gICAgY29uc3QgbmV3VW5pdHMgPSBvcHRpb25zLm1hcCgoKSA9PiAwKTtcbiAgICBjb25zdCB0b2tlbnNQZXJVbml0ID0gb3B0aW9ucy5tYXAoZWxlbSA9PiBlbGVtLnVuaXRWYWx1ZSk7XG4gICAgc2V0VW5pdHMobmV3VW5pdHMpO1xuICAgIHNldFRva2Vuc1BlclVuaXQodG9rZW5zUGVyVW5pdCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoICgpID0+IHtcbiAgICBsZXQgbmV3SmV0b25zID0gdW5pdHMucmVkdWNlKFxuICAgICAgKGFjYywgY3VyVmFsLCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgY3VyT3B0aW9uUGFyYW1zID0gZ2V0T3B0aW9uUGFyYW1zKClbaW5kZXhdO1xuICAgICAgICByZXR1cm4gYWNjICsgY3VyVmFsO1xuICAgICAgfSwwKTtcbiAgICBsZXQgbmV3TVcgPSB1bml0cy5yZWR1Y2UoXG4gICAgICAoYWNjLCBjdXJWYWwsIGluZGV4KSA9PiB7XG4gICAgICAgIGxldCBjdXJPcHRpb25QYXJhbXMgPSBnZXRPcHRpb25QYXJhbXMoKVtpbmRleF07XG4gICAgICAgIHJldHVybiBhY2MgKyBNYXRoLnJvdW5kKGN1clZhbC9jdXJPcHRpb25QYXJhbXNbXCJ1bml0VmFsdWVcIl0qY3VyT3B0aW9uUGFyYW1zW1widW5pdFRXaHZhbHVlXCJdKTtcbiAgICAgIH0sMCk7XG4gICAgICAvL2NhbGN1bGF0ZSBvdGhlciBwZXJmb3JtYW5jZSBtZXRyaWNzIGFnZ3JlZ2F0aW9uXG4gICAgbGV0IG5ld090aGVyUGVyZm9NZXRyaWNzID0gWzAsMF07XG4gICAgdW5pdHMuZm9yRWFjaCgoY3VyVmFsLCBjb3VudCkgPT4ge1xuICAgICAgbGV0IGN1ck9wdGlvblBhcmFtcyA9IGdldE9wdGlvblBhcmFtcygpW2NvdW50XTtcbiAgICAgIG5ld090aGVyUGVyZm9NZXRyaWNzID0gbmV3T3RoZXJQZXJmb01ldHJpY3MubWFwKChlbGVtLCBpZHgpID0+IHtcbiAgICAgICAgaWYoaWR4ID09PSAwKXtcbiAgICAgICAgICByZXR1cm4gZWxlbSArIGN1clZhbC9jdXJPcHRpb25QYXJhbXNbXCJ1bml0VmFsdWVcIl0qY3VyT3B0aW9uUGFyYW1zW1widW5pdEVudmlyb3ZhbHVlXCJdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoaWR4ID09PSAxKXtcbiAgICAgICAgICByZXR1cm4gZWxlbSArIGN1clZhbC9jdXJPcHRpb25QYXJhbXNbXCJ1bml0VmFsdWVcIl0qY3VyT3B0aW9uUGFyYW1zW1widW5pdFBvcHV2YWx1ZVwiXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgc2V0SmV0b25zKG5ld0pldG9ucyk7XG4gICAgc2V0VGVyYXdhdHRzKG5ld01XKTtcbiAgICBzZXRPdGhlclBlcmZvTWV0cmljcyhuZXdPdGhlclBlcmZvTWV0cmljcyk7XG4gIH0sIFt1bml0c10pO1xuXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBpZihwcm9wcy5jdXJJbmRleCA+IDApe1xuICAgICAgY29uc29sZS5sb2coJ3ByZXYgcHJvbXB0IScsIHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGxldCBzcGxpdHRlZFRyaWdnZXJOZXh0ID0gU3RyaW5nKHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J10pLnNwbGl0KFwiX1wiKTtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBTdHJpbmcoc3BsaXR0ZWRUcmlnZ2VyTmV4dFswXSkuc3BsaXQoXCI7XCIpO1xuICAgIGlmKHRyaWdnZXJOZXh0Lmxlbmd0aCA9PSAxKXtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChTdHJpbmcodHJpZ2dlck5leHQpLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpKTtcbiAgICB9XG4gICAgZWxzZSBpZih0cmlnZ2VyTmV4dC5sZW5ndGggPiAxKXtcbiAgICAgIGlmKCF1bml0cy5ldmVyeSh2YWwgPT4gdmFsID09PSB1bml0c1swXSkpe1xuICAgICAgICBsZXQgaW5kZXhPZk1heFZhbHVlID0gdW5pdHMucmVkdWNlKChpTWF4LCB4LCBpLCBhcnIpID0+IHggPiBhcnJbaU1heF0gPyBpIDogaU1heCwgMCk7XG4gICAgICAgIHByb3BzLmNoYW5nZVByb21wdChTdHJpbmcodHJpZ2dlck5leHRbaW5kZXhPZk1heFZhbHVlXSkucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCJcIikpO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgbGV0IGRlZmF1bHROZXh0ID0gU3RyaW5nKHNwbGl0dGVkVHJpZ2dlck5leHRbMV0pLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpO1xuICAgICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQoZGVmYXVsdE5leHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9wcy51cGRhdGVEb2xsYXJzKC1qZXRvbnMpO1xuICAgIHByb3BzLnVwZGF0ZVBlcmZvcm1hbmNlKFt0ZXJhd2F0dHNdLmNvbmNhdChvdGhlclBlcmZvTWV0cmljcykpO1xuICB9KTtcblxuICBjb25zdCBwcm9jZXNzQ2hvaWNlcyA9IChjaG9pY2UsIGNob2ljZXNfdmFsdWVzKSA9PiB7XG4gICAgY29uc3Qgc3BsaXR0ZWRDaG9pY2VzID0gY2hvaWNlc192YWx1ZXMuc3BsaXQoJ18nKTtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogY2hvaWNlLFxuICAgICAgdW5pdFZhbHVlOiBwYXJzZUludChzcGxpdHRlZENob2ljZXNbMF0pLFxuICAgICAgdW5pdFRXaHZhbHVlOiBwYXJzZUludChzcGxpdHRlZENob2ljZXNbMV0pLFxuICAgICAgdW5pdEVudmlyb3ZhbHVlOiBwYXJzZUludChzcGxpdHRlZENob2ljZXNbMl0pLFxuICAgICAgdW5pdFBvcHV2YWx1ZTogcGFyc2VJbnQoc3BsaXR0ZWRDaG9pY2VzWzNdKSxcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRPcHRpb25QYXJhbXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHByb3BzLmNob2ljZXMubWFwKChjaG9pY2UsIGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gcHJvY2Vzc0Nob2ljZXMoY2hvaWNlLCBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0pO1xuICAgIH0pXG4gIH1cblxuICBjb25zdCBjaGVja0lmRnVsbCA9IChuZXdBZGRpdGlvbikgPT4ge1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgdW5pdHMuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICB0b3RhbCArPSB2YWx1ZTtcbiAgICB9KTtcbiAgICBpZih0b3RhbCtuZXdBZGRpdGlvbiA+IG1heFRva2Vucyl7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgbW9kaWZ5T25DbGljayA9IChlLCBpbmRleCwgZGlmZiwgZWxlbSkgPT4ge1xuICAgIGxldCBuZXdBcnJheSA9IFsuLi51bml0c107XG4gICAgaWYoKG5ld0FycmF5W2luZGV4XStkaWZmKnRva2Vuc1BlclVuaXRbaW5kZXhdKSA+PSAwKXtcbiAgICAgIGlmKGRpZmYgPiAwKVxuICAgICAge1xuICAgICAgICBpZighY2hlY2tJZkZ1bGwoZGlmZip0b2tlbnNQZXJVbml0W2luZGV4XSkpe1xuICAgICAgICAgIG5ld0FycmF5W2luZGV4XSA9IG5ld0FycmF5W2luZGV4XSArIGRpZmYqdG9rZW5zUGVyVW5pdFtpbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIG5ld0FycmF5W2luZGV4XSA9IG5ld0FycmF5W2luZGV4XSArIGRpZmYqdG9rZW5zUGVyVW5pdFtpbmRleF07XG4gICAgICB9XG4gICAgICBzZXRVbml0cyhuZXdBcnJheSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2VuZXJhdGVUb2tlbnMgPSAoKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRVc2VkVG9rZW5zID0gdW5pdHMubWFwKChlbGVtLCBpbmRleCkgPT4ge1xuICAgICAgbGV0IGN1ck9wdGlvblBhcmFtcyA9IGdldE9wdGlvblBhcmFtcygpW2luZGV4XTtcbiAgICAgIHJldHVybiBBcnJheShlbGVtKmN1ck9wdGlvblBhcmFtc1tcInVuaXRWYWx1ZVwiXSkuZmlsbChjdXJPcHRpb25QYXJhbXNbXCJuYW1lXCJdWzBdKTtcbiAgICB9KTtcbiAgICBsZXQgY29uY2F0VG9rZW5zID0gW10uY29uY2F0LmFwcGx5KFtdLCBjdXJyZW50VXNlZFRva2Vucyk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IG1heFRva2VucyB9KS5tYXAoKGVsZW0sIGluZGV4KSA9PiB7XG4gICAgICBsZXQgY3VyTGV0dGVyID0gY29uY2F0VG9rZW5zW2luZGV4XSA/IFN0cmluZyhjb25jYXRUb2tlbnNbaW5kZXhdKSA6IFwiXCI7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRva2VuQ29udGFpbmVyXCIga2V5PXtpbmRleH0+XG4gICAgICAgICAgPHA+e2N1ckxldHRlcn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgcmVuZGVyUm93cyA9IChjaG9pY2VzKSA9PiB7XG4gICAgcmV0dXJuIGNob2ljZXMubWFwKCAoZWxlbSxpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcHRpb25Vbml0XCIga2V5PXtpbmRleH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3RvclpvbmVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGl2aXNpb24gbWludXNab25lXCIgb25DbGljaz17KGUpID0+IG1vZGlmeU9uQ2xpY2soZSwgaW5kZXgsIC0xLCBlbGVtKX0+XG4gICAgICAgICAgICAgIDxoMz4tPC9oMz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXZpc2lvbiBjZW50cmFsWm9uZVwiPlxuICAgICAgICAgICAgICA8aDM+e3VuaXRzW2luZGV4XX08L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpdmlzaW9uIHBsdXNab25lXCIgb25DbGljaz17KGUpID0+IG1vZGlmeU9uQ2xpY2soZSwgaW5kZXgsIDEsIGVsZW0pfT5cbiAgICAgICAgICAgICAgPGgzPis8L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0Wm9uZVwiPlxuICAgICAgICAgICAgPGgzPntlbGVtLm5hbWV9PC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5ldGV4dFwiPlxuICAgICAgICAgICAgICA8cD57ZWxlbS51bml0VmFsdWV9IGpldG9ucyZuYnNwOyYjODIyNjsmbmJzcDt7ZWxlbS51bml0VFdodmFsdWV9IFRXaDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVwYXJ0aXRpb25cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3B0aW9uWm9uZVwiPlxuICAgICAgICB7XG4gICAgICAgICAgcmVuZGVyUm93cyhwcm9wcy5jaG9pY2VzLm1hcCgoZSwgaW5kZXgpID0+IHByb2Nlc3NDaG9pY2VzKGUsIHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XSkpKVxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb25pdG9yaW5nIHNob3dUV2g9e3RydWV9IGRvbGxhcnM9e3Byb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzLWpldG9uc30gY29tbWl0dGVkPXtqZXRvbnN9IHRlcmF3YXR0cz17dGVyYXdhdHRzfS8+XG4gICAgICB7cHJvcHMuY3VySW5kZXggPiAwID9cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gcHJldlwiIG9uQ2xpY2s9e3ByZXZpb3VzUHJvbXB0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgIDxwPlByZXZpb3VzPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgOlxuICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gbmV4dFwiIG9uQ2xpY2s9e25leHRQcm9tcHR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICA8cD5Qb3Vyc3VpdnJlPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG5cbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCBkM1RpcCBmcm9tICdkMy10aXAnO1xuXG5leHBvcnQgZnVuY3Rpb24gTWFwTmF2aWdhdG9yKHByb3BzKXtcblxuICBjb25zdCBbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXR1cE9uQ2xpY2soKTtcbiAgfSxbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZihzZWxlY3Rpb24pe1xuICAgICAgZDMuc2VsZWN0KCcucG9wVXAtYmcnKS5zdHlsZSgnZGlzcGxheScsICd1bnNldCcpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgZDMuc2VsZWN0KCcucG9wVXAtYmcnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgfVxuICB9LCBbc2VsZWN0aW9uXSk7XG5cbiAgY29uc3QgdGlwID0gZDNUaXAoKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkMy10aXAgYWRqdXN0ZWQnKVxuICAgICAgICAgICAgICAgIC5kaXJlY3Rpb24oJ24nKVxuICAgICAgICAgICAgICAgIC5odG1sKChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ290IGQ6ICcsIGQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgICAgIDxoND4ke2QudGl0bGV9PC9oND5cbiAgICAgICAgICAgICAgICAgIDxwPiR7ZC5zdXBwX3RleHR9PC9wPlxuICAgICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICBjb25zdCBzZXR1cE9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgZDMueG1sKHByb3BzLm1hcFswXSksXG4gICAgICBkMy54bWwocHJvcHMubWFwWzFdKVxuICAgIF0pLnRoZW4oKFtiZ01hcCwgaWNvbk9OTWFwXSkgPT4ge1xuICAgICAgZDMuc2VsZWN0KCcjYmctbWFwJykubm9kZSgpXG4gICAgICAgIC5hcHBlbmQoYmdNYXAuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgIGQzLnNlbGVjdCgnI29uLWljb25zJykubm9kZSgpXG4gICAgICAgIC5hcHBlbmQoaWNvbk9OTWFwLmRvY3VtZW50RWxlbWVudCk7XG4gICAgICBjb25zdCBPbkljb25zU1ZHID0gZDMuc2VsZWN0KCcjb24taWNvbnMnKS5zZWxlY3QoJ3N2ZycpO1xuICAgICAgT25JY29uc1NWRy5jYWxsKHRpcCk7XG4gICAgICBkMy5zZWxlY3QoJy5nYW1lU2NyZWVuJykubm9kZSgpLmFwcGVuZENoaWxkKFxuICAgICAgICBkMy5zZWxlY3QoJy5kMy10aXAnKS5ub2RlKClcbiAgICAgICk7XG4gICAgICBjb25zdCBnQnV0dG9ucyA9IE9uSWNvbnNTVkcuc2VsZWN0KCcjSWNvbmUtT24nKS5zZWxlY3RBbGwoJ2cnKTtcbiAgICAgIGNvbnN0IHRpdGxlcyA9IFN0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyk7XG4gICAgICBjb25zdCBzdXBwX3RleHRzID0gU3RyaW5nKHByb3BzLm1lc3NhZ2UpLnNwbGl0KCc7Jyk7XG4gICAgICBnQnV0dG9ucy5ub2RlcygpLnJldmVyc2UoKS5tYXAoKG5vZGUsY291bnQpID0+IHtcbiAgICAgICAgY29uc3QgY3VyVGlwRGF0YSA9IHtcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZXNbY291bnRdLFxuICAgICAgICAgICAgc3VwcF90ZXh0OiBzdXBwX3RleHRzW2NvdW50XVxuICAgICAgICAgIH1cbiAgICAgICAgZDMuc2VsZWN0KG5vZGUpXG4gICAgICAgIC5vbignY2xpY2snLCAoZCxpLG5vZGVzKSA9PiB7XG4gICAgICAgICAgZC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB0aXAuc2hvdyhjdXJUaXBEYXRhLCBub2RlKTtcbiAgICAgICAgICB0b2dnbGVJY29uKGQudGFyZ2V0LnBhcmVudEVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCAoZCxpLG5vZGVzKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2NoZWNraW5nIGQ6ICcsIGQudGFyZ2V0LnBhcmVudEVsZW1lbnQpO1xuICAgICAgICAgIGQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdGlwLnNob3coY3VyVGlwRGF0YSxub2RlKTtcbiAgICAgICAgICB0b2dnbGVJY29uKGQudGFyZ2V0LnBhcmVudEVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIChkLGksbm9kZXMpID0+IHtcbiAgICAgICAgICB0aXAuaGlkZShub2RlKTtcbiAgICAgICAgICB0b2dnbGVJY29uKGQudGFyZ2V0LnBhcmVudEVsZW1lbnQsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgZDMuc2VsZWN0KFwiLmdhbWVCb3hcIikub24oJ2NsaWNrJywgKCkgPT4ge3RpcC5oaWRlKCl9KTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVJY29uID0gKGljb25PYmosIHN0YXR1cykgPT4ge1xuICAgIGlmKHN0YXR1cyA9PT0gZmFsc2Upe1xuICAgICAgZDMuc2VsZWN0KGljb25PYmopLnN0eWxlKCdvcGFjaXR5JywgMCk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBkMy5zZWxlY3QoaWNvbk9iaikuc3R5bGUoJ29wYWNpdHknLCAxKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcHJldmlvdXNQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XG4gICAgICBjb25zb2xlLmxvZygncHJldiBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgbmV4dFByb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyaWdnZXJOZXh0ID0gcHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXTtcblxuICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyB0cmlnZ2VyIG5leHQ6ICcsIHRyaWdnZXJOZXh0KTtcbiAgICBwcm9wcy5jaGFuZ2VQcm9tcHQodHJpZ2dlck5leHQpO1xuXG4gIH0pO1xuXG4gIHJldHVybiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwicHJpbnRwcm9tcHQgbWFwbmF2aWdhdG9yXCI+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3BVcC1iZ1wiPlxuICAgICAgeyBzZWxlY3Rpb24gP1xuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3BVcC1ib3hcIj5cbiAgICAgICAgPGg0PntzZWxlY3Rpb24udGl0bGV9PC9oND5cbiAgICAgICAgPHA+e3NlbGVjdGlvbi5zdXBwX3RleHR9PC9wPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvblwiIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGlvbihudWxsKX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICA8cD5GZXJtZXI8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA6XG4gICAgICA8ZGl2PjwvZGl2PlxuICAgICAgfVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwSG9sZGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1cGVycG9zZWRNYXBcIj5cbiAgICAgICAgPGRpdiBpZD1cImJnLW1hcFwiIGNsYXNzTmFtZT1cIm1hcCBub0NsaWNrXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9XCJvbi1pY29uc1wiIGNsYXNzTmFtZT1cIm1hcFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gcHJldlwiIG9uQ2xpY2s9e3ByZXZpb3VzUHJvbXB0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIG5leHRcIiBvbkNsaWNrPXtuZXh0UHJvbXB0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICA8cD5TdWl2YW50PC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBCaWxhbihwcm9wcyl7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZ290IGJpbGFuIDogJywgcHJvcHMuY3VyUHJvbXB0KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J107XG5cbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgdHJpZ2dlciBuZXh0OiAnLCB0cmlnZ2VyTmV4dCk7XG4gICAgcHJvcHMuY2hhbmdlUHJvbXB0KHRyaWdnZXJOZXh0KTtcblxuICB9KTtcblxuICBjb25zdCBwcm9jZXNzQmlsYW4gPSAoKSA9PiB7XG4gICAgbGV0IHRleHRDb250ZW50QXJyYXkgPSBwcm9wcy5jdXJQcm9tcHRbXCJUZXh0ZVwiXS5zcGxpdCgnOycpO1xuICAgIGxldCB0ZXh0U3VwcEFycmF5ID0gcHJvcHMuY3VyUHJvbXB0W1wiVGV4dGVfU3VwcFwiXS5zcGxpdCgnOycpO1xuICAgIGxldCBwcm9jZXNzZWRDb250ZW50ID0gW107XG4gICAgLy8gZ2VuZXJpYyB0ZXh0XG4gICAgbGV0IGdlbmVyaWNUZXh0ID0gdGV4dENvbnRlbnRBcnJheVswXS5yZXBsYWNlKCcqbmV3UHJvZConLCBwcm9wcy5wZXJmb3JtYW5jZVswXSk7XG4gICAgcHJvY2Vzc2VkQ29udGVudC5wdXNoKGdlbmVyaWNUZXh0KTtcbiAgICBsZXQgYmFycmFnZVRleHQgPSB0ZXh0U3VwcEFycmF5WzBdO1xuICAgIGxldCBsb3dDYXNoVGV4dCA9IHRleHRTdXBwQXJyYXlbMV07XG4gICAgbGV0IGxvd0VudlRleHQgPSB0ZXh0U3VwcEFycmF5WzJdO1xuICAgIGxldCBsb3dQb3BUZXh0ID0gdGV4dFN1cHBBcnJheVszXTtcblxuICAgIHJldHVybiBwcm9jZXNzZWRDb250ZW50O1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiaWxhbkNvbnRlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXBkYXRhYmxlVGV4dFwiPlxuICAgICAgICB7XG4gICAgICAgIHByb2Nlc3NCaWxhbigpLm1hcCgoZWxlbSwgY291bnQpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxwIGtleT17Y291bnR9PlxuICAgICAgICAgICAge3BhcnNlKGVsZW0pfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBuZXh0XCIgb25DbGljaz17bmV4dFByb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gRW5kR2FtZShwcm9wcyl7XG5cblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8cD5GaW4gZHUgamV1LjwvcD5cbiAgICAgIDxwPihyZWZvcm11bGVyKSBMZSBqZXUgYSBwcmlzIGZpbiDDoCBjYXVzZSBkZSA6IHtgJHtwcm9wcy5yYWlzb259YH08L3A+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENob2ljZSB9IGZyb20gXCIuL3Byb21wdGZpbGwvQ2hvaWNlXCI7XG5pbXBvcnQgeyBNdWx0aVNlbGVjdGlvbiB9IGZyb20gXCIuL3Byb21wdGZpbGwvTXVsdGlTZWxlY3Rpb25cIjtcbmltcG9ydCB7IFByaW50UHJvbXB0IH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9QcmludFByb21wdFwiO1xuaW1wb3J0IHsgUmVwYXJ0aXRpb24gfSBmcm9tIFwiLi9wcm9tcHRmaWxsL1JlcGFydGl0aW9uXCI7XG5pbXBvcnQgeyBNYXBOYXZpZ2F0b3IgfSBmcm9tIFwiLi9wcm9tcHRmaWxsL01hcE5hdmlnYXRvclwiO1xuaW1wb3J0IHsgQmlsYW4gfSBmcm9tIFwiLi9wcm9tcHRmaWxsL0JpbGFuXCI7XG5pbXBvcnQgeyBFbmRHYW1lIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9FbmRHYW1lXCI7XG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBQcm9tcHRCb3gocHJvcHMpe1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGNoYW5nZVByb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAobmV3VmFsdWUpID0+IHtcbiAgICBwcm9wcy5jaGFuZ2VQcm9tcHQobmV3VmFsdWUpO1xuICB9KTtcblxuICBjb25zdCB1cGRhdGVEb2xsYXJzID0gdXNlQ2FsbGJhY2soIGFzeW5jIChkaWZmVmFsdWUpID0+IHtcbiAgICBpZihOdW1iZXIuaXNJbnRlZ2VyKGRpZmZWYWx1ZSkpe1xuICAgICAgcHJvcHMudXBkYXRlRG9sbGFycyhkaWZmVmFsdWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgdXBkYXRlUGVyZm9ybWFuY2UgPSB1c2VDYWxsYmFjayggYXN5bmMgKGRpZmZBcnJheSkgPT4ge1xuICAgIHByb3BzLnVwZGF0ZVBlcmZvcm1hbmNlKGRpZmZBcnJheSk7XG4gIH0pO1xuXG4gIGNvbnN0IHByb2Nlc3NSZWFzb25FbmRHYW1lID0gKCkgPT4ge1xuICAgIGxldCByZWFzb25zID0gW107XG4gICAgY29uc29sZS5sb2coJ2NoZWNraW5nIHJlYXNvbiBwcm9jZXNzaW5nOicsIHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzLCBwcm9wcy5wZXJmb3JtYW5jZSk7XG4gICAgaWYocHJvcHMuZ2F1Z2VzLnByb3BzLmRvbGxhcnMgPCAwKXtcbiAgICAgIHJlYXNvbnMucHVzaChcIlZvdXMgbidhdmV6IHBsdXMgZCdhcmdlbnQuXCIpO1xuICAgIH1cbiAgICBpZihwcm9wcy5wZXJmb3JtYW5jZVswXSA8IDApe1xuICAgICAgcmVhc29ucy5wdXNoKFwiVm91cyBhdmV6IGfDomNow6kgbGUgcGFyYyBkZSBwcm9kdWN0aW9uIMOpbGVjdHJpcXVlIGQnSHlkcm8tUXXDqWJlYy5cIik7XG4gICAgfVxuICAgIGlmKHByb3BzLnBlcmZvcm1hbmNlWzFdIDwgMCl7XG4gICAgICByZWFzb25zLnB1c2goXCJWb3RyZSBiaWxhbiBlbnZpcm9ubmVtZW50YWwgZXN0IGV4Y8OpY3JhYmxlLlwiKTtcbiAgICB9XG4gICAgaWYocHJvcHMucGVyZm9ybWFuY2VbMl0gPCAwKXtcbiAgICAgIHJlYXNvbnMucHVzaChcIkxhIGZ1cmV1ciBwb3B1bGFpcmUgYSBldSByYWlzb24gZGUgdm90cmUgcG9zdGUuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVhc29ucztcbiAgfVxuXG5cbiAgY29uc3QgcmVuZGVyU3dpdGNoID0gKHBhcmFtKSA9PiB7XG4gICAgc3dpdGNoKHBhcmFtKXtcbiAgICAgIGNhc2UgJ1JlcGFydGl0aW9uJyA6XG4gICAgICAgIHJldHVybiA8UmVwYXJ0aXRpb24gY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXgnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzX3ZhbHVlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ291dF9FbGVjX0Vudl9Qb3B1J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURvbGxhcnM9e3VwZGF0ZURvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGVyZm9ybWFuY2U9e3VwZGF0ZVBlcmZvcm1hbmNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdWdlcz17cHJvcHMuZ2F1Z2VzfS8+O1xuICAgICAgY2FzZSAnQ2FydGUnOlxuICAgICAgICByZXR1cm4gPE1hcE5hdmlnYXRvciBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydUZXh0ZV9TdXBwJ10pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXA9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuY3VySW5kZXggPT09IFwiUTEtMVwiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiYXNzZXRzL2ltZy9DYXJ0ZS1IeWRyby5zdmdcIixcImFzc2V0cy9pbWcvQ2FydGUtSHlkcm8taWNvbmUtb24uc3ZnXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiYXNzZXRzL2ltZy9DYXJ0ZS1Fb2xpZW4uc3ZnXCIsXCJhc3NldHMvaW1nL0NhcnRlLUVvbGllbi1pY29uZS1vbi5zdmdcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Lz47XG4gICAgICBjYXNlICd0ZXh0ZUJvdXRvblNpbXBsZSc6XG4gICAgICAgIHJldHVybiA8UHJpbnRQcm9tcHQgY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17U3RyaW5nKHByb3BzLmN1clByb21wdFsnVGV4dGVfU3VwcCddKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9Lz47XG4gICAgICBjYXNlICdDaG9peFJlcG9uc2UnOlxuICAgICAgICByZXR1cm4gPENob2ljZSBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peCddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXNfdmFsdWVzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDb3V0X0VsZWNfRW52X1BvcHUnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgZ2F1Z2VzPXtwcm9wcy5nYXVnZXN9Lz47XG4gICAgICBjYXNlICdDYXRhc3Ryb3BoZSc6XG4gICAgICAgIHJldHVybiA8Q2hvaWNlIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc192YWx1ZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0NvdXRfRWxlY19FbnZfUG9wdSddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEb2xsYXJzPXt1cGRhdGVEb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX1cbiAgICAgICAgICAgICAgICAgICAgICBnYXVnZXM9e3Byb3BzLmdhdWdlc30vPjtcbiAgICAgIGNhc2UgJ011bHRpU2VsZWN0aW9uJzpcbiAgICAgICAgcmV0dXJuIDxNdWx0aVNlbGVjdGlvbiBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzX3ZhbHVlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ291dF9FbGVjX0Vudl9Qb3B1J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURvbGxhcnM9e3VwZGF0ZURvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXVnZXM9e3Byb3BzLmdhdWdlc30vPjtcbiAgICAgIGNhc2UgJ0JpbGFuJzpcbiAgICAgICAgcmV0dXJuIDxCaWxhbiBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWFuY2U9e3Byb3BzLnBlcmZvcm1hbmNlfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiA8Q2hvaWNlIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fSBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peCddKS5zcGxpdCgnOycpfSBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH0gY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fS8+O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgICBwcm9wcy5lbmRHYW1lID09PSB0cnVlID9cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnYW1lQm94XCI+XG4gICAgICAgICAgPEVuZEdhbWVcbiAgICAgICAgICAgIHJhaXNvbj17cHJvY2Vzc1JlYXNvbkVuZEdhbWUoKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDpcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnYW1lQm94XCI+XG5cbiAgICAgICAgICB7cHJvcHMuY3VyUHJvbXB0WydUeXBlJ10gPT09IFwiQmlsYW5cIiA/XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb21wdEJveCBiaWxhblwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFzc2l2ZVRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICA8aDI+e3BhcnNlKHByb3BzLmN1clByb21wdFsnU3VqZXQnXSl9PC9oMj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VwYXJhdG9yXCI+PC9kaXY+XG4gICAgICAgICAgICAgIHtyZW5kZXJTd2l0Y2gocHJvcHMuY3VyUHJvbXB0WydUeXBlJ10pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgOlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9tcHRCb3hcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1cnRpdHJlXCI+XG4gICAgICAgICAgICAgICAgICA8aDQ+e3BhcnNlKHByb3BzLmN1clByb21wdFsnU3VqZXQnXSl9PC9oND5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1ZXN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICA8cD57cGFyc2UocHJvcHMuY3VyUHJvbXB0WydUZXh0ZSddKX08L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7cmVuZGVyU3dpdGNoKHByb3BzLmN1clByb21wdFsnVHlwZSddKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gIClcblxuXG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR2F1Z2VzIH0gZnJvbSBcIi4vZ2F1Z2VzL0dhdWdlc1wiO1xuaW1wb3J0IHsgSW50cm9Cb3ggfSBmcm9tIFwiLi9pbnRyb0JveFwiO1xuaW1wb3J0IHsgUHJvbXB0Qm94IH0gZnJvbSBcIi4vUHJvbXB0Qm94XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBNYWluRnJhbWUocHJvcHMpe1xuXG4gIGNvbnN0IFtnYW1lU3RhdHVzLCBzZXRTdGF0dXNdID0gdXNlU3RhdGUoJ0lETEUnKTtcbiAgY29uc3QgW2dhbWVJbmRleCwgc2V0R2FtZUluZGV4XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbZG9sbGFycywgc2V0RG9sbGFyc10gPSB1c2VTdGF0ZSg1MCk7XG4gIGNvbnN0IFtwZXJmb3JtYW5jZSwgc2V0UGVyZm9ybWFuY2VdID0gdXNlU3RhdGUoWzAsMCwwXSk7XG4gIGNvbnN0IFtiZywgc2V0QkddID0gdXNlU3RhdGUoJ25vcm1hbCcpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2dhbWUgJywgZ2FtZVN0YXR1cyk7XG4gIH0sIFtnYW1lU3RhdHVzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBnZXRHYW1lUHJvbXB0KGdhbWVJbmRleCk7XG4gICAgaWYoZ2FtZUluZGV4ID09PSBcIkVORFwiKXtcbiAgICAgIGdhbWVFbmQoKTtcbiAgICB9XG4gIH0sIFtnYW1lSW5kZXhdKTtcblxuICBjb25zdCBnYW1lU3RhcnQgPSAoKSA9PiB7XG4gICAgc2V0U3RhdHVzKCdTVEFSVEVEJyk7XG4gICAgc2V0R2FtZUluZGV4KDApO1xuICB9XG5cbiAgY29uc3QgZ2FtZUVuZCA9ICgpID0+IHtcbiAgICBzZXRTdGF0dXMoJ0VORCcpO1xuICB9XG5cbiAgY29uc3QgZ2V0R2FtZVByb21wdCA9IChnYW1lSW5kZXgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnY3VycmVudCBnYW1lIHByb21wdDonLCBwcm9wcy5nYW1lRGF0YS5maWx0ZXIoZWxlbSA9PiB7cmV0dXJuIFN0cmluZyhlbGVtW1wiSURcIl0pID09PSBTdHJpbmcoZ2FtZUluZGV4KTt9KSk7XG4gIH1cblxuICBjb25zdCB1cGRhdGVEb2xsYXJzID0gKGRpZmYpID0+IHtcbiAgICBpZihkb2xsYXJzICsgZGlmZiA+PSAwKXtcbiAgICAgIHNldERvbGxhcnMoZG9sbGFycyA9PiBkb2xsYXJzICsgZGlmZik7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBnYW1lRW5kKCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdXBkYXRlUGVyZm9ybWFuY2UgPSAoZGlmZikgPT4ge1xuICAgIGxldCBuZXdQZXJmb3JtYW5jZSA9IEFycmF5LmFwcGx5KG51bGwsIEFycmF5KGRpZmYubGVuZ3RoKSkubWFwKGZ1bmN0aW9uICgpIHt9KTtcbiAgICBwZXJmb3JtYW5jZS5mb3JFYWNoKChlbGVtLCBjb3VudCkgPT4ge1xuICAgICAgaWYoZWxlbSArIGRpZmZbY291bnRdIDwgMCl7XG4gICAgICAgIC8vZ2FtZUVuZCgpO1xuICAgICAgfVxuICAgICAgbmV3UGVyZm9ybWFuY2VbY291bnRdID0gZWxlbSArIGRpZmZbY291bnRdO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIHBlcmZvcm1hbmNlIHRvIDogJywgbmV3UGVyZm9ybWFuY2UpO1xuICAgIHNldFBlcmZvcm1hbmNlKG5ld1BlcmZvcm1hbmNlKTtcblxuICB9XG5cbiAgY29uc3QgZmluZEdhbWVJbmRleCA9IChJRG5hbWUpID0+IHtcblxuICAgIGNvbnN0IGZvdW5kSUQgPSBwcm9wcy5nYW1lRGF0YS5maW5kSW5kZXgoKGVsZW0pID0+IHtcbiAgICAgIHJldHVybiBTdHJpbmcoSURuYW1lKSA9PT0gU3RyaW5nKGVsZW1bJ0lEJ10pO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3VuZElEO1xuICB9XG5cbiAgY29uc3QgY2hlY2tCRyA9IChjdXJQcm9tcHRUeXBlKSA9PiB7XG4gICAgaWYoY3VyUHJvbXB0VHlwZSA9PT0gXCJDYXRhc3Ryb3BoZVwiKXtcbiAgICAgIHNldEJHKCdyZWRwaW5rJyk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBpZihiZyAhPT0gJ25vcm1hbCcpe1xuICAgICAgICBzZXRCRygnbm9ybWFsJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VyUHJvbXB0ID0gcHJvcHMuZ2FtZURhdGFbZmluZEdhbWVJbmRleChnYW1lSW5kZXgpXTtcbiAgICBpZihjdXJQcm9tcHQgJiYgY3VyUHJvbXB0Lmhhc093blByb3BlcnR5KFwiVHlwZVwiKSl7XG4gICAgICBjaGVja0JHKGN1clByb21wdFtcIlR5cGVcIl0pO1xuICAgIH1cbiAgfSk7XG5cblxuICBjb25zdCBkb21FbGVtZW50ID0gZ2FtZVN0YXR1cyA9PT0gXCJJRExFXCIgP1xuICAgIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2FtZVNjcmVlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhY2tncm91bmQtaW1hZ2VcIj5cbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBzcmM9XCJhc3NldHMvaW1nL0lsbHVzX1NlY3Rpb24tMDBfQ2VudHJhbGVfVjAxLnN2Z1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxJbnRyb0JveCBpbnRyb0VsZW09e3Byb3BzLmludHJvRWxlbX0gbWFwT2JqPXtwcm9wcy5tYXBPYmp9IGdhbWVTdGFydD17Z2FtZVN0YXJ0fSAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICAgIDpcbiAgICA8ZGl2IGNsYXNzTmFtZT17YGdhbWVTY3JlZW4gJHsoZ2FtZVN0YXR1cyA9PT0gXCJFTkRcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVJbmRleCA9PT0gXCJFTkRcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnID09PSBcInJlZHBpbmtcIikgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2FtZU92ZXJcIiA6IFwiXCJ9YH0+XG4gICAgICB7XG4gICAgICAgIChnYW1lU3RhdHVzICE9PSBcIkVORFwiICYmIChnYW1lSW5kZXggPT09IFwiQjFcIiB8fCBnYW1lSW5kZXggPT09IFwiQjJcIikpID9cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhY2tncm91bmQtaW1hZ2VcIj5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPVwiYXNzZXRzL2ltZy9JbGx1c19TZWN0aW9uLTAxX1B5bG9uZV9WMDEtMTQuc3ZnXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgOlxuICAgICAgICAgICcnXG4gICAgICB9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlbXBvcmFyeUluZm9cIj5cbiAgICAgICAgPHA+UGVyZm9ybWFuY2UgKHRlbXBvcmFpcmUpPC9wPlxuICAgICAgICA8cD5Eb2xsYXJzOiB7YCR7ZG9sbGFyc30gJGB9PC9wPlxuICAgICAgICA8cD5FbGVjOiB7YCR7cGVyZm9ybWFuY2VbMF19IFRXaGB9PC9wPlxuICAgICAgICA8cD5FbnZpcm86IHtgJHtwZXJmb3JtYW5jZVsxXX0gcHRzYH08L3A+XG4gICAgICAgIDxwPlBvcHU6IHtgJHtwZXJmb3JtYW5jZVsyXX0gcHRzYH08L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxQcm9tcHRCb3ggY3VySW5kZXg9e2dhbWVJbmRleH1cbiAgICAgICAgY3VyUHJvbXB0PXsoZ2FtZUluZGV4ID09PSBcIkVORFwiKSA/IFwiXCIgOiBwcm9wcy5nYW1lRGF0YVtmaW5kR2FtZUluZGV4KGdhbWVJbmRleCldfVxuICAgICAgICBjaGFuZ2VQcm9tcHQ9e3NldEdhbWVJbmRleH1cbiAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgdXBkYXRlUGVyZm9ybWFuY2U9e3VwZGF0ZVBlcmZvcm1hbmNlfVxuICAgICAgICBnYXVnZXM9ezxHYXVnZXMgZG9sbGFycz17ZG9sbGFyc30vPn1cbiAgICAgICAgcGVyZm9ybWFuY2U9e3BlcmZvcm1hbmNlfVxuICAgICAgICBlbmRHYW1lPXtnYW1lSW5kZXggPT09IFwiRU5EXCIgfHwgZ2FtZVN0YXR1cyA9PT0gXCJFTkRcIn1cblxuICAgICAgICAvPlxuICAgIDwvZGl2PjtcblxuICByZXR1cm4gZG9tRWxlbWVudDtcbn1cbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tL2NsaWVudFwiO1xuaW1wb3J0IHsgcmVuZGVyVG9TdGF0aWNNYXJrdXAgfSBmcm9tICdyZWFjdC1kb20vc2VydmVyJztcbmltcG9ydCB7IE1haW5GcmFtZSB9IGZyb20gJy4vY29tcG9uZW50cy9tYWluZnJhbWUnO1xuaW1wb3J0IHsgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLCBjb250ZW50SGVhZGVyQ29uc3RhbnRzIH0gZnJvbSBcIi4uL2dlbmVyYXRvci9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IEludHJvU2VjdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvSW50cm9TZWN0aW9uJztcblxuZXhwb3J0IGNsYXNzIEVuZ2luZSB7XG5cbiAgY29uc3RydWN0b3IoY29udGFpbmVyLCBvcHRpb25EYXRhLCBpbnRyb09iaiwgZ2FtZURhdGEpe1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIGNvbnN0IHJvb3RFbGVtID0gdGhpcy5jb250YWluZXIuYXBwZW5kKCdkaXYnKVxuICAgICAgLmNsYXNzZWQoJ3Jvb3RFbGVtJywgdHJ1ZSk7XG4gICAgdGhpcy5lbmdpbmVSb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChyb290RWxlbS5ub2RlKCkpO1xuICAgIHRoaXMub3B0aW9uRGF0YSA9IG9wdGlvbkRhdGE7XG4gICAgdGhpcy5hbW9yY2UgPSBpbnRyb09ialtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXTtcbiAgICB0aGlzLmdhbWVEYXRhID0gZ2FtZURhdGE7XG4gICAgY29uc29sZS5sb2coJ2dhbWUgRGF0YSBpcyA6ICcsIHRoaXMuZ2FtZURhdGEpO1xuICAgIHRoaXMuaW5pdEVuZ2luZSgpO1xuICB9XG5cbiAgaW5pdEVuZ2luZSgpe1xuICAgIGNvbnN0IGludHJvRWxlbSA9ICg8SW50cm9TZWN0aW9uXG4gICAgICBrZXk9e1wiZ2FtZUludHJvXCJ9XG4gICAgICBzZWN0aW9uVHlwZT17b3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5pbnRyb3RpdHJlfVxuICAgICAgb3B0aW9uRGF0YT17dGhpcy5vcHRpb25EYXRhfVxuICAgICAgYW1vcmNlPXt0aGlzLmFtb3JjZX1cbiAgICAgIGJhY2tncm91bmQ9e251bGx9XG4gICAgICBjbGFzc2VzPXtcIlwifVxuICAgICAgLz4pO1xuXG4gICAgdGhpcy5lbmdpbmVSb290LnJlbmRlcig8TWFpbkZyYW1lIGludHJvRWxlbT17aW50cm9FbGVtfSBnYW1lU3RhdHVzPXt0aGlzLmdhbWVTdGF0dXN9IGdhbWVEYXRhPXt0aGlzLmdhbWVEYXRhfS8+KTtcbiAgfVxuXG59XG4iLCIvKipcbiAqIHZpei5qc1xuICogPT09PT09PVxuICogRmlsZSB1c2VkIHRvIGRlZmluZSB0aGUgdmlzdWFsaXphdGlvbiBzZWN0aW9uLlxuICovXG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IGdldFN0cnVjdHVyZSwgZ2VuZXJhdGVDYWxsYmFja3MsIGdldE9wdGlvbnMgfSBmcm9tICcuL2dlbmVyYXRvci9zdHJ1Y3R1cmVHZW5lcmF0b3IuanMnO1xuaW1wb3J0IHsgY2FsbGJhY2tzIH0gZnJvbSAnLi4vZGF0YS9zdHJ1Y3R1cmUvY2FsbGJhY2tzLmpzJztcblxuaW1wb3J0IHsgTWFwIH0gZnJvbSAnbGVkZXZvaXItZGF0YXZpeic7XG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuL2dhbWUvZW5naW5lLmpzJztcblxuY29uc3QgY29uZmlnID0ge1xuICB3aWR0aDogNTAwLFxuICBoZWlnaHQ6IDUwMCxcbiAgbWFyZ2luOiB7XG4gICAgdG9wOiAxMDAsXG4gICAgcmlnaHQ6IDEwMCxcbiAgICBib3R0b206IDEwMCxcbiAgICBsZWZ0OiAxMDBcbiAgfVxufVxuY29uc3QgZnVsbFdpZHRoID0gY29uZmlnLm1hcmdpbi5sZWZ0ICsgY29uZmlnLndpZHRoICsgY29uZmlnLm1hcmdpbi5yaWdodDtcbmNvbnN0IGZ1bGxIZWlnaHQgPSBjb25maWcubWFyZ2luLnRvcCArIGNvbmZpZy5oZWlnaHQgKyBjb25maWcubWFyZ2luLmJvdHRvbTtcbmNvbnN0IG1hcEJveFN0eWxlID0gXCJtYXBib3g6Ly9zdHlsZXMvbGVkZXZvaXIvY2xhbDl6bGZrMDA0YTE1cW9oaHI3cjQ5NVwiO1xuXG5jb25zdCBjdXN0b21DYWxsYmFja3NOZWVkZWQgPSB0cnVlOyAvLyBTZXQgdG8gdHJ1ZSBpZiBjdXN0b20gY2FsbGJhY2tzIGFyZSBuZWVkZWRcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemUoY29udGVudERhdGEsIG9wdGlvbnMpIHtcblxuICByZXR1cm4gZDMuY3N2KFwiaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvZS8yUEFDWC0xdlFRWjNzejBxMXZuWm1vWVlSNUlyQ2Z1T05oSGNOdzUwaUR0YmcxSDJtSVg4bEhETDFCUTRzQU1pN2lBcFNFMUc5V1FUVzJqSGNXdjRLVy9wdWI/Z2lkPTE0OTc4NjEwMTcmc2luZ2xlPXRydWUmb3V0cHV0PWNzdlwiKVxuICAgIC50aGVuKCBnYW1lRGF0YSA9PiB7XG5cbiAgICAgIGNvbnN0IG1hcENvbnRhaW5lciA9IGQzLnNlbGVjdChcIi5nYW1lLWFyZWFcIik7XG5cbiAgICAgIGNvbnN0IGVuZ2luZSA9IG5ldyBFbmdpbmUobWFwQ29udGFpbmVyLCBnZXRPcHRpb25zKG9wdGlvbnMpLCBjb250ZW50RGF0YVswXSwgZ2FtZURhdGEpO1xuXG4gICAgICBsZXQgYXV0b0NhbGxiYWNrcztcbiAgICAgIHNldHVwVml6KGNvbnRlbnREYXRhLG9wdGlvbnMpO1xuICAgICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgIGF1dG9DYWxsYmFja3MgPSBnZW5lcmF0ZUNhbGxiYWNrcyhjb250ZW50RGF0YSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICBhdXRvQ2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuICAgICAgfVxuXG4gICAgICBpZihjdXN0b21DYWxsYmFja3NOZWVkZWQpe1xuICAgICAgICAvL2lmIGN1c3RvbSBjYWxsYmFja3MgYXJlIG5lZWRlZCwgc3VjaCBhcyBWaXN1YWxpemF0aW9uIHRyYW5zZm9ybWF0aW9ucywgaW5jbHVkZSB0aGVtIGhlcmUuXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIHRvIHVzZSBhbnkgb2JqZWN0IGNyZWF0ZWQgaW4gdml6LmpzIChncmFwaHMsIHRvb2xzLCBldGMpIGluIHRoZSBjYWxsYmFja3MuXG4gICAgICAgIC8vIFlvdSB3aWxsIG5lZWQgdG8gbWFudWFsbHkgY3JlYXRlIHRoZSBjb3JyZWN0IG51bWJlciBvZiBjYWxsYmFja3MgdG8gbWF0Y2ggdGhlIHZpeiBzZWN0aW9uc1xuXG4gICAgICAgIGxldCBjdXN0b21DYWxsYmFja3MgPSBbXG4gICAgICAgICAgW1xuICAgICAgICAgICAgKCkgPT4ge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICBdXG4gICAgICAgIHJldHVybiBjdXN0b21DYWxsYmFja3M7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXV0b0NhbGxiYWNrcztcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0dXBWaXooY29udGVudERhdGEsIG9wdGlvbnMpe1xuXG4gIGNvbnN0IGZ1bGxTdHJ1Y3R1cmUgPSBnZXRTdHJ1Y3R1cmUoY29udGVudERhdGEsIG9wdGlvbnMpO1xuICBjb25zb2xlLmxvZygnY2hlY2tpbmcgc3RydWN0dXJlOicsIGZ1bGxTdHJ1Y3R1cmUpO1xuICBmdWxsU3RydWN0dXJlLm1hcChzZWN0aW9uT2JqID0+IHtcblxuICAgIGlmKHNlY3Rpb25PYmouc2VjdGlvblR5cGUgPT09IFwidml6LXNlY3Rpb25cIil7XG4gICAgICBzZWN0aW9uT2JqLnN0ZXBzLm1hcCgoc3RlcCxpbmRleCkgPT4ge1xuICAgICAgICAgIGlmKHN0ZXAudmlzdWFsICE9PSBcIlwiKXtcbiAgICAgICAgICAgIGlmKGluZGV4ID09PSAwKXtcbiAgICAgICAgICAgICAgZDMuc2VsZWN0KGAjJHtzZWN0aW9uT2JqLmtleX1fJHtpbmRleH1gKS5zdHlsZSgnb3BhY2l0eScsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgZDMuc2VsZWN0KGAjJHtzZWN0aW9uT2JqLmtleX1fJHtpbmRleH1gKS5zdHlsZSgnb3BhY2l0eScsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbn0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cFZpZGVvcygpe1xuICBsZXQgdmlkZW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInZpZGVvXCIpO1xuICAgIHZpZGVvcy5mb3JFYWNoKCh2aWRlbykgPT4ge1xuICAgICAgLy8gV2UgY2FuIG9ubHkgY29udHJvbCBwbGF5YmFjayB3aXRob3V0IGluc3RlcmFjdGlvbiBpZiB2aWRlbyBpcyBtdXRlXG4gICAgICB2aWRlby5tdXRlZCA9IHRydWU7XG4gICAgICB2aWRlby5jdXJyZW50VGltZSA9IDA7XG4gICAgICAvLyBQbGF5IGlzIGEgcHJvbWlzZSBzbyB3ZSBuZWVkIHRvIGNoZWNrIHdlIGhhdmUgaXRcbiAgICAgIGxldCBwbGF5UHJvbWlzZSA9IHZpZGVvLnBsYXkoKTtcbiAgICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcGxheVByb21pc2UudGhlbigoXykgPT4ge1xuICAgICAgICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgICAgICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gIT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF2aWRlby5wYXVzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlby5wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW8uY3VycmVudFRpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnBhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgeyB0aHJlc2hvbGQ6IDAuMiB9XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUodmlkZW8pO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xufVxuIiwiLyoqXHJcbiAqIHNjcm9sbGVyLmpzXHJcbiAqID09PT09PT09PT09XHJcbiAqIERlZmluZXMgdGhlIGxvZ2ljIHVzZWQgYnkgdGhlIHNjcm9sbGVyLiBUaGlzIHNjcmlwdCBkb2VzIG5vdCBuZWVkIGV4dGVybmFsIGRlcGVuZGVuY2llcyBhbmQgdXNlcyBuYXRpdmUgZnVuY3Rpb25zXHJcbiAqIG9mIHRoZSBicm93c2VyLlxyXG4gKlxyXG4gKiAvIVxcIFBMRUFTRSwgRE8gTk9UIE1PRElGWSBUSElTIEZJTEUuXHJcbiAqXHJcbiAqIEBhdXRob3IgQW50b2luZSBCw6lsYW5kIDxhYmVsYW5kQGxlZGV2b2lyLmNvbT5cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogRGVmaW5lcyBhIHN0ZXAgYXNzb2NpYXRlZCB3aXRoIGEgc3BlY2lmaWMgdmlzdWFsaXphdGlvbi4gQSBzdGVwIGlzIGFjdGl2YXRlZCBvciBkZWFjdGl2YXRlZCBiYXNlZCBvbiB0aGUgc2Nyb2xsXHJcbiAqIHBvc2l0aW9uLiBUaGlzIGNsYXNzIGlzIHVzZWQgYnkgdGhlIHNjcm9sbGVyIGZ1bmN0aW9uLlxyXG4gKi9cclxuY2xhc3MgU2Nyb2xsZXJTdGVwIHtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBhIG5ldyBpbnN0YW5jZSBvZiBTY3JvbGxlclN0ZXAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZWwgICAgICAgICAgVGhlIG5hdGl2ZSBlbGVtZW50IHRoYXQgcmVwcmVzZW50cyB0aGUgc3RlcCBpbiB0aGUgSFRNTCBkb2N1bWVudC5cclxuICAgKiBAcGFyYW0gaW5kZXggICAgICAgVGhlIGluZGV4IG9mIHRoZSBzdGVwLlxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayAgICBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBzdGVwIGlzIGFjdGl2YXRlLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGVsLCBpbmRleCwgY2FsbGJhY2spIHtcclxuICAgIHRoaXMuZWwgPSBlbDtcclxuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIHRoaXMuX2lzQWN0aXZhdGUgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFjdGl2YXRlcyB0aGUgY3VycmVudCBzdGVwLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHNjcm9sbERpcmVjdGlvbiAgIFRoZSBjdXJyZW50IHNjcm9sbCBkaXJlY3Rpb24uXHJcbiAgICovXHJcbiAgYWN0aXZhdGUoc2Nyb2xsRGlyZWN0aW9uKSB7XHJcbiAgICBpZiAodGhpcy5faXNBY3RpdmF0ZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLl9pc0FjdGl2YXRlID0gdHJ1ZTtcclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB0aGlzLmNhbGxiYWNrKHNjcm9sbERpcmVjdGlvbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZWFjdGl2YXRlcyB0aGUgY3VycmVudCBzdGVwLlxyXG4gICAqL1xyXG4gIGRlYWN0aXZhdGUoKSB7XHJcbiAgICBpZiAoIXRoaXMuX2lzQWN0aXZhdGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faXNBY3RpdmF0ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIHRoZSBzY3JvbGwgZGlyZWN0aW9ucy5cclxuICpcclxuICogQHR5cGUge3t1cDogc3RyaW5nLCBkb3duOiBzdHJpbmd9fVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHNjcm9sbERpcmVjdGlvbnMgPSB7XHJcbiAgdXA6ICd1cCcsXHJcbiAgZG93bjogJ2Rvd24nXHJcbn07XHJcblxyXG4vKipcclxuICogRGVmaW5lcyB0aGUgc2Nyb2xsZXIgdG8gdXNlIHdpdGggdGhlIExlIERldm9pcidzIHNjcm9sbHl0ZWxsaW5nIGFydGljbGVzLiBQbGVhc2Ugc2VlIFwiUkVBRE1FLm1kXCJcclxuICogdG8ga25vdyBob3cgdG8gdXNlIGl0LlxyXG4gKlxyXG4gKiAvIVxcIEJlIHN1cmUgdG8gdXNlIHRoZSBnb29kIENTUyBjbGFzcyBuYW1lcyBpbiB5b3VyIEhUTUwgZmlsZSBiZWZvcmUgdG8gdXNlIHRoZSBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIGNhbGxiYWNrcyAgIEEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgb2YgY2FsbGJhY2tzIHRvIHVzZSB3aXRoIGVhY2ggc3RlcC5cclxuICogQHJldHVybnMgeyp9ICAgICAgIFRoZSBpbnN0YW5jZSBvZiB0aGUgc2Nyb2xsZXIuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsZXIoY2FsbGJhY2tzKSB7XHJcbiAgbGV0IF9vZmZzZXRUb3AgPSAwO1xyXG4gIGxldCBfb2Zmc2V0Qm90dG9tID0gMDtcclxuXHJcbiAgbGV0IGlubmVySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gIGxldCBpc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgbGV0IGxhc3RTY3JvbGwgPSAwO1xyXG4gIGxldCBzdGVwcyA9IFtdO1xyXG4gIGxldCB2aXogPSBbXTtcclxuICBsZXQgdmlzaWJsZVN0ZXBzID0gW107XHJcbiAgXHJcbiAgY29uc3QgYXJ0aWNsZVJlbWluZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFydGljbGUtcmVtaW5kZXInKTtcclxuICBjb25zdCBzY3JvbGxQcm9ncmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciA+IC5wcm9ncmVzcycpO1xyXG4gIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvLXNlY3Rpb24gaDEnKTtcclxuXHJcbiAgY29uc3Qgdml6U2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudml6LXNlY3Rpb24nKTtcclxuICBpZiAodml6U2VjdGlvbnMubGVuZ3RoICE9PSBjYWxsYmFja3MubGVuZ3RoKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBudW1iZXIgb2Ygdml6IHNlY3Rpb25zICgke3ZpelNlY3Rpb25zLmxlbmd0aH0pIG1pc21hdGNoIHdpdGggdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3QgYCArXHJcbiAgICAgIGBkaW1lbnNpb24gb2YgdGhlIGNhbGxiYWNrcyBhcnJheSAoJHtjYWxsYmFja3MubGVuZ3RofSkuIFBsZWFzZSwgYmUgc3VyZSB0aGF0IHRoZSB0d28gZWxlbWVudHMgYCArXHJcbiAgICAgIGBoYXZlIHRoZSBzYW1lIHNpemUuYCk7XHJcbiAgfVxyXG4gIHZpelNlY3Rpb25zLmZvckVhY2goKHZpelNlY3Rpb24sIGkpID0+IHtcclxuICAgIGNvbnN0IHNlY3Rpb25zID0gWy4uLnZpelNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbicpXTtcclxuICAgIGlmIChzZWN0aW9ucy5sZW5ndGggIT09IGNhbGxiYWNrc1tpXS5sZW5ndGgpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgbnVtYmVyIG9mIHN0ZXBzICgke3NlY3Rpb25zLmxlbmd0aH0pIGluIHRoZSB2aXogc2VjdGlvbiAjJHtpICsgMX0gbWlzbWF0Y2ggd2l0aCB0aGUgYCArXHJcbiAgICAgICAgYG51bWJlciBvZiBjYWxsYmFja3Mgc3BlY2lmaWVkICgke2NhbGxiYWNrc1tpXS5sZW5ndGh9KSBhdCB0aGUgaW5kZXggXCIke2l9XCIuIFBsZWFzZSwgYmUgc3VyZSB0aGF0IHRoZSB0d28gYCArXHJcbiAgICAgICAgYGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgc2l6ZS5gKTtcclxuICAgIH1cclxuICAgIHN0ZXBzID0gc3RlcHMuY29uY2F0KHNlY3Rpb25zLm1hcCgoZSwgaikgPT4gbmV3IFNjcm9sbGVyU3RlcChlLCBgJHtpfS0ke2p9YCwgY2FsbGJhY2tzW2ldW2pdKSkpO1xyXG4gICAgdml6ID0gdml6LmNvbmNhdCh2aXosIHZpelNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnZpeiA+IConKSk7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXkgYmFzZWQgb24gc2Nyb2xsYmFyIHBvc2l0aW9uLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgY29uc3QgX3VwZGF0ZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRTY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgIHN0ZXBzLmZvckVhY2goc3RlcCA9PiB7XHJcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBjdXJyZW50IHN0ZXAgaXMgaW4gdGhlIHZpZXdwb3J0LlxyXG4gICAgICBjb25zdCBib3VuZGluZ1JlY3QgPSBzdGVwLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBpZiAoaW5uZXJIZWlnaHQgLSBib3VuZGluZ1JlY3QudG9wIC0gX29mZnNldEJvdHRvbSA+IDBcclxuICAgICAgICAmJiBib3VuZGluZ1JlY3QudG9wICsgYm91bmRpbmdSZWN0LmhlaWdodCAtIF9vZmZzZXRUb3AgPiAwKSB7XHJcbiAgICAgICAgdmlzaWJsZVN0ZXBzLnB1c2goc3RlcCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RlcC5kZWFjdGl2YXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIERpc3BsYXkgdGhlIHRpdGxlIGFzIGEgcmVtaW5kZXIgd2hlbiB0aGUgbWFpbiBhcnRpY2xlIHRpdGxlIGlzIGhpZGRlbi5cclxuICAgIGNvbnN0IGlzQXJ0aWNsZVJlbWluZGVyRGlzcGxheWVkID0gdGl0bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tIDw9IDA7XHJcbiAgICBjb25zdCBpc0FydGljbGVSZW1pbmRlcklzVmlzaWJsZSA9IGFydGljbGVSZW1pbmRlci5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKTtcclxuICAgIGlmIChpc0FydGljbGVSZW1pbmRlckRpc3BsYXllZCAmJiAhaXNBcnRpY2xlUmVtaW5kZXJJc1Zpc2libGUpIHtcclxuICAgICAgYXJ0aWNsZVJlbWluZGVyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKVxyXG4gICAgfSBlbHNlIGlmICghaXNBcnRpY2xlUmVtaW5kZXJEaXNwbGF5ZWQgJiYgaXNBcnRpY2xlUmVtaW5kZXJJc1Zpc2libGUpIHtcclxuICAgICAgYXJ0aWNsZVJlbWluZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEZvciB0aGUgdmlzaWJsZSBzdGVwcywgY2hvb3NlIHRoZSBnb29kIG9uZSBiYXNlZCBvbiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi5cclxuICAgIHZpc2libGVTdGVwcy5mb3JFYWNoKChzZWN0aW9uLCBpKSA9PiB7XHJcbiAgICAgIGlmIChjdXJyZW50U2Nyb2xsID49IGxhc3RTY3JvbGwpIHsgLy8gU2Nyb2xsIGRvd24gKOKGkylcclxuICAgICAgICBpZiAoaSA9PT0gdmlzaWJsZVN0ZXBzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIHNlY3Rpb24uYWN0aXZhdGUoc2Nyb2xsRGlyZWN0aW9ucy5kb3duKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VjdGlvbi5kZWFjdGl2YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgeyAvLyBTY3JvbGwgdXAgKOKGkSlcclxuICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgc2VjdGlvbi5hY3RpdmF0ZShzY3JvbGxEaXJlY3Rpb25zLnVwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VjdGlvbi5kZWFjdGl2YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIF91cGRhdGVTY3JvbGxQcm9ncmVzcygpO1xyXG5cclxuICAgIC8vIFJlc2V0IHRoZSB2YXJpYWJsZXMgZm9yIHRoZSBuZXh0IGZ1bmN0aW9uIGNhbGwuXHJcbiAgICB2aXNpYmxlU3RlcHMgPSBbXTtcclxuICAgIGxhc3RTY3JvbGwgPSBjdXJyZW50U2Nyb2xsO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIHNjcm9sbCBwcm9ncmVzc2lvbiBpbmRpY2F0b3IuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBjb25zdCBfdXBkYXRlU2Nyb2xsUHJvZ3Jlc3MgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB3aW5TY3JvbGwgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XHJcbiAgICBjb25zdCBzY3JvbGxlZCA9ICh3aW5TY3JvbGwgLyBoZWlnaHQpICogMTAwO1xyXG4gICAgc2Nyb2xsUHJvZ3Jlc3Muc3R5bGUud2lkdGggPSBzY3JvbGxlZCArICclJztcclxuICB9O1xyXG5cclxuICBjb25zdCBwdWJsaWNJbnRlcmZhY2UgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSBzY3JvbGxlci4gUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGNhbiBiZSBvbmx5IGNhbGxlZCBvbmNlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgaW5zdGFuY2Ugb2YgdGhlIHNjcm9sbGVyLlxyXG4gICAgICovXHJcbiAgICBpbml0aWFsaXplOiAoKSA9PiB7XHJcbiAgICAgIGlmIChpc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc2Nyb2xsZXIgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4nKTtcclxuICAgICAgfVxyXG4gICAgICBpc0luaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF91cGRhdGUpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICAgIGlubmVySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgIF91cGRhdGVTY3JvbGxQcm9ncmVzcygpO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKCh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgPiAwKSB7XHJcbiAgICAgICAgX3VwZGF0ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIF91cGRhdGVTY3JvbGxQcm9ncmVzcygpO1xyXG4gICAgICByZXR1cm4gcHVibGljSW50ZXJmYWNlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgdG9wIG9mZnNldCB0byB1c2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9mZnNldFRvcFxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBpbnN0YW5jZSBvZiB0aGUgc2Nyb2xsZXIuXHJcbiAgICAgKi9cclxuICAgIG9mZnNldFRvcDogb2Zmc2V0VG9wID0+IHtcclxuICAgICAgaWYgKG9mZnNldFRvcCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9vZmZzZXRUb3A7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG9mZnNldFRvcCkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBvZmZzZXQgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlci4nKTtcclxuICAgICAgfVxyXG4gICAgICBfb2Zmc2V0VG9wID0gb2Zmc2V0VG9wO1xyXG4gICAgICByZXR1cm4gcHVibGljSW50ZXJmYWNlO1xyXG4gICAgfSAsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIGJvdHRvbSBvZmZzZXQgdG8gdXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvZmZzZXRCb3R0b21cclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgaW5zdGFuY2Ugb2YgdGhlIHNjcm9sbGVyLlxyXG4gICAgICovXHJcbiAgICBvZmZzZXRCb3R0b206IG9mZnNldEJvdHRvbSA9PiB7XHJcbiAgICAgIGlmIChvZmZzZXRCb3R0b20gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBfb2Zmc2V0Qm90dG9tO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihvZmZzZXRCb3R0b20pKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgb2Zmc2V0IG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXIuJyk7XHJcbiAgICAgIH1cclxuICAgICAgX29mZnNldEJvdHRvbSA9IG9mZnNldEJvdHRvbTtcclxuICAgICAgcmV0dXJuIHB1YmxpY0ludGVyZmFjZTtcclxuICAgIH1cclxuICB9O1xyXG4gIHJldHVybiBwdWJsaWNJbnRlcmZhY2U7XHJcbn1cclxuIiwiXHJcbmltcG9ydCB7IGluaXRpYWxpemUgYXMgdjEgfSBmcm9tICcuLi92aXonO1xyXG5pbXBvcnQgeyBzY3JvbGxlciB9IGZyb20gJy4uL3Njcm9sbGVyJztcclxuaW1wb3J0IExhenlMb2FkIGZyb20gXCJ2YW5pbGxhLWxhenlsb2FkXCI7XHJcbmNvbnN0IGhlYWRlckhlaWdodCA9IDQwO1xyXG5pbXBvcnQgc3RpY2t5Qml0cyBmcm9tICdzdGlja3liaXRzJ1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTY3JvbGxlcihjb250ZW50RGF0YSwgcGFyYW1zRGF0YSl7XHJcblxyXG4gICAgbGV0IGVsZW1lbnRzID0gW107XHJcbiAgICBbJy52aXonLCAnLmZ1bGwtcGFnZS1zZWN0aW9uID4gaW1nJywgJy5mdWxsLXBhZ2Utc2VjdGlvbiA+IHZpZGVvJ10uZm9yRWFjaChzZWxlY3RvciA9PiB7XHJcbiAgICAgIGVsZW1lbnRzID0gZWxlbWVudHMuY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpKTtcclxuICAgIH0pO1xyXG4gICAgc3RpY2t5Qml0cyhlbGVtZW50cywgeyBzdGlja3lCaXRTdGlja3lPZmZzZXQ6IGhlYWRlckhlaWdodCB9KTtcclxuICBcclxuICAgIGNvbnN0IGxsID0gbmV3IExhenlMb2FkKHtcclxuICAgICAgZWxlbWVudHNfc2VsZWN0b3I6IFwiLmxhenlcIixcclxuICAgICAgdGhyZXNob2xkOiA1MDBcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgUHJvbWlzZS5hbGwoW3YxKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKV0pLnRoZW4oKFtjYWxsYmFja3NWMV0pID0+ICB7XHJcbiAgICAgIHNjcm9sbGVyKGNhbGxiYWNrc1YxKVxyXG4gICAgICAgIC5vZmZzZXRUb3AoaGVhZGVySGVpZ2h0KVxyXG4gICAgICAgIC5vZmZzZXRCb3R0b20oMClcclxuICAgICAgICAuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfSk7XHJcbiAgfSIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEludHJvU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL0ludHJvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgVGV4dFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9UZXh0U2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgVml6U2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1ZpelNlY3Rpb24uanNcIjtcbmltcG9ydCB7IEZ1bGxQYWdlU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Z1bGxQYWdlU2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XG5pbXBvcnQgeyBnZXRTdHJ1Y3R1cmUgfSBmcm9tIFwiLi9zdHJ1Y3R1cmVHZW5lcmF0b3IuanNcIjtcbmltcG9ydCB7IGluaXRTY3JvbGxlciB9IGZyb20gXCIuL2luaXRTY3JvbGxlci5qc1wiO1xuXG5cbi8qKlxuICogVGFrZSBwcm9wcyAoYXJ0aWNsZSBzdHJ1Y3R1cmUgYXMgQ1NWIGFuZCBwYXJhbXMpIGFuZCB0cmFuc2Zvcm0gaXQgYXMgSFRNTCBhcmNoaXRlY3R1cmVcbiAqIEBwYXJhbSAge09iamVjdH0gY29udGVudERhdGEgQXJ0aWNsZSdzIENTViBzdHJ1Y3R1cmVcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNEYXRhIEFydGljbGUgcGFyYW1ldGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBPYmogSFRNTCBjb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW5kZXJTdHJ1Y3R1cmUocHJvcHMpe1xuICAgIGlmKHByb3BzLnJlbmRlcmVkKXtcbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICAgICAgaW5pdFNjcm9sbGVyKHByb3BzLmNvbnRlbnREYXRhLCBwcm9wcy5wYXJhbXNEYXRhKTtcblxuICAgICAgICB9LCBbXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlckRhdGEoZ2V0U3RydWN0dXJlKHByb3BzLmNvbnRlbnREYXRhLCBwcm9wcy5wYXJhbXNEYXRhKSk7XG5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckRhdGEoc3RydWN0dXJlRGF0YSl7XG5cbiAgICBsZXQgcmVuZGVyZWREYXRhID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhzdHJ1Y3R1cmVEYXRhKS5tYXAoKHNlY3Rpb25LZXksaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IGN1clNlY3Rpb24gPSBzdHJ1Y3R1cmVEYXRhW3NlY3Rpb25LZXldO1xuICAgICAgICBpZihjdXJTZWN0aW9uLnNlY3Rpb25UeXBlID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLmludHJvdGl0cmUpe1xuICAgICAgICAgICAgcmVuZGVyZWREYXRhW3NlY3Rpb25LZXldID0gKCg8SW50cm9TZWN0aW9uIGtleT17Y3VyU2VjdGlvbi5rZXl9IHNlY3Rpb25UeXBlPXtjdXJTZWN0aW9uLnNlY3Rpb25UeXBlfSBvcHRpb25EYXRhPXtjdXJTZWN0aW9uLm9wdGlvbkRhdGF9IGFtb3JjZT17cGFyc2UoY3VyU2VjdGlvbi5hbW9yY2UpfSBiYWNrZ3JvdW5kPXtjdXJTZWN0aW9uLmJhY2tncm91bmR9IGNsYXNzZXM9e2N1clNlY3Rpb24uY2xhc3Nlc30gLz4pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGN1clNlY3Rpb24uc2VjdGlvblR5cGUgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudGV4dGVjbGFzc2lxdWUpe1xuXG4gICAgICAgICAgICByZW5kZXJlZERhdGFbc2VjdGlvbktleV0gPSAoKDxUZXh0U2VjdGlvbiBrZXk9e2N1clNlY3Rpb24ua2V5fSBpZD17Y3VyU2VjdGlvbi5rZXl9IHNlY3Rpb25UeXBlPXtjdXJTZWN0aW9uLnNlY3Rpb25UeXBlfSB0ZXh0cz17Y3VyU2VjdGlvbi50ZXh0c30gYmFja2dyb3VuZD17Y3VyU2VjdGlvbi5iYWNrZ3JvdW5kfSBjbGFzc2VzPXtjdXJTZWN0aW9uLmNsYXNzZXN9IHZpc3VlbGNsYXNzZXM9e2N1clNlY3Rpb24udmlzdWVsY2xhc3Nlc30gdmlzdWFsPXtjdXJTZWN0aW9uLnZpc3VhbH0gZmlsZW5hbWU9e2N1clNlY3Rpb24uZmlsZW5hbWV9Lz4pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGN1clNlY3Rpb24uc2VjdGlvblR5cGUgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMucGxlaW5lcGFnZXRpdHJlKXtcbiAgICAgICAgICAgIHJlbmRlcmVkRGF0YVtzZWN0aW9uS2V5XSA9ICgoPEZ1bGxQYWdlU2VjdGlvbiBrZXk9e2N1clNlY3Rpb24ua2V5fSBpZD17Y3VyU2VjdGlvbi5rZXl9IHNlY3Rpb25UeXBlPXtjdXJTZWN0aW9uLnNlY3Rpb25UeXBlfSBiYWNrZ3JvdW5kPXtjdXJTZWN0aW9uLmJhY2tncm91bmR9IGNsYXNzZXM9e2N1clNlY3Rpb24uY2xhc3Nlc30gdmlzdWVsY2xhc3Nlcz17Y3VyU2VjdGlvbi52aXN1ZWxjbGFzc2VzfSB2aXN1YWw9e2N1clNlY3Rpb24udmlzdWFsfSBtYWluVGl0bGU9e2N1clNlY3Rpb24udGV4dHMubWFpblRpdGxlfSBzdWJUaXRsZT17Y3VyU2VjdGlvbi50ZXh0cy5zdWJUaXRsZX0gZmlsZW5hbWU9e2N1clNlY3Rpb24uZmlsZW5hbWV9IC8+KSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGN1clNlY3Rpb24uc2VjdGlvblR5cGUgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudml6c2VjdGlvbil7XG4gICAgICAgICAgICByZW5kZXJlZERhdGFbc2VjdGlvbktleV0gPSAoPFZpelNlY3Rpb24ga2V5PXtjdXJTZWN0aW9uLmtleX0gbGlzdElEPXtjdXJTZWN0aW9uLmxpc3RJRH0gc3RlcHM9e2N1clNlY3Rpb24uc3RlcHN9IGNsYXNzZWQ9e2N1clNlY3Rpb24uY2xhc3NlZH0gbWVkaWFJbmZvPXtjdXJTZWN0aW9uLm1lZGlhSW5mb30gYmFja2dyb3VuZD17Y3VyU2VjdGlvbi5iYWNrZ3JvdW5kfS8+KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlbmRlcmVkRGF0YSk7XG59XG4iLCIvKipcbiAqIGFwcC5qc1xuICogPT09PT09XG4gKiBNYWluIGZpbGUgb2YgdGhlIGFwcGxpY2F0aW9uLiBUaGlzIGZpbGUgaXMgdXNlZCB0byBpbml0aWFsaXplIHRoZSBzY3JvbGxlciBhbmQgaW1wb3J0cyB0aGUgdmlzdWFsaXphdGlvbnMgdXNlZC5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgc3RydWN0dXJlIGZyb20gJy4uL2RhdGEvc3RydWN0dXJlL3N0cnVjdHVyZS5qc29uJztcblxuaWYoIUVOVl9DT05GSUcuZG93bmxvYWRTdHJ1Yyl7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyb290JykuaW5uZXJIVE1MID0gKHN0cnVjdHVyZS5odG1sc3RydWMpO1xufVxuXG5pbXBvcnQgJy4uL2Fzc2V0cy9zdHlsZXMvc3R5bGUuc2Nzcyc7XG5pbXBvcnQge2dvb2dsZV9jb25maWd9IGZyb20gXCIuLi9kYXRhL2dvb2dsZV9jb25maWdcIjtcbmltcG9ydCB7IFJlbmRlclN0cnVjdHVyZSB9IGZyb20gJy4vZ2VuZXJhdG9yL1JlbmRlclN0cnVjdHVyZSc7XG5pbXBvcnQgeyBpbml0U2Nyb2xsZXIgfSBmcm9tICcuL2dlbmVyYXRvci9pbml0U2Nyb2xsZXInO1xuaW1wb3J0IHsgZ2VuZXJhdGVDYWxsYmFja3MgfSBmcm9tICcuL2dlbmVyYXRvci9zdHJ1Y3R1cmVHZW5lcmF0b3InO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSAnZmlsZS1zYXZlcic7XG5cbmlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1Yyl7XG4gIFByb21pc2UuYWxsKFtpbXBvcnQoXCJyZWFjdC1kb20vY2xpZW50XCIpLCBpbXBvcnQoXCJyZWFjdC1kb20vc2VydmVyXCIpLCBpbXBvcnQoXCJyZWFjdFwiKV0pXG4gICAgLnRoZW4ocGFja2FnZXMgPT4ge1xuICAgICAgY29uc3QgUmVhY3RET00gPSBwYWNrYWdlc1swXTtcbiAgICAgIGNvbnN0IFJlYWN0RE9NU2VydmVyID0gcGFja2FnZXNbMV07XG4gICAgICBjb25zdCBSZWFjdCA9IHBhY2thZ2VzWzJdO1xuICAgICAgYWRkTm90UHVibGlzaGVkKCk7XG4gICAgICBpZihFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5jb250ZW50VVJMKS50aGVuKCBjb250ZW50RGF0YSA9PiB7XG4gICAgICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcucGFyYW1zVVJMKS50aGVuKCBwYXJhbXNEYXRhID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKSk7XG4gICAgICAgICAgICByb290LnJlbmRlcihcbiAgICAgICAgICAgICAgPFJlbmRlclN0cnVjdHVyZSBjb250ZW50RGF0YT17Y29udGVudERhdGF9IHBhcmFtc0RhdGE9e3BhcmFtc0RhdGF9IHJlbmRlcmVkPXt0cnVlfS8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYWRkRm9vdGVyKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcuY29udGVudFVSTCkudGhlbiggY29udGVudERhdGEgPT4ge1xuICAgICAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLnBhcmFtc1VSTCkudGhlbiggcGFyYW1zRGF0YSA9PiB7XG4gICAgICAgICAgICBkMy5ibG9iKGdvb2dsZV9jb25maWcuY29udGVudFVSTCkudGhlbihjb250ZW50QmxvYiA9PiB7XG4gICAgICAgICAgICAgIGQzLmJsb2IoZ29vZ2xlX2NvbmZpZy5wYXJhbXNVUkwpLnRoZW4ocGFyYW1zQmxvYiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGVkU3RydWMgPSBSZW5kZXJTdHJ1Y3R1cmUoe2NvbnRlbnREYXRhOiBjb250ZW50RGF0YSwgcGFyYW1zRGF0YTogcGFyYW1zRGF0YSwgcmVuZGVyOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWxTdHJ1YyA9IFJlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RhdGljTWFya3VwKGdlbmVyYXRlZFN0cnVjKTtcbiAgICAgICAgICAgICAgICB3cml0ZUhUTUxmaWxlKGh0bWxTdHJ1YywgY29udGVudEJsb2IsIHBhcmFtc0Jsb2IpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlQ2FsbGJhY2tzKGNvbnRlbnREYXRhLHBhcmFtc0RhdGEpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pXG59XG5lbHNle1xuICBpZihFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgIFByb21pc2UuYWxsKFtpbXBvcnQoXCJyZWFjdC1kb20vY2xpZW50XCIpLCBpbXBvcnQoXCJyZWFjdFwiKV0pXG4gICAgLnRoZW4ocGFja2FnZXMgPT4ge1xuICAgICAgY29uc3QgUmVhY3RET00gPSBwYWNrYWdlc1swXTtcbiAgICAgIGNvbnN0IFJlYWN0ID0gcGFja2FnZXNbMV07XG4gICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5jb250ZW50VVJMKS50aGVuKCBjb250ZW50RGF0YSA9PiB7XG4gICAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLnBhcmFtc1VSTCkudGhlbiggcGFyYW1zRGF0YSA9PiB7XG4gICAgICAgICAgY29uc3Qgcm9vdCA9IFJlYWN0RE9NLmNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpKTtcbiAgICAgICAgICByb290LnJlbmRlcihcbiAgICAgICAgICAgIDxSZW5kZXJTdHJ1Y3R1cmUgY29udGVudERhdGE9e2NvbnRlbnREYXRhfSBwYXJhbXNEYXRhPXtwYXJhbXNEYXRhfSByZW5kZXJlZD17dHJ1ZX0vPlxuICAgICAgICAgICk7XG4gICAgICAgICAgYWRkRm9vdGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZWxzZXtcbiAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5sb2NhbENvbnRlbnRVUkwpLnRoZW4oIGNvbnRlbnREYXRhID0+IHtcbiAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLmxvY2FsUGFyYW1zVVJMKS50aGVuKCBwYXJhbXNEYXRhID0+IHtcbiAgICAgICAgaW5pdFNjcm9sbGVyKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKTtcbiAgICAgICAgYWRkRm9vdGVyKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3cml0ZUhUTUxmaWxlKEhUTUxTdHJ1Y3QsIGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKXtcbiAgbGV0IGJsb2IgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoe2h0bWxzdHJ1YzogYCR7SFRNTFN0cnVjdH1gfSwgbnVsbCwgMildLCB7dHlwZTogXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLThcIn0pO1xuICBsZXQgY29udGVudENTViA9IG5ldyBCbG9iKFtjb250ZW50RGF0YV0sIHt0eXBlOiBcInRleHQvY3N2O2NoYXJzZXQ9dXRmLThcIn0pO1xuICBsZXQgcGFyYW1zQ1NWID0gbmV3IEJsb2IoW3BhcmFtc0RhdGFdLCB7dHlwZTogXCJ0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04XCJ9KTtcblxuICBzYXZlQXMoY29udGVudENTViwgXCJjb250ZW50RGF0YS5jc3ZcIik7XG4gIHNhdmVBcyhwYXJhbXNDU1YsIFwicGFyYW1zRGF0YS5jc3ZcIik7XG4gIHNhdmVBcyhibG9iLCBcInN0cnVjdHVyZS5qc29uXCIpO1xufVxuXG5mdW5jdGlvbiBhZGROb3RQdWJsaXNoZWQoKXtcbiAgY29uc3QgZGl2ID0gZDMuc2VsZWN0KCcucHVsbC1yaWdodCcpLmluc2VydChcImxpXCIsJ2xpJyk7XG4gIGRpdi5odG1sKGA8cCBjbGFzcz0nbm90LXB1Ymxpc2hlZCc+TmUgcGFzIHB1YmxpZXI8L3A+YCk7XG59XG5cbmZ1bmN0aW9uIGFkZEZvb3Rlcigpe1xuICAvL2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb290ZXJDb250YWluZXInKS5yZW1vdmUoKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvb3RlckNvbnRhaW5lcicpLmlubmVySFRNTCA9IGQzLnNlbGVjdChgI2Zvb3RlckNvbnRlbnRgKS5ub2RlKCkuaW5uZXJIVE1MO1xufVxuIiwiY29uc3QgZ29vZ2xlX2NvbmZpZyA9IHtcbiAgICBcImNvbnRlbnRVUkxcIjogXCJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC9lLzJQQUNYLTF2U0V5d0pFMFZVZ3kzTnNxM1RnX29oLVZzNjMzVFNpbWRJSGZrWFR5ejlCYkV0V05WZ3VyZDFUb3UtUTVhbnZkT2l3M2NvQ0ZrRENpU1lxL3B1Yj9naWQ9MCZzaW5nbGU9dHJ1ZSZvdXRwdXQ9Y3N2XCIsXG4gICAgXCJwYXJhbXNVUkxcIjogXCJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC9lLzJQQUNYLTF2U0V5d0pFMFZVZ3kzTnNxM1RnX29oLVZzNjMzVFNpbWRJSGZrWFR5ejlCYkV0V05WZ3VyZDFUb3UtUTVhbnZkT2l3M2NvQ0ZrRENpU1lxL3B1Yj9naWQ9NDA5OTUwMjM3JnNpbmdsZT10cnVlJm91dHB1dD1jc3ZcIixcbiAgICBcImxvY2FsQ29udGVudFVSTFwiOiBcIi4vZGF0YS9zdHJ1Y3R1cmUvY29udGVudERhdGEuY3N2XCIsXG4gICAgXCJsb2NhbFBhcmFtc1VSTFwiOiBcIi4vZGF0YS9zdHJ1Y3R1cmUvcGFyYW1zRGF0YS5jc3ZcIlxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7Z29vZ2xlX2NvbmZpZ307XG4iXSwibmFtZXMiOlsiSW50cm9TZWN0aW9uIiwicHJvcHMiLCJpbnRyb1NlY3Rpb25PYmoiLCJjbGFzc05hbWUiLCJjbGFzc2VzIiwiYW1vcmNlIiwib3B0aW9uRGF0YSIsInRpdGxlIiwiYmFja2dyb3VuZCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiVGV4dFNlY3Rpb24iLCJxdW90ZU9iaiIsImlzUXVvdGUiLCJTdHJpbmciLCJpbmNsdWRlcyIsInRleHQiLCJ0ZXh0cyIsInNwbGl0IiwiYXV0aG9yIiwiYmlnTnVtYmVyT2JqIiwiaXNCaWdOdW1iZXIiLCJudW1iZXIiLCJ1bmRlclRleHQiLCJpc1Zpc3VhbCIsInZpc3VhbCIsInZpc3VhbE9iaiIsImtleSIsImlkIiwic3JjIiwiZmlsZW5hbWUiLCJ2aXN1ZWxjbGFzc2VzIiwicGFkZGluZ0JvdHRvbSIsImF1dG9QbGF5IiwibG9vcCIsIm11dGVkIiwicGxheXNJbmxpbmUiLCJwcmVsb2FkIiwidGV4dFNlY3Rpb25PYmoiLCJwYXJzZSIsInN0YXJ0c1dpdGgiLCJEV0NoYXJ0IiwiaWZyYW1lUmVmIiwidXNlUmVmIiwidXNlU3RhdGUiLCJoZWlnaHQiLCJzZXRTdGF0ZSIsIm9uTWVzc2FnZSIsInVzZUNhbGxiYWNrIiwiZGF0YSIsInNvdXJjZSIsImN1cnJlbnQiLCJjb250ZW50V2luZG93IiwidXNlRWZmZWN0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZWYiLCJzY3JvbGxpbmciLCJmcmFtZUJvcmRlciIsIndpZHRoIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwibG9hZGluZyIsIm9wdGlvbnNEcm9wZG93bkNvbnN0YW50cyIsInBhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMiLCJ0aXRyZSIsImF1dGV1cnMiLCJkYXRlIiwiVml6U2VjdGlvbiIsInN0ZXBzIiwiY3VyU3RlcENsYXNzZXMiLCJjdXJDb21tb25DbGFzcyIsInZpelNlY3Rpb25PYmoiLCJsaXN0SUQiLCJjbGFzc2VkIiwibWFwIiwic3RlcCIsImluZGV4Iiwic3RlcGNsYXNzZXMiLCJBcnJheSIsImxlbmd0aCIsImZvckVhY2giLCJzdGVwRWxlbSIsImlkeCIsImlzQXJyYXkiLCJlbGVtIiwiaSIsInJlZHVjZSIsImEiLCJiIiwiRnVsbFBhZ2VTZWN0aW9uIiwiZnVsbHBhZ2VTZWN0aW9uT2JqIiwibWFpblRpdGxlIiwiY2xhc3MiLCJzdWJUaXRsZSIsImdldFN0cnVjdHVyZSIsImNvbnRlbnREYXRhIiwicGFyYW1zRGF0YSIsInN0cnVjdHVyZURhdGEiLCJ2aXpTZWN0aW9uSURzIiwib3B0aW9ucyIsImdldE9wdGlvbnMiLCJjb25zb2xlIiwibG9nIiwicm93RGF0YSIsImN1ckFtb3JjZSIsInNlY3Rpb25CYWNrZ3JvdW5kIiwic2VjdGlvblR5cGUiLCJwYXJzZUNsYXNzZXMiLCJnYW1laWQiLCJ0aXRsZU9iaiIsImlzSnNvbiIsIkpTT04iLCJjdXJEYXRhIiwiYXR0cmlidXRzIiwic2Nyb2xsVHlwZSIsImhhc093blByb3BlcnR5IiwiY3VyVml6U2VjdGlvbiIsInB1c2giLCJjdXJTZWN0aW9uIiwic2VjdGlvbkF0dHIiLCJtZWRpYUluZm8iLCJPYmplY3QiLCJ2YWx1ZXMiLCJzdHIiLCJlIiwiZnJvbSIsImpvaW4iLCJhdXRob3JzIiwidXJscyIsIm1hcGJveGdsIiwiR2F1Z2VzIiwiZDMiLCJzZWxlY3RBbGwiLCJub2RlcyIsIm5vZGUiLCJjdXJXaWR0aCIsImF0dHIiLCJkb2xsYXJzIiwic2VsZWN0IiwiTWF0aCIsInJvdW5kIiwiY29tbWl0dGVkIiwiSW50cm9Cb3giLCJzdGFydEdhbWUiLCJnYW1lU3RhcnQiLCJpbnRyb0VsZW0iLCJvbkNsaWNrIiwiTW9uaXRvcmluZyIsInRlcmF3YXR0cyIsImNhbGN1bGF0ZVBlcmZvcm1hbmNlIiwiY2hvaWNlc192YWx1ZXMiLCJzbGljZSIsInBhcnNlSW50IiwiQ2hvaWNlIiwic2VsZWN0aW9uIiwic2V0U2VsZWN0aW9uIiwib2JqIiwibmV4dFByb21wdCIsImNvc3QiLCJwZXJmb3JtYW5jZSIsInRyaWdnZXJOZXh0IiwiY3VyUHJvbXB0IiwicmVwbGFjZSIsImNoYW5nZVByb21wdCIsInVwZGF0ZURvbGxhcnMiLCJ1cGRhdGVQZXJmb3JtYW5jZSIsInByZXZpb3VzUHJvbXB0IiwiY3VySW5kZXgiLCJjaG9pY2VzIiwiY2hvaWNlIiwiZXZlbnQiLCJ0YXJnZXQiLCJ1cGRhdGVTZWxlY3RlZCIsInNob3dUV2giLCJnYXVnZXMiLCJNdWx0aVNlbGVjdGlvbiIsInJlc2V0U2VsZWN0aW9uIiwiY2FsY3VsYXRlVG90YWxTZWxlY3Rpb24iLCJhY2NDb3N0IiwiYWNjIiwiY3VyIiwiYWNjUGVyZm9ybWFuY2UiLCJjb3VudCIsIm5ld0FycmF5IiwiUHJpbnRQcm9tcHQiLCJtZXNzYWdlIiwiUmVwYXJ0aXRpb24iLCJqZXRvbnMiLCJzZXRKZXRvbnMiLCJzZXRUZXJhd2F0dHMiLCJvdGhlclBlcmZvTWV0cmljcyIsInNldE90aGVyUGVyZm9NZXRyaWNzIiwidW5pdHMiLCJzZXRVbml0cyIsInRva2Vuc1BlclVuaXQiLCJzZXRUb2tlbnNQZXJVbml0IiwiZ2V0T3B0aW9uUGFyYW1zIiwibmV3VW5pdHMiLCJ1bml0VmFsdWUiLCJuZXdKZXRvbnMiLCJjdXJWYWwiLCJuZXdNVyIsImN1ck9wdGlvblBhcmFtcyIsIm5ld090aGVyUGVyZm9NZXRyaWNzIiwic3BsaXR0ZWRUcmlnZ2VyTmV4dCIsImV2ZXJ5IiwidmFsIiwiZGVmYXVsdE5leHQiLCJpbmRleE9mTWF4VmFsdWUiLCJpTWF4IiwieCIsImFyciIsImNvbmNhdCIsInByb2Nlc3NDaG9pY2VzIiwic3BsaXR0ZWRDaG9pY2VzIiwibmFtZSIsInVuaXRUV2h2YWx1ZSIsInVuaXRFbnZpcm92YWx1ZSIsInVuaXRQb3B1dmFsdWUiLCJtb2RpZnlPbkNsaWNrIiwiZGlmZiIsIm5ld0FkZGl0aW9uIiwidG90YWwiLCJ2YWx1ZSIsIk1hcE5hdmlnYXRvciIsInNldHVwT25DbGljayIsInRpcCIsImQzVGlwIiwiZGlyZWN0aW9uIiwiaHRtbCIsImQiLCJzdXBwX3RleHQiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsImJnTWFwIiwiaWNvbk9OTWFwIiwiYXBwZW5kIiwiZG9jdW1lbnRFbGVtZW50IiwiT25JY29uc1NWRyIsImNhbGwiLCJhcHBlbmRDaGlsZCIsImdCdXR0b25zIiwidGl0bGVzIiwic3VwcF90ZXh0cyIsInJldmVyc2UiLCJjdXJUaXBEYXRhIiwib24iLCJzdG9wUHJvcGFnYXRpb24iLCJzaG93IiwidG9nZ2xlSWNvbiIsInBhcmVudEVsZW1lbnQiLCJoaWRlIiwiaWNvbk9iaiIsInN0YXR1cyIsIkJpbGFuIiwidGV4dENvbnRlbnRBcnJheSIsInRleHRTdXBwQXJyYXkiLCJwcm9jZXNzZWRDb250ZW50IiwiZ2VuZXJpY1RleHQiLCJFbmRHYW1lIiwicmFpc29uIiwiUHJvbXB0Qm94IiwicmVhc29ucyIsIm5ld1ZhbHVlIiwiZGlmZlZhbHVlIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiZGlmZkFycmF5IiwicmVuZGVyU3dpdGNoIiwicGFyYW0iLCJlbmRHYW1lIiwiTWFpbkZyYW1lIiwiZ2FtZVN0YXR1cyIsInNldFN0YXR1cyIsImdhbWVJbmRleCIsInNldEdhbWVJbmRleCIsInNldERvbGxhcnMiLCJzZXRQZXJmb3JtYW5jZSIsImJnIiwic2V0QkciLCJnZXRHYW1lUHJvbXB0IiwiZ2FtZUVuZCIsImdhbWVEYXRhIiwiZmlsdGVyIiwiZmluZEdhbWVJbmRleCIsIklEbmFtZSIsImZpbmRJbmRleCIsIm1hcE9iaiIsIm5ld1BlcmZvcm1hbmNlIiwiYXBwbHkiLCJFbmdpbmUiLCJjb250YWluZXIiLCJpbnRyb09iaiIsInRoaXMiLCJyb290RWxlbSIsImVuZ2luZVJvb3QiLCJSZWFjdERPTSIsImluaXRFbmdpbmUiLCJyZW5kZXIiLCJpbml0aWFsaXplIiwibWFwQ29udGFpbmVyIiwic2V0dXBWaXoiLCJmdWxsU3RydWN0dXJlIiwic2VjdGlvbk9iaiIsIlNjcm9sbGVyU3RlcCIsImVsIiwiY2FsbGJhY2siLCJfaXNBY3RpdmF0ZSIsInNjcm9sbERpcmVjdGlvbiIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImluaXRTY3JvbGxlciIsImVsZW1lbnRzIiwic2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzdGlja3lCaXRzIiwic3RpY2t5Qml0U3RpY2t5T2Zmc2V0IiwiTGF6eUxvYWQiLCJlbGVtZW50c19zZWxlY3RvciIsInRocmVzaG9sZCIsInYxIiwiY2FsbGJhY2tzIiwiX29mZnNldFRvcCIsIl9vZmZzZXRCb3R0b20iLCJpbm5lckhlaWdodCIsImlzSW5pdGlhbGl6ZWQiLCJsYXN0U2Nyb2xsIiwidml6IiwidmlzaWJsZVN0ZXBzIiwiYXJ0aWNsZVJlbWluZGVyIiwicXVlcnlTZWxlY3RvciIsInNjcm9sbFByb2dyZXNzIiwidml6U2VjdGlvbnMiLCJFcnJvciIsInZpelNlY3Rpb24iLCJzZWN0aW9ucyIsImoiLCJfdXBkYXRlIiwiY3VycmVudFNjcm9sbCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwiYm91bmRpbmdSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiZGVhY3RpdmF0ZSIsImlzQXJ0aWNsZVJlbWluZGVyRGlzcGxheWVkIiwiYm90dG9tIiwiaXNBcnRpY2xlUmVtaW5kZXJJc1Zpc2libGUiLCJjb250YWlucyIsInNlY3Rpb24iLCJhY3RpdmF0ZSIsIl91cGRhdGVTY3JvbGxQcm9ncmVzcyIsInNjcm9sbGVkIiwiYm9keSIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsInB1YmxpY0ludGVyZmFjZSIsIm9mZnNldFRvcCIsInVuZGVmaW5lZCIsIm9mZnNldEJvdHRvbSIsInNjcm9sbGVyIiwiUmVuZGVyU3RydWN0dXJlIiwicmVuZGVyZWQiLCJyZW5kZXJlZERhdGEiLCJrZXlzIiwic2VjdGlvbktleSIsImlubmVySFRNTCIsInN0cnVjdHVyZSIsInBhY2thZ2VzIiwiUmVhY3QiLCJnb29nbGVfY29uZmlnIiwiY3JlYXRlUm9vdCIsImdldEVsZW1lbnRCeUlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=