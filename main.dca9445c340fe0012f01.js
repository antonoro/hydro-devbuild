(self.webpackChunkscrollytelling_template=self.webpackChunkscrollytelling_template||[]).push([[179],{70128:(e,t,n)=>{"use strict";const r=JSON.parse('{"E":"<section id=\\"vizSection1_0\\" class=\\"viz-section full-page\\"><div class=\\"steps display-none\\"><section class=\\"display-none\\"><p>Bla bl abl abl ablalbalanl.</p></section></div><div class=\\"viz\\" id=\\"viz\\"><div id=\\"vizSection1_0_0\\" class=\\"iframeContainer map-area\\"></div></div></section>"}');var a=n(40207),c=n(67294);function o(e){var t=c.createElement("section",{className:"intro-section ".concat(e.classes)},c.createElement("h5",{className:"overTitle"},e.amorce),c.createElement("h1",null,e.optionData.title),c.createElement("address",null,c.createElement("div",{className:"date"})));return e.background?c.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},t):t}var i=n(25935);function s(e){var t,n=String(e.classes).includes("citation");n&&(t={text:String(e.texts).split("/")[0],author:String(e.texts).split("/")[1]});var r,a=String(e.classes).includes("bigNumber");a&&(r={number:String(e.texts).split("/")[0],underText:String(e.texts).split("/")[1]});var o=e.visual,s=""!==o?"Photo"===e.visual?c.createElement("img",{key:"photoTextSection_".concat(e.id),id:"photoTextSection_".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses),style:{paddingBottom:"1rem"}}):"Video"===e.visual?c.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"videoTextSection_".concat(e.id),id:"videoTextSection_".concat(e.id)},c.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):c.createElement("div",null):c.createElement("div",null),l=c.createElement("section",{className:"text-section ".concat(e.classes)},n?c.createElement("blockquote",{className:"small"},c.createElement("div",null,c.createElement("p",null,c.createElement("b",null,(0,i.ZP)(t.text))),c.createElement("p",{className:"author"},t.author),c.createElement("div",{className:"symbol"}))):a?c.createElement("div",{className:"container-number"},c.createElement("div",{className:"numbers"},c.createElement("h2",null,r.number),c.createElement("small",null,r.underText))):c.createElement("div",null,o?s:c.createElement("div",null),String(e.texts).startsWith("<")?(0,i.ZP)(e.texts):c.createElement("p",null,(0,i.ZP)(e.texts))));return e.background?c.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},l):l}var l,u=n(45697),m=n.n(u),p=["title","src"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n,r=e.title,a=e.src,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,p),i=(0,c.useRef)(),s=(t=(0,c.useState)(500),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1],m=(0,c.useCallback)((function(e){var t=e.data,n=void 0===t?{}:t;e.source===i.current.contentWindow&&"string"!=typeof n&&n["datawrapper-height"]}),[u,i]);return(0,c.useEffect)((function(){return window.addEventListener("message",m),function(){return window.removeEventListener("message",m)}}),[l,u,m]),c.createElement("iframe",d({ref:i,scrolling:"no",frameBorder:"0",width:"100%"},o,{title:r,src:a,height:l}))}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}v.propTypes={title:m().string.isRequired,src:m().string.isRequired,loading:m().oneOf(["eager","lazy"])};var h="intro-titre",y="pleine-page-titre",E="texte-classique",b="viz-section",x="centré",w="Photo",S="Video",N="Visualisation",k="iframe",P=(g(l={titre:"Titre",auteurs:"Auteurs",date:"Date"},"date","Date"),g(l,"urls","LienAuteurs"),g(l,"lienfichiersource","LienFichierSource"),l);function I(e){var t,n,r,a=c.createElement("section",{id:e.listID,className:e.classed},c.createElement("div",{className:"steps ".concat((t=e.steps,n=t.map((function(e,t){return e.stepclasses})),r=new Array(n.length),n.forEach((function(e,t){if(Array.isArray(e))e.forEach((function(e){for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)}));else if("string"==typeof e)for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)})),r.reduce((function(e,t){return e===t&&""!==e&&""!==t?e:""}))))},e.steps.map((function(e,t){var n,r=String(e.stepclasses).includes("citation");return r&&(n={text:String(e.text).split("/")[0],author:String(e.text).split("/")[1]}),c.createElement("section",{key:t,className:e.stepclasses},r?c.createElement("blockquote",{className:"small"},c.createElement("div",null,c.createElement("p",null,c.createElement("b",null,(0,i.ZP)(n.text))),c.createElement("p",{className:"author"},n.author),c.createElement("div",{className:"symbol"}))):String(e.text).startsWith("<")?(0,i.ZP)(e.text):c.createElement("p",null,e.text?(0,i.ZP)(e.text):""))}))),c.createElement("div",{className:"viz",id:"viz"},e.steps.map((function(t,n){return t.visual===w?c.createElement("img",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),src:"assets/img/675/".concat(t.filename),"data-srcset":"assets/img/2048/".concat(t.filename," 2048w, assets/img/990/").concat(t.filename," 990w, assets/img/675/").concat(t.filename," 675w, assets/img/1350/").concat(t.filename," 1350w, assets/img/100/").concat(t.filename," 100w, assets/img/495/").concat(t.filename," 495w, assets/img/1024/").concat(t.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(t.visuelclasses)}):t.visual===S?c.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(t.visuelclasses),preload:"metadata",key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n)},c.createElement("source",{src:"assets/videos/".concat(t.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):t.visual===k?c.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer"},c.createElement(v,{title:"Mesures d'arsenic",src:"".concat(t.filename)})):t.visual===N?c.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer ".concat(t.visuelclasses)}):void 0}))));return e.background?c.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},a):a}function T(e){var t=c.createElement("section",{className:"full-page-section ".concat(e.classes)},c.createElement("div",{className:"titleImage"},e.filename?"Photo"===e.visual?c.createElement("img",{key:"".concat(e.id),id:"".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses)}):"Video"===e.visual?c.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"".concat(e.id),id:"".concat(e.id)},c.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):c.createElement("div",null):c.createElement("div",null),e.filename?c.createElement("div",{className:"filter"}):c.createElement("div",null)),c.createElement("div",{className:"captionholder"},c.createElement("h2",{className:"caption ".concat(e.mainTitle.class)},e.mainTitle.text),e.subTitle?c.createElement("h3",{className:"caption ".concat(e.subTitle.class)},e.subTitle.text):c.createElement("div",null)));return e.background?c.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},t):t}n(93162);var C=n(38682);function A(e,t){var n={},r=[],a=O(t);return console.log("content Data",e),e.map((function(e,t){if(e.Section===h){var c=e.StepClasses,o=e.TEXTE,i=e.StyleFond;n[e.SectionID]={key:t,sectionType:h,optionData:a,amorce:o,background:i,classes:_(c),gameid:e.GameID}}else if(e.Section===E){var s=e.TEXTE,l=e.StepClasses,u=e.StyleFond;n[e.SectionID]={key:t,sectionType:E,texts:s,visual:e.VISUEL,filename:e.NomFichierSource,background:u,classes:_(l),visuelclasses:_(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===y){var m=e.TEXTE;D(e.TEXTE)&&(m=JSON.parse(e.TEXTE)),n[e.SectionID]={key:t,sectionType:y,texts:D(e.TEXTE)?m:{mainTitle:{class:"",text:m},subTitle:null},visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,classes:_(e.StepClasses),visuelclasses:_(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===b){var p={attributs:e.Attributs,scrollType:e.Step,text:e.TEXTE,visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,visuelclasses:_(e.VisuelClasses),stepclasses:_(e.StepClasses),gameid:e.GameID};if(n.hasOwnProperty(e.SectionID)){var d=n[e.SectionID];d.push(p),n[e.SectionID]=d}else n[e.SectionID]=[p],r.push(e.SectionID)}})),r.map((function(e){var t=n[e],r=t[0].attributs===x?" full-page":"",a=t[0].background;n[e]={key:e,sectionType:b,listID:e,steps:t,classed:"viz-section".concat(r),mediaInfo:0,background:a}})),Object.values(n)}function D(e){try{JSON.parse(e)}catch(e){return!1}return!0}function _(e){return Array.from(e.split(";")).join(" ")}function O(e){return{title:e[0][P.titre],authors:e[0][P.auteurs],urls:e[0][P.urls],date:e[0][P.date]}}n(9208);n(83731).accessToken="pk.eyJ1IjoibGVkZXZvaXIiLCJhIjoiY2p2bW81dHU2MWV1cTRhcXIzaXZqMGYxciJ9.WrIF8o69aR_TstDFu6Qyag",n(6899);var R=n(20745);function j(e){return(0,c.useEffect)((function(){C.Ys(".gauges").selectAll(".gauge").nodes().forEach((function(t){var n=50;"dollars"===C.Ys(t).attr("id")&&(n=e.dollars),C.Ys(t).select(".gaugeColorHolder").select(".committed").style("width","".concat(Math.round(e.committed/50*100),"%")),C.Ys(t).select(".gaugeColor").style("width","".concat(Math.round(n/50*100),"%"))}))})),c.createElement("div",{className:"gauges"},c.createElement("div",{id:"dollars",className:"gauge dollarGauge"},c.createElement("div",{className:"gaugeColorHolder"},c.createElement("div",{className:"gaugeColor blue"}),0!=e.committed?c.createElement("div",{className:"committed"}):"",c.createElement("div",{className:"value"},c.createElement("p",null,"Budget • ",e.dollars," jetons")))))}function z(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){z(c,r,a,o,i,"next",e)}function i(e){z(c,r,a,o,i,"throw",e)}o(void 0)}))}}function V(e){var t=(0,c.useCallback)(L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("starting game"),e.gameStart();case 2:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"gameBox transparent"},c.createElement("div",{className:"introBox"},e.introElem),c.createElement("div",{className:"userBox"},c.createElement("div",{className:"startbutton",onClick:t},c.createElement("p",null,"Commencer le jeu"))))}function Y(e){return c.createElement("div",{className:"monitoring"},c.createElement("div",{className:"monitoring_content"},c.createElement("div",{className:"column"},c.createElement("div",{className:"monitoring_value"},c.createElement(j,{dollars:e.dollars,committed:e.committed,performance:e.performance})))),e.terawatts||0===e.terawatts?c.createElement("div",{className:"monitoring_content"},c.createElement("div",{className:"column"},c.createElement("div",{className:"monitoring_header"},c.createElement("h5",null,"Électricité produite • ",e.terawatts," TWh")))):c.createElement("div",null))}function B(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){B(c,r,a,o,i,"next",e)}function i(e){B(c,r,a,o,i,"throw",e)}o(void 0)}))}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e){var t,n,r=(t=(0,c.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],o=r[1];(0,c.useEffect)((function(){}),[]),(0,c.useEffect)((function(){C.td_(".choicebutton").select(".butn").classed("selected",!1),a&&C.Ys(a.obj).select(".butn").classed("selected",!0)}),[a]);var i=(0,c.useCallback)(function(){var t=U(regeneratorRuntime.mark((function t(n,r,a){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=String(e.curPrompt.Trigger_next).split(";")).length>1?(console.log("checking next: ",c," index:",a," result:",String(c[a]).replace(/(\r\n|\n|\r)/gm,"")),e.changePrompt(String(c[a]).replace(/(\r\n|\n|\r)/gm,""))):e.changePrompt(String(c[0]).replace(/(\r\n|\n|\r)/gm,"")),e.updateDollars(-parseInt(n)),e.updatePerformance(parseInt(r)),o(null);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()),s=(0,c.useCallback)(U(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),o(null);case 2:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"choices"},c.createElement("div",{className:"row"},e.choices.map((function(t,n){var r=e.choices_values[n].split("_")[0],i=e.choices_values[n].split("_")[1];return c.createElement("div",{className:"choicebutton",key:n,onClick:function(e){!function(e,t,n,r){o({obj:e.target,cost:t,use:n,index:r})}(e,r,i,n)}},c.createElement("div",{id:n,className:"butn"},c.createElement("div",{className:"holder icon"},c.createElement("img",{src:a&&a.index===n?"./assets/img/On.svg":"./assets/img/Off.svg"})),c.createElement("div",{className:"holder label"},c.createElement("h4",null,t),c.createElement("p",null,r," JETONS"))))}))),c.createElement(Y,{showTWh:!1,dollars:a&&a.hasOwnProperty("cost")?e.gauges.props.dollars-a.cost:e.gauges.props.dollars,committed:a&&a.hasOwnProperty("cost")?a.cost:0,performance:e.gauges.props.performance}),c.createElement("div",{className:"row"},c.createElement("div",{className:"column"},e.curIndex>0?c.createElement("div",{className:"actionbutton prev",onClick:s},c.createElement("div",{className:"butn"},c.createElement("p",null,"Previous"))):c.createElement("div",null)),c.createElement("div",{className:"column"},c.createElement("div",{className:"actionbutton next ".concat(a?"":"disabled"),onClick:function(){a?i(a.cost,a.use,a.index):console.log("Disabled.")}},c.createElement("div",{className:"butn"},c.createElement("p",null,"Poursuivre"))))))}function M(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){M(c,r,a,o,i,"next",e)}function i(e){M(c,r,a,o,i,"throw",e)}o(void 0)}))}}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||X(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e){var t=H((0,c.useState)([]),2),n=t[0],r=t[1];(0,c.useEffect)((function(){a()}),[]),(0,c.useEffect)((function(){}),[n]);var a=function(){r(e.choices.map((function(e){return null})))},o=function(e){return[e.reduce((function(e,t){return t&&(e+=t.cost),e}),0),e.reduce((function(e,t){return t&&(e+=t.use),e}),0)]},i=(0,c.useCallback)(function(){var t=W(regeneratorRuntime.mark((function t(n){var r,c,i,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.curPrompt.Trigger_next,e.changePrompt(r),c=o(n),i=H(c,2),s=i[0],l=i[1],e.updateDollars(-parseInt(s)),e.updatePerformance(parseInt(l)),a();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),s=(0,c.useCallback)(W(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),a();case 2:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"choices"},c.createElement("div",{className:"row"},e.choices.map((function(t,a){var o=e.choices_values[a].split("_")[0],i=e.choices_values[a].split("_")[1];return c.createElement("div",{className:"selectionbutton",key:a,onClick:function(e){!function(e,t,a,c){var o,i=function(e){if(Array.isArray(e))return F(e)}(o=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||X(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();n[t]?i[t]=null:i[t]={obj:e.target,cost:parseInt(a),use:parseInt(c)},r(i)}(e,a,o,i)}},c.createElement("div",{id:a,className:"butn"},c.createElement("div",{className:"holder selectionBox ".concat(n[a]?"selected":"")},c.createElement("div",null,c.createElement("p",null,"+"))),c.createElement("div",{className:"holder label"},c.createElement("h4",null,t),c.createElement("p",null,o," JETONS"))))}))),c.createElement(Y,{showTWh:!1,dollars:n&&n.length>0?e.gauges.props.dollars-o(n)[0]:e.gauges.props.dollars,committed:n&&n.length>0?o(n)[0]:0,performance:e.gauges.props.performance}),c.createElement("div",{className:"row"},c.createElement("div",{className:"column"},e.curIndex>0?c.createElement("div",{className:"actionbutton prev",onClick:s},c.createElement("div",{className:"butn"},c.createElement("p",null,"Previous"))):c.createElement("div",null)),c.createElement("div",{className:"column"},c.createElement("div",{className:"actionbutton next ".concat(n?"":"disabled"),onClick:function(){n?i(n):console.log("Disabled.")}},c.createElement("div",{className:"butn"},c.createElement("p",null,"Poursuivre"))))))}function J(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){J(c,r,a,o,i,"next",e)}function i(e){J(c,r,a,o,i,"throw",e)}o(void 0)}))}}function $(e){var t=(0,c.useCallback)(Q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),n=(0,c.useCallback)(Q(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"printprompt"},c.createElement("div",{className:"message"},c.createElement("p",null,e.message)),c.createElement("div",{className:"actionbutton prev",onClick:t},c.createElement("div",{className:"butn"},c.createElement("p",null,"Previous"))),c.createElement("div",{className:"actionbutton next",onClick:n},c.createElement("div",{className:"butn"},c.createElement("p",null,"Poursuivre"))))}function K(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){K(c,r,a,o,i,"next",e)}function i(e){K(c,r,a,o,i,"throw",e)}o(void 0)}))}}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e){var t=te((0,c.useState)(0),2),n=t[0],r=t[1],a=te((0,c.useState)(0),2),o=a[0],i=a[1],s=te((0,c.useState)([]),2),l=s[0],u=s[1],m=te((0,c.useState)([]),2),p=m[0],d=m[1];(0,c.useEffect)((function(){var e=h(),t=e.map((function(){return 0})),n=e.map((function(e){return e.unitValue}));u(t),d(n)}),[]),(0,c.useEffect)((function(){var e=l.reduce((function(e,t,n){return h()[n],e+t}),0),t=l.reduce((function(e,t,n){var r=h()[n];return e+Math.round(t/r.unitValue*r.unitTWhvalue)}),0);r(e),i(t)}),[l]);var f=(0,c.useCallback)(ee(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),v=(0,c.useCallback)(ee(regeneratorRuntime.mark((function t(){var r,a,c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=String(e.curPrompt.Trigger_next).split("_"),1==(a=String(r[0]).split(";")).length?e.changePrompt(String(a).replace(/(\r\n|\n|\r)/gm,"")):a.length>1&&(l.every((function(e){return e===l[0]}))?(o=String(r[1]).replace(/(\r\n|\n|\r)/gm,""),e.changePrompt(o)):(c=l.reduce((function(e,t,n,r){return t>r[e]?n:e}),0),e.changePrompt(String(a[c]).replace(/(\r\n|\n|\r)/gm,"")))),e.updateDollars(-n);case 4:case"end":return t.stop()}}),t)})))),g=function(e,t){var n=t.split("_");return{name:e,unitValue:parseInt(n[0]),unitTWhvalue:parseInt(n[1])}},h=function(){return e.choices.map((function(t,n){return g(t,e.choices_values[n])}))},y=function(e,t,n,r){var a,c,o,i=function(e){if(Array.isArray(e))return re(e)}(o=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||ne(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();i[t]+n*p[t]>=0&&(n>0?(a=n*p[t],c=0,l.forEach((function(e,t){c+=e})),c+a>20||(i[t]=i[t]+n*p[t])):i[t]=i[t]+n*p[t],u(i))};return c.createElement("div",{className:"repartition"},c.createElement("div",{className:"optionZone"},e.choices.map((function(t,n){return g(t,e.choices_values[n])})).map((function(e,t){return c.createElement("div",{className:"optionUnit",key:t},c.createElement("div",{className:"selectorZone"},c.createElement("div",{className:"division minusZone",onClick:function(e){return y(0,t,-1)}},c.createElement("h3",null,"-")),c.createElement("div",{className:"division centralZone"},c.createElement("h3",null,l[t])),c.createElement("div",{className:"division plusZone",onClick:function(e){return y(0,t,1)}},c.createElement("h3",null,"+"))),c.createElement("div",{className:"textZone"},c.createElement("h3",null,e.name),c.createElement("div",{className:"inlinetext"},c.createElement("p",null,e.unitValue," jetons • ",e.unitTWhvalue," TWh"))))}))),c.createElement(Y,{showTWh:!0,dollars:e.gauges.props.dollars-n,committed:n,performance:e.gauges.props.performance,terawatts:o}),e.curIndex>0?c.createElement("div",{className:"actionbutton prev",onClick:f},c.createElement("div",{className:"butn"},c.createElement("p",null,"Previous"))):c.createElement("div",null),c.createElement("div",{className:"actionbutton next",onClick:v},c.createElement("div",{className:"butn"},c.createElement("p",null,"Poursuivre"))))}n(97762);var ce=n(83290);function oe(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){oe(c,r,a,o,i,"next",e)}function i(e){oe(c,r,a,o,i,"throw",e)}o(void 0)}))}}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e){var t=se((0,c.useState)(null),2),n=t[0],r=t[1];(0,c.useEffect)((function(){o()}),[]),(0,c.useEffect)((function(){n?C.Ys(".popUp-bg").style("display","unset"):C.Ys(".popUp-bg").style("display","none")}),[n]);var a=(0,ce.Z)().attr("class","d3-tip adjusted").direction("n").html((function(e){return console.log("got d: ",e),"\n                  <h4>".concat(e.title,"</h4>\n                  <p>").concat(e.supp_text,"</p>\n                  ")})),o=function(){Promise.all([C.LsS(e.map[0]),C.LsS(e.map[1])]).then((function(t){var n=se(t,2),r=n[0],c=n[1];C.Ys("#bg-map").node().append(r.documentElement),C.Ys("#on-icons").node().append(c.documentElement);var o=C.Ys("#on-icons").select("svg");o.call(a),C.Ys(".gameScreen").node().appendChild(C.Ys(".d3-tip").node());var s=o.select("#Icone-On").selectAll("g"),l=String(e.curPrompt.Choix).split(";"),u=String(e.message).split(";");s.nodes().reverse().map((function(e,t){var n={title:l[t],supp_text:u[t]};C.Ys(e).on("click",(function(t,r,c){t.stopPropagation(),a.show(n,e),i(t.target.parentElement,!1)})).on("mouseover",(function(t,r,c){console.log("checking d: ",t.target.parentElement),t.stopPropagation(),a.show(n,e),i(t.target.parentElement,!1)})).on("mouseout",(function(t,n,r){a.hide(e),i(t.target.parentElement,!0)}))})),C.Ys(".gameBox").on("click",(function(){a.hide()}))}))},i=function(e,t){!1===t?C.Ys(e).style("opacity",0):C.Ys(e).style("opacity",1)},s=(0,c.useCallback)(ie(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),l=(0,c.useCallback)(ie(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"printprompt mapnavigator"},c.createElement("div",{className:"popUp-bg"},n?c.createElement("div",{className:"popUp-box"},c.createElement("h4",null,n.title),c.createElement("p",null,n.supp_text),c.createElement("div",{className:"actionbutton",onClick:function(){return r(null)}},c.createElement("div",{className:"butn"},c.createElement("p",null,"Fermer")))):c.createElement("div",null)),c.createElement("div",{className:"mapHolder"},c.createElement("div",{className:"superposedMap"},c.createElement("div",{id:"bg-map",className:"map noClick"}),c.createElement("div",{id:"on-icons",className:"map"}))),c.createElement("div",{className:"actionbutton prev",onClick:s},c.createElement("div",{className:"butn"},c.createElement("p",null,"Previous"))),c.createElement("div",{className:"actionbutton next",onClick:l},c.createElement("div",{className:"butn"},c.createElement("p",null,"Suivant"))))}function me(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){me(c,r,a,o,i,"next",e)}function i(e){me(c,r,a,o,i,"throw",e)}o(void 0)}))}}function de(e){(0,c.useEffect)((function(){}),[]);var t=(0,c.useCallback)(pe(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)}))));return c.createElement("div",{className:"bilanContent"},c.createElement("div",{className:"actionbutton next",onClick:t},c.createElement("div",{className:"butn"},c.createElement("p",null,"Poursuivre"))))}function fe(e){return c.createElement("div",null,c.createElement("p",null,"End Game."))}function ve(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ve(c,r,a,o,i,"next",e)}function i(e){ve(c,r,a,o,i,"throw",e)}o(void 0)}))}}function he(e){(0,c.useEffect)((function(){}),[]);var t=(0,c.useCallback)(function(){var t=ge(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.changePrompt(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n=(0,c.useCallback)(function(){var t=ge(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Number.isInteger(n)&&e.updateDollars(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r=(0,c.useCallback)(function(){var t=ge(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Number.isInteger(n)&&e.updatePerformance(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a=function(a){switch(a){case"Repartition":return c.createElement(ae,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Choix_Valeurs).split(";"),changePrompt:t,curIndex:e.curIndex,updateDollars:n,gauges:e.gauges});case"Carte":return c.createElement(ue,{curPrompt:e.curPrompt,message:String(e.curPrompt.Texte_Supp),changePrompt:t,curIndex:e.curIndex,map:"Q1-1"===e.curIndex?["assets/img/Carte-Hydro.svg","assets/img/Carte-Hydro-icone-on.svg"]:["assets/img/Carte-Eolien.svg","assets/img/Carte-Eolien-icone-on.svg"]});case"texteBoutonSimple":return c.createElement($,{curPrompt:e.curPrompt,message:String(e.curPrompt.Texte_Supp),changePrompt:t,curIndex:e.curIndex});case"ChoixReponse":case"Catastrophe":return c.createElement(q,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Choix_Valeurs).split(";"),changePrompt:t,curIndex:e.curIndex,updateDollars:n,updatePerformance:r,gauges:e.gauges});case"MultiSelection":return c.createElement(G,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Choix_Valeurs).split(";"),changePrompt:t,curIndex:e.curIndex,updateDollars:n,updatePerformance:r,gauges:e.gauges});case"Bilan":return c.createElement(de,{curPrompt:e.curPrompt,curIndex:e.curIndex,changePrompt:t,updateDollars:n,updatePerformance:r});default:return c.createElement(q,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),changePrompt:t,curIndex:e.curIndex})}};return!0===e.endGame?c.createElement("div",{className:"gameBox"},c.createElement(fe,null)):c.createElement("div",{className:"gameBox"},"Bilan"===e.curPrompt.Type?c.createElement("div",{className:"promptBox bilan"},c.createElement("div",{className:"header"},c.createElement("div",{className:"massiveTitle"},c.createElement("h2",null,(0,i.ZP)(e.curPrompt.Sujet)))),c.createElement("div",{className:"separator"}),a(e.curPrompt.Type)):c.createElement("div",{className:"promptBox"},c.createElement("div",{className:"header"},c.createElement("div",{className:"surtitre"},c.createElement("h4",null,(0,i.ZP)(e.curPrompt.Sujet))),c.createElement("div",{className:"question"},c.createElement("p",null,(0,i.ZP)(e.curPrompt.Texte)))),a(e.curPrompt.Type)))}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e){var t=ye((0,c.useState)("IDLE"),2),n=t[0],r=t[1],a=ye((0,c.useState)(0),2),o=a[0],i=a[1],s=ye((0,c.useState)(50),2),l=s[0],u=s[1],m=ye((0,c.useState)(50),2),p=m[0],d=m[1],f=ye((0,c.useState)("normal"),2),v=f[0],g=f[1];(0,c.useEffect)((function(){console.log("game ",n)}),[n]),(0,c.useEffect)((function(){y(o),"END"===o&&h()}),[o]);var h=function(){r("END")},y=function(t){console.log("current game prompt:",e.gameData.filter((function(e){return String(e.ID)===String(t)})))},E=function(t){return e.gameData.findIndex((function(e){return String(t)===String(e.ID)}))};return(0,c.useEffect)((function(){var t,n=e.gameData[E(o)];n&&n.hasOwnProperty("Type")&&(t=n.Type,console.log("checking prompt type for bg change:",t),"Catastrophe"===t?g("redpink"):"normal"!==v&&g("normal"))})),"IDLE"===n?c.createElement("div",{className:"gameScreen"},c.createElement("div",{className:"background-image"},c.createElement("img",{src:"assets/img/Illus_Section-00_Centrale_V01.svg"})),c.createElement(V,{introElem:e.introElem,mapObj:e.mapObj,gameStart:function(){r("STARTED"),i(0)}})):c.createElement("div",{className:"gameScreen ".concat("END"===o||"redpink"===v?"gameOver":"")},c.createElement(he,{curIndex:o,curPrompt:"END"===o?"":e.gameData[E(o)],changePrompt:i,updateDollars:function(e){l+e>=0?u((function(t){return t+e})):h()},updatePerformance:function(e){p+e>=0?d((function(t){return t+e})):h()},gauges:c.createElement(j,{dollars:l,performance:p}),endGame:"END"===o||"END"===n}))}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var we=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t;var c=this.container.append("div").classed("rootElem",!0);this.engineRoot=R.createRoot(c.node()),this.optionData=n,this.amorce=r.TEXTE,this.gameData=a,console.log("game Data is : ",this.gameData),this.initEngine()}var t,n;return t=e,(n=[{key:"initEngine",value:function(){var e=c.createElement(o,{key:"gameIntro",sectionType:h,optionData:this.optionData,amorce:this.amorce,background:null,classes:""});this.engineRoot.render(c.createElement(be,{introElem:e,gameStatus:this.gameStatus,gameData:this.gameData}))}}])&&xe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Se(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){Se(c,r,a,o,i,"next",e)}function i(e){Se(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ke(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Ne(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.gyn("https://docs.google.com/spreadsheets/d/e/2PACX-1vQQZ3sz0q1vnZmoYYR5IrCfuONhHcNw50iDtbg1H2mIX8lHDL1BQ4sAMi7iApSE1G9WQTW2jHcWv4KW/pub?gid=1497861017&single=true&output=csv").then((function(e){var r=C.Ys(".game-area");return new we(r,O(n),t[0],e),Ie(t,n),[[function(){}]]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t){var n=A(e,t);console.log("checking structure:",n),n.map((function(e){"viz-section"===e.sectionType&&e.steps.map((function(t,n){""!==t.visual&&(0===n?C.Ys("#".concat(e.key,"_").concat(n)).style("opacity",1):C.Ys("#".concat(e.key,"_").concat(n)).style("opacity",0))}))}))}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ae=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.index=n,this.callback=r,this._isActivate=!1}var t,n;return t=e,(n=[{key:"activate",value:function(e){this._isActivate||(this._isActivate=!0,this.el.classList.add("active"),this.callback(e))}},{key:"deactivate",value:function(){this._isActivate&&(this._isActivate=!1,this.el.classList.remove("active"))}}])&&Ce(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),De=n(52732),_e=n.n(De),Oe=n(89438);function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function je(e,t){var n=[];[".viz",".full-page-section > img",".full-page-section > video"].forEach((function(e){n=n.concat(Array.from(document.querySelectorAll(e)))})),(0,Oe.Z)(n,{stickyBitStickyOffset:40}),new(_e())({elements_selector:".lazy",threshold:500}),Promise.all([ke(e,t)]).then((function(e){var t,n;(function(e){var t=0,n=0,r=window.innerHeight,a=!1,c=0,o=[],i=[],s=[],l=document.querySelector(".article-reminder"),u=document.querySelector("header > .progress"),m=document.querySelector(".intro-section h1"),p=document.querySelectorAll(".viz-section");if(p.length!==e.length)throw new Error("The number of viz sections (".concat(p.length,") mismatch with the length of the first ")+"dimension of the callbacks array (".concat(e.length,"). Please, be sure that the two elements ")+"have the same size.");p.forEach((function(t,n){var r,a=function(e){if(Array.isArray(e))return Te(e)}(r=t.querySelectorAll("section"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();if(a.length!==e[n].length)throw new Error("The number of steps (".concat(a.length,") in the viz section #").concat(n+1," mismatch with the ")+"number of callbacks specified (".concat(e[n].length,') at the index "').concat(n,'". Please, be sure that the two ')+"elements have the same size.");o=o.concat(a.map((function(t,r){return new Ae(t,"".concat(n,"-").concat(r),e[n][r])}))),i=i.concat(i,t.querySelector(".viz > *"))}));var d=function(){var e=window.pageYOffset||document.documentElement.scrollTop;o.forEach((function(e){var a=e.el.getBoundingClientRect();r-a.top-n>0&&a.top+a.height-t>0?s.push(e):e.deactivate()}));var a=m.getBoundingClientRect().bottom<=0,i=l.classList.contains("visible");a&&!i?l.classList.add("visible"):!a&&i&&l.classList.remove("visible"),s.forEach((function(t,n){e>=c?n===s.length-1?t.activate("down"):t.deactivate():0===n?t.activate("up"):t.deactivate()})),f(),s=[],c=e},f=function(){var e=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;u.style.width=e+"%"},v={initialize:function(){if(a)throw new Error("The scroller is already initialized.");return a=!0,window.addEventListener("scroll",d),window.addEventListener("resize",(function(){r=window.innerHeight,f()})),(window.pageYOffset||document.documentElement.scrollTop)>0&&d(),f(),v},offsetTop:function(e){if(void 0===e)return t;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return t=e,v},offsetBottom:function(e){if(void 0===e)return n;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return n=e,v}};return v})((t=e,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]).offsetTop(40).offsetBottom(0).initialize()}))}function ze(e){return e.rendered&&(0,c.useEffect)((function(){je(e.contentData,e.paramsData)}),[]),t=A(e.contentData,e.paramsData),n={},Object.keys(t).map((function(e,r){var a=t[e];a.sectionType===h?n[e]=c.createElement(o,{key:a.key,sectionType:a.sectionType,optionData:a.optionData,amorce:(0,i.ZP)(a.amorce),background:a.background,classes:a.classes}):a.sectionType===E?n[e]=c.createElement(s,{key:a.key,id:a.key,sectionType:a.sectionType,texts:a.texts,background:a.background,classes:a.classes,visuelclasses:a.visuelclasses,visual:a.visual,filename:a.filename}):a.sectionType===y?n[e]=c.createElement(T,{key:a.key,id:a.key,sectionType:a.sectionType,background:a.background,classes:a.classes,visuelclasses:a.visuelclasses,visual:a.visual,mainTitle:a.texts.mainTitle,subTitle:a.texts.subTitle,filename:a.filename}):a.sectionType===b&&(n[e]=c.createElement(I,{key:a.key,listID:a.listID,steps:a.steps,classed:a.classed,mediaInfo:a.mediaInfo,background:a.background}))})),Object.values(n);var t,n}document.querySelector("#root").innerHTML=r.E,Promise.all([Promise.resolve().then(n.t.bind(n,20745,19)),Promise.resolve().then(n.t.bind(n,67294,19))]).then((function(e){var t=e[0],n=e[1];C.gyn(a.google_config.contentURL).then((function(e){C.gyn(a.google_config.paramsURL).then((function(r){t.createRoot(document.getElementById("root")).render(n.createElement(ze,{contentData:e,paramsData:r,rendered:!0})),document.querySelector("#footerContainer").innerHTML=C.Ys("#footerContent").node().innerHTML}))}))}))},40207:e=>{e.exports={google_config:{contentURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=0&single=true&output=csv",paramsURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=409950237&single=true&output=csv",localContentURL:"./data/structure/contentData.csv",localParamsURL:"./data/structure/paramsData.csv"}}}},e=>{var t=t=>e(e.s=t);e.O(0,[216],(()=>(t(28594),t(35666),t(70128)))),e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxFQUFhRSxHQUFlLGdCQUFDL1IsRUFBRCxDQUFZMUMsSUFBSzZGLEVBQVc3RixJQUFLK0MsT0FBUThDLEVBQVc5QyxPQUFRSixNQUFPa0QsRUFBV2xELE1BQU9LLFFBQVM2QyxFQUFXN0MsUUFBUytDLFVBQVdGLEVBQVdFLFVBQVdsSCxXQUFZZ0gsRUFBV2hILGlCQUd2TW1ILE9BQU9DLE9BQU9zTyxHQXBCbEIsSUFBb0IvUCxFQUVuQitQLEVDdEJObEQsU0FBU2lCLGNBQWMsU0FBU29DLFVBQWFDLEVBQUFBLEVBZ0QzQ3BJLFFBQVFDLElBQUksQ0FBQyw2Q0FBNEIsK0NBQ3hDQyxNQUFLLFNBQUFtSSxHQUNKLElBQU0zRSxFQUFXMkUsRUFBUyxHQUNwQkMsRUFBUUQsRUFBUyxHQUN2QmxPLEVBQUFBLElBQU9vTyxFQUFjLGNBQWRBLFlBQTBCckksTUFBTSxTQUFBbkksR0FDckNvQyxFQUFBQSxJQUFPb08sRUFBYyxjQUFkQSxXQUF5QnJJLE1BQU0sU0FBQWxJLEdBQ3ZCMEwsRUFBUzhFLFdBQVcxRCxTQUFTMkQsZUFBZSxTQUNwRDdFLE9BQ0gsZ0JBQUNrRSxHQUFELENBQWlCL1AsWUFBYUEsRUFBYUMsV0FBWUEsRUFBWStQLFVBQVUsS0FrQ3ZGakQsU0FBU2lCLGNBQWMsb0JBQW9Cb0MsVUFBWWhPLEVBQUFBLEdBQUEsa0JBQTRCRyxPQUFPNk4sb0IsVUM3RjVGTyxFQUFPQyxRQUFVLENBQUNKLGNBUEksQ0FDbEIsV0FBYyxtS0FDZCxVQUFhLDJLQUNiLGdCQUFtQixtQ0FDbkIsZUFBa0Isc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvY29tcG9uZW50cy9JbnRyb1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2NvbXBvbmVudHMvVGV4dFNlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2NvbXBvbmVudHMvRFdDaGFydC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2VuZXJhdG9yL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvY29tcG9uZW50cy9WaXpTZWN0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9jb21wb25lbnRzL0Z1bGxQYWdlU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2VuZXJhdG9yL3N0cnVjdHVyZUdlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uLi9sZWRldm9pci1kYXRhdml6L3NyYy9tYXBzL2ludGVyYWN0aXZlLW1hcC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uLi9sZWRldm9pci1kYXRhdml6L3NyYy9ncmFwaHMvc3RhY2tlZEFyZWFDaGFydC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL2dhdWdlcy9HYXVnZXMuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9pbnRyb0JveC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL2dhdWdlcy9Nb25pdG9yaW5nLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9DaG9pY2UuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL011bHRpU2VsZWN0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9QcmludFByb21wdC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvUmVwYXJ0aXRpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL01hcE5hdmlnYXRvci5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvQmlsYW4uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL0VuZEdhbWUuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9Qcm9tcHRCb3guanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9tYWluZnJhbWUuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvZW5naW5lLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC92aXouanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL3Njcm9sbGVyLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3IvaW5pdFNjcm9sbGVyLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3IvUmVuZGVyU3RydWN0dXJlLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9hcHAuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvZGF0YS9nb29nbGVfY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEludHJvU2VjdGlvbihwcm9wcyl7XG5cblxuICAgIGxldCBpbnRyb1NlY3Rpb25PYmogPSAoXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17YGludHJvLXNlY3Rpb24gJHtwcm9wcy5jbGFzc2VzfWB9PlxuICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIm92ZXJUaXRsZVwiPlxuICAgICAgICAgICAgICB7cHJvcHMuYW1vcmNlfVxuICAgICAgICAgICAgPC9oNT5cbiAgICAgICAgICAgIDxoMT57cHJvcHMub3B0aW9uRGF0YS50aXRsZX08L2gxPlxuICAgICAgICAgICAgPGFkZHJlc3M+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkYXRlXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2FkZHJlc3M+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICApO1xuICAgIGxldCBjb250YWluZWRPYmogPSBwcm9wcy5iYWNrZ3JvdW5kID9cbiAgICAgICAgKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogYCR7cHJvcHMuYmFja2dyb3VuZH1gfX0gY2xhc3NOYW1lPXtcInNlY3Rpb25Db250YWluZXJcIn0+XG4gICAgICAgICAgICAgICAge2ludHJvU2VjdGlvbk9ian1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICAgIDpcbiAgICAgICAgKFxuICAgICAgICAgICAgaW50cm9TZWN0aW9uT2JqXG4gICAgICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICAgIGNvbnRhaW5lZE9ialxuICAgIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFRleHRTZWN0aW9uKHByb3BzKXtcclxuXHJcbiAgICBsZXQgaXNRdW90ZSA9IFN0cmluZyhwcm9wcy5jbGFzc2VzKS5pbmNsdWRlcygnY2l0YXRpb24nKTtcclxuICAgIGxldCBxdW90ZU9iajtcclxuICAgIGlmKGlzUXVvdGUpe1xyXG4gICAgICAgIHF1b3RlT2JqID0ge1xyXG4gICAgICAgICAgICB0ZXh0OlN0cmluZyhwcm9wcy50ZXh0cykuc3BsaXQoJy8nKVswXSxcclxuICAgICAgICAgICAgYXV0aG9yOlN0cmluZyhwcm9wcy50ZXh0cykuc3BsaXQoJy8nKVsxXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlzQmlnTnVtYmVyID0gU3RyaW5nKHByb3BzLmNsYXNzZXMpLmluY2x1ZGVzKCdiaWdOdW1iZXInKTtcclxuICAgIGxldCBiaWdOdW1iZXJPYmo7XHJcbiAgICBpZihpc0JpZ051bWJlcil7XHJcbiAgICAgICAgYmlnTnVtYmVyT2JqID0ge1xyXG4gICAgICAgICAgICBudW1iZXI6U3RyaW5nKHByb3BzLnRleHRzKS5zcGxpdCgnLycpWzBdLFxyXG4gICAgICAgICAgICB1bmRlclRleHQ6U3RyaW5nKHByb3BzLnRleHRzKS5zcGxpdCgnLycpWzFdXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXNWaXN1YWwgPSBwcm9wcy52aXN1YWw7XHJcbiAgICBsZXQgdmlzdWFsT2JqID0gKFxyXG4gICAgICAgIChpc1Zpc3VhbCAhPT0gXCJcIikgPyBcclxuICAgICAgICAgICAgcHJvcHMudmlzdWFsID09PSBcIlBob3RvXCIgPyBcclxuICAgICAgICAgICAgICAgIDxpbWcgXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtgcGhvdG9UZXh0U2VjdGlvbl8ke3Byb3BzLmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9e2BwaG90b1RleHRTZWN0aW9uXyR7cHJvcHMuaWR9YH1cclxuICAgICAgICAgICAgICAgICAgICBzcmM9e2Bhc3NldHMvaW1nLzY3NS8ke3Byb3BzLmZpbGVuYW1lfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1zcmNzZXQ9e2Bhc3NldHMvaW1nLzIwNDgvJHtwcm9wcy5maWxlbmFtZX0gMjA0OHcsIGFzc2V0cy9pbWcvOTkwLyR7cHJvcHMuZmlsZW5hbWV9IDk5MHcsIGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9IDY3NXcsIGFzc2V0cy9pbWcvMTM1MC8ke3Byb3BzLmZpbGVuYW1lfSAxMzUwdywgYXNzZXRzL2ltZy8xMDAvJHtwcm9wcy5maWxlbmFtZX0gMTAwdywgYXNzZXRzL2ltZy80OTUvJHtwcm9wcy5maWxlbmFtZX0gNDk1dywgYXNzZXRzL2ltZy8xMDI0LyR7cHJvcHMuZmlsZW5hbWV9IDEwMjR3YH1cclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXNpemVzPVwiKG1heC13aWR0aDogMTAwcHgpIDEwMHB4LCAobWF4LXdpZHRoOiA0OTVweCkgNDk1cHgsIChtYXgtd2lkdGg6IDY3NXB4KSA2NzVweCwgKG1heC13aWR0aDogOTkwcHgpIDk5MHB4LCAobWF4LXdpZHRoOiAgMTAyNHB4KSAxMDI0cHgsIChtYXgtd2lkdGg6ICAxMzUwcHgpIDEzNTBweCwgKG1heC13aWR0aDogIDIwNDhweCkgMjA0OHB4XCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsYXp5ICR7cHJvcHMudmlzdWVsY2xhc3Nlc31gfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7cGFkZGluZ0JvdHRvbTogJzFyZW0nfX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgcHJvcHMudmlzdWFsID09PSBcIlZpZGVvXCIgPyBcclxuICAgICAgICAgICAgICAgIDx2aWRlbyBhdXRvUGxheSBsb29wIG11dGVkIHBsYXlzSW5saW5lIGNsYXNzTmFtZT17YHZpZGVvICR7cHJvcHMudmlzdWVsY2xhc3Nlc31gfSBwcmVsb2FkPVwibWV0YWRhdGFcIiBrZXk9e2B2aWRlb1RleHRTZWN0aW9uXyR7cHJvcHMuaWR9YH0gaWQ9e2B2aWRlb1RleHRTZWN0aW9uXyR7cHJvcHMuaWR9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9e2Bhc3NldHMvdmlkZW9zLyR7cHJvcHMuZmlsZW5hbWV9YH0vPlxyXG4gICAgICAgICAgICAgICAgICAgIFZpZMOpbyBub24gc3VwcG9ydMOpZS4gUsOpLWVzc2F5ZXogc3VyIHVuIGF1dHJlIGFwcGFyZWlsIG91IGZ1cmV0ZXVyLlxyXG4gICAgICAgICAgICAgICAgPC92aWRlbz5cclxuICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgOlxyXG4gICAgICAgIDxkaXY+PC9kaXY+XHJcbiAgICApXHJcblxyXG4gICAgbGV0IHRleHRTZWN0aW9uT2JqID0gKFxyXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17YHRleHQtc2VjdGlvbiAke3Byb3BzLmNsYXNzZXN9YH0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpc1F1b3RlID8gXHJcbiAgICAgICAgICAgIDxibG9ja3F1b3RlIGNsYXNzTmFtZT1cInNtYWxsXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGI+XHJcbiAgICAgICAgICAgICAgICAgICAge3BhcnNlKHF1b3RlT2JqLnRleHQpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYj5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImF1dGhvclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtxdW90ZU9iai5hdXRob3J9XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN5bWJvbFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvYmxvY2txdW90ZT5cclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICBpc0JpZ051bWJlciA/XHJcbiAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItbnVtYmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibnVtYmVyc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPntiaWdOdW1iZXJPYmoubnVtYmVyfTwvaDI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2JpZ051bWJlck9iai51bmRlclRleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NtYWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Zpc3VhbCA/IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc3VhbE9ialxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHByb3BzLnRleHRzKS5zdGFydHNXaXRoKCc8JykgPyAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZShwcm9wcy50ZXh0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPntwYXJzZShwcm9wcy50ZXh0cyl9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIDwvc2VjdGlvbj5cclxuICAgICk7XHJcbiAgICBsZXQgY29udGFpbmVkT2JqID0gcHJvcHMuYmFja2dyb3VuZCA/IFxyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6IGAke3Byb3BzLmJhY2tncm91bmR9YH19IGNsYXNzTmFtZT17XCJzZWN0aW9uQ29udGFpbmVyXCJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGV4dFNlY3Rpb25PYmp9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFNlY3Rpb25PYmpcclxuICAgICAgICAgICAgICAgIClcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIGNvbnRhaW5lZE9ialxyXG4gICAgKVxyXG59IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRFdDaGFydCh7IHRpdGxlLCBzcmMsIC4uLnByb3BzIH0pIHtcclxuICBjb25zdCBpZnJhbWVSZWYgPSB1c2VSZWYoKVxyXG4gIGNvbnN0IFtoZWlnaHQsIHNldFN0YXRlXSA9IHVzZVN0YXRlKDUwMClcclxuXHJcbiAgY29uc3Qgb25NZXNzYWdlID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoeyBkYXRhID0ge30sIHNvdXJjZSB9KSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBzb3VyY2UgIT09IGlmcmFtZVJlZi5jdXJyZW50LmNvbnRlbnRXaW5kb3cgfHxcclxuICAgICAgICB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgfHxcclxuICAgICAgICAhZGF0YVsnZGF0YXdyYXBwZXItaGVpZ2h0J11cclxuICAgICAgKVxyXG4gICAgICAgIHJldHVyblxyXG5cclxuICAgICAgLy9zZXRTdGF0ZShPYmplY3QudmFsdWVzKGRhdGFbJ2RhdGF3cmFwcGVyLWhlaWdodCddKVswXSlcclxuICAgIH0sXHJcbiAgICBbc2V0U3RhdGUsIGlmcmFtZVJlZl1cclxuICApXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSlcclxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSlcclxuICB9LCBbaGVpZ2h0LCBzZXRTdGF0ZSwgb25NZXNzYWdlXSlcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxpZnJhbWVcclxuICAgICAgcmVmPXtpZnJhbWVSZWZ9XHJcbiAgICAgIHNjcm9sbGluZz1cIm5vXCJcclxuICAgICAgZnJhbWVCb3JkZXI9XCIwXCJcclxuICAgICAgd2lkdGg9XCIxMDAlXCJcclxuICAgICAgey4uLnByb3BzfVxyXG4gICAgICB0aXRsZT17dGl0bGV9XHJcbiAgICAgIHNyYz17c3JjfVxyXG4gICAgICBoZWlnaHQ9e2hlaWdodH1cclxuICAgIC8+XHJcbiAgKVxyXG59XHJcblxyXG5EV0NoYXJ0LnByb3BUeXBlcyA9IHtcclxuICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIHNyYzogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIGxvYWRpbmc6IFByb3BUeXBlcy5vbmVPZihbJ2VhZ2VyJywgJ2xhenknXSksXHJcbn0iLCJleHBvcnQgY29uc3QgY29udGVudEhlYWRlckNvbnN0YW50cyA9IHtcbiAgICBzZWN0aW9uOiBcIlNlY3Rpb25cIixcbiAgICBzZWN0aW9uSUQ6IFwiU2VjdGlvbklEXCIsXG4gICAgYXR0cmlidXRzOiBcIkF0dHJpYnV0c1wiLFxuICAgIHNvdXNzZWN0aW9uOiBcIlN0ZXBcIixcbiAgICB0ZXh0ZTogXCJURVhURVwiLFxuICAgIHZpc3VlbDogXCJWSVNVRUxcIixcbiAgICBub21maWNoaWVyc291cmNlOiBcIk5vbUZpY2hpZXJTb3VyY2VcIixcbiAgICBzdHlsZWZvbmQ6IFwiU3R5bGVGb25kXCIsXG4gICAgc3RlcGNsYXNzZXM6IFwiU3RlcENsYXNzZXNcIixcbiAgICB2aXN1ZWxjbGFzc2VzOiBcIlZpc3VlbENsYXNzZXNcIixcbiAgICBub3RlczogXCJOb3Rlc1wiLFxuICAgIGdhbWVpZDogXCJHYW1lSURcIlxufTtcblxuZXhwb3J0IGNvbnN0IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cyA9IHtcbiAgICBzZWN0aW9udHlwZXM6IHtcbiAgICAgICAgaW50cm90aXRyZTogXCJpbnRyby10aXRyZVwiLFxuICAgICAgICBwbGVpbmVwYWdldGl0cmU6IFwicGxlaW5lLXBhZ2UtdGl0cmVcIixcbiAgICAgICAgdGV4dGVjbGFzc2lxdWU6IFwidGV4dGUtY2xhc3NpcXVlXCIsXG4gICAgICAgIHZpenNlY3Rpb246IFwidml6LXNlY3Rpb25cIlxuICAgIH0sXG4gICAgc2VjdGlvbmF0dHJpYnV0ZXM6e1xuICAgICAgICBwbGVpbmVwYWdlOiBcInBsZWluZS1wYWdlXCIsXG4gICAgICAgIGZvbmRub2lyOiBcImZvbmQtbm9pclwiLFxuICAgICAgICBjZW50cmU6IFwiY2VudHLDqVwiLFxuICAgICAgICBjb3RlY290ZTogXCJjw7R0w6ktY8O0dMOpXCJcbiAgICB9LFxuICAgIHZpc3VlbHR5cGVzOntcbiAgICAgICAgcGhvdG86IFwiUGhvdG9cIixcbiAgICAgICAgdmlkZW86IFwiVmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwiQXVkaW9cIixcbiAgICAgICAgdmlzdWFsaXNhdGlvbjogXCJWaXN1YWxpc2F0aW9uXCIsXG4gICAgICAgIGlmcmFtZTogXCJpZnJhbWVcIlxuICAgIH0sXG4gICAgc291c3NlY3Rpb250eXBlczp7XG4gICAgICAgIHNjcm9sbG5vcm1hbDogXCJzY3JvbGwtbm9ybWFsXCIsXG4gICAgICAgIHNjcm9sbGludmlzaWJsZTogXCJzY3JvbGwtaW52aXNpYmxlXCIsXG4gICAgICAgIHNjcm9sbGxvbmc6IFwic2Nyb2xsLWxvbmdcIlxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzID0ge1xuICAgIHRpdHJlOiBcIlRpdHJlXCIsXG4gICAgYXV0ZXVyczogXCJBdXRldXJzXCIsXG4gICAgZGF0ZTogXCJEYXRlXCIsXG4gICAgZGF0ZTogXCJEYXRlXCIsXG4gICAgdXJsczogXCJMaWVuQXV0ZXVyc1wiLFxuICAgIGxpZW5maWNoaWVyc291cmNlOiBcIkxpZW5GaWNoaWVyU291cmNlXCJcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcbmltcG9ydCBEV0NoYXJ0IGZyb20gXCIuL0RXQ2hhcnRcIjtcbmltcG9ydCB7IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cyB9IGZyb20gXCIuLi9nZW5lcmF0b3IvY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBWaXpTZWN0aW9uKHByb3BzKXtcblxuICAgIGxldCB2aXpTZWN0aW9uT2JqID0gKFxuICAgICAgICA8c2VjdGlvbiBpZD17cHJvcHMubGlzdElEfSBjbGFzc05hbWU9e3Byb3BzLmNsYXNzZWR9PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHN0ZXBzICR7Z2V0U3RlcENvbW1vbkNsYXNzKHByb3BzLnN0ZXBzKX1gfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc3RlcHMubWFwKChzdGVwLGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdzdGVwIGlzICcsIHN0ZXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzUXVvdGUgPSBTdHJpbmcoc3RlcC5zdGVwY2xhc3NlcykuaW5jbHVkZXMoJ2NpdGF0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcXVvdGVPYmo7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpc1F1b3RlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdW90ZU9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDpTdHJpbmcoc3RlcC50ZXh0KS5zcGxpdCgnLycpWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3I6U3RyaW5nKHN0ZXAudGV4dCkuc3BsaXQoJy8nKVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGtleT17aW5kZXh9IGNsYXNzTmFtZT17c3RlcC5zdGVwY2xhc3Nlc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUXVvdGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrcXVvdGUgY2xhc3NOYW1lPVwic21hbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhcnNlKHF1b3RlT2JqLnRleHQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2I+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImF1dGhvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cXVvdGVPYmouYXV0aG9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN5bWJvbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ibG9ja3F1b3RlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nKHN0ZXAudGV4dCkuc3RhcnRzV2l0aCgnPCcpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZShzdGVwLnRleHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57c3RlcC50ZXh0ID8gcGFyc2Uoc3RlcC50ZXh0KSA6IFwiXCJ9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2aXpcIiBpZD1cInZpelwiPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc3RlcHMubWFwKChzdGVwLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RlcC52aXN1YWwgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy52aXN1ZWx0eXBlcy5waG90byl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17YGFzc2V0cy9pbWcvNjc1LyR7c3RlcC5maWxlbmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zcmNzZXQ9e2Bhc3NldHMvaW1nLzIwNDgvJHtzdGVwLmZpbGVuYW1lfSAyMDQ4dywgYXNzZXRzL2ltZy85OTAvJHtzdGVwLmZpbGVuYW1lfSA5OTB3LCBhc3NldHMvaW1nLzY3NS8ke3N0ZXAuZmlsZW5hbWV9IDY3NXcsIGFzc2V0cy9pbWcvMTM1MC8ke3N0ZXAuZmlsZW5hbWV9IDEzNTB3LCBhc3NldHMvaW1nLzEwMC8ke3N0ZXAuZmlsZW5hbWV9IDEwMHcsIGFzc2V0cy9pbWcvNDk1LyR7c3RlcC5maWxlbmFtZX0gNDk1dywgYXNzZXRzL2ltZy8xMDI0LyR7c3RlcC5maWxlbmFtZX0gMTAyNHdgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zaXplcz1cIihtYXgtd2lkdGg6IDEwMHB4KSAxMDBweCwgKG1heC13aWR0aDogNDk1cHgpIDQ5NXB4LCAobWF4LXdpZHRoOiA2NzVweCkgNjc1cHgsIChtYXgtd2lkdGg6IDk5MHB4KSA5OTBweCwgKG1heC13aWR0aDogIDEwMjRweCkgMTAyNHB4LCAobWF4LXdpZHRoOiAgMTM1MHB4KSAxMzUwcHgsIChtYXgtd2lkdGg6ICAyMDQ4cHgpIDIwNDhweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsYXp5ICR7c3RlcC52aXN1ZWxjbGFzc2VzfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzdGVwLnZpc3VhbCA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnZpc3VlbHR5cGVzLnZpZGVvKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmlkZW8gYXV0b1BsYXkgbG9vcCBtdXRlZCBwbGF5c0lubGluZSBjbGFzc05hbWU9e2B2aWRlbyAke3N0ZXAudmlzdWVsY2xhc3Nlc31gfSBwcmVsb2FkPVwibWV0YWRhdGFcIiBrZXk9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBpZD17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9e2Bhc3NldHMvdmlkZW9zLyR7c3RlcC5maWxlbmFtZX1gfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWTDqW8gbm9uIHN1cHBvcnTDqWUuIFLDqS1lc3NheWV6IHN1ciB1biBhdXRyZSBhcHBhcmVpbCBvdSBmdXJldGV1ci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92aWRlbz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoc3RlcC52aXN1YWwgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy52aXN1ZWx0eXBlcy5pZnJhbWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH0gaWQ9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBjbGFzc05hbWU9XCJpZnJhbWVDb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEV0NoYXJ0IHRpdGxlPVwiTWVzdXJlcyBkJ2Fyc2VuaWNcIiBzcmM9e2Ake3N0ZXAuZmlsZW5hbWV9YH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHN0ZXAudmlzdWFsID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMudmlzdWVsdHlwZXMudmlzdWFsaXNhdGlvbil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBpZD17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9IGNsYXNzTmFtZT17YGlmcmFtZUNvbnRhaW5lciAke3N0ZXAudmlzdWVsY2xhc3Nlc31gfT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICk7XG4gICAgbGV0IGNvbnRhaW5lZE9iaiA9IHByb3BzLmJhY2tncm91bmQgP1xuICAgICAgICAoXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7YmFja2dyb3VuZENvbG9yOiBgJHtwcm9wcy5iYWNrZ3JvdW5kfWB9fSBjbGFzc05hbWU9e1wic2VjdGlvbkNvbnRhaW5lclwifT5cbiAgICAgICAgICAgICAgICB7dml6U2VjdGlvbk9ian1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICAgIDpcbiAgICAgICAgKFxuICAgICAgICAgICAgdml6U2VjdGlvbk9ialxuICAgICAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgICBjb250YWluZWRPYmpcbiAgICApXG59XG5cbmZ1bmN0aW9uIGdldFN0ZXBDb21tb25DbGFzcyhzdGVwcyl7XG4gICAgbGV0IGN1clN0ZXBDbGFzc2VzID0gc3RlcHMubWFwKChzdGVwLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gc3RlcC5zdGVwY2xhc3NlcztcbiAgICB9KTtcbiAgICBsZXQgY3VyQ29tbW9uQ2xhc3MgPSBuZXcgQXJyYXkoY3VyU3RlcENsYXNzZXMubGVuZ3RoKTtcbiAgICBjdXJTdGVwQ2xhc3Nlcy5mb3JFYWNoKChzdGVwRWxlbSwgaWR4KSA9PiB7XG4gICAgICAgIGlmKEFycmF5LmlzQXJyYXkoc3RlcEVsZW0pKXtcbiAgICAgICAgICAgIHN0ZXBFbGVtLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yKCBsZXQgaSA9IGlkeDsgaSA8IGN1clN0ZXBDbGFzc2VzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VyU3RlcENsYXNzZXNbaV0uaW5jbHVkZXMoZWxlbSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbW9uQ2xhc3NbaV0gPSAoZWxlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZihzdGVwRWxlbSkgPT09IFwic3RyaW5nXCIpe1xuICAgICAgICAgICAgZm9yKCBsZXQgaSA9IGlkeDsgaSA8IGN1clN0ZXBDbGFzc2VzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZihjdXJTdGVwQ2xhc3Nlc1tpXS5pbmNsdWRlcyhzdGVwRWxlbSkpe1xuICAgICAgICAgICAgICAgICAgICBjdXJDb21tb25DbGFzc1tpXSA9IChzdGVwRWxlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGN1ckNvbW1vbkNsYXNzLnJlZHVjZShmdW5jdGlvbihhLCBiKXsgcmV0dXJuIChhID09PSBiICYmIGEgIT09IFwiXCIgJiYgYiAhPT0gXCJcIikgPyBhIDogXCJcIjsgfSk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBGdWxsUGFnZVNlY3Rpb24ocHJvcHMpe1xuXG4gICAgbGV0IGZ1bGxwYWdlU2VjdGlvbk9iaiA9IChcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtgZnVsbC1wYWdlLXNlY3Rpb24gJHtwcm9wcy5jbGFzc2VzfWB9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZUltYWdlXCI+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5maWxlbmFtZSA/XG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnZpc3VhbCA9PT0gXCJQaG90b1wiID9cbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7cHJvcHMuaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2Ake3Byb3BzLmlkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17YGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zcmNzZXQ9e2Bhc3NldHMvaW1nLzIwNDgvJHtwcm9wcy5maWxlbmFtZX0gMjA0OHcsIGFzc2V0cy9pbWcvOTkwLyR7cHJvcHMuZmlsZW5hbWV9IDk5MHcsIGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9IDY3NXcsIGFzc2V0cy9pbWcvMTM1MC8ke3Byb3BzLmZpbGVuYW1lfSAxMzUwdywgYXNzZXRzL2ltZy8xMDAvJHtwcm9wcy5maWxlbmFtZX0gMTAwdywgYXNzZXRzL2ltZy80OTUvJHtwcm9wcy5maWxlbmFtZX0gNDk1dywgYXNzZXRzL2ltZy8xMDI0LyR7cHJvcHMuZmlsZW5hbWV9IDEwMjR3YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1zaXplcz1cIihtYXgtd2lkdGg6IDEwMHB4KSAxMDBweCwgKG1heC13aWR0aDogNDk1cHgpIDQ5NXB4LCAobWF4LXdpZHRoOiA2NzVweCkgNjc1cHgsIChtYXgtd2lkdGg6IDk5MHB4KSA5OTBweCwgKG1heC13aWR0aDogIDEwMjRweCkgMTAyNHB4LCAobWF4LXdpZHRoOiAgMTM1MHB4KSAxMzUwcHgsIChtYXgtd2lkdGg6ICAyMDQ4cHgpIDIwNDhweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGxhenkgJHtwcm9wcy52aXN1ZWxjbGFzc2VzfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy52aXN1YWwgPT09IFwiVmlkZW9cIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmlkZW8gYXV0b1BsYXkgbG9vcCBtdXRlZCBwbGF5c0lubGluZSBjbGFzc05hbWU9e2B2aWRlbyAke3Byb3BzLnZpc3VlbGNsYXNzZXN9YH0gcHJlbG9hZD1cIm1ldGFkYXRhXCIga2V5PXtgJHtwcm9wcy5pZH1gfSBpZD17YCR7cHJvcHMuaWR9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz17YGFzc2V0cy92aWRlb3MvJHtwcm9wcy5maWxlbmFtZX1gfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWTDqW8gbm9uIHN1cHBvcnTDqWUuIFLDqS1lc3NheWV6IHN1ciB1biBhdXRyZSBhcHBhcmVpbCBvdSBmdXJldGV1ci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92aWRlbz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8ZGl2PjwvZGl2PilcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICg8ZGl2PjwvZGl2PilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5maWxlbmFtZSA/XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsdGVyXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FwdGlvbmhvbGRlclwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9e2BjYXB0aW9uICR7cHJvcHMubWFpblRpdGxlLmNsYXNzfWB9Pntwcm9wcy5tYWluVGl0bGUudGV4dH08L2gyPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc3ViVGl0bGUgP1xuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPXtgY2FwdGlvbiAke3Byb3BzLnN1YlRpdGxlLmNsYXNzfWB9Pntwcm9wcy5zdWJUaXRsZS50ZXh0fTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICk6XG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgKTtcbiAgICBsZXQgY29udGFpbmVkT2JqID0gcHJvcHMuYmFja2dyb3VuZCA/XG4gICAgICAgIChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6IGAke3Byb3BzLmJhY2tncm91bmR9YH19IGNsYXNzTmFtZT17XCJzZWN0aW9uQ29udGFpbmVyXCJ9PlxuICAgICAgICAgICAgICAgIHtmdWxscGFnZVNlY3Rpb25PYmp9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgICA6XG4gICAgICAgIChcbiAgICAgICAgICAgIGZ1bGxwYWdlU2VjdGlvbk9ialxuICAgICAgICApXG5cbiAgICByZXR1cm4gY29udGFpbmVkT2JqO1xuXG59XG4iLCJcbmltcG9ydCB7IHNhdmVBcyB9IGZyb20gJ2ZpbGUtc2F2ZXInO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgY29udGVudEhlYWRlckNvbnN0YW50cywgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLCBwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHJ1Y3R1cmUoY29udGVudERhdGEsIHBhcmFtc0RhdGEpe1xuXG4gICAgbGV0IHN0cnVjdHVyZURhdGEgPSB7fTsgLy8gV2hvbGUgc2Nyb2xseSBzdHJ1Y3R1cmVcbiAgICBsZXQgdml6U2VjdGlvbklEcyA9IFtdOyAvLyBMaXN0IG9mIHNlY3Rpb25JRHNcblxuICAgIGxldCBvcHRpb25zID0gZ2V0T3B0aW9ucyhwYXJhbXNEYXRhKTtcblxuICAgIGNvbnNvbGUubG9nKCdjb250ZW50IERhdGEnLCBjb250ZW50RGF0YSk7XG4gICAgY29udGVudERhdGEubWFwKChyb3dEYXRhLGluZGV4KSA9PiB7XG5cbiAgICAgICAgaWYocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25dID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLmludHJvdGl0cmUpe1xuICAgICAgICAgICAgbGV0IGNsYXNzZXMgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3RlcGNsYXNzZXNdO1xuICAgICAgICAgICAgbGV0IGN1ckFtb3JjZSA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV07XG4gICAgICAgICAgICBsZXQgc2VjdGlvbkJhY2tncm91bmQgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3R5bGVmb25kXTtcbiAgICAgICAgICAgIHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dID0ge1xuICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgc2VjdGlvblR5cGU6IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMuaW50cm90aXRyZSxcbiAgICAgICAgICAgICAgICBvcHRpb25EYXRhOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIGFtb3JjZTogY3VyQW1vcmNlLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHNlY3Rpb25CYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IHBhcnNlQ2xhc3NlcyhjbGFzc2VzKSxcbiAgICAgICAgICAgICAgICBnYW1laWQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5nYW1laWRdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25dID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnRleHRlY2xhc3NpcXVlKXtcbiAgICAgICAgICAgIGxldCB0ZXh0cyA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV07XG4gICAgICAgICAgICBsZXQgY2xhc3NlcyA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdGVwY2xhc3Nlc107XG4gICAgICAgICAgICBsZXQgc2VjdGlvbkJhY2tncm91bmQgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3R5bGVmb25kXTtcbiAgICAgICAgICAgIHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dID0ge1xuICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgc2VjdGlvblR5cGU6IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudGV4dGVjbGFzc2lxdWUsXG4gICAgICAgICAgICAgICAgdGV4dHM6IHRleHRzLFxuICAgICAgICAgICAgICAgIHZpc3VhbDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbF0sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5ub21maWNoaWVyc291cmNlXSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBzZWN0aW9uQmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICBjbGFzc2VzOiBwYXJzZUNsYXNzZXMoY2xhc3NlcyksXG4gICAgICAgICAgICAgICAgdmlzdWVsY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxjbGFzc2VzXSksXG4gICAgICAgICAgICAgICAgZ2FtZWlkOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuZ2FtZWlkXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uXSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5wbGVpbmVwYWdldGl0cmUpe1xuICAgICAgICAgICAgbGV0IHRpdGxlT2JqID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXTtcbiAgICAgICAgICAgIGlmIChpc0pzb24ocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXSkpe1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0T2JqID0gSlNPTi5wYXJzZShyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdKTtcbiAgICAgICAgICAgICAgICB0aXRsZU9iaiA9IHRleHRPYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgICAgICAgIHNlY3Rpb25UeXBlOiBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnBsZWluZXBhZ2V0aXRyZSxcbiAgICAgICAgICAgICAgICB0ZXh0czogaXNKc29uKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV0pID8gdGl0bGVPYmpcbiAgICAgICAgICAgICAgICA6e1xuICAgICAgICAgICAgICAgICAgICBtYWluVGl0bGU6e2NsYXNzOiBcIlwiLCB0ZXh0OiB0aXRsZU9ian0sXG4gICAgICAgICAgICAgICAgICAgIHN1YlRpdGxlOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB2aXN1YWw6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxdLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMubm9tZmljaGllcnNvdXJjZV0sXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0eWxlZm9uZF0sXG4gICAgICAgICAgICAgICAgY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdGVwY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIHZpc3VlbGNsYXNzZXM6IHBhcnNlQ2xhc3Nlcyhyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudmlzdWVsY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIGdhbWVpZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmdhbWVpZF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbl0gPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudml6c2VjdGlvbil7XG5cbiAgICAgICAgICAgIGxldCBjdXJEYXRhID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0czogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmF0dHJpYnV0c10sXG4gICAgICAgICAgICAgICAgc2Nyb2xsVHlwZTogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNvdXNzZWN0aW9uXSxcbiAgICAgICAgICAgICAgICB0ZXh0OiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdLFxuICAgICAgICAgICAgICAgIHZpc3VhbDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbF0sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5ub21maWNoaWVyc291cmNlXSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3R5bGVmb25kXSxcbiAgICAgICAgICAgICAgICB2aXN1ZWxjbGFzc2VzOiBwYXJzZUNsYXNzZXMocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbGNsYXNzZXNdKSxcbiAgICAgICAgICAgICAgICBzdGVwY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdGVwY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIGdhbWVpZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmdhbWVpZF1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZihzdHJ1Y3R1cmVEYXRhLmhhc093blByb3BlcnR5KHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdKSl7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHN0ZXAgdG8gZXhpc3RpbmdcbiAgICAgICAgICAgICAgICBsZXQgY3VyVml6U2VjdGlvbiA9IHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dO1xuICAgICAgICAgICAgICAgIGN1clZpelNlY3Rpb24ucHVzaChjdXJEYXRhKTtcbiAgICAgICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IGN1clZpelNlY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dID0gW2N1ckRhdGFdO1xuICAgICAgICAgICAgICAgIHZpelNlY3Rpb25JRHMucHVzaChyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2aXpTZWN0aW9uSURzLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgIGxldCBjdXJTZWN0aW9uID0gc3RydWN0dXJlRGF0YVtrZXldO1xuICAgICAgICBsZXQgc2VjdGlvbkF0dHIgPSBjdXJTZWN0aW9uWzBdLmF0dHJpYnV0cyA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb25hdHRyaWJ1dGVzLmNlbnRyZSA/IFwiIGZ1bGwtcGFnZVwiIDogXCJcIjtcbiAgICAgICAgbGV0IHNlY3Rpb25CYWNrZ3JvdW5kID0gY3VyU2VjdGlvblswXS5iYWNrZ3JvdW5kO1xuICAgICAgICBzdHJ1Y3R1cmVEYXRhW2tleV0gPSB7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHNlY3Rpb25UeXBlOiBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnZpenNlY3Rpb24sXG4gICAgICAgICAgICBsaXN0SUQ6IGtleSxcbiAgICAgICAgICAgIHN0ZXBzOiBjdXJTZWN0aW9uLFxuICAgICAgICAgICAgY2xhc3NlZDogYHZpei1zZWN0aW9uJHtzZWN0aW9uQXR0cn1gLFxuICAgICAgICAgICAgbWVkaWFJbmZvOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogc2VjdGlvbkJhY2tncm91bmRcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHN0cnVjdHVyZURhdGEpO1xufVxuXG4vKipcbiAqIFRha2UgYXJ0aWNsZSBzdHJ1Y3R1cmUgYXMgQ1NWIGFuZCB0cmFuc2Zvcm0gaXQgYXMgY2FsbGJhY2tBcnJheVxuICogQHBhcmFtICB7T2JqZWN0fSBjb250ZW50RGF0YSBhcnRpY2xlIHN0cnVjdHVyZVxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIGFydGljbGUgb3B0aW9uc1xuICogQHJldHVybiB7QXJyYXl9IFNjcm9sbGVyIGNhbGxiYWNrIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNhbGxiYWNrcyhjb250ZW50RGF0YSwgcGFyYW1zRGF0YSl7XG5cbiAgICBsZXQgZnVsbFN0cnVjdHVyZSA9IGdldFN0cnVjdHVyZShjb250ZW50RGF0YSwgcGFyYW1zRGF0YSk7XG4gICAgbGV0IGNhbGxiYWNrc0FycmF5ID0gW107XG4gICAgZnVsbFN0cnVjdHVyZS5tYXAoY2FsbGJhY2sgPT4ge1xuICAgICAgICBpZihjYWxsYmFjay5zZWN0aW9uVHlwZSA9PT0gXCJ2aXotc2VjdGlvblwiKXtcbiAgICAgICAgICAgIGxldCBjdXJTdGVwcyA9IFtdO1xuICAgICAgICAgICAgY2FsbGJhY2suc3RlcHMubWFwKChzdGVwLGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGN1ckNvbW1hbmQgPSAoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcikgPyAoKCk9Pnt9KSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYoc3RlcC52aXN1YWwgIT09IFwiXCIpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyTnVtYmVyQXJyYXkgPSBBcnJheShjYWxsYmFjay5zdGVwcy5sZW5ndGgpLmZpbGwobnVsbCkubWFwKChfLCBpKSA9PiBpKS5maWx0ZXIoZCA9PiBkICE9PSBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvcGFjaXR5U2VsZWN0b3IgPSBjdXJOdW1iZXJBcnJheS5tYXAoaW5kID0+IGAjJHtjYWxsYmFjay5rZXl9XyR7aW5kfWApLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tYW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdChgIyR7Y2FsbGJhY2sua2V5fV8ke2luZGV4fWApLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob3BhY2l0eVNlbGVjdG9yICE9PSBcIlwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKGAke29wYWNpdHlTZWxlY3Rvcn1gKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tYW5kID0gYGQzLnNlbGVjdCgnIyR7Y2FsbGJhY2sua2V5fV8ke2luZGV4fScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7JHtvcGFjaXR5U2VsZWN0b3IgIT09IFwiXCIgPyBgZDMuc2VsZWN0QWxsKCcke29wYWNpdHlTZWxlY3Rvcn0nKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7YCA6IFwiXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKFN0cmluZyhzdGVwLmZpbGVuYW1lKS5zdGFydHNXaXRoKFwiVEFHSURcIikpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyVGFnSUQgPSBTdHJpbmcoc3RlcC5maWxlbmFtZSkuc3BsaXQoJz0nKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1clRhZ0lEX2luZGV4ID0gcGFyc2VJbnQoY3VyVGFnSUQuc3BsaXQoXCJfXCIpWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ck51bWJlckFycmF5ID0gQXJyYXkoY2FsbGJhY2suc3RlcHMubGVuZ3RoKS5maWxsKG51bGwpLm1hcCgoXywgaSkgPT4gaSkuZmlsdGVyKGQgPT4gZCAhPT0gY3VyVGFnSURfaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3BhY2l0eVNlbGVjdG9yID0gY3VyTnVtYmVyQXJyYXkubWFwKGluZCA9PiBgIyR7Y2FsbGJhY2sua2V5fV8ke2luZH1gKS5qb2luKCcsJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1YyAmJiBFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbWFuZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KGAjJHtjdXJUYWdJRH1gKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAxKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihvcGFjaXR5U2VsZWN0b3IgIT09IFwiXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKGAke29wYWNpdHlTZWxlY3Rvcn1gKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tYW5kID0gYGQzLnNlbGVjdCgnIyR7Y3VyVGFnSUR9JykudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMSkuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTske29wYWNpdHlTZWxlY3RvciAhPT0gXCJcIiA/IGBkMy5zZWxlY3RBbGwoJyR7b3BhY2l0eVNlbGVjdG9yfScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDApLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtgIDogXCJcIn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgICAgICAgICAgICAgICAgY3VyU3RlcHMucHVzaChjdXJDb21tYW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY3VyU3RlcHMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoKSA9PiB7JHtjdXJDb21tYW5kfX1gXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhbGxiYWNrc0FycmF5LnB1c2goY3VyU3RlcHMpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZihFTlZfQ09ORklHLmRvd25sb2FkU3RydWMgJiYgRU5WX0NPTkZJRy5hdXRvcmVuZGVyKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnR09UIENBTExCQUNLUyBBUlJBWTogJywgY2FsbGJhY2tzQXJyYXkpO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2tzQXJyYXk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTYXZpbmcgY2FsbGJhY2tzIHRvIGZpbGUuLi4nKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IGBpbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XFxuZXhwb3J0IGNvbnN0IGNhbGxiYWNrcyA9ICR7SlNPTi5zdHJpbmdpZnkoY2FsbGJhY2tzQXJyYXksIG51bGwsIDIpfWA7XG4gICAgICAgIGxldCBibG9iID0gbmV3IEJsb2IoW3RleHQucmVwbGFjZUFsbCgnXCInLCAnJyldLCB7dHlwZTogXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLThcIn0pO1xuICAgICAgICBzYXZlQXMoYmxvYiwgXCJjYWxsYmFja3MuanNcIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBpc0pzb24oc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgSlNPTi5wYXJzZShzdHIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDbGFzc2VzKHN0cil7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oc3RyLnNwbGl0KCc7JykpLmpvaW4oJyAnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9wdGlvbnMocGFyYW1zRGF0YSl7XG5cbiAgcmV0dXJuIHtcbiAgICB0aXRsZTogcGFyYW1zRGF0YVswXVtwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzLnRpdHJlXSxcbiAgICBhdXRob3JzOiBwYXJhbXNEYXRhWzBdW3BhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMuYXV0ZXVyc10sXG4gICAgdXJsczogcGFyYW1zRGF0YVswXVtwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzLnVybHNdLFxuICAgIGRhdGU6IHBhcmFtc0RhdGFbMF1bcGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cy5kYXRlXVxuICB9O1xufVxuIiwiaW1wb3J0IHsgY29uc3RhbnQgfSBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCBtYXBib3hnbCBmcm9tIFwibWFwYm94LWdsXCI7XHJcbmltcG9ydCAqIGFzIHNjcmVlbiBmcm9tIFwiLi9zY3JlZW4uanNcIjtcclxuXHJcbmNvbnN0IGNvbnN0YW50cyA9IHtcclxuICB0b2tlbjpcclxuICAgIFwicGsuZXlKMUlqb2liR1ZrWlhadmFYSWlMQ0poSWpvaVkycDJiVzgxZEhVMk1XVjFjVFJoY1hJemFYWnFNR1l4Y2lKOS5XcklGOG82OWFSX1RzdERGdTZReWFnXCIsXHJcbiAgbWFwQm91bmRzOiB7XHJcbiAgICBtYXg6IFstMTY1LCAzMC43MjgzMzAsIC0yNS4yMzYzNiwgODIuMjI5NDM0XSxcclxuICB9LFxyXG4gIGNvbG9yczogW1xyXG4gICAgXCIjRjRDQkM2XCIsXHJcbiAgICBcIiNGNEEzOUFcIixcclxuICAgIFwiI0VFNkE1RVwiLFxyXG4gICAgXCIjQ0UzNzI3XCIsXHJcbiAgICBcIiNBMjI4MjNcIixcclxuICAgIFwiIzc1MUExQVwiLFxyXG4gICAgXCIjNDEwMDAwXCIsXHJcbiAgXSxcclxuICBjbHVzdGVyTWF4Wm9vbTogMTEsXHJcbiAgY2x1c3RlclJhZGl1czogMzAsXHJcbiAgY2x1c3Rlck1pblBvaW50czogNVxyXG59O1xyXG5cclxubWFwYm94Z2wuYWNjZXNzVG9rZW4gPSBjb25zdGFudHMudG9rZW47XHJcblxyXG5leHBvcnQgY2xhc3MgTWFwIHtcclxuICBjb25zdHJ1Y3RvcihkaXYsIGNsYXNzTmFtZSwgZGF0YVNvdXJjZUFycmF5LCBzdHlsZVVybCwgaW5pdENvb3JkcywgZGlzYWJsZUNvbnRyb2xzPXRydWUsIHdpdGhIYW5kbGVycz1mYWxzZSwgbWF4Qm91bmRzID0gbnVsbCkge1xyXG5cclxuICAgIHRoaXMuZGF0YVNvdXJjZU9iamVjdHMgPSBkYXRhU291cmNlQXJyYXk7XHJcbiAgICB0aGlzLmNvbnN0YW50cyA9IGNvbnN0YW50cztcclxuICAgIHRoaXMubWFwID0gbmV3IG1hcGJveGdsLk1hcCh7XHJcbiAgICAgIGNvbnRhaW5lcjogY2xhc3NOYW1lLFxyXG4gICAgICBzdHlsZTogc3R5bGVVcmwsXHJcbiAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSxcclxuICAgICAgY2VudGVyOiBpbml0Q29vcmRzLmNlbnRlcixcclxuICAgICAgem9vbTogaW5pdENvb3Jkcy56b29tXHJcbiAgICB9KTtcclxuICAgIHRoaXMubWF4Qm91bmRzID0gaW5pdENvb3JkcztcclxuICAgIHRoaXMuYm91bmRzTGlzdCA9IHRoaXMuZGF0YVNvdXJjZU9iamVjdHMubWFwKGRhdGFTb3VyY2UgPT4gZGF0YVNvdXJjZVsnY29vcmRzJ10pO1xyXG4gICAgdGhpcy5leHRyYUJvdW5kcyA9IHRoaXMuZGF0YVNvdXJjZU9iamVjdHMubWFwKGRhdGFTb3VyY2UgPT4gZGF0YVNvdXJjZVsnZXh0cmFDb29yZHMnXSk7XHJcbiAgICBpZihkaXNhYmxlQ29udHJvbHMpe1xyXG4gICAgICB0aGlzLm1hcC5zY3JvbGxab29tLmRpc2FibGUoKTtcclxuICAgICAgdGhpcy5tYXAuZHJhZ1Bhbi5kaXNhYmxlKCk7XHJcbiAgICAgIHRoaXMubWFwLmRyYWdSb3RhdGUuZGlzYWJsZSgpO1xyXG4gICAgICB0aGlzLm1hcC5ib3hab29tLmRpc2FibGUoKTtcclxuICAgICAgdGhpcy5tYXAuZG91YmxlQ2xpY2tab29tLmRpc2FibGUoKTtcclxuICAgIH1cclxuICAgIGlmKHdpdGhIYW5kbGVycyl7XHJcbiAgICAgIHRoaXMuc2V0dXBIYW5kbGVycygpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRhTGlzdCA9IHRoaXMuZGF0YVNvdXJjZU9iamVjdHMubWFwKGRhdGFTb3VyY2UgPT4gZGF0YVNvdXJjZVsnZGF0YSddKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUJvdW5kcyhcclxuICAgIGJvdW5kcyA9IHRoaXMubWF4Qm91bmRzLFxyXG4gICAgcGFkZGluZyA9IHNjcmVlbi5pc1hTKCkgPyA1IDogc2NyZWVuLmlzU20oKSA/IDE1IDogMjAsXHJcbiAgICBkdXJhdGlvbiA9IDEwMFxyXG4gICkge1xyXG4gICAgdGhpcy5tYXAgPSB0aGlzLm1hcC5maXRCb3VuZHMoYm91bmRzLCB7XHJcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgICAgcGFkZGluZzogcGFkZGluZyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ29vcmRzQW5kWm9vbShkYXRhUGFpcil7XHJcbiAgICB0aGlzLm1hcC5mbHlUbyh7XHJcbiAgICAgIGNlbnRlcjogZGF0YVBhaXIuY2VudGVyLFxyXG4gICAgICB6b29tOiBkYXRhUGFpci56b29tLFxyXG4gICAgICBzcGVlZDogMC43LFxyXG4gICAgICBjdXJ2ZTogMSxcclxuICAgICAgZWFzaW5nKHQpe1xyXG4gICAgICAgIHJldHVybiB0XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB2aWV3Qm91bmRPYmoob2JqaW5kZXgpe1xyXG4gICAgdGhpcy51cGRhdGVDb29yZHNBbmRab29tKHRoaXMuYm91bmRzTGlzdFtvYmppbmRleF0pO1xyXG4gIH1cclxuXHJcbiAgdmlld0V4dHJhQm91bmRPYmoob2JqaW5kZXgsIGtleU5hbWUsIGR1cmF0aW9uKXtcclxuICAgIGxldCBleHRyYUJvdW5kcyA9IHRoaXMuZXh0cmFCb3VuZHNbb2JqaW5kZXhdO1xyXG4gICAgdGhpcy51cGRhdGVDb29yZHNBbmRab29tKGV4dHJhQm91bmRzW2tleU5hbWVdKTtcclxuICB9XHJcblxyXG4gIHZpZXdJbml0Qm91bmRzKGR1cmF0aW9uKXtcclxuICAgIHRoaXMudXBkYXRlQ29vcmRzQW5kWm9vbSh0aGlzLm1heEJvdW5kcyk7XHJcbiAgfVxyXG4gIHNob3dTb3VyY2VYSXRlbVkoc291cmNlSW5kZXgsIGl0ZW1JbmRleCkge1xyXG4gICAgdGhpcy51cGRhdGVDb29yZHNBbmRab29tKHRoaXMuZGF0YUxpc3Rbc291cmNlSW5kZXhdW2l0ZW1JbmRleF0pXHJcbiAgfVxyXG5cclxuICBpbml0TWFwU291cmNlc0FuZExheWVycygpIHtcclxuICAgIGlmICh0aGlzLmluaXRpYWxpc2VkKSByZXR1cm47XHJcbiAgICB0aGlzLmluaXRpYWxpc2VkID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgdGhpcy5kYXRhU291cmNlT2JqZWN0cy5tYXAoZGF0YVNvdXJjZSA9PiB7XHJcbiAgICAgIHRoaXMubWFwLmFkZFNvdXJjZShkYXRhU291cmNlWydzb3VyY2VOYW1lJ10sIHtcclxuICAgICAgICB0eXBlOiBkYXRhU291cmNlWydzb3VyY2VUeXBlJ10sXHJcbiAgICAgICAgZGF0YTogZGF0YVNvdXJjZVsnc291cmNlRGF0YSddXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZihkYXRhU291cmNlWydsYXllclR5cGUnXSA9PT0gJ2ZpbGwnKXtcclxuICAgICAgICB0aGlzLm1hcC5hZGRMYXllcih7XHJcbiAgICAgICAgICBpZDogZGF0YVNvdXJjZVsnc291cmNlTmFtZSddLFxyXG4gICAgICAgICAgdHlwZTogZGF0YVNvdXJjZVsnbGF5ZXJUeXBlJ10sXHJcbiAgICAgICAgICBzb3VyY2U6IGRhdGFTb3VyY2VbJ3NvdXJjZU5hbWUnXSxcclxuICAgICAgICAgIHBhaW50OiB7XHJcbiAgICAgICAgICAgICdmaWxsLWNvbG9yJzogZGF0YVNvdXJjZVsnY29sb3InXSxcclxuICAgICAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IGRhdGFTb3VyY2VbJ29wYWNpdHknXVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmKGRhdGFTb3VyY2VbJ2xheWVyVHlwZSddID09PSAnY2lyY2xlJyl7XHJcbiAgICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIoe1xyXG4gICAgICAgICAgaWQ6IGRhdGFTb3VyY2VbJ3NvdXJjZU5hbWUnXSxcclxuICAgICAgICAgIHR5cGU6IGRhdGFTb3VyY2VbJ2xheWVyVHlwZSddLFxyXG4gICAgICAgICAgc291cmNlOiBkYXRhU291cmNlWydzb3VyY2VOYW1lJ10sXHJcbiAgICAgICAgICBwYWludDoge1xyXG4gICAgICAgICAgICAnY2lyY2xlLWNvbG9yJzogWydtYXRjaCcsIFtcImdldFwiLCBcInN0YXR1dFwiXSwgJ1JlY2hlcmNoZXMgZWZmZWN0dcOpZXMgb3UgZW4gY291cnMnLCAnI2ZmNTYxYycsICdQaGFzZSBwcsOpbGltaW5haXJlJywgJyNmZmM3MzQnLCAnI2I3YjdiNyddLFxyXG4gICAgICAgICAgICAnY2lyY2xlLXJhZGl1cyc6IDVcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG5cclxuICBjaGFuZ2VMYXllclBhaW50KGlkLCBwcm9wZXJ0eSwgdmFsdWUpe1xyXG4gICAgdGhpcy5tYXAuc2V0UGFpbnRQcm9wZXJ0eShpZCwgcHJvcGVydHksIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIHNldHVwSGFuZGxlcnMoKXtcclxuICAgIFxyXG4gICAgdGhpcy5tYXAub24oXCJtb3VzZW92ZXJcIiwgXCJwZW5zaW9ubmF0c1NvdXJjZVwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLm1hcC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcclxuICAgICAgdGhpcy5kcmF3UG9wdXAoZSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMubWFwLm9uKFwibW91c2VvdXRcIiwgXCJwZW5zaW9ubmF0c1NvdXJjZVwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLm1hcC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMubWFwLm9uKFwiY2xpY2tcIiwgXCJwZW5zaW9ubmF0c1NvdXJjZVwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMubWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgICB0aGlzLmRyYXdQb3B1cChlKTtcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG4gIH1cclxuXHJcbiAgZHJhd1BvcHVwKGUpe1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSBlLmZlYXR1cmVzWzBdLmdlb21ldHJ5LmNvb3JkaW5hdGVzLnNsaWNlKCk7XHJcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gZS5mZWF0dXJlc1swXS5wcm9wZXJ0aWVzO1xyXG4gICAgbGV0IFtvcGVuZGF5c3RyLCBvcGVubW9udGhzdHIsIG9wZW55ZWFyc3RyXSA9IHByb3BlcnRpZXNbJ291dmVydHVyZSddLnNwbGl0KCcvJyk7XHJcbiAgICBsZXQgW2Zlcm1kYXlzdHIsIGZlcm1tb250aHN0ciwgZmVybXllYXJzdHJdID0gcHJvcGVydGllc1snZmVybWV0dXJlJ10uc3BsaXQoJy8nKTtcclxuICAgIGxldCBbZGF0ZV9vdXZlcnR1cmUsZGF0ZV9mZXJtZXR1cmVdID0gW1xyXG4gICAgICBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImZyLUNBXCIsIHtkYXRlU3R5bGU6XCJsb25nXCJ9KS5mb3JtYXQobmV3IERhdGUoRGF0ZS5VVEMob3BlbnllYXJzdHIsIG9wZW5tb250aHN0ciwgb3BlbmRheXN0cikpKSxcclxuICAgICAgbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJmci1DQVwiLCB7ZGF0ZVN0eWxlOlwibG9uZ1wifSkuZm9ybWF0KG5ldyBEYXRlKERhdGUuVVRDKGZlcm15ZWFyc3RyLCBmZXJtbW9udGhzdHIsIGZlcm1kYXlzdHIpKSlcclxuICAgIF07XHJcbiAgICBsZXQgaHRtbF9wb3B1cF9jb250ZW50ID0gYFxyXG4gICAgICA8aDM+JHtwcm9wZXJ0aWVzWyduYW1lJ119PC9oMz5cclxuICAgICAgPGg0PiR7cHJvcGVydGllc1sndmlsbGUnXX0sICR7cHJvcGVydGllc1sncHJvdmluY2UnXX08L2g0PlxyXG4gICAgICA8cD4ke2RhdGVfb3V2ZXJ0dXJlfSAtICR7ZGF0ZV9mZXJtZXR1cmV9PC9wPlxyXG4gICAgICA8cD4ke3Byb3BlcnRpZXNbJ3N0YXR1dCddfTwvcD5cclxuICAgIGA7XHJcbiAgICB3aGlsZSAoTWF0aC5hYnMoZS5sbmdMYXQubG5nIC0gY29vcmRpbmF0ZXNbMF0pID4gMTgwKSB7XHJcbiAgICAgIGNvb3JkaW5hdGVzWzBdICs9IGUubG5nTGF0LmxuZyA+IGNvb3JkaW5hdGVzWzBdID8gMzYwIDogLTM2MDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKClcclxuICAgICAgLnNldExuZ0xhdChjb29yZGluYXRlcylcclxuICAgICAgLnNldEhUTUwoaHRtbF9wb3B1cF9jb250ZW50KVxyXG4gICAgICAuYWRkVG8odGhpcy5tYXApO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIGlmICh0aGlzLnBvcHVwKSB7XHJcbiAgICAgIHRoaXMucG9wdXAucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGVEYXRhKGRhdGFTb3VyY2VOYW1lLCBkYXRhKSB7XHJcbiAgICBpZiAoIXRoaXMuaW5pdGlhbGlzZWQpIHRoaXMuaW5pdE1hcFNvdXJjZXNBbmRMYXllcnMoKTtcclxuICAgIHRoaXMubWFwLmdldFNvdXJjZShkYXRhU291cmNlTmFtZSkuc2V0RGF0YShkYXRhKTtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcclxuXHJcbmNvbnN0IHBvc2l0aXZlT3JkZXJEaWN0ID0ge1xyXG4gICAgXCJsYW5kX3NpbmtcIjowLFxyXG4gICAgXCJmb3NzaWxfZW1pc3Npb25zXCI6MSxcclxuICAgIFwibGFuZF91c2VfY2hhbmdlXCI6Mn07XHJcblxyXG5jb25zdCBuZWdhdGl2ZU9yZGVyRGljdCA9IHtcIm9jZWFuX3NpbmtcIjowLFxyXG4gICAgXCJhdG1vc19zaW5rXCI6MSxcclxuICAgIFwibGFuZF9zaW5rXCI6Mn07XHJcblxyXG5jb25zdCBjb2xvckRpY3QgPSB7XHJcblxyXG4gICAgZm9zc2lsX2VtaXNzaW9uczogXCIjYjdjM2MzXCIsXHJcbiAgICBsYW5kX3VzZV9jaGFuZ2U6IFwiI0VGRTY2RlwiLFxyXG4gICAgbGFuZF9zaW5rOiBcIiNhNWRhYThcIixcclxuICAgIG9jZWFuX3Npbms6IFwiIzc1YTNiMVwiLFxyXG4gICAgYXRtb3Nfc2luazogXCIjODljZmYwXCIsXHJcbiAgICBjZW1lbnRfc2luazogXCIjYTJhMTk4XCJcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIHN0YWNrZWRBcmVhQ2hhcnR7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3Znb2JqLCByYXdkYXRhKXtcclxuXHJcbiAgICAgICAgdGhpcy5zdmdPYmogPSBzdmdvYmo7XHJcbiAgICAgICAgdGhpcy5zdmdXaWR0aCA9IHRoaXMuc3ZnT2JqLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICB0aGlzLnN2Z0hlaWdodCA9IHRoaXMuc3ZnT2JqLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jaGFydFdpZHRoID0gdGhpcy5zdmdXaWR0aCAqIDAuOTtcclxuICAgICAgICB0aGlzLmNoYXJ0SGVpZ2h0ID0gdGhpcy5zdmdIZWlnaHQgKiAwLjk7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5jbGVhbkRhdGEocmF3ZGF0YSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NzdkRhdGE6JywgdGhpcy5kYXRhKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5tYWluR3JvdXAgPSB0aGlzLnN2Z09iai5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCB0aGlzLmNoYXJ0V2lkdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCB0aGlzLmNoYXJ0SGVpZ2h0KVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgkeyh0aGlzLnN2Z1dpZHRoLXRoaXMuY2hhcnRXaWR0aCkvMn0sJHsodGhpcy5zdmdIZWlnaHQtdGhpcy5jaGFydEhlaWdodCkvMn0pYCk7XHJcbiAgICAgICAgdGhpcy5pbml0Q2hhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhbkRhdGEoZGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIGRhdGEubWFwKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHllYXI6IHllYXJEYXRhW1wiQW5uw6llXCJdLFxyXG4gICAgICAgICAgICAgICAgZm9zc2lsX2VtaXNzaW9uczogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCLDiW1pc3Npb25zIGlzc3VlcyBkZXMgw6luZXJnaWVzIGZvc3NpbGVzXCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgbGFuZF91c2VfY2hhbmdlOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIkNoYW5nZW1lbnQgZCdhZmZlY3RhdGlvbiBkZXMgdGVycmVzXCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgbGFuZF9zaW5rOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIlB1aXRzIHRlcnJlc3RyZVwiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIG9jZWFuX3Npbms6IHBhcnNlRmxvYXQoU3RyaW5nKHllYXJEYXRhW1wiT2PDqWFuXCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgYXRtb3Nfc2luazogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCJBdG1vc3Bow6hyZVwiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIGNlbWVudF9zaW5rOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIlB1aXRzIGRlIGNpbWVudFwiXSkucmVwbGFjZSgnLCcsXCIuXCIpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENoYXJ0KCl7XHJcblxyXG4gICAgICAgIGxldCBsZWdlbmREYXRhID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCLDiW1pc3Npb25zIGlzc3VlcyBkZXMgw6luZXJnaWVzIGZvc3NpbGVzXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJmb3NzaWxfZW1pc3Npb25zXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2hhbmdlbWVudCBkJ2FmZmVjdGF0aW9uIGRlcyB0ZXJyZXNcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcImxhbmRfdXNlX2NoYW5nZVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlB1aXRzIHRlcnJlc3RyZVwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwibGFuZF9zaW5rXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiT2PDqWFuXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJvY2Vhbl9zaW5rXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQXRtb3NwaMOocmVcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcImF0bW9zX3NpbmtcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgY29uc3QgeEF4aXMgPSB0aGlzLmRyYXdYQXhpcyh0aGlzLm1haW5Hcm91cCwgdGhpcy5jaGFydFdpZHRoLCB0aGlzLmRhdGEpO1xyXG4gICAgICAgIGNvbnN0IHlBeGlzID0gdGhpcy5kcmF3WUF4aXModGhpcy5tYWluR3JvdXAsIHRoaXMuY2hhcnRIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuZHJhd0FyZWFzKHRoaXMubWFpbkdyb3VwLCB4QXhpcywgeUF4aXMpO1xyXG4gICAgICAgIC8vdGhpcy5kcmF3UmVjdGFuZ2xlcyh0aGlzLm1haW5Hcm91cCwgeEF4aXMsIHlBeGlzKTtcclxuICAgICAgICB0aGlzLmRyYXdUaXRsZSh0aGlzLm1haW5Hcm91cCk7XHJcbiAgICAgICAgdGhpcy5kcmF3Qm90dG9tQm94KHRoaXMubWFpbkdyb3VwLCB0aGlzLmNoYXJ0V2lkdGgpXHJcbiAgICAgICAgdGhpcy5kcmF3RGV0YWlscyh0aGlzLm1haW5Hcm91cCwgbGVnZW5kRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge2QzLlNlbGVjdGlvbn0gY29udGFpbmVyIGQzIHNlbGVjdGlvblxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIHdpZHRoIG9mIHRoZSBjaGFydFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgZGF0YSBPYmogY29udGFpbmluZyBzZXJpZXMgYW5kIGRvbWFpbnNcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBheGlzVGl0bGUgeCBheGlzIHRpdGxlXHJcbiAgICAgKi9cclxuICAgICBkcmF3WEF4aXMoY29udGFpbmVyLCB3aWR0aCwgZGF0YSwgYXhpc1RpdGxlKXtcclxuXHJcbiAgICAgICAgY29uc3QgeEF4aXNHcm91cCA9IGNvbnRhaW5lci5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCAneEF4aXNHcm91cCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7MH0sJHt0aGlzLmNoYXJ0SGVpZ2h0KjAuOTB9KWApO1xyXG5cclxuICAgICAgICBjb25zdCBzY2FsZSA9IGQzLnNjYWxlQmFuZCgpXHJcbiAgICAgICAgICAgIC5kb21haW4oZGF0YS5tYXAoZWxlbSA9PiBlbGVtLnllYXIpKVxyXG4gICAgICAgICAgICAucmFuZ2UoW3RoaXMuY2hhcnRXaWR0aCowLjA1LCB3aWR0aF0pO1xyXG5cclxuICAgICAgICBjb25zdCBheGlzID0gZDMuYXhpc0JvdHRvbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zY2FsZShzY2FsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpY2tTaXplT3V0ZXIoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpY2tWYWx1ZXMoc2NhbGUuZG9tYWluKCkuZmlsdGVyKChkLGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoaSsxMCklMjAgPT09IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGlja0Zvcm1hdCgoZCxpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zcGxpdCgnLScpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB4QXhpc0dyb3VwLmNhbGwoYXhpcylcclxuICAgICAgICAgICAgLmNhbGwoZyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aWNrR3JvdXBzID0gZy5zZWxlY3RBbGwoXCIudGlja1wiKTtcclxuICAgICAgICAgICAgICAgIHRpY2tHcm91cHMuc2VsZWN0KCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNDAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnZ3JhcGhpaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTRwdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgKGQsaSkgPT4gaSA9PT0gdGlja0dyb3Vwcy5ub2RlcygpLmxlbmd0aC0xID8gXCJlbmRcIiA6IFwibWlkZGxlXCIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICByZXR1cm4gc2NhbGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge2QzLlNlbGVjdGlvbn0gY29udGFpbmVyIGQzIHNlbGVjdGlvblxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIHdpZHRoIG9mIHRoZSBjaGFydFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgZGF0YSBPYmogY29udGFpbmluZyBzZXJpZXMgYW5kIGRvbWFpbnNcclxuICAgICAqL1xyXG4gICAgIGRyYXdZQXhpcyhjb250YWluZXIsIGhlaWdodCl7XHJcblxyXG4gICAgICAgIGNvbnN0IHlBeGlzR3JvdXAgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3lBeGlzR3JvdXAnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2hhcnRXaWR0aCowLjA1fSwkezB9KWApO1xyXG5cclxuICAgICAgICBjb25zdCBzY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAgICAgLmRvbWFpbihbMTIsLTEyXSlcclxuICAgICAgICAgICAgLnJhbmdlKFswLGhlaWdodCowLjkwXSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGF4aXMgPSBkMy5heGlzTGVmdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zY2FsZShzY2FsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpY2tTaXplT3V0ZXIoMCk7XHJcbiAgICAgICAgeUF4aXNHcm91cC5jYWxsKGF4aXMpXHJcbiAgICAgICAgICAgIC5jYWxsKGcgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGlja0dyb3VwcyA9IGcuc2VsZWN0QWxsKFwiLnRpY2tcIik7XHJcbiAgICAgICAgICAgICAgICB0aWNrR3JvdXBzLnNlbGVjdCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDQwMClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ2dyYXBoaWsnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEycHQnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAncm90YXRlKC05MCknKVxyXG4gICAgICAgICAgICAuYXR0cihcInlcIiwgMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIC1zY2FsZSgwKSlcclxuICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi0zZW1cIilcclxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMnB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LWZhbWlseScsICdncmFwaGlrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsICc2MDAnKVxyXG4gICAgICAgICAgICAudGV4dChcIkZsdXggZGUgQ08yIChHdEMgLyBhbm7DqWUpXCIpO1xyXG4gICAgICAgIHJldHVybiBzY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3QXJlYXMoY29udGFpbmVyLCB4U2NhbGUsIHlTY2FsZSl7XHJcblxyXG4gICAgICAgIGxldCBwb3NpdGl2ZV9wYXRoc19hcnJheSA9IHt9O1xyXG4gICAgICAgIGxldCBuZWdhdGl2ZV9wYXRoc19hcnJheSA9IHt9O1xyXG5cclxuICAgICAgICBjb25zdCBwb3NEYXRhID0gdGhpcy5kYXRhLm1hcCh5ZWFyRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwb3NFbGVtcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgY3VyVG90YWwgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY3VyWWVhciA9IHllYXJEYXRhLnllYXI7XHJcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHllYXJEYXRhKS5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgIGlmKGN1ckVsZW0+MCAmJiBlbnRyeVswXSAhPT0gXCJ5ZWFyXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc0VsZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVudHJ5WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGN1clRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyVG90YWwgKz0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKGVudHJ5WzBdID09PSBcImNlbWVudF9zaW5rXCIpeyAvLyBBZGQgY2VtZW50IHNpbmsgdG8gcmVtb3ZlIGl0IGFmdGVyd2FyZHMgKGluIGZvc3NpbCBmdWVsKSAgXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVudHJ5WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnlbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcG9zRWxlbXMuc29ydCgoYSxiKSA9PiBwb3NpdGl2ZU9yZGVyRGljdFthLnR5cGVdIC0gcG9zaXRpdmVPcmRlckRpY3RbYi50eXBlXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5lZ0RhdGEgPSB0aGlzLmRhdGEubWFwKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgbGV0IG5lZ0VsZW1zID0gW107XHJcbiAgICAgICAgICAgIGxldCBjdXJUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjdXJZZWFyID0geWVhckRhdGEueWVhcjtcclxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoeWVhckRhdGEpLnNvcnQoKGEsYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lZ2F0aXZlT3JkZXJEaWN0W2FbMF1dIC0gbmVnYXRpdmVPcmRlckRpY3RbYlswXV07XHJcbiAgICAgICAgICAgIH0pLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyRWxlbSA9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgaWYoY3VyRWxlbTwwICYmIGVudHJ5WzBdICE9PSBcInllYXJcIiAmJiBlbnRyeVswXSAhPT0gXCJjZW1lbnRfc2lua1wiICl7XHJcbiAgICAgICAgICAgICAgICAgICAgbmVnRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVudHJ5WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnlbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogY3VyVG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJUb3RhbCArPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmV0dXJuIG5lZ0VsZW1zOy8vLnNvcnQoKGEsYikgPT4gbmVnYXRpdmVPcmRlckRpY3RbYS50eXBlXSAtIG5lZ2F0aXZlT3JkZXJEaWN0W2IudHlwZV0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnZ290IG5lZ0RhdGE6ICcsIG5lZ0RhdGEpO1xyXG5cclxuICAgICAgICBsZXQgYXJlYUdlbiA9IGQzLmFyZWEoKVxyXG4gICAgICAgICAgICAueChkID0+IHhTY2FsZShkLmN1clllYXIpKVxyXG4gICAgICAgICAgICAueTAoZCA9PiB5U2NhbGUoZC5jdXJUb3QpKVxyXG4gICAgICAgICAgICAueTEoZCA9PiB5U2NhbGUoZC5jdXJUb3QrZC52YWx1ZSkpO1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHBvc2l0aXZlT3JkZXJEaWN0KS5mb3JFYWNoKG9yZGVyT2JqID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJLZXkgPSBvcmRlck9ialswXTtcclxuICAgICAgICAgICAgbGV0IGN1ck9yZGVyVmFsdWUgPSBvcmRlck9ialsxXTtcclxuICAgICAgICAgICAgbGV0IGN1clBhdGhBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBwb3NEYXRhLmZvckVhY2goeWVhckRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSB5ZWFyRGF0YVswXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJZZWFyID0gY3VyRWxlbVsnY3VyWWVhciddO1xyXG4gICAgICAgICAgICAgICAgbGV0IGtleU9iaiA9IHllYXJEYXRhLmZpbHRlcihlbGVtID0+IGN1cktleSA9PT0gZWxlbS50eXBlKTtcclxuICAgICAgICAgICAgICAgIGxldCBjZW1lbnRPYmogPSB5ZWFyRGF0YS5maWx0ZXIoZWxlbSA9PiAnY2VtZW50X3NpbmsnID09PSBlbGVtLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihrZXlPYmoubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJLZXkgPT09IFwiZm9zc2lsX2VtaXNzaW9uc1wiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY3VyS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDoga2V5T2JqWzBdLmN1clRvdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlPYmpbMF0udmFsdWUgLSBNYXRoLmFicyhjZW1lbnRPYmpbMF0udmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY3VyS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDoga2V5T2JqWzBdLmN1clRvdC0gTWF0aC5hYnMoY2VtZW50T2JqWzBdLnZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlPYmpbMF0udmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCB6ZXJvXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjdXJLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHBvc2l0aXZlX3BhdGhzX2FycmF5W2N1cktleV0gPSBjdXJQYXRoQXJyYXk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpdmVQYXRocyA9IHRoaXMubWFpbkdyb3VwLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdwb3NpdGl2ZVBhdGhzJyk7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHBvc2l0aXZlX3BhdGhzX2FycmF5KS5mb3JFYWNoKGNhdGVnb3J5T2JqID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cktleSA9IGNhdGVnb3J5T2JqWzBdO1xyXG4gICAgICAgICAgICBsZXQgY3VyQXJyYXkgPSBjYXRlZ29yeU9ialsxXTtcclxuXHJcbiAgICAgICAgICAgIHBvc2l0aXZlUGF0aHMuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsIGN1cktleSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgICAgICAgICAgLmRhdHVtKGN1ckFycmF5KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjb2xvckRpY3RbY3VyS2V5XSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZCcsIGQgPT4gYXJlYUdlbihkKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG5lZ2F0aXZlT3JkZXJEaWN0KS5zb3J0KChhLGIpID0+IGJbMV0gLSBhWzFdKS5mb3JFYWNoKG9yZGVyT2JqID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJLZXkgPSBvcmRlck9ialswXTtcclxuICAgICAgICAgICAgbGV0IGN1ck9yZGVyVmFsdWUgPSBvcmRlck9ialsxXTtcclxuICAgICAgICAgICAgbGV0IGN1clBhdGhBcnJheSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgbmVnRGF0YS5mb3JFYWNoKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0geWVhckRhdGFbMF07XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyWWVhciA9IGN1ckVsZW1bJ2N1clllYXInXTtcclxuICAgICAgICAgICAgICAgIGxldCBrZXlPYmogPSB5ZWFyRGF0YS5maWx0ZXIoZWxlbSA9PiBjdXJLZXkgPT09IGVsZW0udHlwZSk7XHJcbiAgICAgICAgICAgICAgICBpZihrZXlPYmoubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBjdXJQYXRoQXJyYXkucHVzaChrZXlPYmpbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCB6ZXJvXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjdXJLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5lZ2F0aXZlX3BhdGhzX2FycmF5W2N1cktleV0gPSBjdXJQYXRoQXJyYXk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgbmVnYXRpdmVQYXRocyA9IHRoaXMubWFpbkdyb3VwLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICduZWdhdGl2ZXBhdGhzJyk7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG5lZ2F0aXZlX3BhdGhzX2FycmF5KS5mb3JFYWNoKGNhdGVnb3J5T2JqID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cktleSA9IGNhdGVnb3J5T2JqWzBdO1xyXG4gICAgICAgICAgICBsZXQgY3VyQXJyYXkgPSBjYXRlZ29yeU9ialsxXTtcclxuXHJcbiAgICAgICAgICAgIG5lZ2F0aXZlUGF0aHMuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsIGN1cktleSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgICAgICAgICAgLmRhdHVtKGN1ckFycmF5KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjb2xvckRpY3RbY3VyS2V5XSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZCcsIGQgPT4gYXJlYUdlbihkKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIERyYXcgbGluZVxyXG4gICAgICAgIGNvbnN0IGxpbmVHZW4gPSBkMy5saW5lKCkueChkID0+IHhTY2FsZShkLnllYXIpKS55KGQgPT4geVNjYWxlKGQudmFsdWUpKTtcclxuXHJcbiAgICAgICAgbGV0IG5lZ1llYXJUb3RhbCA9IFtdO1xyXG4gICAgICAgIGxldCBwb3NZZWFyVG90YWwgPSBbXTtcclxuICAgICAgICBwb3NEYXRhLmZvckVhY2goeWVhckRhdGEgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5pdFZhbHVlID0gMDtcclxuICAgICAgICAgICAgbGV0IGN1clZhbHVlID0geWVhckRhdGEucmVkdWNlKChwcmV2VmFsLGN1clZhbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlZHVjaW5nLi4uJywgcHJldlZhbCAsIGN1clZhbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldlZhbCArIGN1clZhbC52YWx1ZTtcclxuICAgICAgICAgICAgfSwgaW5pdFZhbHVlKTtcclxuICAgICAgICAgICAgbmVnWWVhclRvdGFsLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgeWVhcjogeWVhckRhdGFbMF0uY3VyWWVhcixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAtY3VyVmFsdWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHBvc1llYXJUb3RhbC5wdXNoKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IHllYXJEYXRhWzBdLmN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1clZhbHVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygneWVhciB0b3RhbDonLCApO1xyXG5cclxuICAgICAgICB2YXIgcG9zbGluZSA9IGQzLnNlbGVjdCgnc3ZnJylcclxuICAgICAgICAgICAgLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgICAgIC5kYXR1bShwb3NZZWFyVG90YWwpXHJcbiAgICAgICAgICAgIC5hdHRyKCdkJywgbGluZUdlbilcclxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jaGFydFdpZHRoKjAuMDUgKyB4U2NhbGUuYmFuZHdpZHRoKCl9LCR7TWF0aC5hYnMoeVNjYWxlKDIqMC43NCkteVNjYWxlKDApKX0pYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIG5lZ2xpbmUgPSBkMy5zZWxlY3QoJ3N2ZycpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuZGF0dW0obmVnWWVhclRvdGFsKVxyXG4gICAgICAgICAgICAuYXR0cignZCcsIGxpbmVHZW4pXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJzdHJva2UtZGFzaGFycmF5XCIsIChcIjMsIDNcIikpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jaGFydFdpZHRoKjAuMDUgKyB4U2NhbGUuYmFuZHdpZHRoKCl9LCR7TWF0aC5hYnMoeVNjYWxlKDIqMC43NCkteVNjYWxlKDApKX0pYCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdUaXRsZShjb250YWluZXIpe1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsICh0aGlzLnN2Z1dpZHRoIC0gdGhpcy5jaGFydFdpZHRoKSAvIDIgKyB0aGlzLmNoYXJ0V2lkdGgqMC4wNSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCAodGhpcy5zdmdIZWlnaHQgLSB0aGlzLmNoYXJ0SGVpZ2h0KS8yIC0gNTApXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTdwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnZ3JhcGhpaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCAnNjAwJylcclxuICAgICAgICAgICAgLnRleHQoXCJMZSB0aXRyZSBkdSBncmFwaGlxdWVcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywodGhpcy5zdmdXaWR0aCAtIHRoaXMuY2hhcnRXaWR0aCkgLyAyICsgdGhpcy5jaGFydFdpZHRoKjAuMDUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgKHRoaXMuc3ZnSGVpZ2h0IC0gdGhpcy5jaGFydEhlaWdodCkvMiAtIDI1KVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEzcHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ2dyYXBoaWsnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgJzQwMCcpXHJcbiAgICAgICAgICAgIC50ZXh0KFwiTGUgc291cy10aXRyZSBkdSBncmFwaGlxdWVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0JvdHRvbUJveChjb250YWluZXIsIHdpZHRoKXtcclxuXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdzdG9rZS13aWR0aCcsIDEpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDAuMylcclxuICAgICAgICAgICAgLmF0dHIoXCJ4MVwiLCB0aGlzLmNoYXJ0V2lkdGgqMC4wNSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCB0aGlzLmNoYXJ0SGVpZ2h0LTMwKVxyXG4gICAgICAgICAgICAuYXR0cihcIngyXCIsIHRoaXMuY2hhcnRXaWR0aClcclxuICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCB0aGlzLmNoYXJ0SGVpZ2h0LTMwKTtcclxuXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy5jaGFydFdpZHRoKjAuMDUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jaGFydEhlaWdodC0xNylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDYwMClcclxuICAgICAgICAgICAgLnRleHQoJ0dyYXBoaXF1ZSA6JylcclxuICAgICAgICAgICAgLmFwcGVuZCgndHNwYW4nKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY2hhcnRXaWR0aCowLjA1KyA2NSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLmNoYXJ0SGVpZ2h0LTE3KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNDAwKVxyXG4gICAgICAgICAgICAudGV4dCgnTGUgRGV2b2lyIC0gJyk7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy5jaGFydFdpZHRoKjAuMDUgKyAxMjIpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jaGFydEhlaWdodC0xNylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDYwMClcclxuICAgICAgICAgICAgLnRleHQoJ1NvdXJjZSA6JylcclxuICAgICAgICAgICAgLmFwcGVuZCgndHNwYW4nKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY2hhcnRXaWR0aCowLjA1ICsgMTY5KVxyXG4gICAgICAgICAgICAuYXR0cigneScsIHRoaXMuY2hhcnRIZWlnaHQtMTcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA0MDApXHJcbiAgICAgICAgICAgIC50ZXh0KCcgLi4uICcpO1xyXG5cclxuICAgICAgICAvLyBjb250YWluZXIuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3gnLCB0aGlzLnN2Z1dpZHRoKjAuMSlcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3knLCB0aGlzLnN2Z0hlaWdodCowLjk1MSlcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDYwMClcclxuICAgICAgICAvLyAgICAgLnRleHQoJ05vdGUgOicpXHJcbiAgICAgICAgLy8gICAgIC5hcHBlbmQoJ3RzcGFuJylcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3gnLCB0aGlzLnN2Z1dpZHRoKjAuMSszNSlcclxuICAgICAgICAvLyAgICAgLmF0dHIoJ3knLCB0aGlzLnN2Z0hlaWdodCowLjk1MSlcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAvLyAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDQwMClcclxuICAgICAgICAvLyAgICAgLnRleHQoJ0Rvbm7DqWVzIGNvbGxlY3TDqWVzIGRlcHVpcyBodHRwczovL2Rvbm5lZXMubW9udHJlYWwuY2EvdmlsbGUtZGUtbW9udHJlYWwvY29tcHRhZ2UtdmVoaWN1bGVzLXBpZXRvbnMnKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3RGV0YWlscyhjb250YWluZXIsIGxlZ2VuZERhdGEpe1xyXG5cclxuICAgICAgICBjb25zdCBsZWdlbmRDb250YWluZXIgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZ2VuZENvbnRhaW5lcicpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7KHRoaXMuc3ZnV2lkdGggLSB0aGlzLmNoYXJ0V2lkdGgpIC8gMiArICh0aGlzLmNoYXJ0V2lkdGgqMC4wNSArIDEwKX0sJHt0aGlzLnN2Z0hlaWdodCowLjA3fSlgKTtcclxuXHJcbiAgICAgICAgY29uc3Qgcm93cyA9IGxlZ2VuZENvbnRhaW5lci5zZWxlY3RBbGwoJ2cnKVxyXG4gICAgICAgICAgICAuZGF0YShsZWdlbmREYXRhKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZ2VuZFJvdycpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCxpKSA9PiBgdHJhbnNsYXRlKDAsJHtpKjIwfSlgKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgcm93cy5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjeCcsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCdjeScsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCdyJywgOClcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IGNvbG9yRGljdFtkLmNvbG9yXSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHJvd3MuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCAxOClcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCA0KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNTAwKVxyXG4gICAgICAgICAgICAudGV4dCggZCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5sYWJlbDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdSZWN0YW5nbGVzKGNvbnRhaW5lciwgeFNjYWxlLCB5U2NhbGUpeyAvLyBub3QgdXNlZFxyXG5cclxuICAgICAgICBjb25zdCBwb3NpdGl2ZUFyZWFHcm91cCA9IGNvbnRhaW5lci5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdwb3NBcmVhZ3JvdXAnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHswfSlgKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmVnYXRpdmVBcmVhR3JvdXAgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignaWQnLCAnbmVnQXJlYWdyb3VwJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCR7MH0pYCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBvc1llYXJHcm91cHMgPSBwb3NpdGl2ZUFyZWFHcm91cC5zZWxlY3RBbGwoJ2cnKVxyXG4gICAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCBkID0+IGB5ZWFyXyR7ZC55ZWFyfWApO1xyXG4gICAgICAgIGNvbnN0IHBvc1JlY3RzID0gcG9zWWVhckdyb3Vwcy5zZWxlY3RBbGwoJ3JlY3QnKVxyXG4gICAgICAgICAgICAuZGF0YShkID0+IHsgXHJcbiAgICAgICAgICAgICAgICBsZXQgcG9zRWxlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyWWVhciA9IGQueWVhcjtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGQpLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJFbGVtPjAgJiYgZW50cnlbMF0gIT09IFwieWVhclwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRyeVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogY3VyVG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3RhbCArPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc0VsZW1zLnNvcnQoKGEsYikgPT4gcG9zaXRpdmVPcmRlckRpY3RbYS50eXBlXSAtIHBvc2l0aXZlT3JkZXJEaWN0W2IudHlwZV0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBgJHtkLnR5cGV9XyR7ZC52YWx1ZX1gKVxyXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCB4U2NhbGUuYmFuZHdpZHRoKCkpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCAoZCxpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoeVNjYWxlKDApIC0geVNjYWxlKGQudmFsdWUpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBkID0+IHhTY2FsZShkLmN1clllYXIpKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIGQgPT4gKHlTY2FsZSgwKSAtIChNYXRoLmFicyh5U2NhbGUoMCkgLSB5U2NhbGUoZC52YWx1ZSkpKSAtIChNYXRoLmFicyh5U2NhbGUoMCkgLSB5U2NhbGUoZC5jdXJUb3QpKSkpKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsIGQgPT4gY29sb3JEaWN0W2QudHlwZV0pO1xyXG5cclxuICAgICAgICBjb25zdCBuZWdhdGl2ZVllYXJHcm91cHMgPSBuZWdhdGl2ZUFyZWFHcm91cC5zZWxlY3RBbGwoJ2cnKVxyXG4gICAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCBkID0+IGB5ZWFyXyR7ZC55ZWFyfWApO1xyXG5cclxuICAgICAgICBjb25zdCBuZWdSZWN0cyA9IG5lZ2F0aXZlWWVhckdyb3Vwcy5zZWxlY3RBbGwoJ3JlY3QnKVxyXG4gICAgICAgICAgICAuZGF0YShkID0+IHsgXHJcbiAgICAgICAgICAgICAgICBsZXQgbmVnRWxlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyWWVhciA9IGQueWVhcjtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGQpLmZpbHRlcihlbGVtID0+IGVsZW1bMV08MCkuc29ydCgoYSxiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYVZhbCA9IG5lZ2F0aXZlT3JkZXJEaWN0W2FbMF1dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJWYWwgPSBuZWdhdGl2ZU9yZGVyRGljdFtiWzBdXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVZhbCAtIGJWYWw7XHJcbiAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZW50cnlbMF0gIT09IFwieWVhclwiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmVnRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRyeVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogY3VyVG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3RhbCArPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lZ0VsZW1zO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBgJHtkLnR5cGV9XyR7ZC52YWx1ZX1gKVxyXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCB4U2NhbGUuYmFuZHdpZHRoKCkpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCAoZCxpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoeVNjYWxlKDApIC0geVNjYWxlKE1hdGguYWJzKGQudmFsdWUpKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZCA9PiB4U2NhbGUoZC5jdXJZZWFyKSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCBkID0+ICh5U2NhbGUoZC5jdXJUb3QpKSlcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IGNvbG9yRGljdFtkLnR5cGVdKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEdhdWdlcyhwcm9wcyl7XG4gIGNvbnN0IG1heFdpZHRoVmFsdWUgPSA1MDtcbiAgY29uc3QgY2FsY3VsYXRlR2F1Z2VXaWR0aCA9ICgpID0+IHtcbiAgICBjb25zdCBnYXVnZXNFbGVtcyA9IGQzLnNlbGVjdCgnLmdhdWdlcycpLnNlbGVjdEFsbCgnLmdhdWdlJyk7XG4gICAgZ2F1Z2VzRWxlbXMubm9kZXMoKS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICBsZXQgY3VyV2lkdGggPSBtYXhXaWR0aFZhbHVlO1xuICAgICAgaWYoZDMuc2VsZWN0KG5vZGUpLmF0dHIoJ2lkJykgPT09IFwiZG9sbGFyc1wiKXtcbiAgICAgICAgY3VyV2lkdGggPSBwcm9wcy5kb2xsYXJzO1xuICAgICAgfVxuICAgICAgZDMuc2VsZWN0KG5vZGUpLnNlbGVjdCgnLmdhdWdlQ29sb3JIb2xkZXInKS5zZWxlY3QoJy5jb21taXR0ZWQnKS5zdHlsZSgnd2lkdGgnLCBgJHtNYXRoLnJvdW5kKHByb3BzLmNvbW1pdHRlZC9tYXhXaWR0aFZhbHVlKjEwMCl9JWApO1xuICAgICAgZDMuc2VsZWN0KG5vZGUpLnNlbGVjdCgnLmdhdWdlQ29sb3InKS5zdHlsZSgnd2lkdGgnLCBgJHtNYXRoLnJvdW5kKGN1cldpZHRoL21heFdpZHRoVmFsdWUqMTAwKX0lYCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCAoKSA9PiB7XG4gICAgY2FsY3VsYXRlR2F1Z2VXaWR0aCgpO1xuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2F1Z2VzXCI+XG4gICAgICA8ZGl2IGlkPVwiZG9sbGFyc1wiIGNsYXNzTmFtZT1cImdhdWdlIGRvbGxhckdhdWdlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2F1Z2VDb2xvckhvbGRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2F1Z2VDb2xvciBibHVlXCI+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7cHJvcHMuY29tbWl0dGVkICE9IDAgP1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWl0dGVkXCI+XG4gICAgICAgICAgICAgIHsvKiA8cD57cHJvcHMuY29tbWl0dGVkfTwvcD4gKi99XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgOlwiXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2YWx1ZVwiPlxuICAgICAgICAgICAgPHA+QnVkZ2V0Jm5ic3A7JiM4MjI2OyZuYnNwO3twcm9wcy5kb2xsYXJzfSZuYnNwO2pldG9uczwvcD5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG5cbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEludHJvQm94KHByb3BzKXtcblxuICBjb25zdCBzdGFydEdhbWUgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdzdGFydGluZyBnYW1lJyk7XG4gICAgcHJvcHMuZ2FtZVN0YXJ0KCk7XG4gIH0pO1xuXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWVCb3ggdHJhbnNwYXJlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW50cm9Cb3hcIj5cbiAgICAgICAge3Byb3BzLmludHJvRWxlbX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyQm94XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RhcnRidXR0b25cIiBvbkNsaWNrPXtzdGFydEdhbWV9PlxuICAgICAgICAgIDxwPkNvbW1lbmNlciBsZSBqZXU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgKVxuXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VFZmZlY3R9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR2F1Z2VzIH0gZnJvbSBcIi4vR2F1Z2VzXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIE1vbml0b3JpbmcocHJvcHMpe1xuXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vbml0b3JpbmdcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9uaXRvcmluZ19jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nX3ZhbHVlXCI+XG4gICAgICAgICAgICA8R2F1Z2VzIGRvbGxhcnM9e3Byb3BzLmRvbGxhcnN9IGNvbW1pdHRlZD17cHJvcHMuY29tbWl0dGVkfSBwZXJmb3JtYW5jZT17cHJvcHMucGVyZm9ybWFuY2V9Lz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgeyBwcm9wcy50ZXJhd2F0dHMgfHwgcHJvcHMudGVyYXdhdHRzID09PSAwID9cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nX2NvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nX2hlYWRlclwiPlxuICAgICAgICAgICAgICA8aDU+w4lsZWN0cmljaXTDqSBwcm9kdWl0ZSZuYnNwOyYjODIyNjsmbmJzcDt7cHJvcHMudGVyYXdhdHRzfSZuYnNwO1RXaDwvaDU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDpcbiAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgIH1cbiAgICA8L2Rpdj5cblxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBNb25pdG9yaW5nIH0gZnJvbSBcIi4uL2dhdWdlcy9Nb25pdG9yaW5nXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIENob2ljZShwcm9wcyl7XG5cblxuICBjb25zdCBbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcblxuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzZWxlY3Rpb25idXR0b25zID0gZDMuc2VsZWN0QWxsKCcuY2hvaWNlYnV0dG9uJyk7XG4gICAgc2VsZWN0aW9uYnV0dG9ucy5zZWxlY3QoJy5idXRuJykuY2xhc3NlZCgnc2VsZWN0ZWQnLCBmYWxzZSk7XG4gICAgaWYoc2VsZWN0aW9uKXtcbiAgICAgIGQzLnNlbGVjdChzZWxlY3Rpb24ub2JqKS5zZWxlY3QoJy5idXRuJykuY2xhc3NlZCgnc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICB9XG4gIH0sW3NlbGVjdGlvbl0pXG5cbiAgY29uc3QgbmV4dFByb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoY29zdCwgdXNlLCBpbmRleCkgPT4ge1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IFN0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddKS5zcGxpdChcIjtcIik7XG4gICAgaWYodHJpZ2dlck5leHQubGVuZ3RoID4gMSl7XG4gICAgICBjb25zb2xlLmxvZygnY2hlY2tpbmcgbmV4dDogJywgdHJpZ2dlck5leHQsICcgaW5kZXg6JywgaW5kZXgsICcgcmVzdWx0OicsIFN0cmluZyh0cmlnZ2VyTmV4dFtpbmRleF0pLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChTdHJpbmcodHJpZ2dlck5leHRbaW5kZXhdKS5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIlwiKSk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQoU3RyaW5nKHRyaWdnZXJOZXh0WzBdKS5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIlwiKSk7XG4gICAgfVxuXG5cbiAgICBwcm9wcy51cGRhdGVEb2xsYXJzKC1wYXJzZUludChjb3N0KSk7XG4gICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UocGFyc2VJbnQodXNlKSk7XG4gICAgc2V0U2VsZWN0aW9uKG51bGwpO1xuICB9KTtcblxuICBjb25zdCBwcmV2aW91c1Byb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgaWYocHJvcHMuY3VySW5kZXggPiAwKXtcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2aW91cyBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgIH1cbiAgICBzZXRTZWxlY3Rpb24obnVsbCk7XG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZVNlbGVjdGVkID0gKGV2ZW50LCBjb3N0LCB1c2UsIGluZGV4KSA9PiB7XG4gICAgc2V0U2VsZWN0aW9uKHtcbiAgICAgIG9iajogZXZlbnQudGFyZ2V0LFxuICAgICAgY29zdDogY29zdCxcbiAgICAgIHVzZTogdXNlLFxuICAgICAgaW5kZXg6IGluZGV4XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4oXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjaG9pY2VzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICB7XG4gICAgICAgICAgcHJvcHMuY2hvaWNlcy5tYXAoKGNob2ljZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGxldCBjb3N0ID0gcHJvcHMuY2hvaWNlc192YWx1ZXNbaW5kZXhdLnNwbGl0KCdfJylbMF07XG4gICAgICAgICAgICBsZXQgdXNlID0gcHJvcHMuY2hvaWNlc192YWx1ZXNbaW5kZXhdLnNwbGl0KCdfJylbMV07XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNob2ljZWJ1dHRvblwiIGtleT17aW5kZXh9IG9uQ2xpY2s9eyhlKSA9PiB7dXBkYXRlU2VsZWN0ZWQoZSwgY29zdCwgdXNlLCBpbmRleCl9fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPXtpbmRleH0gY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhvbGRlciBpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e3NlbGVjdGlvbiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLmluZGV4ID09PSBpbmRleCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIi4vYXNzZXRzL2ltZy9Pbi5zdmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIuL2Fzc2V0cy9pbWcvT2ZmLnN2Z1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIuL2Fzc2V0cy9pbWcvT2ZmLnN2Z1wifT48L2ltZz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9sZGVyIGxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGg0PntjaG9pY2V9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICA8cD57Y29zdH0gSkVUT05TPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb25pdG9yaW5nIHNob3dUV2g9e2ZhbHNlfSBkb2xsYXJzPXsoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5oYXNPd25Qcm9wZXJ0eShcImNvc3RcIikpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzIC0gc2VsZWN0aW9uLmNvc3QgOiBwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZD17KHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uaGFzT3duUHJvcGVydHkoXCJjb3N0XCIpKSA/IHNlbGVjdGlvbi5jb3N0IDogMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlPXtwcm9wcy5nYXVnZXMucHJvcHMucGVyZm9ybWFuY2V9Lz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XG4gICAgICAgICAge3Byb3BzLmN1ckluZGV4ID4gMCA/XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjdGlvbmJ1dHRvbiBuZXh0ICR7c2VsZWN0aW9uID8gJycgOiAnZGlzYWJsZWQnfWB9IG9uQ2xpY2s9eygpID0+IHtzZWxlY3Rpb24gPyBuZXh0UHJvbXB0KHNlbGVjdGlvbi5jb3N0LCBzZWxlY3Rpb24udXNlLCBzZWxlY3Rpb24uaW5kZXgpIDogY29uc29sZS5sb2coJ0Rpc2FibGVkLicpfX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgPHA+UG91cnN1aXZyZTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG5cbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE1vbml0b3JpbmcgfSBmcm9tIFwiLi4vZ2F1Z2VzL01vbml0b3JpbmdcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gTXVsdGlTZWxlY3Rpb24ocHJvcHMpe1xuXG4gIGNvbnN0IFtzZWxlY3Rpb24sIHNldFNlbGVjdGlvbl0gPSB1c2VTdGF0ZShbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXNldFNlbGVjdGlvbigpO1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvL2NvbnNvbGUubG9nKCdjdXIgc2VsZWN0aW9uOiAnLCBzZWxlY3Rpb24pO1xuICB9LCBbc2VsZWN0aW9uXSk7XG5cbiAgY29uc3QgcmVzZXRTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgc2V0U2VsZWN0aW9uKHByb3BzLmNob2ljZXMubWFwKGVsZW0gPT4gbnVsbCkpO1xuICB9XG5cbiAgY29uc3QgY2FsY3VsYXRlVG90YWxTZWxlY3Rpb24gPSAoc2VsZWN0aW9uKSA9PiB7XG4gICAgY29uc3QgYWNjQ29zdCA9IHNlbGVjdGlvbi5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XG4gICAgICBpZihjdXIpe1xuICAgICAgICBhY2MgKz0gY3VyLmNvc3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIDApO1xuICAgIGNvbnN0IGFjY1BlcmZvcm1hbmNlID0gc2VsZWN0aW9uLnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcbiAgICAgIGlmKGN1cil7XG4gICAgICAgIGFjYyArPSBjdXIudXNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCAwKTtcblxuICAgIHJldHVybiBbYWNjQ29zdCwgYWNjUGVyZm9ybWFuY2VdO1xuICB9O1xuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKHNlbGVjdGlvbikgPT4ge1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J107XG4gICAgcHJvcHMuY2hhbmdlUHJvbXB0KHRyaWdnZXJOZXh0KTtcbiAgICBjb25zdCBbYWNjQ29zdCwgYWNjUGVyZm9ybWFuY2VdID0gY2FsY3VsYXRlVG90YWxTZWxlY3Rpb24oc2VsZWN0aW9uKTtcblxuICAgIHByb3BzLnVwZGF0ZURvbGxhcnMoLXBhcnNlSW50KGFjY0Nvc3QpKTtcbiAgICBwcm9wcy51cGRhdGVQZXJmb3JtYW5jZShwYXJzZUludChhY2NQZXJmb3JtYW5jZSkpO1xuICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gIH0pO1xuXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBpZihwcm9wcy5jdXJJbmRleCA+IDApe1xuICAgICAgY29uc29sZS5sb2coJ3ByZXZpb3VzIHByb21wdCEnLCBwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgfVxuICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZVNlbGVjdGVkID0gKGV2ZW50LCBpbmRleCwgY29zdCwgdXNlKSA9PiB7XG4gICAgbGV0IG5ld0FycmF5ID0gWy4uLnNlbGVjdGlvbl07XG4gICAgaWYoc2VsZWN0aW9uW2luZGV4XSl7XG4gICAgICAvLyBVbnNlbGVjdFxuICAgICAgbmV3QXJyYXlbaW5kZXhdID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIC8vIFNlbGVjdFxuICAgICAgbmV3QXJyYXlbaW5kZXhdID0ge1xuICAgICAgICBvYmo6IGV2ZW50LnRhcmdldCxcbiAgICAgICAgY29zdDogcGFyc2VJbnQoY29zdCksXG4gICAgICAgIHVzZTogcGFyc2VJbnQodXNlKVxuICAgICAgfTtcbiAgICB9XG4gICAgc2V0U2VsZWN0aW9uKG5ld0FycmF5KTtcbiAgfVxuXG4gIHJldHVybihcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNob2ljZXNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHtcbiAgICAgICAgICBwcm9wcy5jaG9pY2VzLm1hcCgoY2hvaWNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNvc3QgPSBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0uc3BsaXQoJ18nKVswXTtcbiAgICAgICAgICAgIGxldCB1c2UgPSBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0uc3BsaXQoJ18nKVsxXTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0aW9uYnV0dG9uXCIga2V5PXtpbmRleH0gb25DbGljaz17KGUpID0+IHt1cGRhdGVTZWxlY3RlZChlLCBpbmRleCwgY29zdCwgdXNlKX19PlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9e2luZGV4fSBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGhvbGRlciBzZWxlY3Rpb25Cb3ggJHtzZWxlY3Rpb25baW5kZXhdID8gJ3NlbGVjdGVkJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxwPis8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhvbGRlciBsYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoND57Y2hvaWNlfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHA+e2Nvc3R9IEpFVE9OUzwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vbml0b3Jpbmcgc2hvd1RXaD17ZmFsc2V9IGRvbGxhcnM9eyhzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmxlbmd0aCA+IDApID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzIC0gY2FsY3VsYXRlVG90YWxTZWxlY3Rpb24oc2VsZWN0aW9uKVswXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZD17KHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ubGVuZ3RoID4gMCkgPyBjYWxjdWxhdGVUb3RhbFNlbGVjdGlvbihzZWxlY3Rpb24pWzBdIDogMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlPXtwcm9wcy5nYXVnZXMucHJvcHMucGVyZm9ybWFuY2V9Lz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XG4gICAgICAgICAge3Byb3BzLmN1ckluZGV4ID4gMCA/XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjdGlvbmJ1dHRvbiBuZXh0ICR7c2VsZWN0aW9uID8gJycgOiAnZGlzYWJsZWQnfWB9IG9uQ2xpY2s9eygpID0+IHtzZWxlY3Rpb24gPyBuZXh0UHJvbXB0KHNlbGVjdGlvbikgOiBjb25zb2xlLmxvZygnRGlzYWJsZWQuJyl9fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgICA8cD5Qb3Vyc3VpdnJlPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFByaW50UHJvbXB0KHByb3BzKXtcblxuICBjb25zdCBwcmV2aW91c1Byb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgaWYocHJvcHMuY3VySW5kZXggPiAwKXtcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2IHByb21wdCEnLCBwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddO1xuXG4gICAgY29uc29sZS5sb2coJ0NoZWNraW5nIHRyaWdnZXIgbmV4dDogJywgdHJpZ2dlck5leHQpO1xuICAgIHByb3BzLmNoYW5nZVByb21wdCh0cmlnZ2VyTmV4dCk7XG5cbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInByaW50cHJvbXB0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2VcIj5cbiAgICAgICAgPHA+XG4gICAgICAgICAge3Byb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gcHJldlwiIG9uQ2xpY2s9e3ByZXZpb3VzUHJvbXB0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgPHA+UHJldmlvdXM8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBuZXh0XCIgb25DbGljaz17bmV4dFByb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4pXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBHYXVnZXMgfSBmcm9tIFwiLi4vZ2F1Z2VzL0dhdWdlc1wiO1xuaW1wb3J0IHsgTW9uaXRvcmluZyB9IGZyb20gXCIuLi9nYXVnZXMvTW9uaXRvcmluZ1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gUmVwYXJ0aXRpb24ocHJvcHMpe1xuXG4gIGNvbnN0IFtqZXRvbnMsIHNldEpldG9uc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3RlcmF3YXR0cywgc2V0VGVyYXdhdHRzXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbdW5pdHMsIHNldFVuaXRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3Rva2Vuc1BlclVuaXQsIHNldFRva2Vuc1BlclVuaXRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBtYXhUb2tlbnMgPSAyMDtcblxuICB1c2VFZmZlY3QoICgpID0+IHtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25QYXJhbXMoKTtcbiAgICBjb25zdCBuZXdVbml0cyA9IG9wdGlvbnMubWFwKCgpID0+IDApO1xuICAgIGNvbnN0IHRva2Vuc1BlclVuaXQgPSBvcHRpb25zLm1hcChlbGVtID0+IGVsZW0udW5pdFZhbHVlKTtcbiAgICBzZXRVbml0cyhuZXdVbml0cyk7XG4gICAgc2V0VG9rZW5zUGVyVW5pdCh0b2tlbnNQZXJVbml0KTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCggKCkgPT4ge1xuICAgIGxldCBuZXdKZXRvbnMgPSB1bml0cy5yZWR1Y2UoXG4gICAgICAoYWNjLCBjdXJWYWwsIGluZGV4KSA9PiB7XG4gICAgICAgIGxldCBjdXJPcHRpb25QYXJhbXMgPSBnZXRPcHRpb25QYXJhbXMoKVtpbmRleF07XG4gICAgICAgIHJldHVybiBhY2MgKyBjdXJWYWw7XG4gICAgICB9LDApO1xuICAgIGxldCBuZXdNVyA9IHVuaXRzLnJlZHVjZShcbiAgICAgIChhY2MsIGN1clZhbCwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IGN1ck9wdGlvblBhcmFtcyA9IGdldE9wdGlvblBhcmFtcygpW2luZGV4XTtcbiAgICAgICAgcmV0dXJuIGFjYyArIE1hdGgucm91bmQoY3VyVmFsL2N1ck9wdGlvblBhcmFtc1tcInVuaXRWYWx1ZVwiXSpjdXJPcHRpb25QYXJhbXNbXCJ1bml0VFdodmFsdWVcIl0pO1xuICAgICAgfSwwKTtcbiAgICBzZXRKZXRvbnMobmV3SmV0b25zKTtcbiAgICBzZXRUZXJhd2F0dHMobmV3TVcpO1xuICB9LCBbdW5pdHNdKTtcblxuICBjb25zdCBwcmV2aW91c1Byb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgaWYocHJvcHMuY3VySW5kZXggPiAwKXtcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2IHByb21wdCEnLCBwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBsZXQgc3BsaXR0ZWRUcmlnZ2VyTmV4dCA9IFN0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddKS5zcGxpdChcIl9cIik7XG4gICAgbGV0IHRyaWdnZXJOZXh0ID0gU3RyaW5nKHNwbGl0dGVkVHJpZ2dlck5leHRbMF0pLnNwbGl0KFwiO1wiKTtcbiAgICBpZih0cmlnZ2VyTmV4dC5sZW5ndGggPT0gMSl7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQoU3RyaW5nKHRyaWdnZXJOZXh0KS5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIlwiKSk7XG4gICAgfVxuICAgIGVsc2UgaWYodHJpZ2dlck5leHQubGVuZ3RoID4gMSl7XG4gICAgICBpZighdW5pdHMuZXZlcnkodmFsID0+IHZhbCA9PT0gdW5pdHNbMF0pKXtcbiAgICAgICAgbGV0IGluZGV4T2ZNYXhWYWx1ZSA9IHVuaXRzLnJlZHVjZSgoaU1heCwgeCwgaSwgYXJyKSA9PiB4ID4gYXJyW2lNYXhdID8gaSA6IGlNYXgsIDApO1xuICAgICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQoU3RyaW5nKHRyaWdnZXJOZXh0W2luZGV4T2ZNYXhWYWx1ZV0pLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIGxldCBkZWZhdWx0TmV4dCA9IFN0cmluZyhzcGxpdHRlZFRyaWdnZXJOZXh0WzFdKS5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIlwiKTtcbiAgICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KGRlZmF1bHROZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcHJvcHMudXBkYXRlRG9sbGFycygtamV0b25zKTtcbiAgfSk7XG5cbiAgY29uc3QgcHJvY2Vzc0Nob2ljZXMgPSAoY2hvaWNlLCBjaG9pY2VzX3ZhbHVlcykgPT4ge1xuICAgIGNvbnN0IHNwbGl0dGVkQ2hvaWNlcyA9IGNob2ljZXNfdmFsdWVzLnNwbGl0KCdfJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGNob2ljZSxcbiAgICAgIHVuaXRWYWx1ZTogcGFyc2VJbnQoc3BsaXR0ZWRDaG9pY2VzWzBdKSxcbiAgICAgIHVuaXRUV2h2YWx1ZTogcGFyc2VJbnQoc3BsaXR0ZWRDaG9pY2VzWzFdKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGdldE9wdGlvblBhcmFtcyA9ICgpID0+IHtcbiAgICByZXR1cm4gcHJvcHMuY2hvaWNlcy5tYXAoKGNob2ljZSwgaW5kZXgpID0+IHtcbiAgICAgIHJldHVybiBwcm9jZXNzQ2hvaWNlcyhjaG9pY2UsIHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XSk7XG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGNoZWNrSWZGdWxsID0gKG5ld0FkZGl0aW9uKSA9PiB7XG4gICAgbGV0IHRvdGFsID0gMDtcbiAgICB1bml0cy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgIHRvdGFsICs9IHZhbHVlO1xuICAgIH0pO1xuICAgIGlmKHRvdGFsK25ld0FkZGl0aW9uID4gbWF4VG9rZW5zKXtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBtb2RpZnlPbkNsaWNrID0gKGUsIGluZGV4LCBkaWZmLCBlbGVtKSA9PiB7XG4gICAgbGV0IG5ld0FycmF5ID0gWy4uLnVuaXRzXTtcbiAgICBpZigobmV3QXJyYXlbaW5kZXhdK2RpZmYqdG9rZW5zUGVyVW5pdFtpbmRleF0pID49IDApe1xuICAgICAgaWYoZGlmZiA+IDApXG4gICAgICB7XG4gICAgICAgIGlmKCFjaGVja0lmRnVsbChkaWZmKnRva2Vuc1BlclVuaXRbaW5kZXhdKSl7XG4gICAgICAgICAgbmV3QXJyYXlbaW5kZXhdID0gbmV3QXJyYXlbaW5kZXhdICsgZGlmZip0b2tlbnNQZXJVbml0W2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgbmV3QXJyYXlbaW5kZXhdID0gbmV3QXJyYXlbaW5kZXhdICsgZGlmZip0b2tlbnNQZXJVbml0W2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHNldFVuaXRzKG5ld0FycmF5KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZW5lcmF0ZVRva2VucyA9ICgpID0+IHtcbiAgICBsZXQgY3VycmVudFVzZWRUb2tlbnMgPSB1bml0cy5tYXAoKGVsZW0sIGluZGV4KSA9PiB7XG4gICAgICBsZXQgY3VyT3B0aW9uUGFyYW1zID0gZ2V0T3B0aW9uUGFyYW1zKClbaW5kZXhdO1xuICAgICAgcmV0dXJuIEFycmF5KGVsZW0qY3VyT3B0aW9uUGFyYW1zW1widW5pdFZhbHVlXCJdKS5maWxsKGN1ck9wdGlvblBhcmFtc1tcIm5hbWVcIl1bMF0pO1xuICAgIH0pO1xuICAgIGxldCBjb25jYXRUb2tlbnMgPSBbXS5jb25jYXQuYXBwbHkoW10sIGN1cnJlbnRVc2VkVG9rZW5zKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogbWF4VG9rZW5zIH0pLm1hcCgoZWxlbSwgaW5kZXgpID0+IHtcbiAgICAgIGxldCBjdXJMZXR0ZXIgPSBjb25jYXRUb2tlbnNbaW5kZXhdID8gU3RyaW5nKGNvbmNhdFRva2Vuc1tpbmRleF0pIDogXCJcIjtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9rZW5Db250YWluZXJcIiBrZXk9e2luZGV4fT5cbiAgICAgICAgICA8cD57Y3VyTGV0dGVyfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCByZW5kZXJSb3dzID0gKGNob2ljZXMpID0+IHtcbiAgICByZXR1cm4gY2hvaWNlcy5tYXAoIChlbGVtLGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9wdGlvblVuaXRcIiBrZXk9e2luZGV4fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdG9yWm9uZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXZpc2lvbiBtaW51c1pvbmVcIiBvbkNsaWNrPXsoZSkgPT4gbW9kaWZ5T25DbGljayhlLCBpbmRleCwgLTEsIGVsZW0pfT5cbiAgICAgICAgICAgICAgPGgzPi08L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpdmlzaW9uIGNlbnRyYWxab25lXCI+XG4gICAgICAgICAgICAgIDxoMz57dW5pdHNbaW5kZXhdfTwvaDM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGl2aXNpb24gcGx1c1pvbmVcIiBvbkNsaWNrPXsoZSkgPT4gbW9kaWZ5T25DbGljayhlLCBpbmRleCwgMSwgZWxlbSl9PlxuICAgICAgICAgICAgICA8aDM+KzwvaDM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHRab25lXCI+XG4gICAgICAgICAgICA8aDM+e2VsZW0ubmFtZX08L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmV0ZXh0XCI+XG4gICAgICAgICAgICAgIDxwPntlbGVtLnVuaXRWYWx1ZX0gamV0b25zJm5ic3A7JiM4MjI2OyZuYnNwO3tlbGVtLnVuaXRUV2h2YWx1ZX0gVFdoPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4oXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZXBhcnRpdGlvblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcHRpb25ab25lXCI+XG4gICAgICAgIHtcbiAgICAgICAgICByZW5kZXJSb3dzKHByb3BzLmNob2ljZXMubWFwKChlLCBpbmRleCkgPT4gcHJvY2Vzc0Nob2ljZXMoZSwgcHJvcHMuY2hvaWNlc192YWx1ZXNbaW5kZXhdKSkpXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vbml0b3Jpbmcgc2hvd1RXaD17dHJ1ZX0gZG9sbGFycz17cHJvcHMuZ2F1Z2VzLnByb3BzLmRvbGxhcnMtamV0b25zfSBjb21taXR0ZWQ9e2pldG9uc30gcGVyZm9ybWFuY2U9e3Byb3BzLmdhdWdlcy5wcm9wcy5wZXJmb3JtYW5jZX0gdGVyYXdhdHRzPXt0ZXJhd2F0dHN9Lz5cbiAgICAgIHtwcm9wcy5jdXJJbmRleCA+IDAgP1xuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgPHA+UHJldmlvdXM8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA6XG4gICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICB9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBuZXh0XCIgb25DbGljaz17bmV4dFByb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IGQzVGlwIGZyb20gJ2QzLXRpcCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBNYXBOYXZpZ2F0b3IocHJvcHMpe1xuXG4gIGNvbnN0IFtzZWxlY3Rpb24sIHNldFNlbGVjdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldHVwT25DbGljaygpO1xuICB9LFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmKHNlbGVjdGlvbil7XG4gICAgICBkMy5zZWxlY3QoJy5wb3BVcC1iZycpLnN0eWxlKCdkaXNwbGF5JywgJ3Vuc2V0Jyk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBkMy5zZWxlY3QoJy5wb3BVcC1iZycpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICB9XG4gIH0sIFtzZWxlY3Rpb25dKTtcblxuICBjb25zdCB0aXAgPSBkM1RpcCgpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2QzLXRpcCBhZGp1c3RlZCcpXG4gICAgICAgICAgICAgICAgLmRpcmVjdGlvbignbicpXG4gICAgICAgICAgICAgICAgLmh0bWwoKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnb3QgZDogJywgZCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgICAgICAgPGg0PiR7ZC50aXRsZX08L2g0PlxuICAgICAgICAgICAgICAgICAgPHA+JHtkLnN1cHBfdGV4dH08L3A+XG4gICAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gIGNvbnN0IHNldHVwT25DbGljayA9ICgpID0+IHtcbiAgICBQcm9taXNlLmFsbChbXG4gICAgICBkMy54bWwocHJvcHMubWFwWzBdKSxcbiAgICAgIGQzLnhtbChwcm9wcy5tYXBbMV0pXG4gICAgXSkudGhlbigoW2JnTWFwLCBpY29uT05NYXBdKSA9PiB7XG4gICAgICBkMy5zZWxlY3QoJyNiZy1tYXAnKS5ub2RlKClcbiAgICAgICAgLmFwcGVuZChiZ01hcC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgZDMuc2VsZWN0KCcjb24taWNvbnMnKS5ub2RlKClcbiAgICAgICAgLmFwcGVuZChpY29uT05NYXAuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgIGNvbnN0IE9uSWNvbnNTVkcgPSBkMy5zZWxlY3QoJyNvbi1pY29ucycpLnNlbGVjdCgnc3ZnJyk7XG4gICAgICBPbkljb25zU1ZHLmNhbGwodGlwKTtcbiAgICAgIGQzLnNlbGVjdCgnLmdhbWVTY3JlZW4nKS5ub2RlKCkuYXBwZW5kQ2hpbGQoXG4gICAgICAgIGQzLnNlbGVjdCgnLmQzLXRpcCcpLm5vZGUoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGdCdXR0b25zID0gT25JY29uc1NWRy5zZWxlY3QoJyNJY29uZS1PbicpLnNlbGVjdEFsbCgnZycpO1xuICAgICAgY29uc3QgdGl0bGVzID0gU3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXgnXSkuc3BsaXQoJzsnKTtcbiAgICAgIGNvbnN0IHN1cHBfdGV4dHMgPSBTdHJpbmcocHJvcHMubWVzc2FnZSkuc3BsaXQoJzsnKTtcbiAgICAgIGdCdXR0b25zLm5vZGVzKCkucmV2ZXJzZSgpLm1hcCgobm9kZSxjb3VudCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJUaXBEYXRhID0ge1xuICAgICAgICAgICAgdGl0bGU6IHRpdGxlc1tjb3VudF0sXG4gICAgICAgICAgICBzdXBwX3RleHQ6IHN1cHBfdGV4dHNbY291bnRdXG4gICAgICAgICAgfVxuICAgICAgICBkMy5zZWxlY3Qobm9kZSlcbiAgICAgICAgLm9uKCdjbGljaycsIChkLGksbm9kZXMpID0+IHtcbiAgICAgICAgICBkLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHRpcC5zaG93KGN1clRpcERhdGEsIG5vZGUpO1xuICAgICAgICAgIHRvZ2dsZUljb24oZC50YXJnZXQucGFyZW50RWxlbWVudCwgZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIChkLGksbm9kZXMpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tpbmcgZDogJywgZC50YXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgZC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB0aXAuc2hvdyhjdXJUaXBEYXRhLG5vZGUpO1xuICAgICAgICAgIHRvZ2dsZUljb24oZC50YXJnZXQucGFyZW50RWxlbWVudCwgZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgICAub24oJ21vdXNlb3V0JywgKGQsaSxub2RlcykgPT4ge1xuICAgICAgICAgIHRpcC5oaWRlKG5vZGUpO1xuICAgICAgICAgIHRvZ2dsZUljb24oZC50YXJnZXQucGFyZW50RWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBkMy5zZWxlY3QoXCIuZ2FtZUJveFwiKS5vbignY2xpY2snLCAoKSA9PiB7dGlwLmhpZGUoKX0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZUljb24gPSAoaWNvbk9iaiwgc3RhdHVzKSA9PiB7XG4gICAgaWYoc3RhdHVzID09PSBmYWxzZSl7XG4gICAgICBkMy5zZWxlY3QoaWNvbk9iaikuc3R5bGUoJ29wYWNpdHknLCAwKTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIGQzLnNlbGVjdChpY29uT2JqKS5zdHlsZSgnb3BhY2l0eScsIDEpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwcmV2aW91c1Byb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgaWYocHJvcHMuY3VySW5kZXggPiAwKXtcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2IHByb21wdCEnLCBwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddO1xuXG4gICAgY29uc29sZS5sb2coJ0NoZWNraW5nIHRyaWdnZXIgbmV4dDogJywgdHJpZ2dlck5leHQpO1xuICAgIHByb3BzLmNoYW5nZVByb21wdCh0cmlnZ2VyTmV4dCk7XG5cbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgPGRpdiBjbGFzc05hbWU9XCJwcmludHByb21wdCBtYXBuYXZpZ2F0b3JcIj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvcFVwLWJnXCI+XG4gICAgICB7IHNlbGVjdGlvbiA/XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvcFVwLWJveFwiPlxuICAgICAgICA8aDQ+e3NlbGVjdGlvbi50aXRsZX08L2g0PlxuICAgICAgICA8cD57c2VsZWN0aW9uLnN1cHBfdGV4dH08L3A+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uXCIgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0aW9uKG51bGwpfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgIDxwPkZlcm1lcjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDpcbiAgICAgIDxkaXY+PC9kaXY+XG4gICAgICB9XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYXBIb2xkZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VwZXJwb3NlZE1hcFwiPlxuICAgICAgICA8ZGl2IGlkPVwiYmctbWFwXCIgY2xhc3NOYW1lPVwibWFwIG5vQ2xpY2tcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBpZD1cIm9uLWljb25zXCIgY2xhc3NOYW1lPVwibWFwXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgIDxwPlByZXZpb3VzPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gbmV4dFwiIG9uQ2xpY2s9e25leHRQcm9tcHR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgIDxwPlN1aXZhbnQ8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEJpbGFuKHByb3BzKXtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gIH0sIFtdKTtcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddO1xuXG4gICAgY29uc29sZS5sb2coJ0NoZWNraW5nIHRyaWdnZXIgbmV4dDogJywgdHJpZ2dlck5leHQpO1xuICAgIHByb3BzLmNoYW5nZVByb21wdCh0cmlnZ2VyTmV4dCk7XG5cbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJpbGFuQ29udGVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gbmV4dFwiIG9uQ2xpY2s9e25leHRQcm9tcHR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICA8cD5Qb3Vyc3VpdnJlPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG5cbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEVuZEdhbWUocHJvcHMpe1xuXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPHA+RW5kIEdhbWUuPC9wPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDaG9pY2UgfSBmcm9tIFwiLi9wcm9tcHRmaWxsL0Nob2ljZVwiO1xuaW1wb3J0IHsgTXVsdGlTZWxlY3Rpb24gfSBmcm9tIFwiLi9wcm9tcHRmaWxsL011bHRpU2VsZWN0aW9uXCI7XG5pbXBvcnQgeyBQcmludFByb21wdCB9IGZyb20gXCIuL3Byb21wdGZpbGwvUHJpbnRQcm9tcHRcIjtcbmltcG9ydCB7IFJlcGFydGl0aW9uIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9SZXBhcnRpdGlvblwiO1xuaW1wb3J0IHsgTWFwTmF2aWdhdG9yIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9NYXBOYXZpZ2F0b3JcIjtcbmltcG9ydCB7IEJpbGFuIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9CaWxhblwiO1xuaW1wb3J0IHsgRW5kR2FtZSB9IGZyb20gXCIuL3Byb21wdGZpbGwvRW5kR2FtZVwiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gUHJvbXB0Qm94KHByb3BzKXtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gIH0sIFtdKTtcblxuICBjb25zdCBjaGFuZ2VQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKG5ld1ZhbHVlKSA9PiB7XG4gICAgcHJvcHMuY2hhbmdlUHJvbXB0KG5ld1ZhbHVlKTtcbiAgfSk7XG5cbiAgY29uc3QgdXBkYXRlRG9sbGFycyA9IHVzZUNhbGxiYWNrKCBhc3luYyAoZGlmZlZhbHVlKSA9PiB7XG4gICAgaWYoTnVtYmVyLmlzSW50ZWdlcihkaWZmVmFsdWUpKXtcbiAgICAgIHByb3BzLnVwZGF0ZURvbGxhcnMoZGlmZlZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZVBlcmZvcm1hbmNlID0gdXNlQ2FsbGJhY2soIGFzeW5jIChkaWZmVmFsdWUpID0+IHtcbiAgICBpZihOdW1iZXIuaXNJbnRlZ2VyKGRpZmZWYWx1ZSkpe1xuICAgICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UoZGlmZlZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgY29uc3QgcmVuZGVyU3dpdGNoID0gKHBhcmFtKSA9PiB7XG4gICAgc3dpdGNoKHBhcmFtKXtcbiAgICAgIGNhc2UgJ1JlcGFydGl0aW9uJyA6XG4gICAgICAgIHJldHVybiA8UmVwYXJ0aXRpb24gY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXgnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzX3ZhbHVlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXhfVmFsZXVycyddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEb2xsYXJzPXt1cGRhdGVEb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdWdlcz17cHJvcHMuZ2F1Z2VzfS8+O1xuICAgICAgY2FzZSAnQ2FydGUnOlxuICAgICAgICByZXR1cm4gPE1hcE5hdmlnYXRvciBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydUZXh0ZV9TdXBwJ10pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXA9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuY3VySW5kZXggPT09IFwiUTEtMVwiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiYXNzZXRzL2ltZy9DYXJ0ZS1IeWRyby5zdmdcIixcImFzc2V0cy9pbWcvQ2FydGUtSHlkcm8taWNvbmUtb24uc3ZnXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiYXNzZXRzL2ltZy9DYXJ0ZS1Fb2xpZW4uc3ZnXCIsXCJhc3NldHMvaW1nL0NhcnRlLUVvbGllbi1pY29uZS1vbi5zdmdcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Lz47XG4gICAgICBjYXNlICd0ZXh0ZUJvdXRvblNpbXBsZSc6XG4gICAgICAgIHJldHVybiA8UHJpbnRQcm9tcHQgY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17U3RyaW5nKHByb3BzLmN1clByb21wdFsnVGV4dGVfU3VwcCddKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9Lz47XG4gICAgICBjYXNlICdDaG9peFJlcG9uc2UnOlxuICAgICAgICByZXR1cm4gPENob2ljZSBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peCddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXNfdmFsdWVzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peF9WYWxldXJzJ10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURvbGxhcnM9e3VwZGF0ZURvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGVyZm9ybWFuY2U9e3VwZGF0ZVBlcmZvcm1hbmNlfVxuICAgICAgICAgICAgICAgICAgICAgIGdhdWdlcz17cHJvcHMuZ2F1Z2VzfS8+O1xuICAgICAgY2FzZSAnQ2F0YXN0cm9waGUnOlxuICAgICAgICByZXR1cm4gPENob2ljZSBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peCddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXNfdmFsdWVzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peF9WYWxldXJzJ10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURvbGxhcnM9e3VwZGF0ZURvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGVyZm9ybWFuY2U9e3VwZGF0ZVBlcmZvcm1hbmNlfVxuICAgICAgICAgICAgICAgICAgICAgIGdhdWdlcz17cHJvcHMuZ2F1Z2VzfS8+O1xuICAgICAgY2FzZSAnTXVsdGlTZWxlY3Rpb24nOlxuICAgICAgICByZXR1cm4gPE11bHRpU2VsZWN0aW9uIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXgnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXNfdmFsdWVzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peF9WYWxldXJzJ10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURvbGxhcnM9e3VwZGF0ZURvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXVnZXM9e3Byb3BzLmdhdWdlc30vPjtcbiAgICAgIGNhc2UgJ0JpbGFuJzpcbiAgICAgICAgcmV0dXJuIDxCaWxhbiBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDxDaG9pY2UgY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9IGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyl9IGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fSBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9Lz47XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICAgIHByb3BzLmVuZEdhbWUgPT09IHRydWUgP1xuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWVCb3hcIj5cbiAgICAgICAgICA8RW5kR2FtZSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDpcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnYW1lQm94XCI+XG5cbiAgICAgICAgICB7cHJvcHMuY3VyUHJvbXB0WydUeXBlJ10gPT09IFwiQmlsYW5cIiA/XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb21wdEJveCBiaWxhblwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFzc2l2ZVRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICA8aDI+e3BhcnNlKHByb3BzLmN1clByb21wdFsnU3VqZXQnXSl9PC9oMj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VwYXJhdG9yXCI+PC9kaXY+XG4gICAgICAgICAgICAgIHtyZW5kZXJTd2l0Y2gocHJvcHMuY3VyUHJvbXB0WydUeXBlJ10pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgOlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9tcHRCb3hcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1cnRpdHJlXCI+XG4gICAgICAgICAgICAgICAgICA8aDQ+e3BhcnNlKHByb3BzLmN1clByb21wdFsnU3VqZXQnXSl9PC9oND5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1ZXN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICA8cD57cGFyc2UocHJvcHMuY3VyUHJvbXB0WydUZXh0ZSddKX08L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7cmVuZGVyU3dpdGNoKHByb3BzLmN1clByb21wdFsnVHlwZSddKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gIClcblxuXG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR2F1Z2VzIH0gZnJvbSBcIi4vZ2F1Z2VzL0dhdWdlc1wiO1xuaW1wb3J0IHsgSW50cm9Cb3ggfSBmcm9tIFwiLi9pbnRyb0JveFwiO1xuaW1wb3J0IHsgUHJvbXB0Qm94IH0gZnJvbSBcIi4vUHJvbXB0Qm94XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBNYWluRnJhbWUocHJvcHMpe1xuXG4gIGNvbnN0IFtnYW1lU3RhdHVzLCBzZXRTdGF0dXNdID0gdXNlU3RhdGUoJ0lETEUnKTtcbiAgY29uc3QgW2dhbWVJbmRleCwgc2V0R2FtZUluZGV4XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbZG9sbGFycywgc2V0RG9sbGFyc10gPSB1c2VTdGF0ZSg1MCk7XG4gIGNvbnN0IFtwZXJmb3JtYW5jZSwgc2V0UGVyZm9ybWFuY2VdID0gdXNlU3RhdGUoNTApO1xuICBjb25zdCBbYmdDb2xvciwgc2V0QkdDb2xvcl0gPSB1c2VTdGF0ZSgnbm9ybWFsJyk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZ2FtZSAnLCBnYW1lU3RhdHVzKTtcbiAgfSwgW2dhbWVTdGF0dXNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdldEdhbWVQcm9tcHQoZ2FtZUluZGV4KTtcbiAgICBpZihnYW1lSW5kZXggPT09IFwiRU5EXCIpe1xuICAgICAgZ2FtZUVuZCgpO1xuICAgIH1cbiAgfSwgW2dhbWVJbmRleF0pO1xuXG4gIGNvbnN0IGdhbWVTdGFydCA9ICgpID0+IHtcbiAgICBzZXRTdGF0dXMoJ1NUQVJURUQnKTtcbiAgICBzZXRHYW1lSW5kZXgoMCk7XG4gIH1cblxuICBjb25zdCBnYW1lRW5kID0gKCkgPT4ge1xuICAgIHNldFN0YXR1cygnRU5EJyk7XG4gIH1cblxuICBjb25zdCBnZXRHYW1lUHJvbXB0ID0gKGdhbWVJbmRleCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdjdXJyZW50IGdhbWUgcHJvbXB0OicsIHByb3BzLmdhbWVEYXRhLmZpbHRlcihlbGVtID0+IHtyZXR1cm4gU3RyaW5nKGVsZW1bXCJJRFwiXSkgPT09IFN0cmluZyhnYW1lSW5kZXgpO30pKTtcbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZURvbGxhcnMgPSAoZGlmZikgPT4ge1xuICAgIGlmKGRvbGxhcnMgKyBkaWZmID49IDApe1xuICAgICAgc2V0RG9sbGFycyhkb2xsYXJzID0+IGRvbGxhcnMgKyBkaWZmKTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIGdhbWVFbmQoKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB1cGRhdGVQZXJmb3JtYW5jZSA9IChkaWZmKSA9PiB7XG4gICAgaWYocGVyZm9ybWFuY2UgKyBkaWZmID49IDApe1xuICAgICAgc2V0UGVyZm9ybWFuY2UocGVyZm9ybWFuY2UgPT4gcGVyZm9ybWFuY2UgKyBkaWZmKTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIGdhbWVFbmQoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGNvbnN0IGZpbmRHYW1lSW5kZXggPSAoSURuYW1lKSA9PiB7XG5cbiAgICBjb25zdCBmb3VuZElEID0gcHJvcHMuZ2FtZURhdGEuZmluZEluZGV4KChlbGVtKSA9PiB7XG4gICAgICByZXR1cm4gU3RyaW5nKElEbmFtZSkgPT09IFN0cmluZyhlbGVtWydJRCddKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm91bmRJRDtcbiAgfVxuXG4gIGNvbnN0IGNoZWNrQkdDb2xvciA9IChjdXJQcm9tcHRUeXBlKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2NoZWNraW5nIHByb21wdCB0eXBlIGZvciBiZyBjaGFuZ2U6JywgY3VyUHJvbXB0VHlwZSk7XG4gICAgaWYoY3VyUHJvbXB0VHlwZSA9PT0gXCJDYXRhc3Ryb3BoZVwiKXtcbiAgICAgIHNldEJHQ29sb3IoJ3JlZHBpbmsnKTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIGlmKGJnQ29sb3IgIT09ICdub3JtYWwnKXtcbiAgICAgICAgc2V0QkdDb2xvcignbm9ybWFsJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VyUHJvbXB0ID0gcHJvcHMuZ2FtZURhdGFbZmluZEdhbWVJbmRleChnYW1lSW5kZXgpXTtcbiAgICBpZihjdXJQcm9tcHQgJiYgY3VyUHJvbXB0Lmhhc093blByb3BlcnR5KFwiVHlwZVwiKSl7XG4gICAgICBjaGVja0JHQ29sb3IoY3VyUHJvbXB0W1wiVHlwZVwiXSk7XG4gICAgfVxuICB9KTtcblxuXG5cbiAgY29uc3QgZG9tRWxlbWVudCA9IGdhbWVTdGF0dXMgPT09IFwiSURMRVwiID9cbiAgICAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWVTY3JlZW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYWNrZ3JvdW5kLWltYWdlXCI+XG4gICAgICAgICAgPGltZ1xuICAgICAgICAgICAgc3JjPVwiYXNzZXRzL2ltZy9JbGx1c19TZWN0aW9uLTAwX0NlbnRyYWxlX1YwMS5zdmdcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8SW50cm9Cb3ggaW50cm9FbGVtPXtwcm9wcy5pbnRyb0VsZW19IG1hcE9iaj17cHJvcHMubWFwT2JqfSBnYW1lU3RhcnQ9e2dhbWVTdGFydH0gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgICA6XG4gICAgPGRpdiBjbGFzc05hbWU9e2BnYW1lU2NyZWVuICR7KGdhbWVJbmRleCA9PT0gXCJFTkRcIiB8fCBiZ0NvbG9yID09PSBcInJlZHBpbmtcIikgPyBcImdhbWVPdmVyXCIgOiBcIlwifWB9PlxuICAgICAgPFByb21wdEJveCBjdXJJbmRleD17Z2FtZUluZGV4fVxuICAgICAgICBjdXJQcm9tcHQ9eyhnYW1lSW5kZXggPT09IFwiRU5EXCIpID8gXCJcIiA6IHByb3BzLmdhbWVEYXRhW2ZpbmRHYW1lSW5kZXgoZ2FtZUluZGV4KV19XG4gICAgICAgIGNoYW5nZVByb21wdD17c2V0R2FtZUluZGV4fVxuICAgICAgICB1cGRhdGVEb2xsYXJzPXt1cGRhdGVEb2xsYXJzfVxuICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9XG4gICAgICAgIGdhdWdlcz17PEdhdWdlcyBkb2xsYXJzPXtkb2xsYXJzfSBwZXJmb3JtYW5jZT17cGVyZm9ybWFuY2V9Lz59XG4gICAgICAgIGVuZEdhbWU9e2dhbWVJbmRleCA9PT0gXCJFTkRcIiB8fCBnYW1lU3RhdHVzID09PSBcIkVORFwifVxuICAgICAgICAvPlxuICAgIDwvZGl2PjtcblxuICByZXR1cm4gZG9tRWxlbWVudDtcbn1cbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tL2NsaWVudFwiO1xuaW1wb3J0IHsgcmVuZGVyVG9TdGF0aWNNYXJrdXAgfSBmcm9tICdyZWFjdC1kb20vc2VydmVyJztcbmltcG9ydCB7IE1haW5GcmFtZSB9IGZyb20gJy4vY29tcG9uZW50cy9tYWluZnJhbWUnO1xuaW1wb3J0IHsgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLCBjb250ZW50SGVhZGVyQ29uc3RhbnRzIH0gZnJvbSBcIi4uL2dlbmVyYXRvci9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IEludHJvU2VjdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvSW50cm9TZWN0aW9uJztcblxuZXhwb3J0IGNsYXNzIEVuZ2luZSB7XG5cbiAgY29uc3RydWN0b3IoY29udGFpbmVyLCBvcHRpb25EYXRhLCBpbnRyb09iaiwgZ2FtZURhdGEpe1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIGNvbnN0IHJvb3RFbGVtID0gdGhpcy5jb250YWluZXIuYXBwZW5kKCdkaXYnKVxuICAgICAgLmNsYXNzZWQoJ3Jvb3RFbGVtJywgdHJ1ZSk7XG4gICAgdGhpcy5lbmdpbmVSb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChyb290RWxlbS5ub2RlKCkpO1xuICAgIHRoaXMub3B0aW9uRGF0YSA9IG9wdGlvbkRhdGE7XG4gICAgdGhpcy5hbW9yY2UgPSBpbnRyb09ialtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXTtcbiAgICB0aGlzLmdhbWVEYXRhID0gZ2FtZURhdGE7XG4gICAgY29uc29sZS5sb2coJ2dhbWUgRGF0YSBpcyA6ICcsIHRoaXMuZ2FtZURhdGEpO1xuICAgIHRoaXMuaW5pdEVuZ2luZSgpO1xuICB9XG5cbiAgaW5pdEVuZ2luZSgpe1xuICAgIGNvbnN0IGludHJvRWxlbSA9ICg8SW50cm9TZWN0aW9uXG4gICAgICBrZXk9e1wiZ2FtZUludHJvXCJ9XG4gICAgICBzZWN0aW9uVHlwZT17b3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5pbnRyb3RpdHJlfVxuICAgICAgb3B0aW9uRGF0YT17dGhpcy5vcHRpb25EYXRhfVxuICAgICAgYW1vcmNlPXt0aGlzLmFtb3JjZX1cbiAgICAgIGJhY2tncm91bmQ9e251bGx9XG4gICAgICBjbGFzc2VzPXtcIlwifVxuICAgICAgLz4pO1xuXG4gICAgdGhpcy5lbmdpbmVSb290LnJlbmRlcig8TWFpbkZyYW1lIGludHJvRWxlbT17aW50cm9FbGVtfSBnYW1lU3RhdHVzPXt0aGlzLmdhbWVTdGF0dXN9IGdhbWVEYXRhPXt0aGlzLmdhbWVEYXRhfS8+KTtcbiAgfVxuXG59XG4iLCIvKipcbiAqIHZpei5qc1xuICogPT09PT09PVxuICogRmlsZSB1c2VkIHRvIGRlZmluZSB0aGUgdmlzdWFsaXphdGlvbiBzZWN0aW9uLlxuICovXG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IGdldFN0cnVjdHVyZSwgZ2VuZXJhdGVDYWxsYmFja3MsIGdldE9wdGlvbnMgfSBmcm9tICcuL2dlbmVyYXRvci9zdHJ1Y3R1cmVHZW5lcmF0b3IuanMnO1xuaW1wb3J0IHsgY2FsbGJhY2tzIH0gZnJvbSAnLi4vZGF0YS9zdHJ1Y3R1cmUvY2FsbGJhY2tzLmpzJztcblxuaW1wb3J0IHsgTWFwIH0gZnJvbSAnbGVkZXZvaXItZGF0YXZpeic7XG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuL2dhbWUvZW5naW5lLmpzJztcblxuY29uc3QgY29uZmlnID0ge1xuICB3aWR0aDogNTAwLFxuICBoZWlnaHQ6IDUwMCxcbiAgbWFyZ2luOiB7XG4gICAgdG9wOiAxMDAsXG4gICAgcmlnaHQ6IDEwMCxcbiAgICBib3R0b206IDEwMCxcbiAgICBsZWZ0OiAxMDBcbiAgfVxufVxuY29uc3QgZnVsbFdpZHRoID0gY29uZmlnLm1hcmdpbi5sZWZ0ICsgY29uZmlnLndpZHRoICsgY29uZmlnLm1hcmdpbi5yaWdodDtcbmNvbnN0IGZ1bGxIZWlnaHQgPSBjb25maWcubWFyZ2luLnRvcCArIGNvbmZpZy5oZWlnaHQgKyBjb25maWcubWFyZ2luLmJvdHRvbTtcbmNvbnN0IG1hcEJveFN0eWxlID0gXCJtYXBib3g6Ly9zdHlsZXMvbGVkZXZvaXIvY2xhbDl6bGZrMDA0YTE1cW9oaHI3cjQ5NVwiO1xuXG5jb25zdCBjdXN0b21DYWxsYmFja3NOZWVkZWQgPSB0cnVlOyAvLyBTZXQgdG8gdHJ1ZSBpZiBjdXN0b20gY2FsbGJhY2tzIGFyZSBuZWVkZWRcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemUoY29udGVudERhdGEsIG9wdGlvbnMpIHtcblxuICByZXR1cm4gZDMuY3N2KFwiaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvZS8yUEFDWC0xdlFRWjNzejBxMXZuWm1vWVlSNUlyQ2Z1T05oSGNOdzUwaUR0YmcxSDJtSVg4bEhETDFCUTRzQU1pN2lBcFNFMUc5V1FUVzJqSGNXdjRLVy9wdWI/Z2lkPTE0OTc4NjEwMTcmc2luZ2xlPXRydWUmb3V0cHV0PWNzdlwiKVxuICAgIC50aGVuKCBnYW1lRGF0YSA9PiB7XG5cbiAgICAgIGNvbnN0IG1hcENvbnRhaW5lciA9IGQzLnNlbGVjdChcIi5nYW1lLWFyZWFcIik7XG5cbiAgICAgIGNvbnN0IGVuZ2luZSA9IG5ldyBFbmdpbmUobWFwQ29udGFpbmVyLCBnZXRPcHRpb25zKG9wdGlvbnMpLCBjb250ZW50RGF0YVswXSwgZ2FtZURhdGEpO1xuXG4gICAgICBsZXQgYXV0b0NhbGxiYWNrcztcbiAgICAgIHNldHVwVml6KGNvbnRlbnREYXRhLG9wdGlvbnMpO1xuICAgICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgIGF1dG9DYWxsYmFja3MgPSBnZW5lcmF0ZUNhbGxiYWNrcyhjb250ZW50RGF0YSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICBhdXRvQ2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuICAgICAgfVxuXG4gICAgICBpZihjdXN0b21DYWxsYmFja3NOZWVkZWQpe1xuICAgICAgICAvL2lmIGN1c3RvbSBjYWxsYmFja3MgYXJlIG5lZWRlZCwgc3VjaCBhcyBWaXN1YWxpemF0aW9uIHRyYW5zZm9ybWF0aW9ucywgaW5jbHVkZSB0aGVtIGhlcmUuXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIHRvIHVzZSBhbnkgb2JqZWN0IGNyZWF0ZWQgaW4gdml6LmpzIChncmFwaHMsIHRvb2xzLCBldGMpIGluIHRoZSBjYWxsYmFja3MuXG4gICAgICAgIC8vIFlvdSB3aWxsIG5lZWQgdG8gbWFudWFsbHkgY3JlYXRlIHRoZSBjb3JyZWN0IG51bWJlciBvZiBjYWxsYmFja3MgdG8gbWF0Y2ggdGhlIHZpeiBzZWN0aW9uc1xuXG4gICAgICAgIGxldCBjdXN0b21DYWxsYmFja3MgPSBbXG4gICAgICAgICAgW1xuICAgICAgICAgICAgKCkgPT4ge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICBdXG4gICAgICAgIHJldHVybiBjdXN0b21DYWxsYmFja3M7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXV0b0NhbGxiYWNrcztcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0dXBWaXooY29udGVudERhdGEsIG9wdGlvbnMpe1xuXG4gIGNvbnN0IGZ1bGxTdHJ1Y3R1cmUgPSBnZXRTdHJ1Y3R1cmUoY29udGVudERhdGEsIG9wdGlvbnMpO1xuICBjb25zb2xlLmxvZygnY2hlY2tpbmcgc3RydWN0dXJlOicsIGZ1bGxTdHJ1Y3R1cmUpO1xuICBmdWxsU3RydWN0dXJlLm1hcChzZWN0aW9uT2JqID0+IHtcblxuICAgIGlmKHNlY3Rpb25PYmouc2VjdGlvblR5cGUgPT09IFwidml6LXNlY3Rpb25cIil7XG4gICAgICBzZWN0aW9uT2JqLnN0ZXBzLm1hcCgoc3RlcCxpbmRleCkgPT4ge1xuICAgICAgICAgIGlmKHN0ZXAudmlzdWFsICE9PSBcIlwiKXtcbiAgICAgICAgICAgIGlmKGluZGV4ID09PSAwKXtcbiAgICAgICAgICAgICAgZDMuc2VsZWN0KGAjJHtzZWN0aW9uT2JqLmtleX1fJHtpbmRleH1gKS5zdHlsZSgnb3BhY2l0eScsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgZDMuc2VsZWN0KGAjJHtzZWN0aW9uT2JqLmtleX1fJHtpbmRleH1gKS5zdHlsZSgnb3BhY2l0eScsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbn0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cFZpZGVvcygpe1xuICBsZXQgdmlkZW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInZpZGVvXCIpO1xuICAgIHZpZGVvcy5mb3JFYWNoKCh2aWRlbykgPT4ge1xuICAgICAgLy8gV2UgY2FuIG9ubHkgY29udHJvbCBwbGF5YmFjayB3aXRob3V0IGluc3RlcmFjdGlvbiBpZiB2aWRlbyBpcyBtdXRlXG4gICAgICB2aWRlby5tdXRlZCA9IHRydWU7XG4gICAgICB2aWRlby5jdXJyZW50VGltZSA9IDA7XG4gICAgICAvLyBQbGF5IGlzIGEgcHJvbWlzZSBzbyB3ZSBuZWVkIHRvIGNoZWNrIHdlIGhhdmUgaXRcbiAgICAgIGxldCBwbGF5UHJvbWlzZSA9IHZpZGVvLnBsYXkoKTtcbiAgICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcGxheVByb21pc2UudGhlbigoXykgPT4ge1xuICAgICAgICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgICAgICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gIT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF2aWRlby5wYXVzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlby5wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW8uY3VycmVudFRpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnBhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgeyB0aHJlc2hvbGQ6IDAuMiB9XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUodmlkZW8pO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xufVxuIiwiLyoqXHJcbiAqIHNjcm9sbGVyLmpzXHJcbiAqID09PT09PT09PT09XHJcbiAqIERlZmluZXMgdGhlIGxvZ2ljIHVzZWQgYnkgdGhlIHNjcm9sbGVyLiBUaGlzIHNjcmlwdCBkb2VzIG5vdCBuZWVkIGV4dGVybmFsIGRlcGVuZGVuY2llcyBhbmQgdXNlcyBuYXRpdmUgZnVuY3Rpb25zXHJcbiAqIG9mIHRoZSBicm93c2VyLlxyXG4gKlxyXG4gKiAvIVxcIFBMRUFTRSwgRE8gTk9UIE1PRElGWSBUSElTIEZJTEUuXHJcbiAqXHJcbiAqIEBhdXRob3IgQW50b2luZSBCw6lsYW5kIDxhYmVsYW5kQGxlZGV2b2lyLmNvbT5cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogRGVmaW5lcyBhIHN0ZXAgYXNzb2NpYXRlZCB3aXRoIGEgc3BlY2lmaWMgdmlzdWFsaXphdGlvbi4gQSBzdGVwIGlzIGFjdGl2YXRlZCBvciBkZWFjdGl2YXRlZCBiYXNlZCBvbiB0aGUgc2Nyb2xsXHJcbiAqIHBvc2l0aW9uLiBUaGlzIGNsYXNzIGlzIHVzZWQgYnkgdGhlIHNjcm9sbGVyIGZ1bmN0aW9uLlxyXG4gKi9cclxuY2xhc3MgU2Nyb2xsZXJTdGVwIHtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBhIG5ldyBpbnN0YW5jZSBvZiBTY3JvbGxlclN0ZXAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZWwgICAgICAgICAgVGhlIG5hdGl2ZSBlbGVtZW50IHRoYXQgcmVwcmVzZW50cyB0aGUgc3RlcCBpbiB0aGUgSFRNTCBkb2N1bWVudC5cclxuICAgKiBAcGFyYW0gaW5kZXggICAgICAgVGhlIGluZGV4IG9mIHRoZSBzdGVwLlxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayAgICBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBzdGVwIGlzIGFjdGl2YXRlLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGVsLCBpbmRleCwgY2FsbGJhY2spIHtcclxuICAgIHRoaXMuZWwgPSBlbDtcclxuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIHRoaXMuX2lzQWN0aXZhdGUgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFjdGl2YXRlcyB0aGUgY3VycmVudCBzdGVwLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHNjcm9sbERpcmVjdGlvbiAgIFRoZSBjdXJyZW50IHNjcm9sbCBkaXJlY3Rpb24uXHJcbiAgICovXHJcbiAgYWN0aXZhdGUoc2Nyb2xsRGlyZWN0aW9uKSB7XHJcbiAgICBpZiAodGhpcy5faXNBY3RpdmF0ZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLl9pc0FjdGl2YXRlID0gdHJ1ZTtcclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB0aGlzLmNhbGxiYWNrKHNjcm9sbERpcmVjdGlvbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZWFjdGl2YXRlcyB0aGUgY3VycmVudCBzdGVwLlxyXG4gICAqL1xyXG4gIGRlYWN0aXZhdGUoKSB7XHJcbiAgICBpZiAoIXRoaXMuX2lzQWN0aXZhdGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faXNBY3RpdmF0ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIHRoZSBzY3JvbGwgZGlyZWN0aW9ucy5cclxuICpcclxuICogQHR5cGUge3t1cDogc3RyaW5nLCBkb3duOiBzdHJpbmd9fVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHNjcm9sbERpcmVjdGlvbnMgPSB7XHJcbiAgdXA6ICd1cCcsXHJcbiAgZG93bjogJ2Rvd24nXHJcbn07XHJcblxyXG4vKipcclxuICogRGVmaW5lcyB0aGUgc2Nyb2xsZXIgdG8gdXNlIHdpdGggdGhlIExlIERldm9pcidzIHNjcm9sbHl0ZWxsaW5nIGFydGljbGVzLiBQbGVhc2Ugc2VlIFwiUkVBRE1FLm1kXCJcclxuICogdG8ga25vdyBob3cgdG8gdXNlIGl0LlxyXG4gKlxyXG4gKiAvIVxcIEJlIHN1cmUgdG8gdXNlIHRoZSBnb29kIENTUyBjbGFzcyBuYW1lcyBpbiB5b3VyIEhUTUwgZmlsZSBiZWZvcmUgdG8gdXNlIHRoZSBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIGNhbGxiYWNrcyAgIEEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgb2YgY2FsbGJhY2tzIHRvIHVzZSB3aXRoIGVhY2ggc3RlcC5cclxuICogQHJldHVybnMgeyp9ICAgICAgIFRoZSBpbnN0YW5jZSBvZiB0aGUgc2Nyb2xsZXIuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsZXIoY2FsbGJhY2tzKSB7XHJcbiAgbGV0IF9vZmZzZXRUb3AgPSAwO1xyXG4gIGxldCBfb2Zmc2V0Qm90dG9tID0gMDtcclxuXHJcbiAgbGV0IGlubmVySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gIGxldCBpc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgbGV0IGxhc3RTY3JvbGwgPSAwO1xyXG4gIGxldCBzdGVwcyA9IFtdO1xyXG4gIGxldCB2aXogPSBbXTtcclxuICBsZXQgdmlzaWJsZVN0ZXBzID0gW107XHJcbiAgXHJcbiAgY29uc3QgYXJ0aWNsZVJlbWluZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFydGljbGUtcmVtaW5kZXInKTtcclxuICBjb25zdCBzY3JvbGxQcm9ncmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciA+IC5wcm9ncmVzcycpO1xyXG4gIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvLXNlY3Rpb24gaDEnKTtcclxuXHJcbiAgY29uc3Qgdml6U2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudml6LXNlY3Rpb24nKTtcclxuICBpZiAodml6U2VjdGlvbnMubGVuZ3RoICE9PSBjYWxsYmFja3MubGVuZ3RoKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBudW1iZXIgb2Ygdml6IHNlY3Rpb25zICgke3ZpelNlY3Rpb25zLmxlbmd0aH0pIG1pc21hdGNoIHdpdGggdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3QgYCArXHJcbiAgICAgIGBkaW1lbnNpb24gb2YgdGhlIGNhbGxiYWNrcyBhcnJheSAoJHtjYWxsYmFja3MubGVuZ3RofSkuIFBsZWFzZSwgYmUgc3VyZSB0aGF0IHRoZSB0d28gZWxlbWVudHMgYCArXHJcbiAgICAgIGBoYXZlIHRoZSBzYW1lIHNpemUuYCk7XHJcbiAgfVxyXG4gIHZpelNlY3Rpb25zLmZvckVhY2goKHZpelNlY3Rpb24sIGkpID0+IHtcclxuICAgIGNvbnN0IHNlY3Rpb25zID0gWy4uLnZpelNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbicpXTtcclxuICAgIGlmIChzZWN0aW9ucy5sZW5ndGggIT09IGNhbGxiYWNrc1tpXS5sZW5ndGgpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgbnVtYmVyIG9mIHN0ZXBzICgke3NlY3Rpb25zLmxlbmd0aH0pIGluIHRoZSB2aXogc2VjdGlvbiAjJHtpICsgMX0gbWlzbWF0Y2ggd2l0aCB0aGUgYCArXHJcbiAgICAgICAgYG51bWJlciBvZiBjYWxsYmFja3Mgc3BlY2lmaWVkICgke2NhbGxiYWNrc1tpXS5sZW5ndGh9KSBhdCB0aGUgaW5kZXggXCIke2l9XCIuIFBsZWFzZSwgYmUgc3VyZSB0aGF0IHRoZSB0d28gYCArXHJcbiAgICAgICAgYGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgc2l6ZS5gKTtcclxuICAgIH1cclxuICAgIHN0ZXBzID0gc3RlcHMuY29uY2F0KHNlY3Rpb25zLm1hcCgoZSwgaikgPT4gbmV3IFNjcm9sbGVyU3RlcChlLCBgJHtpfS0ke2p9YCwgY2FsbGJhY2tzW2ldW2pdKSkpO1xyXG4gICAgdml6ID0gdml6LmNvbmNhdCh2aXosIHZpelNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnZpeiA+IConKSk7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXkgYmFzZWQgb24gc2Nyb2xsYmFyIHBvc2l0aW9uLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgY29uc3QgX3VwZGF0ZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRTY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgIHN0ZXBzLmZvckVhY2goc3RlcCA9PiB7XHJcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBjdXJyZW50IHN0ZXAgaXMgaW4gdGhlIHZpZXdwb3J0LlxyXG4gICAgICBjb25zdCBib3VuZGluZ1JlY3QgPSBzdGVwLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBpZiAoaW5uZXJIZWlnaHQgLSBib3VuZGluZ1JlY3QudG9wIC0gX29mZnNldEJvdHRvbSA+IDBcclxuICAgICAgICAmJiBib3VuZGluZ1JlY3QudG9wICsgYm91bmRpbmdSZWN0LmhlaWdodCAtIF9vZmZzZXRUb3AgPiAwKSB7XHJcbiAgICAgICAgdmlzaWJsZVN0ZXBzLnB1c2goc3RlcCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RlcC5kZWFjdGl2YXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIERpc3BsYXkgdGhlIHRpdGxlIGFzIGEgcmVtaW5kZXIgd2hlbiB0aGUgbWFpbiBhcnRpY2xlIHRpdGxlIGlzIGhpZGRlbi5cclxuICAgIGNvbnN0IGlzQXJ0aWNsZVJlbWluZGVyRGlzcGxheWVkID0gdGl0bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tIDw9IDA7XHJcbiAgICBjb25zdCBpc0FydGljbGVSZW1pbmRlcklzVmlzaWJsZSA9IGFydGljbGVSZW1pbmRlci5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKTtcclxuICAgIGlmIChpc0FydGljbGVSZW1pbmRlckRpc3BsYXllZCAmJiAhaXNBcnRpY2xlUmVtaW5kZXJJc1Zpc2libGUpIHtcclxuICAgICAgYXJ0aWNsZVJlbWluZGVyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKVxyXG4gICAgfSBlbHNlIGlmICghaXNBcnRpY2xlUmVtaW5kZXJEaXNwbGF5ZWQgJiYgaXNBcnRpY2xlUmVtaW5kZXJJc1Zpc2libGUpIHtcclxuICAgICAgYXJ0aWNsZVJlbWluZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEZvciB0aGUgdmlzaWJsZSBzdGVwcywgY2hvb3NlIHRoZSBnb29kIG9uZSBiYXNlZCBvbiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi5cclxuICAgIHZpc2libGVTdGVwcy5mb3JFYWNoKChzZWN0aW9uLCBpKSA9PiB7XHJcbiAgICAgIGlmIChjdXJyZW50U2Nyb2xsID49IGxhc3RTY3JvbGwpIHsgLy8gU2Nyb2xsIGRvd24gKOKGkylcclxuICAgICAgICBpZiAoaSA9PT0gdmlzaWJsZVN0ZXBzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIHNlY3Rpb24uYWN0aXZhdGUoc2Nyb2xsRGlyZWN0aW9ucy5kb3duKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VjdGlvbi5kZWFjdGl2YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgeyAvLyBTY3JvbGwgdXAgKOKGkSlcclxuICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgc2VjdGlvbi5hY3RpdmF0ZShzY3JvbGxEaXJlY3Rpb25zLnVwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VjdGlvbi5kZWFjdGl2YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIF91cGRhdGVTY3JvbGxQcm9ncmVzcygpO1xyXG5cclxuICAgIC8vIFJlc2V0IHRoZSB2YXJpYWJsZXMgZm9yIHRoZSBuZXh0IGZ1bmN0aW9uIGNhbGwuXHJcbiAgICB2aXNpYmxlU3RlcHMgPSBbXTtcclxuICAgIGxhc3RTY3JvbGwgPSBjdXJyZW50U2Nyb2xsO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIHNjcm9sbCBwcm9ncmVzc2lvbiBpbmRpY2F0b3IuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBjb25zdCBfdXBkYXRlU2Nyb2xsUHJvZ3Jlc3MgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB3aW5TY3JvbGwgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XHJcbiAgICBjb25zdCBzY3JvbGxlZCA9ICh3aW5TY3JvbGwgLyBoZWlnaHQpICogMTAwO1xyXG4gICAgc2Nyb2xsUHJvZ3Jlc3Muc3R5bGUud2lkdGggPSBzY3JvbGxlZCArICclJztcclxuICB9O1xyXG5cclxuICBjb25zdCBwdWJsaWNJbnRlcmZhY2UgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSBzY3JvbGxlci4gUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGNhbiBiZSBvbmx5IGNhbGxlZCBvbmNlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgaW5zdGFuY2Ugb2YgdGhlIHNjcm9sbGVyLlxyXG4gICAgICovXHJcbiAgICBpbml0aWFsaXplOiAoKSA9PiB7XHJcbiAgICAgIGlmIChpc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc2Nyb2xsZXIgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4nKTtcclxuICAgICAgfVxyXG4gICAgICBpc0luaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF91cGRhdGUpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICAgIGlubmVySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgIF91cGRhdGVTY3JvbGxQcm9ncmVzcygpO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKCh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgPiAwKSB7XHJcbiAgICAgICAgX3VwZGF0ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIF91cGRhdGVTY3JvbGxQcm9ncmVzcygpO1xyXG4gICAgICByZXR1cm4gcHVibGljSW50ZXJmYWNlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgdG9wIG9mZnNldCB0byB1c2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9mZnNldFRvcFxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBpbnN0YW5jZSBvZiB0aGUgc2Nyb2xsZXIuXHJcbiAgICAgKi9cclxuICAgIG9mZnNldFRvcDogb2Zmc2V0VG9wID0+IHtcclxuICAgICAgaWYgKG9mZnNldFRvcCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9vZmZzZXRUb3A7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG9mZnNldFRvcCkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBvZmZzZXQgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlci4nKTtcclxuICAgICAgfVxyXG4gICAgICBfb2Zmc2V0VG9wID0gb2Zmc2V0VG9wO1xyXG4gICAgICByZXR1cm4gcHVibGljSW50ZXJmYWNlO1xyXG4gICAgfSAsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIGJvdHRvbSBvZmZzZXQgdG8gdXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvZmZzZXRCb3R0b21cclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgaW5zdGFuY2Ugb2YgdGhlIHNjcm9sbGVyLlxyXG4gICAgICovXHJcbiAgICBvZmZzZXRCb3R0b206IG9mZnNldEJvdHRvbSA9PiB7XHJcbiAgICAgIGlmIChvZmZzZXRCb3R0b20gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBfb2Zmc2V0Qm90dG9tO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihvZmZzZXRCb3R0b20pKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgb2Zmc2V0IG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXIuJyk7XHJcbiAgICAgIH1cclxuICAgICAgX29mZnNldEJvdHRvbSA9IG9mZnNldEJvdHRvbTtcclxuICAgICAgcmV0dXJuIHB1YmxpY0ludGVyZmFjZTtcclxuICAgIH1cclxuICB9O1xyXG4gIHJldHVybiBwdWJsaWNJbnRlcmZhY2U7XHJcbn1cclxuIiwiXHJcbmltcG9ydCB7IGluaXRpYWxpemUgYXMgdjEgfSBmcm9tICcuLi92aXonO1xyXG5pbXBvcnQgeyBzY3JvbGxlciB9IGZyb20gJy4uL3Njcm9sbGVyJztcclxuaW1wb3J0IExhenlMb2FkIGZyb20gXCJ2YW5pbGxhLWxhenlsb2FkXCI7XHJcbmNvbnN0IGhlYWRlckhlaWdodCA9IDQwO1xyXG5pbXBvcnQgc3RpY2t5Qml0cyBmcm9tICdzdGlja3liaXRzJ1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTY3JvbGxlcihjb250ZW50RGF0YSwgcGFyYW1zRGF0YSl7XHJcblxyXG4gICAgbGV0IGVsZW1lbnRzID0gW107XHJcbiAgICBbJy52aXonLCAnLmZ1bGwtcGFnZS1zZWN0aW9uID4gaW1nJywgJy5mdWxsLXBhZ2Utc2VjdGlvbiA+IHZpZGVvJ10uZm9yRWFjaChzZWxlY3RvciA9PiB7XHJcbiAgICAgIGVsZW1lbnRzID0gZWxlbWVudHMuY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpKTtcclxuICAgIH0pO1xyXG4gICAgc3RpY2t5Qml0cyhlbGVtZW50cywgeyBzdGlja3lCaXRTdGlja3lPZmZzZXQ6IGhlYWRlckhlaWdodCB9KTtcclxuICBcclxuICAgIGNvbnN0IGxsID0gbmV3IExhenlMb2FkKHtcclxuICAgICAgZWxlbWVudHNfc2VsZWN0b3I6IFwiLmxhenlcIixcclxuICAgICAgdGhyZXNob2xkOiA1MDBcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgUHJvbWlzZS5hbGwoW3YxKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKV0pLnRoZW4oKFtjYWxsYmFja3NWMV0pID0+ICB7XHJcbiAgICAgIHNjcm9sbGVyKGNhbGxiYWNrc1YxKVxyXG4gICAgICAgIC5vZmZzZXRUb3AoaGVhZGVySGVpZ2h0KVxyXG4gICAgICAgIC5vZmZzZXRCb3R0b20oMClcclxuICAgICAgICAuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfSk7XHJcbiAgfSIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEludHJvU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL0ludHJvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgVGV4dFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9UZXh0U2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgVml6U2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1ZpelNlY3Rpb24uanNcIjtcbmltcG9ydCB7IEZ1bGxQYWdlU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Z1bGxQYWdlU2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XG5pbXBvcnQgeyBnZXRTdHJ1Y3R1cmUgfSBmcm9tIFwiLi9zdHJ1Y3R1cmVHZW5lcmF0b3IuanNcIjtcbmltcG9ydCB7IGluaXRTY3JvbGxlciB9IGZyb20gXCIuL2luaXRTY3JvbGxlci5qc1wiO1xuXG5cbi8qKlxuICogVGFrZSBwcm9wcyAoYXJ0aWNsZSBzdHJ1Y3R1cmUgYXMgQ1NWIGFuZCBwYXJhbXMpIGFuZCB0cmFuc2Zvcm0gaXQgYXMgSFRNTCBhcmNoaXRlY3R1cmVcbiAqIEBwYXJhbSAge09iamVjdH0gY29udGVudERhdGEgQXJ0aWNsZSdzIENTViBzdHJ1Y3R1cmVcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNEYXRhIEFydGljbGUgcGFyYW1ldGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBPYmogSFRNTCBjb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW5kZXJTdHJ1Y3R1cmUocHJvcHMpe1xuICAgIGlmKHByb3BzLnJlbmRlcmVkKXtcbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICAgICAgaW5pdFNjcm9sbGVyKHByb3BzLmNvbnRlbnREYXRhLCBwcm9wcy5wYXJhbXNEYXRhKTtcblxuICAgICAgICB9LCBbXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlckRhdGEoZ2V0U3RydWN0dXJlKHByb3BzLmNvbnRlbnREYXRhLCBwcm9wcy5wYXJhbXNEYXRhKSk7XG5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckRhdGEoc3RydWN0dXJlRGF0YSl7XG5cbiAgICBsZXQgcmVuZGVyZWREYXRhID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhzdHJ1Y3R1cmVEYXRhKS5tYXAoKHNlY3Rpb25LZXksaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IGN1clNlY3Rpb24gPSBzdHJ1Y3R1cmVEYXRhW3NlY3Rpb25LZXldO1xuICAgICAgICBpZihjdXJTZWN0aW9uLnNlY3Rpb25UeXBlID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLmludHJvdGl0cmUpe1xuICAgICAgICAgICAgcmVuZGVyZWREYXRhW3NlY3Rpb25LZXldID0gKCg8SW50cm9TZWN0aW9uIGtleT17Y3VyU2VjdGlvbi5rZXl9IHNlY3Rpb25UeXBlPXtjdXJTZWN0aW9uLnNlY3Rpb25UeXBlfSBvcHRpb25EYXRhPXtjdXJTZWN0aW9uLm9wdGlvbkRhdGF9IGFtb3JjZT17cGFyc2UoY3VyU2VjdGlvbi5hbW9yY2UpfSBiYWNrZ3JvdW5kPXtjdXJTZWN0aW9uLmJhY2tncm91bmR9IGNsYXNzZXM9e2N1clNlY3Rpb24uY2xhc3Nlc30gLz4pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGN1clNlY3Rpb24uc2VjdGlvblR5cGUgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudGV4dGVjbGFzc2lxdWUpe1xuXG4gICAgICAgICAgICByZW5kZXJlZERhdGFbc2VjdGlvbktleV0gPSAoKDxUZXh0U2VjdGlvbiBrZXk9e2N1clNlY3Rpb24ua2V5fSBpZD17Y3VyU2VjdGlvbi5rZXl9IHNlY3Rpb25UeXBlPXtjdXJTZWN0aW9uLnNlY3Rpb25UeXBlfSB0ZXh0cz17Y3VyU2VjdGlvbi50ZXh0c30gYmFja2dyb3VuZD17Y3VyU2VjdGlvbi5iYWNrZ3JvdW5kfSBjbGFzc2VzPXtjdXJTZWN0aW9uLmNsYXNzZXN9IHZpc3VlbGNsYXNzZXM9e2N1clNlY3Rpb24udmlzdWVsY2xhc3Nlc30gdmlzdWFsPXtjdXJTZWN0aW9uLnZpc3VhbH0gZmlsZW5hbWU9e2N1clNlY3Rpb24uZmlsZW5hbWV9Lz4pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGN1clNlY3Rpb24uc2VjdGlvblR5cGUgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMucGxlaW5lcGFnZXRpdHJlKXtcbiAgICAgICAgICAgIHJlbmRlcmVkRGF0YVtzZWN0aW9uS2V5XSA9ICgoPEZ1bGxQYWdlU2VjdGlvbiBrZXk9e2N1clNlY3Rpb24ua2V5fSBpZD17Y3VyU2VjdGlvbi5rZXl9IHNlY3Rpb25UeXBlPXtjdXJTZWN0aW9uLnNlY3Rpb25UeXBlfSBiYWNrZ3JvdW5kPXtjdXJTZWN0aW9uLmJhY2tncm91bmR9IGNsYXNzZXM9e2N1clNlY3Rpb24uY2xhc3Nlc30gdmlzdWVsY2xhc3Nlcz17Y3VyU2VjdGlvbi52aXN1ZWxjbGFzc2VzfSB2aXN1YWw9e2N1clNlY3Rpb24udmlzdWFsfSBtYWluVGl0bGU9e2N1clNlY3Rpb24udGV4dHMubWFpblRpdGxlfSBzdWJUaXRsZT17Y3VyU2VjdGlvbi50ZXh0cy5zdWJUaXRsZX0gZmlsZW5hbWU9e2N1clNlY3Rpb24uZmlsZW5hbWV9IC8+KSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGN1clNlY3Rpb24uc2VjdGlvblR5cGUgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudml6c2VjdGlvbil7XG4gICAgICAgICAgICByZW5kZXJlZERhdGFbc2VjdGlvbktleV0gPSAoPFZpelNlY3Rpb24ga2V5PXtjdXJTZWN0aW9uLmtleX0gbGlzdElEPXtjdXJTZWN0aW9uLmxpc3RJRH0gc3RlcHM9e2N1clNlY3Rpb24uc3RlcHN9IGNsYXNzZWQ9e2N1clNlY3Rpb24uY2xhc3NlZH0gbWVkaWFJbmZvPXtjdXJTZWN0aW9uLm1lZGlhSW5mb30gYmFja2dyb3VuZD17Y3VyU2VjdGlvbi5iYWNrZ3JvdW5kfS8+KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlbmRlcmVkRGF0YSk7XG59XG4iLCIvKipcbiAqIGFwcC5qc1xuICogPT09PT09XG4gKiBNYWluIGZpbGUgb2YgdGhlIGFwcGxpY2F0aW9uLiBUaGlzIGZpbGUgaXMgdXNlZCB0byBpbml0aWFsaXplIHRoZSBzY3JvbGxlciBhbmQgaW1wb3J0cyB0aGUgdmlzdWFsaXphdGlvbnMgdXNlZC5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgc3RydWN0dXJlIGZyb20gJy4uL2RhdGEvc3RydWN0dXJlL3N0cnVjdHVyZS5qc29uJztcblxuaWYoIUVOVl9DT05GSUcuZG93bmxvYWRTdHJ1Yyl7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyb290JykuaW5uZXJIVE1MID0gKHN0cnVjdHVyZS5odG1sc3RydWMpO1xufVxuXG5pbXBvcnQgJy4uL2Fzc2V0cy9zdHlsZXMvc3R5bGUuc2Nzcyc7XG5pbXBvcnQge2dvb2dsZV9jb25maWd9IGZyb20gXCIuLi9kYXRhL2dvb2dsZV9jb25maWdcIjtcbmltcG9ydCB7IFJlbmRlclN0cnVjdHVyZSB9IGZyb20gJy4vZ2VuZXJhdG9yL1JlbmRlclN0cnVjdHVyZSc7XG5pbXBvcnQgeyBpbml0U2Nyb2xsZXIgfSBmcm9tICcuL2dlbmVyYXRvci9pbml0U2Nyb2xsZXInO1xuaW1wb3J0IHsgZ2VuZXJhdGVDYWxsYmFja3MgfSBmcm9tICcuL2dlbmVyYXRvci9zdHJ1Y3R1cmVHZW5lcmF0b3InO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSAnZmlsZS1zYXZlcic7XG5cbmlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1Yyl7XG4gIFByb21pc2UuYWxsKFtpbXBvcnQoXCJyZWFjdC1kb20vY2xpZW50XCIpLCBpbXBvcnQoXCJyZWFjdC1kb20vc2VydmVyXCIpLCBpbXBvcnQoXCJyZWFjdFwiKV0pXG4gICAgLnRoZW4ocGFja2FnZXMgPT4ge1xuICAgICAgY29uc3QgUmVhY3RET00gPSBwYWNrYWdlc1swXTtcbiAgICAgIGNvbnN0IFJlYWN0RE9NU2VydmVyID0gcGFja2FnZXNbMV07XG4gICAgICBjb25zdCBSZWFjdCA9IHBhY2thZ2VzWzJdO1xuICAgICAgYWRkTm90UHVibGlzaGVkKCk7XG4gICAgICBpZihFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5jb250ZW50VVJMKS50aGVuKCBjb250ZW50RGF0YSA9PiB7XG4gICAgICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcucGFyYW1zVVJMKS50aGVuKCBwYXJhbXNEYXRhID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKSk7XG4gICAgICAgICAgICByb290LnJlbmRlcihcbiAgICAgICAgICAgICAgPFJlbmRlclN0cnVjdHVyZSBjb250ZW50RGF0YT17Y29udGVudERhdGF9IHBhcmFtc0RhdGE9e3BhcmFtc0RhdGF9IHJlbmRlcmVkPXt0cnVlfS8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYWRkRm9vdGVyKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcuY29udGVudFVSTCkudGhlbiggY29udGVudERhdGEgPT4ge1xuICAgICAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLnBhcmFtc1VSTCkudGhlbiggcGFyYW1zRGF0YSA9PiB7XG4gICAgICAgICAgICBkMy5ibG9iKGdvb2dsZV9jb25maWcuY29udGVudFVSTCkudGhlbihjb250ZW50QmxvYiA9PiB7XG4gICAgICAgICAgICAgIGQzLmJsb2IoZ29vZ2xlX2NvbmZpZy5wYXJhbXNVUkwpLnRoZW4ocGFyYW1zQmxvYiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGVkU3RydWMgPSBSZW5kZXJTdHJ1Y3R1cmUoe2NvbnRlbnREYXRhOiBjb250ZW50RGF0YSwgcGFyYW1zRGF0YTogcGFyYW1zRGF0YSwgcmVuZGVyOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWxTdHJ1YyA9IFJlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RhdGljTWFya3VwKGdlbmVyYXRlZFN0cnVjKTtcbiAgICAgICAgICAgICAgICB3cml0ZUhUTUxmaWxlKGh0bWxTdHJ1YywgY29udGVudEJsb2IsIHBhcmFtc0Jsb2IpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlQ2FsbGJhY2tzKGNvbnRlbnREYXRhLHBhcmFtc0RhdGEpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pXG59XG5lbHNle1xuICBpZihFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgIFByb21pc2UuYWxsKFtpbXBvcnQoXCJyZWFjdC1kb20vY2xpZW50XCIpLCBpbXBvcnQoXCJyZWFjdFwiKV0pXG4gICAgLnRoZW4ocGFja2FnZXMgPT4ge1xuICAgICAgY29uc3QgUmVhY3RET00gPSBwYWNrYWdlc1swXTtcbiAgICAgIGNvbnN0IFJlYWN0ID0gcGFja2FnZXNbMV07XG4gICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5jb250ZW50VVJMKS50aGVuKCBjb250ZW50RGF0YSA9PiB7XG4gICAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLnBhcmFtc1VSTCkudGhlbiggcGFyYW1zRGF0YSA9PiB7XG4gICAgICAgICAgY29uc3Qgcm9vdCA9IFJlYWN0RE9NLmNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpKTtcbiAgICAgICAgICByb290LnJlbmRlcihcbiAgICAgICAgICAgIDxSZW5kZXJTdHJ1Y3R1cmUgY29udGVudERhdGE9e2NvbnRlbnREYXRhfSBwYXJhbXNEYXRhPXtwYXJhbXNEYXRhfSByZW5kZXJlZD17dHJ1ZX0vPlxuICAgICAgICAgICk7XG4gICAgICAgICAgYWRkRm9vdGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZWxzZXtcbiAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5sb2NhbENvbnRlbnRVUkwpLnRoZW4oIGNvbnRlbnREYXRhID0+IHtcbiAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLmxvY2FsUGFyYW1zVVJMKS50aGVuKCBwYXJhbXNEYXRhID0+IHtcbiAgICAgICAgaW5pdFNjcm9sbGVyKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKTtcbiAgICAgICAgYWRkRm9vdGVyKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3cml0ZUhUTUxmaWxlKEhUTUxTdHJ1Y3QsIGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKXtcbiAgbGV0IGJsb2IgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoe2h0bWxzdHJ1YzogYCR7SFRNTFN0cnVjdH1gfSwgbnVsbCwgMildLCB7dHlwZTogXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLThcIn0pO1xuICBsZXQgY29udGVudENTViA9IG5ldyBCbG9iKFtjb250ZW50RGF0YV0sIHt0eXBlOiBcInRleHQvY3N2O2NoYXJzZXQ9dXRmLThcIn0pO1xuICBsZXQgcGFyYW1zQ1NWID0gbmV3IEJsb2IoW3BhcmFtc0RhdGFdLCB7dHlwZTogXCJ0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04XCJ9KTtcblxuICBzYXZlQXMoY29udGVudENTViwgXCJjb250ZW50RGF0YS5jc3ZcIik7XG4gIHNhdmVBcyhwYXJhbXNDU1YsIFwicGFyYW1zRGF0YS5jc3ZcIik7XG4gIHNhdmVBcyhibG9iLCBcInN0cnVjdHVyZS5qc29uXCIpO1xufVxuXG5mdW5jdGlvbiBhZGROb3RQdWJsaXNoZWQoKXtcbiAgY29uc3QgZGl2ID0gZDMuc2VsZWN0KCcucHVsbC1yaWdodCcpLmluc2VydChcImxpXCIsJ2xpJyk7XG4gIGRpdi5odG1sKGA8cCBjbGFzcz0nbm90LXB1Ymxpc2hlZCc+TmUgcGFzIHB1YmxpZXI8L3A+YCk7XG59XG5cbmZ1bmN0aW9uIGFkZEZvb3Rlcigpe1xuICAvL2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb290ZXJDb250YWluZXInKS5yZW1vdmUoKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvb3RlckNvbnRhaW5lcicpLmlubmVySFRNTCA9IGQzLnNlbGVjdChgI2Zvb3RlckNvbnRlbnRgKS5ub2RlKCkuaW5uZXJIVE1MO1xufVxuIiwiY29uc3QgZ29vZ2xlX2NvbmZpZyA9IHtcbiAgICBcImNvbnRlbnRVUkxcIjogXCJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC9lLzJQQUNYLTF2U0V5d0pFMFZVZ3kzTnNxM1RnX29oLVZzNjMzVFNpbWRJSGZrWFR5ejlCYkV0V05WZ3VyZDFUb3UtUTVhbnZkT2l3M2NvQ0ZrRENpU1lxL3B1Yj9naWQ9MCZzaW5nbGU9dHJ1ZSZvdXRwdXQ9Y3N2XCIsXG4gICAgXCJwYXJhbXNVUkxcIjogXCJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC9lLzJQQUNYLTF2U0V5d0pFMFZVZ3kzTnNxM1RnX29oLVZzNjMzVFNpbWRJSGZrWFR5ejlCYkV0V05WZ3VyZDFUb3UtUTVhbnZkT2l3M2NvQ0ZrRENpU1lxL3B1Yj9naWQ9NDA5OTUwMjM3JnNpbmdsZT10cnVlJm91dHB1dD1jc3ZcIixcbiAgICBcImxvY2FsQ29udGVudFVSTFwiOiBcIi4vZGF0YS9zdHJ1Y3R1cmUvY29udGVudERhdGEuY3N2XCIsXG4gICAgXCJsb2NhbFBhcmFtc1VSTFwiOiBcIi4vZGF0YS9zdHJ1Y3R1cmUvcGFyYW1zRGF0YS5jc3ZcIlxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7Z29vZ2xlX2NvbmZpZ307XG4iXSwibmFtZXMiOlsiSW50cm9TZWN0aW9uIiwicHJvcHMiLCJpbnRyb1NlY3Rpb25PYmoiLCJjbGFzc05hbWUiLCJjbGFzc2VzIiwiYW1vcmNlIiwib3B0aW9uRGF0YSIsInRpdGxlIiwiYmFja2dyb3VuZCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiVGV4dFNlY3Rpb24iLCJxdW90ZU9iaiIsImlzUXVvdGUiLCJTdHJpbmciLCJpbmNsdWRlcyIsInRleHQiLCJ0ZXh0cyIsInNwbGl0IiwiYXV0aG9yIiwiYmlnTnVtYmVyT2JqIiwiaXNCaWdOdW1iZXIiLCJudW1iZXIiLCJ1bmRlclRleHQiLCJpc1Zpc3VhbCIsInZpc3VhbCIsInZpc3VhbE9iaiIsImtleSIsImlkIiwic3JjIiwiZmlsZW5hbWUiLCJ2aXN1ZWxjbGFzc2VzIiwicGFkZGluZ0JvdHRvbSIsImF1dG9QbGF5IiwibG9vcCIsIm11dGVkIiwicGxheXNJbmxpbmUiLCJwcmVsb2FkIiwidGV4dFNlY3Rpb25PYmoiLCJwYXJzZSIsInN0YXJ0c1dpdGgiLCJEV0NoYXJ0IiwiaWZyYW1lUmVmIiwidXNlUmVmIiwidXNlU3RhdGUiLCJoZWlnaHQiLCJzZXRTdGF0ZSIsIm9uTWVzc2FnZSIsInVzZUNhbGxiYWNrIiwiZGF0YSIsInNvdXJjZSIsImN1cnJlbnQiLCJjb250ZW50V2luZG93IiwidXNlRWZmZWN0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZWYiLCJzY3JvbGxpbmciLCJmcmFtZUJvcmRlciIsIndpZHRoIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwibG9hZGluZyIsIm9wdGlvbnNEcm9wZG93bkNvbnN0YW50cyIsInBhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMiLCJ0aXRyZSIsImF1dGV1cnMiLCJkYXRlIiwiVml6U2VjdGlvbiIsInN0ZXBzIiwiY3VyU3RlcENsYXNzZXMiLCJjdXJDb21tb25DbGFzcyIsInZpelNlY3Rpb25PYmoiLCJsaXN0SUQiLCJjbGFzc2VkIiwibWFwIiwic3RlcCIsImluZGV4Iiwic3RlcGNsYXNzZXMiLCJBcnJheSIsImxlbmd0aCIsImZvckVhY2giLCJzdGVwRWxlbSIsImlkeCIsImlzQXJyYXkiLCJlbGVtIiwiaSIsInJlZHVjZSIsImEiLCJiIiwiRnVsbFBhZ2VTZWN0aW9uIiwiZnVsbHBhZ2VTZWN0aW9uT2JqIiwibWFpblRpdGxlIiwiY2xhc3MiLCJzdWJUaXRsZSIsImdldFN0cnVjdHVyZSIsImNvbnRlbnREYXRhIiwicGFyYW1zRGF0YSIsInN0cnVjdHVyZURhdGEiLCJ2aXpTZWN0aW9uSURzIiwib3B0aW9ucyIsImdldE9wdGlvbnMiLCJjb25zb2xlIiwibG9nIiwicm93RGF0YSIsImN1ckFtb3JjZSIsInNlY3Rpb25CYWNrZ3JvdW5kIiwic2VjdGlvblR5cGUiLCJwYXJzZUNsYXNzZXMiLCJnYW1laWQiLCJ0aXRsZU9iaiIsImlzSnNvbiIsIkpTT04iLCJjdXJEYXRhIiwiYXR0cmlidXRzIiwic2Nyb2xsVHlwZSIsImhhc093blByb3BlcnR5IiwiY3VyVml6U2VjdGlvbiIsInB1c2giLCJjdXJTZWN0aW9uIiwic2VjdGlvbkF0dHIiLCJtZWRpYUluZm8iLCJPYmplY3QiLCJ2YWx1ZXMiLCJzdHIiLCJlIiwiZnJvbSIsImpvaW4iLCJhdXRob3JzIiwidXJscyIsIm1hcGJveGdsIiwiR2F1Z2VzIiwiZDMiLCJzZWxlY3RBbGwiLCJub2RlcyIsIm5vZGUiLCJjdXJXaWR0aCIsImF0dHIiLCJkb2xsYXJzIiwic2VsZWN0IiwiTWF0aCIsInJvdW5kIiwiY29tbWl0dGVkIiwiSW50cm9Cb3giLCJzdGFydEdhbWUiLCJnYW1lU3RhcnQiLCJpbnRyb0VsZW0iLCJvbkNsaWNrIiwiTW9uaXRvcmluZyIsInBlcmZvcm1hbmNlIiwidGVyYXdhdHRzIiwiQ2hvaWNlIiwic2VsZWN0aW9uIiwic2V0U2VsZWN0aW9uIiwib2JqIiwibmV4dFByb21wdCIsImNvc3QiLCJ1c2UiLCJ0cmlnZ2VyTmV4dCIsImN1clByb21wdCIsInJlcGxhY2UiLCJjaGFuZ2VQcm9tcHQiLCJ1cGRhdGVEb2xsYXJzIiwicGFyc2VJbnQiLCJ1cGRhdGVQZXJmb3JtYW5jZSIsInByZXZpb3VzUHJvbXB0IiwiY3VySW5kZXgiLCJjaG9pY2VzIiwiY2hvaWNlIiwiY2hvaWNlc192YWx1ZXMiLCJldmVudCIsInRhcmdldCIsInVwZGF0ZVNlbGVjdGVkIiwic2hvd1RXaCIsImdhdWdlcyIsIk11bHRpU2VsZWN0aW9uIiwicmVzZXRTZWxlY3Rpb24iLCJjYWxjdWxhdGVUb3RhbFNlbGVjdGlvbiIsImFjYyIsImN1ciIsImFjY0Nvc3QiLCJhY2NQZXJmb3JtYW5jZSIsIm5ld0FycmF5IiwiUHJpbnRQcm9tcHQiLCJtZXNzYWdlIiwiUmVwYXJ0aXRpb24iLCJqZXRvbnMiLCJzZXRKZXRvbnMiLCJzZXRUZXJhd2F0dHMiLCJ1bml0cyIsInNldFVuaXRzIiwidG9rZW5zUGVyVW5pdCIsInNldFRva2Vuc1BlclVuaXQiLCJnZXRPcHRpb25QYXJhbXMiLCJuZXdVbml0cyIsInVuaXRWYWx1ZSIsIm5ld0pldG9ucyIsImN1clZhbCIsIm5ld01XIiwiY3VyT3B0aW9uUGFyYW1zIiwic3BsaXR0ZWRUcmlnZ2VyTmV4dCIsImV2ZXJ5IiwidmFsIiwiZGVmYXVsdE5leHQiLCJpbmRleE9mTWF4VmFsdWUiLCJpTWF4IiwieCIsImFyciIsInByb2Nlc3NDaG9pY2VzIiwic3BsaXR0ZWRDaG9pY2VzIiwibmFtZSIsInVuaXRUV2h2YWx1ZSIsIm1vZGlmeU9uQ2xpY2siLCJkaWZmIiwibmV3QWRkaXRpb24iLCJ0b3RhbCIsInZhbHVlIiwiTWFwTmF2aWdhdG9yIiwic2V0dXBPbkNsaWNrIiwidGlwIiwiZDNUaXAiLCJkaXJlY3Rpb24iLCJodG1sIiwiZCIsInN1cHBfdGV4dCIsIlByb21pc2UiLCJhbGwiLCJ0aGVuIiwiYmdNYXAiLCJpY29uT05NYXAiLCJhcHBlbmQiLCJkb2N1bWVudEVsZW1lbnQiLCJPbkljb25zU1ZHIiwiY2FsbCIsImFwcGVuZENoaWxkIiwiZ0J1dHRvbnMiLCJ0aXRsZXMiLCJzdXBwX3RleHRzIiwicmV2ZXJzZSIsImNvdW50IiwiY3VyVGlwRGF0YSIsIm9uIiwic3RvcFByb3BhZ2F0aW9uIiwic2hvdyIsInRvZ2dsZUljb24iLCJwYXJlbnRFbGVtZW50IiwiaGlkZSIsImljb25PYmoiLCJzdGF0dXMiLCJCaWxhbiIsIkVuZEdhbWUiLCJQcm9tcHRCb3giLCJuZXdWYWx1ZSIsImRpZmZWYWx1ZSIsIk51bWJlciIsImlzSW50ZWdlciIsInJlbmRlclN3aXRjaCIsInBhcmFtIiwiZW5kR2FtZSIsIk1haW5GcmFtZSIsImdhbWVTdGF0dXMiLCJzZXRTdGF0dXMiLCJnYW1lSW5kZXgiLCJzZXRHYW1lSW5kZXgiLCJzZXREb2xsYXJzIiwic2V0UGVyZm9ybWFuY2UiLCJiZ0NvbG9yIiwic2V0QkdDb2xvciIsImdldEdhbWVQcm9tcHQiLCJnYW1lRW5kIiwiZ2FtZURhdGEiLCJmaWx0ZXIiLCJmaW5kR2FtZUluZGV4IiwiSURuYW1lIiwiZmluZEluZGV4IiwiY3VyUHJvbXB0VHlwZSIsIm1hcE9iaiIsIkVuZ2luZSIsImNvbnRhaW5lciIsImludHJvT2JqIiwidGhpcyIsInJvb3RFbGVtIiwiZW5naW5lUm9vdCIsIlJlYWN0RE9NIiwiaW5pdEVuZ2luZSIsInJlbmRlciIsImluaXRpYWxpemUiLCJtYXBDb250YWluZXIiLCJzZXR1cFZpeiIsImZ1bGxTdHJ1Y3R1cmUiLCJzZWN0aW9uT2JqIiwiU2Nyb2xsZXJTdGVwIiwiZWwiLCJjYWxsYmFjayIsIl9pc0FjdGl2YXRlIiwic2Nyb2xsRGlyZWN0aW9uIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiaW5pdFNjcm9sbGVyIiwiZWxlbWVudHMiLCJzZWxlY3RvciIsImNvbmNhdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInN0aWNreUJpdHMiLCJzdGlja3lCaXRTdGlja3lPZmZzZXQiLCJMYXp5TG9hZCIsImVsZW1lbnRzX3NlbGVjdG9yIiwidGhyZXNob2xkIiwidjEiLCJjYWxsYmFja3MiLCJfb2Zmc2V0VG9wIiwiX29mZnNldEJvdHRvbSIsImlubmVySGVpZ2h0IiwiaXNJbml0aWFsaXplZCIsImxhc3RTY3JvbGwiLCJ2aXoiLCJ2aXNpYmxlU3RlcHMiLCJhcnRpY2xlUmVtaW5kZXIiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsUHJvZ3Jlc3MiLCJ2aXpTZWN0aW9ucyIsIkVycm9yIiwidml6U2VjdGlvbiIsInNlY3Rpb25zIiwiaiIsIl91cGRhdGUiLCJjdXJyZW50U2Nyb2xsIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJib3VuZGluZ1JlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJkZWFjdGl2YXRlIiwiaXNBcnRpY2xlUmVtaW5kZXJEaXNwbGF5ZWQiLCJib3R0b20iLCJpc0FydGljbGVSZW1pbmRlcklzVmlzaWJsZSIsImNvbnRhaW5zIiwic2VjdGlvbiIsImFjdGl2YXRlIiwiX3VwZGF0ZVNjcm9sbFByb2dyZXNzIiwic2Nyb2xsZWQiLCJib2R5Iiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwicHVibGljSW50ZXJmYWNlIiwib2Zmc2V0VG9wIiwidW5kZWZpbmVkIiwib2Zmc2V0Qm90dG9tIiwic2Nyb2xsZXIiLCJSZW5kZXJTdHJ1Y3R1cmUiLCJyZW5kZXJlZCIsInJlbmRlcmVkRGF0YSIsImtleXMiLCJzZWN0aW9uS2V5IiwiaW5uZXJIVE1MIiwic3RydWN0dXJlIiwicGFja2FnZXMiLCJSZWFjdCIsImdvb2dsZV9jb25maWciLCJjcmVhdGVSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==