(self.webpackChunkscrollytelling_template=self.webpackChunkscrollytelling_template||[]).push([[179],{86702:(e,t,n)=>{"use strict";var r=n(40207),a=n(67294),c=n(25935);function o(e){var t=a.createElement("section",{className:"intro-section ".concat(e.classes)},a.createElement("h5",{className:"overTitle"},e.amorce),a.createElement("h1",null,(0,c.ZP)(e.optionData.title)),a.createElement("address",null,a.createElement("div",{className:"date"})));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},t):t}function i(e){var t,n=String(e.classes).includes("citation");n&&(t={text:String(e.texts).split("/")[0],author:String(e.texts).split("/")[1]});var r,o=String(e.classes).includes("bigNumber");o&&(r={number:String(e.texts).split("/")[0],underText:String(e.texts).split("/")[1]});var i=e.visual,s=""!==i?"Photo"===e.visual?a.createElement("img",{key:"photoTextSection_".concat(e.id),id:"photoTextSection_".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses),style:{paddingBottom:"1rem"}}):"Video"===e.visual?a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"videoTextSection_".concat(e.id),id:"videoTextSection_".concat(e.id)},a.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):a.createElement("div",null):a.createElement("div",null),l=a.createElement("section",{className:"text-section ".concat(e.classes)},n?a.createElement("blockquote",{className:"small"},a.createElement("div",null,a.createElement("p",null,a.createElement("b",null,(0,c.ZP)(t.text))),a.createElement("p",{className:"author"},t.author),a.createElement("div",{className:"symbol"}))):o?a.createElement("div",{className:"container-number"},a.createElement("div",{className:"numbers"},a.createElement("h2",null,r.number),a.createElement("small",null,r.underText))):a.createElement("div",null,i?s:a.createElement("div",null),String(e.texts).startsWith("<")?(0,c.ZP)(e.texts):a.createElement("p",null,(0,c.ZP)(e.texts))));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},l):l}var s,l=n(45697),u=n.n(l),m=["title","src"];function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t,n,r=e.title,c=e.src,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,m),i=(0,a.useRef)(),s=(t=(0,a.useState)(500),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1],f=(0,a.useCallback)((function(e){var t=e.data,n=void 0===t?{}:t;e.source===i.current.contentWindow&&"string"!=typeof n&&n["datawrapper-height"]}),[u,i]);return(0,a.useEffect)((function(){return window.addEventListener("message",f),function(){return window.removeEventListener("message",f)}}),[l,u,f]),a.createElement("iframe",p({ref:i,scrolling:"no",frameBorder:"0",width:"100%"},o,{title:r,src:c,height:l}))}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}f.propTypes={title:u().string.isRequired,src:u().string.isRequired,loading:u().oneOf(["eager","lazy"])};var g="intro-titre",h="pleine-page-titre",y="texte-classique",b="viz-section",E="centré",x="Photo",w="Video",S="Visualisation",P="iframe",N=(v(s={titre:"Titre",auteurs:"Auteurs",date:"Date"},"date","Date"),v(s,"urls","LienAuteurs"),v(s,"lienfichiersource","LienFichierSource"),s);function k(e){var t,n,r,o=a.createElement("section",{id:e.listID,className:e.classed},a.createElement("div",{className:"steps ".concat((t=e.steps,n=t.map((function(e,t){return e.stepclasses})),r=new Array(n.length),n.forEach((function(e,t){if(Array.isArray(e))e.forEach((function(e){for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)}));else if("string"==typeof e)for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)})),r.reduce((function(e,t){return e===t&&""!==e&&""!==t?e:""}))))},e.steps.map((function(e,t){var n,r=String(e.stepclasses).includes("citation");return r&&(n={text:String(e.text).split("/")[0],author:String(e.text).split("/")[1]}),a.createElement("section",{key:t,className:e.stepclasses},r?a.createElement("blockquote",{className:"small"},a.createElement("div",null,a.createElement("p",null,a.createElement("b",null,(0,c.ZP)(n.text))),a.createElement("p",{className:"author"},n.author),a.createElement("div",{className:"symbol"}))):String(e.text).startsWith("<")?(0,c.ZP)(e.text):a.createElement("p",null,e.text?(0,c.ZP)(e.text):""))}))),a.createElement("div",{className:"viz",id:"viz"},e.steps.map((function(t,n){return t.visual===x?a.createElement("img",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),src:"assets/img/675/".concat(t.filename),"data-srcset":"assets/img/2048/".concat(t.filename," 2048w, assets/img/990/").concat(t.filename," 990w, assets/img/675/").concat(t.filename," 675w, assets/img/1350/").concat(t.filename," 1350w, assets/img/100/").concat(t.filename," 100w, assets/img/495/").concat(t.filename," 495w, assets/img/1024/").concat(t.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(t.visuelclasses)}):t.visual===w?a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(t.visuelclasses),preload:"metadata",key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n)},a.createElement("source",{src:"assets/videos/".concat(t.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):t.visual===P?a.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer"},a.createElement(f,{title:"Mesures d'arsenic",src:"".concat(t.filename)})):t.visual===S?a.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer ".concat(t.visuelclasses)}):void 0}))));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},o):o}function I(e){var t=a.createElement("section",{className:"full-page-section ".concat(e.classes)},a.createElement("div",{className:"titleImage"},e.filename?"Photo"===e.visual?a.createElement("img",{key:"".concat(e.id),id:"".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses)}):"Video"===e.visual?a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"".concat(e.id),id:"".concat(e.id)},a.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):a.createElement("div",null):a.createElement("div",null),e.filename?a.createElement("div",{className:"filter"}):a.createElement("div",null)),a.createElement("div",{className:"captionholder"},a.createElement("h2",{className:"caption ".concat(e.mainTitle.class)},e.mainTitle.text),e.subTitle?a.createElement("h3",{className:"caption ".concat(e.subTitle.class)},e.subTitle.text):a.createElement("div",null)));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},t):t}n(93162);var T=n(38682);function C(e,t){var n={},r=[],a=A(t);return console.log("content Data",e),e.map((function(e,t){if(e.Section===g){var c=e.StepClasses,o=e.TEXTE,i=e.StyleFond;n[e.SectionID]={key:t,sectionType:g,optionData:a,amorce:o,background:i,classes:O(c),gameid:e.GameID}}else if(e.Section===y){var s=e.TEXTE,l=e.StepClasses,u=e.StyleFond;n[e.SectionID]={key:t,sectionType:y,texts:s,visual:e.VISUEL,filename:e.NomFichierSource,background:u,classes:O(l),visuelclasses:O(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===h){var m=e.TEXTE;_(e.TEXTE)&&(m=JSON.parse(e.TEXTE)),n[e.SectionID]={key:t,sectionType:h,texts:_(e.TEXTE)?m:{mainTitle:{class:"",text:m},subTitle:null},visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,classes:O(e.StepClasses),visuelclasses:O(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===b){var p={attributs:e.Attributs,scrollType:e.Step,text:e.TEXTE,visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,visuelclasses:O(e.VisuelClasses),stepclasses:O(e.StepClasses),gameid:e.GameID};if(n.hasOwnProperty(e.SectionID)){var d=n[e.SectionID];d.push(p),n[e.SectionID]=d}else n[e.SectionID]=[p],r.push(e.SectionID)}})),r.map((function(e){var t=n[e],r=t[0].attributs===E?" full-page":"",a=t[0].background;n[e]={key:e,sectionType:b,listID:e,steps:t,classed:"viz-section".concat(r),mediaInfo:0,background:a}})),Object.values(n)}function D(e,t){var n=C(e,t),r=[];return n.map((function(e){if("viz-section"===e.sectionType){var t=[];e.steps.map((function(n,r){var a=function(){};if(""!==n.visual){var c=Array(e.steps.length).fill(null).map((function(e,t){return t})).filter((function(e){return e!==r})).map((function(t){return"#".concat(e.key,"_").concat(t)})).join(",");a=function(){T.Ys("#".concat(e.key,"_").concat(r)).transition().style("opacity",1).style("display",null),""!==c&&T.td_("".concat(c)).transition().style("opacity",0).style("display","none")}}else if(String(n.filename).startsWith("TAGID")){var o=String(n.filename).split("=")[1],i=parseInt(o.split("_")[1]),s=Array(e.steps.length).fill(null).map((function(e,t){return t})).filter((function(e){return e!==i})).map((function(t){return"#".concat(e.key,"_").concat(t)})).join(",");a=function(){T.Ys("#".concat(o)).transition().style("opacity",1).style("display",null),""!==s&&T.td_("".concat(s)).transition().style("opacity",0).style("display","none")}}t.push(a)})),r.push(t)}})),r}function _(e){try{JSON.parse(e)}catch(e){return!1}return!0}function O(e){return Array.from(e.split(";")).join(" ")}function A(e){return{title:e[0][N.titre],authors:e[0][N.auteurs],urls:e[0][N.urls],date:e[0][N.date]}}n(9208);n(83731).accessToken="pk.eyJ1IjoibGVkZXZvaXIiLCJhIjoiY2p2bW81dHU2MWV1cTRhcXIzaXZqMGYxciJ9.WrIF8o69aR_TstDFu6Qyag",n(6899);var j=n(20745);function R(e){console.log(e);var t=function(e){return Math.abs(e)>1?"".concat(e,"&nbsp;jetons"):"".concat(e,"&nbsp;jeton")};return(0,a.useEffect)((function(){T.Ys(".gauges").selectAll(".gauge").nodes().forEach((function(t){var n=50;"dollars"===T.Ys(t).attr("id")&&(n=e.dollars);var r=n>0?Math.round(e.committed/50*100):0,a=n>0?Math.round(n/50*100):0;T.Ys(t).select(".gaugeColorHolder").select(".committed").style("width","".concat(r,"%")),T.Ys(t).select(".gaugeColor").style("width","".concat(a,"%"))}))})),a.createElement("div",{className:"gauges"},a.createElement("div",{id:"dollars",className:"gauge dollarGauge"},a.createElement("div",{className:"gaugeColorHolder ".concat(e.dollars<0?"red":"")},a.createElement("div",{className:"gaugeColor ".concat(e.dollars<0?"red":"blue")}),0!=e.committed?a.createElement("div",{className:"committed ".concat(e.dollars<0?"red":"blue")}):"",e.mission?a.createElement("div",{className:"value arrowGauge"},a.createElement("div",{className:"labelHolder"},a.createElement("p",null,a.createElement("b",null,"Budget total"))),a.createElement("div",{className:"arrow"},a.createElement("div",{className:"rect"}),a.createElement("div",{className:"rect-1"}),a.createElement("div",{className:"rect-2"})),a.createElement("div",{className:"labelHolder",style:{textAlign:"right"}},a.createElement("p",{style:{paddingRight:"7px"}},a.createElement("b",null,(0,c.ZP)(t(e.dollars)))))):a.createElement("div",{className:"value basicGauge"},a.createElement("div",{className:"labelHolder"},a.createElement("p",null,a.createElement("b",null,"Budget"))),a.createElement("div",{className:"labelHolder",style:{textAlign:"right"}},a.createElement("p",{style:{paddingRight:"7px"}},a.createElement("b",null,(0,c.ZP)(t(e.dollars)))))))))}function M(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){M(c,r,a,o,i,"next",e)}function i(e){M(c,r,a,o,i,"throw",e)}o(void 0)}))}}function B(e){var t=(0,a.useCallback)(z(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("starting game"),e.gameStart();case 2:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"gameBox transparent"},a.createElement("div",{className:"introBox"},e.introElem),a.createElement("div",{className:"userBox"},a.createElement("div",{className:"startbutton",onClick:t},a.createElement("p",null,"Commencer le jeu"))))}function Y(e){return(0,a.useEffect)((function(){e.transition&&setTimeout((function(){T.Ys(".monitoring_value").transition().duration(1e3).style("opacity",1)}),200)}),[]),a.createElement("div",{className:"monitoring"},a.createElement("div",{className:"monitoring_content"},a.createElement("div",{className:"column"},a.createElement("div",{className:"monitoring_value ".concat(e.transition?"transition":"")},a.createElement(R,{mission:e.mission,dollars:e.dollars,committed:e.committed})))),e.terawatts||0===e.terawatts?a.createElement("div",{className:"monitoring_content"},a.createElement("div",{className:"column"},a.createElement("div",{className:"monitoring_header"},a.createElement("h5",null,a.createElement("b",null,"Électricité produite")," • ",e.terawatts," TWh")))):a.createElement("div",null))}function Z(e){return e.split("_").slice(1).map((function(e){return parseInt(e)}))}n(97762);var V=function(e){return 0===parseInt(e)||parseInt(e)<0?"":"+"};function H(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){H(c,r,a,o,i,"next",e)}function i(e){H(c,r,a,o,i,"throw",e)}o(void 0)}))}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e){var t,n,r=(t=(0,a.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];(0,a.useEffect)((function(){}),[]),(0,a.useEffect)((function(){var e=T.td_(".choicebutton");e.select(".butn").classed("selected",!1),o?(T.Ys(o.obj).select(".butn").classed("selected",!0),e.select(".butn").style("opacity","0.5"),T.Ys(o.obj).select(".butn").style("opacity","1")):e.select(".butn").style("opacity","1")}),[o]);var s=(0,a.useCallback)(function(){var t=L(regeneratorRuntime.mark((function t(n,r,a){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=String(e.curPrompt.Trigger_next).split(";")).length>1?e.changePrompt(String(c[a]).replace(/(\r\n|\n|\r)/gm,"")):e.changePrompt(String(c[0]).replace(/(\r\n|\n|\r)/gm,"")),"Q2"===e.curPrompt.ID&&0===a&&e.updateMemoryObj("investedModernization",!0),"Q6"===e.curPrompt.ID&&0===a&&e.updateMemoryObj("acceptedChurchillFallsDeal",!0),e.updateDollars(parseInt(n)),e.updatePerformance(r),i(null);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()),l=(0,a.useCallback)(L(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),i(null);case 2:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"choices"},a.createElement("div",{className:"row"},e.choices.map((function(t,n){var r,s=e.choices_values[n].split("_")[0],l=Z(e.choices_values[n]);return a.createElement("div",{className:"choicebutton",key:n,onClick:function(e){!function(e,t,n,r){i({obj:e.target,cost:parseInt(t),performance:n,index:r})}(e,s,l,n)}},a.createElement("div",{id:n,className:"butn"},a.createElement("div",{className:"holder icon"},a.createElement("img",{src:o&&o.index===n?"./assets/img/Off.svg":"./assets/img/On.svg"})),a.createElement("div",{className:"holder label"},a.createElement("h4",null,(0,c.ZP)(t)),e.choices_values.map((function(e,t){return parseInt(e.split("_")[0])})).filter((function(e){return!Number.isNaN(e)})).every((function(e){return 0===e}))?"":a.createElement("p",null,(0,c.ZP)((r=s,Math.abs(r)>1?"".concat(V(r)).concat(Math.abs(r),"&nbsp;JETONS"):"".concat(V(r)).concat(Math.abs(r),"&nbsp;JETON")))))))}))),a.createElement(Y,{showTWh:!1,dollars:o&&o.hasOwnProperty("cost")?parseInt(e.gauges.props.dollars)+parseInt(o.cost):e.gauges.props.dollars,committed:o&&o.hasOwnProperty("cost")&&parseInt(o.cost)<0?Math.abs(o.cost):0,performance:e.gauges.props.performance}),a.createElement("div",{className:"row"},a.createElement("div",{className:"column"},e.curIndex>0?a.createElement("div",{className:"actionbutton prev",onClick:l},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))):a.createElement("div",null)),a.createElement("div",{className:"column"},a.createElement("div",{className:"actionbutton next ".concat(o?"":"disabled"),onClick:function(){o?s(o.cost,o.performance,o.index):console.log("Disabled.")}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))))}function U(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){U(c,r,a,o,i,"next",e)}function i(e){U(c,r,a,o,i,"throw",e)}o(void 0)}))}}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e){var t=X((0,a.useState)([]),2),n=t[0],r=t[1];(0,a.useEffect)((function(){o()}),[]),(0,a.useEffect)((function(){}),[n]);var o=function(){r(e.choices.map((function(e){return null})))},i=function(e){var t=e.reduce((function(e,t){return t&&(e+=t.cost),e}),0),n=[0,0,0];return e.forEach((function(e,t){e&&(n=n.map((function(t,n){return parseInt(t)+parseInt(e.performance[n])})))})),[t,n]},s=(0,a.useCallback)(function(){var t=F(regeneratorRuntime.mark((function t(n){var r,a,c,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.curPrompt.Trigger_next,e.changePrompt(u(r)),a=i(n),c=X(a,2),s=c[0],l=c[1],e.updateDollars(parseInt(s)),e.updatePerformance(l),o();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),l=(0,a.useCallback)(F(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),o();case 2:case"end":return t.stop()}}),t)})))),u=function(e){var t,r=String(e).split("_"),a=String(r[0]).split(";"),c=n.filter((function(e){return null!==e}));return t=r.length>1&&c.length>0?c.length>1?String(r[1]):String(a[n.indexOf(c[0])]):String(r[0]),console.log("checking chosenString:",t),t.replace(/(\r\n|\n|\r)/gm,"")};return a.createElement("div",{className:"choices"},a.createElement("div",{className:"row"},e.choices.map((function(t,o){var i,s=e.choices_values[o].split("_")[0],l=Z(e.choices_values[o]);return a.createElement("div",{className:"selectionbutton",key:o,onClick:function(e){!function(e,t,a,c){var o,i=function(e){if(Array.isArray(e))return G(e)}(o=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||Q(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();n[t]?i[t]=null:i[t]={obj:e.target,cost:parseInt(a),performance:c},r(i)}(e,o,s,l)}},a.createElement("div",{id:o,className:"butn ".concat(n[o]?"selected":"")},a.createElement("div",{className:"holder icon ".concat(n[o]?"selected":"")},a.createElement("img",{src:n[o]?"assets/img/Plus-Off.svg":"assets/img/Plus-On.svg"})),a.createElement("div",{className:"holder label"},a.createElement("h4",null,(0,c.ZP)(t)),e.choices_values.map((function(e,t){return parseInt(e.split("_")[0])})).filter((function(e){return!Number.isNaN(e)})).every((function(e){return 0===e}))?"":a.createElement("p",null,(0,c.ZP)((i=s,Math.abs(i)>1?"".concat(V(i)).concat(Math.abs(i),"&nbsp;JETONS"):"".concat(V(i)).concat(Math.abs(i),"&nbsp;JETON")))))))}))),a.createElement(Y,{showTWh:!1,dollars:n&&n.length>0?parseInt(e.gauges.props.dollars)+parseInt(i(n)[0]):e.gauges.props.dollars,committed:n&&n.length>0&&parseInt(i(n)[0])<0?Math.abs(parseInt(i(n)[0])):0}),a.createElement("div",{className:"row"},a.createElement("div",{className:"column"},e.curIndex>0?a.createElement("div",{className:"actionbutton prev",onClick:l},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))):a.createElement("div",null)),a.createElement("div",{className:"column"},a.createElement("div",{className:"actionbutton next ".concat(n?"":"disabled"),onClick:function(){n?s(n):console.log("Disabled.")}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))))}function $(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){$(c,r,a,o,i,"next",e)}function i(e){$(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ee(e){var t=(0,a.useCallback)(K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),n=(0,a.useCallback)(K(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)})))),r=(0,a.useCallback)(K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.gameReset();case 1:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"printprompt"},""!==e.message?a.createElement("div",{className:"message"},a.createElement("p",null,e.message)):"","1"===e.curIndex?a.createElement(Y,{mission:!0,transition:!0,showTWh:!1,dollars:e.gauges.props.dollars,committed:0,performance:e.gauges.props.performance}):"",a.createElement("div",{className:"actionbutton prev",onClick:t},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))),"STARTOVER"===e.curPrompt.Trigger_next?a.createElement("div",{className:"actionbutton next",onClick:r},a.createElement("div",{className:"butn"},a.createElement("p",null,"Recommencer"))):a.createElement("div",{className:"actionbutton next",onClick:n},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}function te(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ne(c,r,a,o,i,"next",e)}function i(e){ne(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e){var t=ae((0,a.useState)(0),2),n=t[0],r=t[1],o=ae((0,a.useState)(0),2),i=o[0],s=o[1],l=ae((0,a.useState)([0,0]),2),u=l[0],m=l[1],p=ae((0,a.useState)([]),2),d=p[0],f=p[1],v=ae((0,a.useState)([]),2),g=v[0],h=v[1],y="Q1"===e.curPrompt.ID?25:50;(0,a.useEffect)((function(){var e=S(),t=e.map((function(){return 0})),n=e.map((function(e){return Math.abs(e.unitValue)}));f(t),h(n)}),[]),(0,a.useEffect)((function(){var e=d.reduce((function(e,t,n){return S()[n],e+Math.abs(t)}),0),t=d.reduce((function(e,t,n){var r=S()[n];return e+Math.round(Math.abs(t/r.unitValue)*r.unitTWhvalue)}),0),n=[0,0];d.forEach((function(e,t){var r=S()[t];n=n.map((function(t,n){return 0===n?t+Math.abs(e/r.unitValue)*r.unitEnvirovalue:1===n?t+Math.abs(e/r.unitValue)*r.unitPopuvalue:void 0}))})),r(e),s(t),m(n)}),[d]);var b=(0,a.useCallback)(re(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),E=(0,a.useCallback)(re(regeneratorRuntime.mark((function t(){var r,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=String(e.curPrompt.Trigger_next).split("_"),a=String(r[0]).split(";"),"Q1"===e.curPrompt.ID&&d[0]>0?e.updateMemoryObj("builtDam",!0):d[0]>0&&e.updateMemoryObj("builtSecondDam",!0),d[2]>0?e.changePrompt(String(a[2]).replace(/(\r\n|\n|\r)/gm,"")):1==a.length?e.changePrompt(String(a).replace(/(\r\n|\n|\r)/gm,"")):a.length>1&&(console.log("checking non unique:",x(d)),x(d)?e.changePrompt(k(a,r[1])):(c=d.reduce((function(e,t,n,r){return t>r[e]?n:e}),0),e.changePrompt(String(a[c]).replace(/(\r\n|\n|\r)/gm,"")))),e.updateDollars(-n),e.updatePerformance([i].concat(u));case 6:case"end":return t.stop()}}),t)})))),x=function(e){return new Set(e).size!==e.length},w=function(e,t){var n=t.split("_");return{name:e,unitValue:parseInt(n[0]),unitTWhvalue:parseInt(n[1]),unitEnvirovalue:parseInt(n[2]),unitPopuvalue:parseInt(n[3])}},S=function(){return e.choices.map((function(t,n){return w(t,e.choices_values[n])}))},P=function(e){var t=S()[e],r=[!1,!1];return 0===Math.abs(d[e])&&(r[0]=!0),n+parseInt(Math.abs(t.unitValue))>y&&(r[1]=!0),r},N=function(e,t,n,r){var a,c,o=te(d);o[t]+n*g[t]>=0&&(n>0?(a=n*g[t],c=0,d.forEach((function(e,t){c+=e})),c+a>y||(o[t]=o[t]+n*g[t])):o[t]=o[t]+n*g[t],f(o))},k=function(e,t){var n,r=Math.max.apply(Math,te(d)),a=[];return d.forEach((function(e,t){return e===r?a.push(t):null})),a.length>1?a.includes(0)?(console.log("equal max units contains barrages"),n=String(e[0])):a.includes(1)?(console.log("equal max units contains eoliens"),n=String(e[1])):(console.log("equality between non important choices"),n=String(t)):n=String(e[a[0]]),n.replace(/(\r\n|\n|\r)/gm,"")};return a.createElement("div",{className:"repartition"},a.createElement("div",{className:"optionZone"},e.choices.map((function(t,n){return w(t,e.choices_values[n])})).map((function(e,t){return a.createElement("div",{className:"optionUnit",key:t},a.createElement("div",{className:"selectorZone"},a.createElement("div",{className:"division minusZone ".concat(P(t)[0]?"disabled":""),onClick:function(e){return N(0,t,-1)}},a.createElement("h3",null,"-")),a.createElement("div",{className:"division centralZone"},void 0===d[t]||0===d[t]?a.createElement("img",{src:"assets/img/".concat((r=t,["Hydro.svg","Eolien.svg","Nucleaire.svg","Solaire.svg","Modernisation.svg"][r]))}):a.createElement("h3",null,d[t])),a.createElement("div",{className:"division plusZone ".concat(P(t)[1]?"disabled":""),onClick:function(e){return N(0,t,1)}},a.createElement("h3",null,"+"))),a.createElement("div",{className:"textZone"},a.createElement("h3",null,e.name),a.createElement("div",{className:"inlinetext"},a.createElement("p",null,(0,c.ZP)((n=e.unitValue,Math.abs(n)>1?"".concat(Math.abs(n),"&nbsp;jetons"):"".concat(Math.abs(n),"&nbsp;jeton")))," • ",e.unitTWhvalue," TWh"))));var n,r}))),a.createElement(Y,{showTWh:!0,dollars:e.gauges.props.dollars-n,committed:n,terawatts:i}),e.curIndex>0?a.createElement("div",{className:"actionbutton prev",onClick:b},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))):a.createElement("div",null),a.createElement("div",{className:"actionbutton next ".concat(n>0?"":"disabled"),onClick:E},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}var se=n(83290);function le(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){le(c,r,a,o,i,"next",e)}function i(e){le(c,r,a,o,i,"throw",e)}o(void 0)}))}}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e){var t=me((0,a.useState)(null),2),n=t[0],r=t[1];(0,a.useEffect)((function(){o()}),[]),(0,a.useEffect)((function(){n?T.Ys(".popUp-bg").style("display","unset"):T.Ys(".popUp-bg").style("display","none")}),[n]);var c=(0,se.Z)().attr("class","d3-tip adjusted").direction("n").html((function(e){return console.log("got d: ",e),"\n                  <h4>".concat(e.title,"</h4>\n                  <p>").concat(e.supp_text,"</p>\n                  ")})),o=function(){Promise.all([T.LsS(e.map[0]),T.LsS(e.map[1])]).then((function(t){var n=me(t,2),r=n[0],a=n[1];T.Ys("#bg-map").node().append(r.documentElement),T.Ys("#on-icons").node().append(a.documentElement);var o=T.Ys("#on-icons").select("svg");o.call(c),T.Ys(".gameScreen").node().appendChild(T.Ys(".d3-tip").node());var s=o.select("#Icone-On").selectAll("g"),l=String(e.curPrompt.Choix_insecables).split(":"),u=String(e.message).split(";");s.nodes().reverse().map((function(e,t){var n={title:l[t],supp_text:u[t]};T.Ys(e).on("click",(function(t,r,a){t.stopPropagation(),c.show(n,e),i(t.target.parentElement,!1),c.style("pointer-events","stroke")})).on("mouseover",(function(t,r,a){console.log("checking d: ",t.target.parentElement),t.stopPropagation(),c.show(n,e),i(t.target.parentElement,!1)})).on("mouseout",(function(e,t,n){i(e.target.parentElement,!0)}))})),T.Ys(".gameBox").on("click",(function(){c.hide()}))}))},i=function(e,t){!1===t?T.Ys(e).style("opacity",0):T.Ys(e).style("opacity",1)},s=(0,a.useCallback)(ue(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),l=(0,a.useCallback)(ue(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),T.Ys(".gameScreen").select(".d3-tip").remove(),e.changePrompt(n);case 4:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"printprompt mapnavigator"},a.createElement("div",{className:"popUp-bg"},n?a.createElement("div",{className:"popUp-box"},a.createElement("h4",null,parse(n.title)),a.createElement("p",null,parse(n.supp_text)),a.createElement("div",{className:"actionbutton",onClick:function(){return r(null)}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Fermer")))):a.createElement("div",null)),a.createElement("div",{className:"mapHolder"},a.createElement("div",{className:"superposedMap"},a.createElement("div",{id:"bg-map",className:"map noClick"}),a.createElement("div",{id:"on-icons",className:"map"}))),a.createElement("div",{className:"actionbutton prev",onClick:s},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))),a.createElement("div",{className:"actionbutton next",onClick:l},a.createElement("div",{className:"butn"},a.createElement("p",null,"Suivant"))))}function fe(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){fe(c,r,a,o,i,"next",e)}function i(e){fe(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ge(e){(0,a.useEffect)((function(){console.log("got bilan : ",e.curPrompt)}),[]);var t=(0,a.useCallback)(ve(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"bilanContent"},a.createElement("div",{className:"updatableText"},"B1"===e.curPrompt.ID?function(){var t=e.curPrompt.Texte.split(";"),n=e.curPrompt.Texte_Supp.split(";"),r=[],a=e.memoryObj.builtDam?9:0,c=parseInt(e.performance[0])-a,o=parseInt(e.gauges.props.dollars),i=t[0].replace("*newProd*",c+"&nbsp;TWh").replace("*augmentediminue*",c<0?"diminué":"augmenté").replace("*suffisanteinsuffisante*",c<10?"insuffisante":"suffisante");if(r.push(i),e.memoryObj.builtDam){var s=n[0].split(":")[1].replace("*damTWh*",9);r.push(s)}if(o<15){var l=n[1].split(":")[1];r.push(l)}if(parseInt(e.performance[1])<0){var u=n[2].split(":")[1];r.push(u)}if(parseInt(e.performance[2])<0){var m=n[3].split(":")[1];r.push(m)}return r}().map((function(e,t){return a.createElement("p",{key:t},(0,c.ZP)(e))})):function(){console.log("got final bilan data",e.finalBilanData),console.log("accepted churchill falls deal?",e.memoryObj.acceptedChurchillFallsDeal);var t,n,r,a=[],c=(e.curPrompt.Texte.split(";"),e.finalBilanData),o=e.memoryObj.builtSecondDam?9:0,i=parseInt(e.performance[0])-o,s=parseInt(e.gauges.props.dollars),l=parseInt(e.performance[1]),u=parseInt(e.performance[2]);return t=(t=i>=25&&l>0&&e.memoryObj.acceptedChurchillFallsDeal?c[0].print:i>=25&&l>0&&!e.memoryObj.acceptedChurchillFallsDeal?c[1].print:i<25&&l>0?c[2].print:i>=25&&l<=0&&e.memoryObj.acceptedChurchillFallsDeal?c[3].print:i>=25&&l<=0&&!e.memoryObj.acceptedChurchillFallsDeal?c[4].print:c[5].print).replace("*augmentediminue*",i<0?"diminué":"augmenté").replace("*newProd*",i+"&nbsp;TWh"),a.push(t),n=s>=5?c[7].print:c[8].print,a.push(n),r=u>=4?c[10].print:u>=-2&&u<4?c[11].print:c[12].print,a.push(r),a}().map((function(e,t){return a.createElement("p",{key:t},(0,c.ZP)(e))}))),a.createElement("div",{className:"actionbutton next",onClick:t},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}function he(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){he(c,r,a,o,i,"next",e)}function i(e){he(c,r,a,o,i,"throw",e)}o(void 0)}))}}function be(e){var t=(0,a.useCallback)(ye(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("RESETING GAME"),e.gameReset();case 2:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"promptBox"},a.createElement("div",{className:"header"},a.createElement("div",{className:"surtitre"},a.createElement("h4",null,"Fin du jeu")),a.createElement("div",{className:"question"},a.createElement("p",null,a.createElement("b",null,"Le C.A. d'Hydro-Québec vote à l'unanimité pour vous vous démettre de vos fonctions."),a.createElement("br",null),"".concat(e.raison),a.createElement("br",null),"Tentez votre chance de nouveau."))),a.createElement("div",{className:"actionSection"},a.createElement("div",{className:"actionbutton next",onClick:t},a.createElement("div",{className:"butn"},a.createElement("p",null,"Recommencer")))))}function Ee(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){Ee(c,r,a,o,i,"next",e)}function i(e){Ee(c,r,a,o,i,"throw",e)}o(void 0)}))}}function we(e){var t=(0,a.useCallback)(xe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),n=(0,a.useCallback)(function(){var t=xe(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",a),e.changePrompt(a),e.updateDollars(parseInt(n)),e.updatePerformance(r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),r=function(e){var t=String(e).split("_");return{cost:t[0],performance:t.splice(1)}};return a.createElement("div",{className:"printprompt"},a.createElement("div",{className:"message"},a.createElement("p",null,(0,c.ZP)(e.choices[e.whichEventHappens]))),a.createElement("div",{className:"actionbutton prev",onClick:t},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))),a.createElement("div",{className:"actionbutton next",onClick:function(){return n(r(e.choices_values[e.whichEventHappens]).cost,r(e.choices_values[e.whichEventHappens]).performance)}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ke(c,r,a,o,i,"next",e)}function i(e){ke(c,r,a,o,i,"throw",e)}o(void 0)}))}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e){var t,n,r=(t=(0,a.useState)({investedModernization:!1,builtDam:!1,builtSecondDam:!1,acceptedChurchillFallsDeal:!1,builtNuclear:!1}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];(0,a.useEffect)((function(){}),[]);var s,l=(0,a.useCallback)(Ie(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({investedModernization:!1,builtDam:!1,builtSecondDam:!1,acceptedChurchillFallsDeal:!1,builtNuclear:!1}),e.gameReset();case 2:case"end":return t.stop()}}),t)})))),u=(0,a.useCallback)(function(){var t=Ie(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Changing prompt for : ",n),e.changePrompt(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),m=(0,a.useCallback)(function(){var t=Ie(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Number.isInteger(n)&&e.updateDollars(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),p=(0,a.useCallback)(function(){var t=Ie(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updatePerformance(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),d=(0,a.useCallback)(function(){var e=Ie(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=Pe({},o))[t]=n,i(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=function(t){switch(t){case"Repartition":return a.createElement(ie,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix_insecables).split(":"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p,updateMemoryObj:d,gauges:e.gauges});case"Carte":return a.createElement(de,{curPrompt:e.curPrompt,message:String(e.curPrompt.Texte_Supp),changePrompt:u,curIndex:e.curIndex,map:"Q1-1"===e.curIndex?["assets/img/Carte-Hydro.svg","assets/img/Carte-Hydro-icone-on.svg"]:["assets/img/Carte-Eolien.svg","assets/img/Carte-Eolien-icone-on.svg"]});case"texteBoutonSimple":return a.createElement(ee,{curPrompt:e.curPrompt,message:String(e.curPrompt.Texte_Supp),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:u,curIndex:e.curIndex,gauges:e.gauges,gameReset:l});case"ChoixReponse":return a.createElement(q,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix_insecables).split(":"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p,updateMemoryObj:d,gauges:e.gauges});case"Catastrophe":return a.createElement(we,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix_insecables).split(":"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),whichEventHappens:o.investedModernization?1:0,changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p});case"MultiSelection":return a.createElement(J,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix_insecables).split(":"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p,gauges:e.gauges});case"Bilan":return a.createElement(ge,{curPrompt:e.curPrompt,curIndex:e.curIndex,changePrompt:u,updateDollars:m,updatePerformance:p,performance:e.performance,memoryObj:o,gauges:e.gauges,finalBilanData:e.finalBilanData});default:return a.createElement(q,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix_insecables).split(":"),changePrompt:u,curIndex:e.curIndex})}};return!0===e.endGame?a.createElement("div",{className:"gameBox"},a.createElement(be,{raison:(s=[],console.log("checking reason processing:",e.gauges.props.dollars,e.performance),e.gauges.props.dollars<0&&s.push("Vous avez vidé les coffres d'Hydro-Québec. "),e.performance[1]<-9&&s.push("Votre bilan environnemental est excécrable. "),e.performance[2]<-9&&s.push("La fureur populaire a eu raison de votre poste. "),s),gameReset:l})):a.createElement("div",{className:"gameBox"},"Bilan"===e.curPrompt.Type?a.createElement("div",{className:"promptBox bilan"},a.createElement("div",{className:"header"},a.createElement("div",{className:"massiveTitle"},a.createElement("h2",null,(0,c.ZP)(e.curPrompt.Sujet)))),a.createElement("div",{className:"separator"}),f(e.curPrompt.Type)):a.createElement("div",{className:"promptBox"},a.createElement("div",{className:"header"},a.createElement("div",{className:"surtitre"},a.createElement("h4",null,(0,c.ZP)(e.curPrompt.Sujet))),a.createElement("div",{className:"question"},a.createElement("p",null,(0,c.ZP)(e.curPrompt.Texte)))),f(e.curPrompt.Type)))}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e){var t=De((0,a.useState)("IDLE"),2),n=t[0],r=t[1],c=De((0,a.useState)(0),2),o=c[0],i=c[1],s=De((0,a.useState)(50),2),l=s[0],u=s[1],m=De((0,a.useState)([0,0,0]),2),p=m[0],d=m[1],f=De((0,a.useState)("normal"),2),v=f[0],g=f[1];(0,a.useEffect)((function(){console.log("game ",n)}),[n]),(0,a.useEffect)((function(){y(o),"END"===o&&h()}),[o]);var h=function(){r("END")},y=function(t){console.log("current game prompt:",e.gameData.filter((function(e){return String(e.ID)===String(t)})))},b=function(t){return e.gameData.findIndex((function(e){return String(t)===String(e.ID)}))};(0,a.useEffect)((function(){var t=e.gameData[b(o)];t&&t.hasOwnProperty("Background")&&("redpink"===t.Background?g("redpink"):"normal"!==v&&g("normal"))}));var E=function(){var t="END"===n||"END"===o||"redpink"===v?"gameOver":"";console.log("Checking game info: ",n,o,v);var r=e.gameData[b(o)];return{gameScreenClass:t,backgroundImage:r?"pylone"===r.Background?"Illus_Section-01_Pylone_V01-14.svg":"ampoule"===r.Background?"Illus_Section-02_Ampoule_V02.svg":"centrale"===r.Background?"Illus_Section-00_Centrale_V01.svg":null:null}};return"IDLE"===n?a.createElement("div",{className:"gameScreen"},a.createElement("div",{className:"background-image"},a.createElement("img",{src:"assets/img/Illus_Section-00_Centrale_V01.svg"})),a.createElement(B,{introElem:e.introElem,mapObj:e.mapObj,gameStart:function(){r("STARTED"),i(0)}})):a.createElement("div",{className:"gameScreen ".concat(E().gameScreenClass)},"gameOver"!==E().gameScreenClass&&null!==E().backgroundImage?a.createElement("div",{className:"background-image"},a.createElement("img",{src:"assets/img/".concat(E().backgroundImage),className:"no-mobile"})):"",a.createElement("div",{className:"temporaryInfo"},a.createElement("p",null,"Performance (temporaire)"),a.createElement("p",null,"Dollars: ","".concat(l," $")),a.createElement("p",null,"Elec: ","".concat(p[0]," TWh")),a.createElement("p",null,"Enviro: ","".concat(p[1]," pts")),a.createElement("p",null,"Popu: ","".concat(p[2]," pts"))),a.createElement(Ce,{curIndex:o,curPrompt:"END"===o?"":e.gameData[b(o)],changePrompt:i,updateDollars:function(e){u((function(t){return t+e})),l+e<0&&h()},updatePerformance:function(e){var t=Array.apply(null,Array(e.length)).map((function(){}));p.forEach((function(n,r){t[r]=parseInt(n)+parseInt(e[r])})),console.log("Setting performance to : ",t),d(t),(t[1]<=-9||t[2]<=-9)&&h()},gauges:a.createElement(R,{dollars:l}),performance:p,endGame:"END"===o||"END"===n,finalBilanData:e.finalBilanData,gameReset:function(){u(50),d([0,0,0]),r("IDLE"),i(0)}}))}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t;var c=this.container.append("div").classed("rootElem",!0);this.engineRoot=j.createRoot(c.node()),this.optionData=n,this.amorce=r.TEXTE,this.gameData=a,console.log("game Data is : ",this.gameData),this.initEngine()}var t,n;return t=e,(n=[{key:"initEngine",value:function(){var e=a.createElement(o,{key:"gameIntro",sectionType:g,optionData:this.optionData,amorce:this.amorce,background:null,classes:""});this.engineRoot.render(a.createElement(Oe,{introElem:e,gameStatus:this.gameStatus,gameData:this.gameData[0],finalBilanData:this.gameData[1]}))}}])&&Ae(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Re(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){Re(c,r,a,o,i,"next",e)}function i(e){Re(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ze(e,t){return Be.apply(this,arguments)}function Be(){return(Be=Me(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([T.gyn("https://docs.google.com/spreadsheets/d/e/2PACX-1vQQZ3sz0q1vnZmoYYR5IrCfuONhHcNw50iDtbg1H2mIX8lHDL1BQ4sAMi7iApSE1G9WQTW2jHcWv4KW/pub?gid=1497861017&single=true&output=csv"),T.gyn("https://docs.google.com/spreadsheets/d/e/2PACX-1vQQZ3sz0q1vnZmoYYR5IrCfuONhHcNw50iDtbg1H2mIX8lHDL1BQ4sAMi7iApSE1G9WQTW2jHcWv4KW/pub?gid=2005637736&single=true&output=csv")]).then((function(e){var r=T.Ys(".game-area");return new je(r,A(n),t[0],e),Ye(t,n),D(t,n),[[function(){}]]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e,t){var n=C(e,t);console.log("checking structure:",n),n.map((function(e){"viz-section"===e.sectionType&&e.steps.map((function(t,n){""!==t.visual&&(0===n?T.Ys("#".concat(e.key,"_").concat(n)).style("opacity",1):T.Ys("#".concat(e.key,"_").concat(n)).style("opacity",0))}))}))}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var He=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.index=n,this.callback=r,this._isActivate=!1}var t,n;return t=e,(n=[{key:"activate",value:function(e){this._isActivate||(this._isActivate=!0,this.el.classList.add("active"),this.callback(e))}},{key:"deactivate",value:function(){this._isActivate&&(this._isActivate=!1,this.el.classList.remove("active"))}}])&&Ve(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Le=n(52732),We=n.n(Le),qe=n(89438);function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){var n=[];[".viz",".full-page-section > img",".full-page-section > video"].forEach((function(e){n=n.concat(Array.from(document.querySelectorAll(e)))})),(0,qe.Z)(n,{stickyBitStickyOffset:40}),new(We())({elements_selector:".lazy",threshold:500}),Promise.all([ze(e,t)]).then((function(e){var t,n;(function(e){var t=0,n=0,r=window.innerHeight,a=!1,c=0,o=[],i=[],s=[],l=document.querySelector(".article-reminder"),u=document.querySelector("header > .progress"),m=document.querySelector(".intro-section h1"),p=document.querySelectorAll(".viz-section");if(p.length!==e.length)throw new Error("The number of viz sections (".concat(p.length,") mismatch with the length of the first ")+"dimension of the callbacks array (".concat(e.length,"). Please, be sure that the two elements ")+"have the same size.");p.forEach((function(t,n){var r,a=function(e){if(Array.isArray(e))return Ze(e)}(r=t.querySelectorAll("section"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();if(a.length!==e[n].length)throw new Error("The number of steps (".concat(a.length,") in the viz section #").concat(n+1," mismatch with the ")+"number of callbacks specified (".concat(e[n].length,') at the index "').concat(n,'". Please, be sure that the two ')+"elements have the same size.");o=o.concat(a.map((function(t,r){return new He(t,"".concat(n,"-").concat(r),e[n][r])}))),i=i.concat(i,t.querySelector(".viz > *"))}));var d=function(){var e=window.pageYOffset||document.documentElement.scrollTop;o.forEach((function(e){var a=e.el.getBoundingClientRect();r-a.top-n>0&&a.top+a.height-t>0?s.push(e):e.deactivate()}));var a=m.getBoundingClientRect().bottom<=0,i=l.classList.contains("visible");a&&!i?l.classList.add("visible"):!a&&i&&l.classList.remove("visible"),s.forEach((function(t,n){e>=c?n===s.length-1?t.activate("down"):t.deactivate():0===n?t.activate("up"):t.deactivate()})),f(),s=[],c=e},f=function(){var e=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;u.style.width=e+"%"},v={initialize:function(){if(a)throw new Error("The scroller is already initialized.");return a=!0,window.addEventListener("scroll",d),window.addEventListener("resize",(function(){r=window.innerHeight,f()})),(window.pageYOffset||document.documentElement.scrollTop)>0&&d(),f(),v},offsetTop:function(e){if(void 0===e)return t;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return t=e,v},offsetBottom:function(e){if(void 0===e)return n;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return n=e,v}};return v})((t=e,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]).offsetTop(40).offsetBottom(0).initialize()}))}function Xe(e){return e.rendered&&(0,a.useEffect)((function(){Fe(e.contentData,e.paramsData)}),[]),t=C(e.contentData,e.paramsData),n={},Object.keys(t).map((function(e,r){var s=t[e];s.sectionType===g?n[e]=a.createElement(o,{key:s.key,sectionType:s.sectionType,optionData:s.optionData,amorce:(0,c.ZP)(s.amorce),background:s.background,classes:s.classes}):s.sectionType===y?n[e]=a.createElement(i,{key:s.key,id:s.key,sectionType:s.sectionType,texts:s.texts,background:s.background,classes:s.classes,visuelclasses:s.visuelclasses,visual:s.visual,filename:s.filename}):s.sectionType===h?n[e]=a.createElement(I,{key:s.key,id:s.key,sectionType:s.sectionType,background:s.background,classes:s.classes,visuelclasses:s.visuelclasses,visual:s.visual,mainTitle:s.texts.mainTitle,subTitle:s.texts.subTitle,filename:s.filename}):s.sectionType===b&&(n[e]=a.createElement(k,{key:s.key,listID:s.listID,steps:s.steps,classed:s.classed,mediaInfo:s.mediaInfo,background:s.background}))})),Object.values(n);var t,n}Promise.all([Promise.resolve().then(n.t.bind(n,20745,19)),Promise.resolve().then(n.t.bind(n,97762,19)),Promise.resolve().then(n.t.bind(n,67294,19))]).then((function(e){var t=e[0],n=(e[1],e[2]);T.Ys(".pull-right").insert("li","li").html("<p class='not-published'>Ne pas publier</p>"),T.gyn(r.google_config.contentURL).then((function(e){T.gyn(r.google_config.paramsURL).then((function(r){t.createRoot(document.getElementById("root")).render(n.createElement(Xe,{contentData:e,paramsData:r,rendered:!0})),document.querySelector("#footerContainer").innerHTML=T.Ys("#footerContent").node().innerHTML}))}))}))},40207:e=>{e.exports={google_config:{contentURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=0&single=true&output=csv",paramsURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=409950237&single=true&output=csv",localContentURL:"./data/structure/contentData.csv",localParamsURL:"./data/structure/paramsData.csv"}}}},e=>{var t=t=>e(e.s=t);e.O(0,[216],(()=>(t(28594),t(35666),t(86702)))),e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixFQUFXWixjQUFnQjVDLElBQy9CNlgsRUFBYUUsR0FBZSxnQkFBQzFYLEVBQUQsQ0FBWXpDLElBQUs0RixFQUFXNUYsSUFBSzhDLE9BQVE4QyxFQUFXOUMsT0FBUUosTUFBT2tELEVBQVdsRCxNQUFPSyxRQUFTNkMsRUFBVzdDLFFBQVMrQyxVQUFXRixFQUFXRSxVQUFXakgsV0FBWStHLEVBQVcvRyxpQkFHdk1rSCxPQUFPQyxPQUFPaVUsR0FwQmxCLElBQW9CMVYsRUFFbkIwVixFQ1ZOcEssUUFBUUMsSUFBSSxDQUFDLDZDQUE0Qiw2Q0FBNEIsK0NBQ2xFQyxNQUFLLFNBQUFxSyxHQUNKLElBQU1wRSxFQUFXb0UsRUFBUyxHQUVwQkMsR0FEaUJELEVBQVMsR0FDbEJBLEVBQVMsSUFvRWZ0VCxFQUFBQSxHQUFVLGVBQWV3VCxPQUFPLEtBQUssTUFDN0MzSyxLQUFKLCtDQWxFTTdJLEVBQUFBLElBQU95VCxFQUFjLGNBQWRBLFlBQTBCeEssTUFBTSxTQUFBMUwsR0FDckN5QyxFQUFBQSxJQUFPeVQsRUFBYyxjQUFkQSxXQUF5QnhLLE1BQU0sU0FBQXpMLEdBQ3ZCMFIsRUFBU3dFLFdBQVd4RCxTQUFTeUQsZUFBZSxTQUNwRHZFLE9BQ0gsZ0JBQUM2RCxHQUFELENBQWlCMVYsWUFBYUEsRUFBYUMsV0FBWUEsRUFBWTBWLFVBQVUsS0FtRXpGaEQsU0FBU2lCLGNBQWMsb0JBQW9CeUMsVUFBWTVULEVBQUFBLEdBQUEsa0JBQTRCa0IsT0FBTzBTLG9CLFVDN0Y1RkMsRUFBT0MsUUFBVSxDQUFDTCxjQVBJLENBQ2xCLFdBQWMsbUtBQ2QsVUFBYSwyS0FDYixnQkFBbUIsbUNBQ25CLGVBQWtCLHNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2NvbXBvbmVudHMvSW50cm9TZWN0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9jb21wb25lbnRzL1RleHRTZWN0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9jb21wb25lbnRzL0RXQ2hhcnQuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dlbmVyYXRvci9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2NvbXBvbmVudHMvVml6U2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvY29tcG9uZW50cy9GdWxsUGFnZVNlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dlbmVyYXRvci9zdHJ1Y3R1cmVHZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi4vbGVkZXZvaXItZGF0YXZpei9zcmMvbWFwcy9pbnRlcmFjdGl2ZS1tYXAuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi4vbGVkZXZvaXItZGF0YXZpei9zcmMvZ3JhcGhzL3N0YWNrZWRBcmVhQ2hhcnQuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9nYXVnZXMvR2F1Z2VzLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvaW50cm9Cb3guanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9nYXVnZXMvTW9uaXRvcmluZy5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL0Nob2ljZS5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvTXVsdGlTZWxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL1ByaW50UHJvbXB0LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9SZXBhcnRpdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvTWFwTmF2aWdhdG9yLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9CaWxhbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvRW5kR2FtZS5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvQ2F0YXN0cm9waGUuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9Qcm9tcHRCb3guanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9tYWluZnJhbWUuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvZW5naW5lLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC92aXouanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL3Njcm9sbGVyLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3IvaW5pdFNjcm9sbGVyLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3IvUmVuZGVyU3RydWN0dXJlLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9hcHAuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvZGF0YS9nb29nbGVfY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEludHJvU2VjdGlvbihwcm9wcyl7XG5cblxuICAgIGxldCBpbnRyb1NlY3Rpb25PYmogPSAoXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17YGludHJvLXNlY3Rpb24gJHtwcm9wcy5jbGFzc2VzfWB9PlxuICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIm92ZXJUaXRsZVwiPlxuICAgICAgICAgICAgICB7cHJvcHMuYW1vcmNlfVxuICAgICAgICAgICAgPC9oNT5cbiAgICAgICAgICAgIDxoMT57cGFyc2UocHJvcHMub3B0aW9uRGF0YS50aXRsZSl9PC9oMT5cbiAgICAgICAgICAgIDxhZGRyZXNzPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGF0ZVwiPjwvZGl2PlxuICAgICAgICAgICAgPC9hZGRyZXNzPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgKTtcbiAgICBsZXQgY29udGFpbmVkT2JqID0gcHJvcHMuYmFja2dyb3VuZCA/XG4gICAgICAgIChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6IGAke3Byb3BzLmJhY2tncm91bmR9YH19IGNsYXNzTmFtZT17XCJzZWN0aW9uQ29udGFpbmVyXCJ9PlxuICAgICAgICAgICAgICAgIHtpbnRyb1NlY3Rpb25PYmp9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgICA6XG4gICAgICAgIChcbiAgICAgICAgICAgIGludHJvU2VjdGlvbk9ialxuICAgICAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgICBjb250YWluZWRPYmpcbiAgICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBUZXh0U2VjdGlvbihwcm9wcyl7XHJcblxyXG4gICAgbGV0IGlzUXVvdGUgPSBTdHJpbmcocHJvcHMuY2xhc3NlcykuaW5jbHVkZXMoJ2NpdGF0aW9uJyk7XHJcbiAgICBsZXQgcXVvdGVPYmo7XHJcbiAgICBpZihpc1F1b3RlKXtcclxuICAgICAgICBxdW90ZU9iaiA9IHtcclxuICAgICAgICAgICAgdGV4dDpTdHJpbmcocHJvcHMudGV4dHMpLnNwbGl0KCcvJylbMF0sXHJcbiAgICAgICAgICAgIGF1dGhvcjpTdHJpbmcocHJvcHMudGV4dHMpLnNwbGl0KCcvJylbMV1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBpc0JpZ051bWJlciA9IFN0cmluZyhwcm9wcy5jbGFzc2VzKS5pbmNsdWRlcygnYmlnTnVtYmVyJyk7XHJcbiAgICBsZXQgYmlnTnVtYmVyT2JqO1xyXG4gICAgaWYoaXNCaWdOdW1iZXIpe1xyXG4gICAgICAgIGJpZ051bWJlck9iaiA9IHtcclxuICAgICAgICAgICAgbnVtYmVyOlN0cmluZyhwcm9wcy50ZXh0cykuc3BsaXQoJy8nKVswXSxcclxuICAgICAgICAgICAgdW5kZXJUZXh0OlN0cmluZyhwcm9wcy50ZXh0cykuc3BsaXQoJy8nKVsxXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlzVmlzdWFsID0gcHJvcHMudmlzdWFsO1xyXG4gICAgbGV0IHZpc3VhbE9iaiA9IChcclxuICAgICAgICAoaXNWaXN1YWwgIT09IFwiXCIpID8gXHJcbiAgICAgICAgICAgIHByb3BzLnZpc3VhbCA9PT0gXCJQaG90b1wiID8gXHJcbiAgICAgICAgICAgICAgICA8aW1nIFxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17YHBob3RvVGV4dFNlY3Rpb25fJHtwcm9wcy5pZH1gfVxyXG4gICAgICAgICAgICAgICAgICAgIGlkPXtgcGhvdG9UZXh0U2VjdGlvbl8ke3Byb3BzLmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtgYXNzZXRzL2ltZy82NzUvJHtwcm9wcy5maWxlbmFtZX1gfVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtc3Jjc2V0PXtgYXNzZXRzL2ltZy8yMDQ4LyR7cHJvcHMuZmlsZW5hbWV9IDIwNDh3LCBhc3NldHMvaW1nLzk5MC8ke3Byb3BzLmZpbGVuYW1lfSA5OTB3LCBhc3NldHMvaW1nLzY3NS8ke3Byb3BzLmZpbGVuYW1lfSA2NzV3LCBhc3NldHMvaW1nLzEzNTAvJHtwcm9wcy5maWxlbmFtZX0gMTM1MHcsIGFzc2V0cy9pbWcvMTAwLyR7cHJvcHMuZmlsZW5hbWV9IDEwMHcsIGFzc2V0cy9pbWcvNDk1LyR7cHJvcHMuZmlsZW5hbWV9IDQ5NXcsIGFzc2V0cy9pbWcvMTAyNC8ke3Byb3BzLmZpbGVuYW1lfSAxMDI0d2B9XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1zaXplcz1cIihtYXgtd2lkdGg6IDEwMHB4KSAxMDBweCwgKG1heC13aWR0aDogNDk1cHgpIDQ5NXB4LCAobWF4LXdpZHRoOiA2NzVweCkgNjc1cHgsIChtYXgtd2lkdGg6IDk5MHB4KSA5OTBweCwgKG1heC13aWR0aDogIDEwMjRweCkgMTAyNHB4LCAobWF4LXdpZHRoOiAgMTM1MHB4KSAxMzUwcHgsIChtYXgtd2lkdGg6ICAyMDQ4cHgpIDIwNDhweFwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbGF6eSAke3Byb3BzLnZpc3VlbGNsYXNzZXN9YH1cclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3BhZGRpbmdCb3R0b206ICcxcmVtJ319XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgIHByb3BzLnZpc3VhbCA9PT0gXCJWaWRlb1wiID8gXHJcbiAgICAgICAgICAgICAgICA8dmlkZW8gYXV0b1BsYXkgbG9vcCBtdXRlZCBwbGF5c0lubGluZSBjbGFzc05hbWU9e2B2aWRlbyAke3Byb3BzLnZpc3VlbGNsYXNzZXN9YH0gcHJlbG9hZD1cIm1ldGFkYXRhXCIga2V5PXtgdmlkZW9UZXh0U2VjdGlvbl8ke3Byb3BzLmlkfWB9IGlkPXtgdmlkZW9UZXh0U2VjdGlvbl8ke3Byb3BzLmlkfWB9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPXtgYXNzZXRzL3ZpZGVvcy8ke3Byb3BzLmZpbGVuYW1lfWB9Lz5cclxuICAgICAgICAgICAgICAgICAgICBWaWTDqW8gbm9uIHN1cHBvcnTDqWUuIFLDqS1lc3NheWV6IHN1ciB1biBhdXRyZSBhcHBhcmVpbCBvdSBmdXJldGV1ci5cclxuICAgICAgICAgICAgICAgIDwvdmlkZW8+XHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIDpcclxuICAgICAgICA8ZGl2PjwvZGl2PlxyXG4gICAgKVxyXG5cclxuICAgIGxldCB0ZXh0U2VjdGlvbk9iaiA9IChcclxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9e2B0ZXh0LXNlY3Rpb24gJHtwcm9wcy5jbGFzc2VzfWB9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaXNRdW90ZSA/IFxyXG4gICAgICAgICAgICA8YmxvY2txdW90ZSBjbGFzc05hbWU9XCJzbWFsbFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgIDxiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtwYXJzZShxdW90ZU9iai50ZXh0KX1cclxuICAgICAgICAgICAgICAgICAgICA8L2I+XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJhdXRob3JcIj5cclxuICAgICAgICAgICAgICAgICAgICB7cXVvdGVPYmouYXV0aG9yfVxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzeW1ib2xcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Jsb2NrcXVvdGU+XHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgaXNCaWdOdW1iZXIgP1xyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyLW51bWJlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm51bWJlcnNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMj57YmlnTnVtYmVyT2JqLm51bWJlcn08L2gyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtiaWdOdW1iZXJPYmoudW5kZXJUZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zbWFsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWaXN1YWwgPyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXN1YWxPYmpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyhwcm9wcy50ZXh0cykuc3RhcnRzV2l0aCgnPCcpID8gIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2UocHJvcHMudGV4dHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57cGFyc2UocHJvcHMudGV4dHMpfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICApO1xyXG4gICAgbGV0IGNvbnRhaW5lZE9iaiA9IHByb3BzLmJhY2tncm91bmQgPyBcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7YmFja2dyb3VuZENvbG9yOiBgJHtwcm9wcy5iYWNrZ3JvdW5kfWB9fSBjbGFzc05hbWU9e1wic2VjdGlvbkNvbnRhaW5lclwifT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RleHRTZWN0aW9uT2JqfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHRTZWN0aW9uT2JqXHJcbiAgICAgICAgICAgICAgICApXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBjb250YWluZWRPYmpcclxuICAgIClcclxufSIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERXQ2hhcnQoeyB0aXRsZSwgc3JjLCAuLi5wcm9wcyB9KSB7XHJcbiAgY29uc3QgaWZyYW1lUmVmID0gdXNlUmVmKClcclxuICBjb25zdCBbaGVpZ2h0LCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSg1MDApXHJcblxyXG4gIGNvbnN0IG9uTWVzc2FnZSA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKHsgZGF0YSA9IHt9LCBzb3VyY2UgfSkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgc291cmNlICE9PSBpZnJhbWVSZWYuY3VycmVudC5jb250ZW50V2luZG93IHx8XHJcbiAgICAgICAgdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnIHx8XHJcbiAgICAgICAgIWRhdGFbJ2RhdGF3cmFwcGVyLWhlaWdodCddXHJcbiAgICAgIClcclxuICAgICAgICByZXR1cm5cclxuXHJcbiAgICAgIC8vc2V0U3RhdGUoT2JqZWN0LnZhbHVlcyhkYXRhWydkYXRhd3JhcHBlci1oZWlnaHQnXSlbMF0pXHJcbiAgICB9LFxyXG4gICAgW3NldFN0YXRlLCBpZnJhbWVSZWZdXHJcbiAgKVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpXHJcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpXHJcbiAgfSwgW2hlaWdodCwgc2V0U3RhdGUsIG9uTWVzc2FnZV0pXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8aWZyYW1lXHJcbiAgICAgIHJlZj17aWZyYW1lUmVmfVxyXG4gICAgICBzY3JvbGxpbmc9XCJub1wiXHJcbiAgICAgIGZyYW1lQm9yZGVyPVwiMFwiXHJcbiAgICAgIHdpZHRoPVwiMTAwJVwiXHJcbiAgICAgIHsuLi5wcm9wc31cclxuICAgICAgdGl0bGU9e3RpdGxlfVxyXG4gICAgICBzcmM9e3NyY31cclxuICAgICAgaGVpZ2h0PXtoZWlnaHR9XHJcbiAgICAvPlxyXG4gIClcclxufVxyXG5cclxuRFdDaGFydC5wcm9wVHlwZXMgPSB7XHJcbiAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBzcmM6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBsb2FkaW5nOiBQcm9wVHlwZXMub25lT2YoWydlYWdlcicsICdsYXp5J10pLFxyXG59IiwiZXhwb3J0IGNvbnN0IGNvbnRlbnRIZWFkZXJDb25zdGFudHMgPSB7XG4gICAgc2VjdGlvbjogXCJTZWN0aW9uXCIsXG4gICAgc2VjdGlvbklEOiBcIlNlY3Rpb25JRFwiLFxuICAgIGF0dHJpYnV0czogXCJBdHRyaWJ1dHNcIixcbiAgICBzb3Vzc2VjdGlvbjogXCJTdGVwXCIsXG4gICAgdGV4dGU6IFwiVEVYVEVcIixcbiAgICB2aXN1ZWw6IFwiVklTVUVMXCIsXG4gICAgbm9tZmljaGllcnNvdXJjZTogXCJOb21GaWNoaWVyU291cmNlXCIsXG4gICAgc3R5bGVmb25kOiBcIlN0eWxlRm9uZFwiLFxuICAgIHN0ZXBjbGFzc2VzOiBcIlN0ZXBDbGFzc2VzXCIsXG4gICAgdmlzdWVsY2xhc3NlczogXCJWaXN1ZWxDbGFzc2VzXCIsXG4gICAgbm90ZXM6IFwiTm90ZXNcIixcbiAgICBnYW1laWQ6IFwiR2FtZUlEXCJcbn07XG5cbmV4cG9ydCBjb25zdCBvcHRpb25zRHJvcGRvd25Db25zdGFudHMgPSB7XG4gICAgc2VjdGlvbnR5cGVzOiB7XG4gICAgICAgIGludHJvdGl0cmU6IFwiaW50cm8tdGl0cmVcIixcbiAgICAgICAgcGxlaW5lcGFnZXRpdHJlOiBcInBsZWluZS1wYWdlLXRpdHJlXCIsXG4gICAgICAgIHRleHRlY2xhc3NpcXVlOiBcInRleHRlLWNsYXNzaXF1ZVwiLFxuICAgICAgICB2aXpzZWN0aW9uOiBcInZpei1zZWN0aW9uXCJcbiAgICB9LFxuICAgIHNlY3Rpb25hdHRyaWJ1dGVzOntcbiAgICAgICAgcGxlaW5lcGFnZTogXCJwbGVpbmUtcGFnZVwiLFxuICAgICAgICBmb25kbm9pcjogXCJmb25kLW5vaXJcIixcbiAgICAgICAgY2VudHJlOiBcImNlbnRyw6lcIixcbiAgICAgICAgY290ZWNvdGU6IFwiY8O0dMOpLWPDtHTDqVwiXG4gICAgfSxcbiAgICB2aXN1ZWx0eXBlczp7XG4gICAgICAgIHBob3RvOiBcIlBob3RvXCIsXG4gICAgICAgIHZpZGVvOiBcIlZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIkF1ZGlvXCIsXG4gICAgICAgIHZpc3VhbGlzYXRpb246IFwiVmlzdWFsaXNhdGlvblwiLFxuICAgICAgICBpZnJhbWU6IFwiaWZyYW1lXCJcbiAgICB9LFxuICAgIHNvdXNzZWN0aW9udHlwZXM6e1xuICAgICAgICBzY3JvbGxub3JtYWw6IFwic2Nyb2xsLW5vcm1hbFwiLFxuICAgICAgICBzY3JvbGxpbnZpc2libGU6IFwic2Nyb2xsLWludmlzaWJsZVwiLFxuICAgICAgICBzY3JvbGxsb25nOiBcInNjcm9sbC1sb25nXCJcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgcGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cyA9IHtcbiAgICB0aXRyZTogXCJUaXRyZVwiLFxuICAgIGF1dGV1cnM6IFwiQXV0ZXVyc1wiLFxuICAgIGRhdGU6IFwiRGF0ZVwiLFxuICAgIGRhdGU6IFwiRGF0ZVwiLFxuICAgIHVybHM6IFwiTGllbkF1dGV1cnNcIixcbiAgICBsaWVuZmljaGllcnNvdXJjZTogXCJMaWVuRmljaGllclNvdXJjZVwiXG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XG5pbXBvcnQgRFdDaGFydCBmcm9tIFwiLi9EV0NoYXJ0XCI7XG5pbXBvcnQgeyBvcHRpb25zRHJvcGRvd25Db25zdGFudHMgfSBmcm9tIFwiLi4vZ2VuZXJhdG9yL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gVml6U2VjdGlvbihwcm9wcyl7XG5cbiAgICBsZXQgdml6U2VjdGlvbk9iaiA9IChcbiAgICAgICAgPHNlY3Rpb24gaWQ9e3Byb3BzLmxpc3RJRH0gY2xhc3NOYW1lPXtwcm9wcy5jbGFzc2VkfT5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BzdGVwcyAke2dldFN0ZXBDb21tb25DbGFzcyhwcm9wcy5zdGVwcyl9YH0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnN0ZXBzLm1hcCgoc3RlcCxpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnc3RlcCBpcyAnLCBzdGVwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc1F1b3RlID0gU3RyaW5nKHN0ZXAuc3RlcGNsYXNzZXMpLmluY2x1ZGVzKCdjaXRhdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHF1b3RlT2JqO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNRdW90ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVvdGVPYmogPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6U3RyaW5nKHN0ZXAudGV4dCkuc3BsaXQoJy8nKVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yOlN0cmluZyhzdGVwLnRleHQpLnNwbGl0KCcvJylbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VjdGlvbiBrZXk9e2luZGV4fSBjbGFzc05hbWU9e3N0ZXAuc3RlcGNsYXNzZXN9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1F1b3RlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxibG9ja3F1b3RlIGNsYXNzTmFtZT1cInNtYWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYXJzZShxdW90ZU9iai50ZXh0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9iPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJhdXRob3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3F1b3RlT2JqLmF1dGhvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzeW1ib2xcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2txdW90ZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyhzdGVwLnRleHQpLnN0YXJ0c1dpdGgoJzwnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2Uoc3RlcC50ZXh0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3N0ZXAudGV4dCA/IHBhcnNlKHN0ZXAudGV4dCkgOiBcIlwifTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidml6XCIgaWQ9XCJ2aXpcIj5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnN0ZXBzLm1hcCgoc3RlcCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0ZXAudmlzdWFsID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMudmlzdWVsdHlwZXMucGhvdG8pe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Bhc3NldHMvaW1nLzY3NS8ke3N0ZXAuZmlsZW5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtc3Jjc2V0PXtgYXNzZXRzL2ltZy8yMDQ4LyR7c3RlcC5maWxlbmFtZX0gMjA0OHcsIGFzc2V0cy9pbWcvOTkwLyR7c3RlcC5maWxlbmFtZX0gOTkwdywgYXNzZXRzL2ltZy82NzUvJHtzdGVwLmZpbGVuYW1lfSA2NzV3LCBhc3NldHMvaW1nLzEzNTAvJHtzdGVwLmZpbGVuYW1lfSAxMzUwdywgYXNzZXRzL2ltZy8xMDAvJHtzdGVwLmZpbGVuYW1lfSAxMDB3LCBhc3NldHMvaW1nLzQ5NS8ke3N0ZXAuZmlsZW5hbWV9IDQ5NXcsIGFzc2V0cy9pbWcvMTAyNC8ke3N0ZXAuZmlsZW5hbWV9IDEwMjR3YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtc2l6ZXM9XCIobWF4LXdpZHRoOiAxMDBweCkgMTAwcHgsIChtYXgtd2lkdGg6IDQ5NXB4KSA0OTVweCwgKG1heC13aWR0aDogNjc1cHgpIDY3NXB4LCAobWF4LXdpZHRoOiA5OTBweCkgOTkwcHgsIChtYXgtd2lkdGg6ICAxMDI0cHgpIDEwMjRweCwgKG1heC13aWR0aDogIDEzNTBweCkgMTM1MHB4LCAobWF4LXdpZHRoOiAgMjA0OHB4KSAyMDQ4cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbGF6eSAke3N0ZXAudmlzdWVsY2xhc3Nlc31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoc3RlcC52aXN1YWwgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy52aXN1ZWx0eXBlcy52aWRlbyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHZpZGVvIGF1dG9QbGF5IGxvb3AgbXV0ZWQgcGxheXNJbmxpbmUgY2xhc3NOYW1lPXtgdmlkZW8gJHtzdGVwLnZpc3VlbGNsYXNzZXN9YH0gcHJlbG9hZD1cIm1ldGFkYXRhXCIga2V5PXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH0gaWQ9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPXtgYXNzZXRzL3ZpZGVvcy8ke3N0ZXAuZmlsZW5hbWV9YH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmlkw6lvIG5vbiBzdXBwb3J0w6llLiBSw6ktZXNzYXlleiBzdXIgdW4gYXV0cmUgYXBwYXJlaWwgb3UgZnVyZXRldXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdmlkZW8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHN0ZXAudmlzdWFsID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMudmlzdWVsdHlwZXMuaWZyYW1lKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9IGlkPXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH0gY2xhc3NOYW1lPVwiaWZyYW1lQ29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RFdDaGFydCB0aXRsZT1cIk1lc3VyZXMgZCdhcnNlbmljXCIgc3JjPXtgJHtzdGVwLmZpbGVuYW1lfWB9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzdGVwLnZpc3VhbCA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnZpc3VlbHR5cGVzLnZpc3VhbGlzYXRpb24pe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH0gaWQ9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBjbGFzc05hbWU9e2BpZnJhbWVDb250YWluZXIgJHtzdGVwLnZpc3VlbGNsYXNzZXN9YH0+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICApO1xuICAgIGxldCBjb250YWluZWRPYmogPSBwcm9wcy5iYWNrZ3JvdW5kID9cbiAgICAgICAgKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogYCR7cHJvcHMuYmFja2dyb3VuZH1gfX0gY2xhc3NOYW1lPXtcInNlY3Rpb25Db250YWluZXJcIn0+XG4gICAgICAgICAgICAgICAge3ZpelNlY3Rpb25PYmp9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgICA6XG4gICAgICAgIChcbiAgICAgICAgICAgIHZpelNlY3Rpb25PYmpcbiAgICAgICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgY29udGFpbmVkT2JqXG4gICAgKVxufVxuXG5mdW5jdGlvbiBnZXRTdGVwQ29tbW9uQ2xhc3Moc3RlcHMpe1xuICAgIGxldCBjdXJTdGVwQ2xhc3NlcyA9IHN0ZXBzLm1hcCgoc3RlcCwgaW5kZXgpID0+IHtcbiAgICAgICAgcmV0dXJuIHN0ZXAuc3RlcGNsYXNzZXM7XG4gICAgfSk7XG4gICAgbGV0IGN1ckNvbW1vbkNsYXNzID0gbmV3IEFycmF5KGN1clN0ZXBDbGFzc2VzLmxlbmd0aCk7XG4gICAgY3VyU3RlcENsYXNzZXMuZm9yRWFjaCgoc3RlcEVsZW0sIGlkeCkgPT4ge1xuICAgICAgICBpZihBcnJheS5pc0FycmF5KHN0ZXBFbGVtKSl7XG4gICAgICAgICAgICBzdGVwRWxlbS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgICAgICAgICAgIGZvciggbGV0IGkgPSBpZHg7IGkgPCBjdXJTdGVwQ2xhc3Nlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGN1clN0ZXBDbGFzc2VzW2ldLmluY2x1ZGVzKGVsZW0pKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNvbW1vbkNsYXNzW2ldID0gKGVsZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Yoc3RlcEVsZW0pID09PSBcInN0cmluZ1wiKXtcbiAgICAgICAgICAgIGZvciggbGV0IGkgPSBpZHg7IGkgPCBjdXJTdGVwQ2xhc3Nlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgaWYoY3VyU3RlcENsYXNzZXNbaV0uaW5jbHVkZXMoc3RlcEVsZW0pKXtcbiAgICAgICAgICAgICAgICAgICAgY3VyQ29tbW9uQ2xhc3NbaV0gPSAoc3RlcEVsZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjdXJDb21tb25DbGFzcy5yZWR1Y2UoZnVuY3Rpb24oYSwgYil7IHJldHVybiAoYSA9PT0gYiAmJiBhICE9PSBcIlwiICYmIGIgIT09IFwiXCIpID8gYSA6IFwiXCI7IH0pO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gRnVsbFBhZ2VTZWN0aW9uKHByb3BzKXtcblxuICAgIGxldCBmdWxscGFnZVNlY3Rpb25PYmogPSAoXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17YGZ1bGwtcGFnZS1zZWN0aW9uICR7cHJvcHMuY2xhc3Nlc31gfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGVJbWFnZVwiPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuZmlsZW5hbWUgP1xuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy52aXN1YWwgPT09IFwiUGhvdG9cIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake3Byb3BzLmlkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgJHtwcm9wcy5pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Bhc3NldHMvaW1nLzY3NS8ke3Byb3BzLmZpbGVuYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtc3Jjc2V0PXtgYXNzZXRzL2ltZy8yMDQ4LyR7cHJvcHMuZmlsZW5hbWV9IDIwNDh3LCBhc3NldHMvaW1nLzk5MC8ke3Byb3BzLmZpbGVuYW1lfSA5OTB3LCBhc3NldHMvaW1nLzY3NS8ke3Byb3BzLmZpbGVuYW1lfSA2NzV3LCBhc3NldHMvaW1nLzEzNTAvJHtwcm9wcy5maWxlbmFtZX0gMTM1MHcsIGFzc2V0cy9pbWcvMTAwLyR7cHJvcHMuZmlsZW5hbWV9IDEwMHcsIGFzc2V0cy9pbWcvNDk1LyR7cHJvcHMuZmlsZW5hbWV9IDQ5NXcsIGFzc2V0cy9pbWcvMTAyNC8ke3Byb3BzLmZpbGVuYW1lfSAxMDI0d2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtc2l6ZXM9XCIobWF4LXdpZHRoOiAxMDBweCkgMTAwcHgsIChtYXgtd2lkdGg6IDQ5NXB4KSA0OTVweCwgKG1heC13aWR0aDogNjc1cHgpIDY3NXB4LCAobWF4LXdpZHRoOiA5OTBweCkgOTkwcHgsIChtYXgtd2lkdGg6ICAxMDI0cHgpIDEwMjRweCwgKG1heC13aWR0aDogIDEzNTBweCkgMTM1MHB4LCAobWF4LXdpZHRoOiAgMjA0OHB4KSAyMDQ4cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BsYXp5ICR7cHJvcHMudmlzdWVsY2xhc3Nlc31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMudmlzdWFsID09PSBcIlZpZGVvXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHZpZGVvIGF1dG9QbGF5IGxvb3AgbXV0ZWQgcGxheXNJbmxpbmUgY2xhc3NOYW1lPXtgdmlkZW8gJHtwcm9wcy52aXN1ZWxjbGFzc2VzfWB9IHByZWxvYWQ9XCJtZXRhZGF0YVwiIGtleT17YCR7cHJvcHMuaWR9YH0gaWQ9e2Ake3Byb3BzLmlkfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9e2Bhc3NldHMvdmlkZW9zLyR7cHJvcHMuZmlsZW5hbWV9YH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmlkw6lvIG5vbiBzdXBwb3J0w6llLiBSw6ktZXNzYXlleiBzdXIgdW4gYXV0cmUgYXBwYXJlaWwgb3UgZnVyZXRldXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdmlkZW8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGRpdj48L2Rpdj4pXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAoPGRpdj48L2Rpdj4pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuZmlsZW5hbWUgP1xuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbHRlclwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcHRpb25ob2xkZXJcIj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPXtgY2FwdGlvbiAke3Byb3BzLm1haW5UaXRsZS5jbGFzc31gfT57cHJvcHMubWFpblRpdGxlLnRleHR9PC9oMj5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnN1YlRpdGxlID9cbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT17YGNhcHRpb24gJHtwcm9wcy5zdWJUaXRsZS5jbGFzc31gfT57cHJvcHMuc3ViVGl0bGUudGV4dH08L2gzPlxuICAgICAgICAgICAgICAgICAgICApOlxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICk7XG4gICAgbGV0IGNvbnRhaW5lZE9iaiA9IHByb3BzLmJhY2tncm91bmQgP1xuICAgICAgICAoXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7YmFja2dyb3VuZENvbG9yOiBgJHtwcm9wcy5iYWNrZ3JvdW5kfWB9fSBjbGFzc05hbWU9e1wic2VjdGlvbkNvbnRhaW5lclwifT5cbiAgICAgICAgICAgICAgICB7ZnVsbHBhZ2VTZWN0aW9uT2JqfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICAgICAgOlxuICAgICAgICAoXG4gICAgICAgICAgICBmdWxscGFnZVNlY3Rpb25PYmpcbiAgICAgICAgKVxuXG4gICAgcmV0dXJuIGNvbnRhaW5lZE9iajtcblxufVxuIiwiXG5pbXBvcnQgeyBzYXZlQXMgfSBmcm9tICdmaWxlLXNhdmVyJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IGNvbnRlbnRIZWFkZXJDb25zdGFudHMsIG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cywgcGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cyB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RydWN0dXJlKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKXtcblxuICAgIGxldCBzdHJ1Y3R1cmVEYXRhID0ge307IC8vIFdob2xlIHNjcm9sbHkgc3RydWN0dXJlXG4gICAgbGV0IHZpelNlY3Rpb25JRHMgPSBbXTsgLy8gTGlzdCBvZiBzZWN0aW9uSURzXG5cbiAgICBsZXQgb3B0aW9ucyA9IGdldE9wdGlvbnMocGFyYW1zRGF0YSk7XG5cbiAgICBjb25zb2xlLmxvZygnY29udGVudCBEYXRhJywgY29udGVudERhdGEpO1xuICAgIGNvbnRlbnREYXRhLm1hcCgocm93RGF0YSxpbmRleCkgPT4ge1xuXG4gICAgICAgIGlmKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uXSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5pbnRyb3RpdHJlKXtcbiAgICAgICAgICAgIGxldCBjbGFzc2VzID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0ZXBjbGFzc2VzXTtcbiAgICAgICAgICAgIGxldCBjdXJBbW9yY2UgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdO1xuICAgICAgICAgICAgbGV0IHNlY3Rpb25CYWNrZ3JvdW5kID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0eWxlZm9uZF07XG4gICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgICAgICAgIHNlY3Rpb25UeXBlOiBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLmludHJvdGl0cmUsXG4gICAgICAgICAgICAgICAgb3B0aW9uRGF0YTogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBhbW9yY2U6IGN1ckFtb3JjZSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBzZWN0aW9uQmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICBjbGFzc2VzOiBwYXJzZUNsYXNzZXMoY2xhc3NlcyksXG4gICAgICAgICAgICAgICAgZ2FtZWlkOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuZ2FtZWlkXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uXSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy50ZXh0ZWNsYXNzaXF1ZSl7XG4gICAgICAgICAgICBsZXQgdGV4dHMgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdO1xuICAgICAgICAgICAgbGV0IGNsYXNzZXMgPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3RlcGNsYXNzZXNdO1xuICAgICAgICAgICAgbGV0IHNlY3Rpb25CYWNrZ3JvdW5kID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0eWxlZm9uZF07XG4gICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgICAgICAgIHNlY3Rpb25UeXBlOiBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnRleHRlY2xhc3NpcXVlLFxuICAgICAgICAgICAgICAgIHRleHRzOiB0ZXh0cyxcbiAgICAgICAgICAgICAgICB2aXN1YWw6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxdLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMubm9tZmljaGllcnNvdXJjZV0sXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogc2VjdGlvbkJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgY2xhc3NlczogcGFyc2VDbGFzc2VzKGNsYXNzZXMpLFxuICAgICAgICAgICAgICAgIHZpc3VlbGNsYXNzZXM6IHBhcnNlQ2xhc3Nlcyhyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudmlzdWVsY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIGdhbWVpZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmdhbWVpZF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbl0gPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMucGxlaW5lcGFnZXRpdHJlKXtcbiAgICAgICAgICAgIGxldCB0aXRsZU9iaiA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV07XG4gICAgICAgICAgICBpZiAoaXNKc29uKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV0pKXtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dE9iaiA9IEpTT04ucGFyc2Uocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXSk7XG4gICAgICAgICAgICAgICAgdGl0bGVPYmogPSB0ZXh0T2JqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RydWN0dXJlRGF0YVtyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXV0gPSB7XG4gICAgICAgICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICAgICAgICBzZWN0aW9uVHlwZTogb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5wbGVpbmVwYWdldGl0cmUsXG4gICAgICAgICAgICAgICAgdGV4dHM6IGlzSnNvbihyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdKSA/IHRpdGxlT2JqXG4gICAgICAgICAgICAgICAgOntcbiAgICAgICAgICAgICAgICAgICAgbWFpblRpdGxlOntjbGFzczogXCJcIiwgdGV4dDogdGl0bGVPYmp9LFxuICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZTogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdmlzdWFsOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudmlzdWVsXSxcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLm5vbWZpY2hpZXJzb3VyY2VdLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdHlsZWZvbmRdLFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IHBhcnNlQ2xhc3Nlcyhyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3RlcGNsYXNzZXNdKSxcbiAgICAgICAgICAgICAgICB2aXN1ZWxjbGFzc2VzOiBwYXJzZUNsYXNzZXMocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbGNsYXNzZXNdKSxcbiAgICAgICAgICAgICAgICBnYW1laWQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5nYW1laWRdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25dID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnZpenNlY3Rpb24pe1xuXG4gICAgICAgICAgICBsZXQgY3VyRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dHM6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5hdHRyaWJ1dHNdLFxuICAgICAgICAgICAgICAgIHNjcm9sbFR5cGU6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zb3Vzc2VjdGlvbl0sXG4gICAgICAgICAgICAgICAgdGV4dDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXSxcbiAgICAgICAgICAgICAgICB2aXN1YWw6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxdLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMubm9tZmljaGllcnNvdXJjZV0sXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0eWxlZm9uZF0sXG4gICAgICAgICAgICAgICAgdmlzdWVsY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxjbGFzc2VzXSksXG4gICAgICAgICAgICAgICAgc3RlcGNsYXNzZXM6IHBhcnNlQ2xhc3Nlcyhyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3RlcGNsYXNzZXNdKSxcbiAgICAgICAgICAgICAgICBnYW1laWQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5nYW1laWRdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYoc3RydWN0dXJlRGF0YS5oYXNPd25Qcm9wZXJ0eShyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXSkpe1xuICAgICAgICAgICAgICAgIC8vIEFkZCBzdGVwIHRvIGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgbGV0IGN1clZpelNlY3Rpb24gPSBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXTtcbiAgICAgICAgICAgICAgICBjdXJWaXpTZWN0aW9uLnB1c2goY3VyRGF0YSk7XG4gICAgICAgICAgICAgICAgc3RydWN0dXJlRGF0YVtyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXV0gPSBjdXJWaXpTZWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBzdHJ1Y3R1cmVEYXRhW3Jvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdXSA9IFtjdXJEYXRhXTtcbiAgICAgICAgICAgICAgICB2aXpTZWN0aW9uSURzLnB1c2gocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgdml6U2VjdGlvbklEcy5tYXAoKGtleSkgPT4ge1xuICAgICAgICBsZXQgY3VyU2VjdGlvbiA9IHN0cnVjdHVyZURhdGFba2V5XTtcbiAgICAgICAgbGV0IHNlY3Rpb25BdHRyID0gY3VyU2VjdGlvblswXS5hdHRyaWJ1dHMgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9uYXR0cmlidXRlcy5jZW50cmUgPyBcIiBmdWxsLXBhZ2VcIiA6IFwiXCI7XG4gICAgICAgIGxldCBzZWN0aW9uQmFja2dyb3VuZCA9IGN1clNlY3Rpb25bMF0uYmFja2dyb3VuZDtcbiAgICAgICAgc3RydWN0dXJlRGF0YVtrZXldID0ge1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICBzZWN0aW9uVHlwZTogb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy52aXpzZWN0aW9uLFxuICAgICAgICAgICAgbGlzdElEOiBrZXksXG4gICAgICAgICAgICBzdGVwczogY3VyU2VjdGlvbixcbiAgICAgICAgICAgIGNsYXNzZWQ6IGB2aXotc2VjdGlvbiR7c2VjdGlvbkF0dHJ9YCxcbiAgICAgICAgICAgIG1lZGlhSW5mbzogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHNlY3Rpb25CYWNrZ3JvdW5kXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhzdHJ1Y3R1cmVEYXRhKTtcbn1cblxuLyoqXG4gKiBUYWtlIGFydGljbGUgc3RydWN0dXJlIGFzIENTViBhbmQgdHJhbnNmb3JtIGl0IGFzIGNhbGxiYWNrQXJyYXlcbiAqIEBwYXJhbSAge09iamVjdH0gY29udGVudERhdGEgYXJ0aWNsZSBzdHJ1Y3R1cmVcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyBhcnRpY2xlIG9wdGlvbnNcbiAqIEByZXR1cm4ge0FycmF5fSBTY3JvbGxlciBjYWxsYmFjayBhcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDYWxsYmFja3MoY29udGVudERhdGEsIHBhcmFtc0RhdGEpe1xuXG4gICAgbGV0IGZ1bGxTdHJ1Y3R1cmUgPSBnZXRTdHJ1Y3R1cmUoY29udGVudERhdGEsIHBhcmFtc0RhdGEpO1xuICAgIGxldCBjYWxsYmFja3NBcnJheSA9IFtdO1xuICAgIGZ1bGxTdHJ1Y3R1cmUubWFwKGNhbGxiYWNrID0+IHtcbiAgICAgICAgaWYoY2FsbGJhY2suc2VjdGlvblR5cGUgPT09IFwidml6LXNlY3Rpb25cIil7XG4gICAgICAgICAgICBsZXQgY3VyU3RlcHMgPSBbXTtcbiAgICAgICAgICAgIGNhbGxiYWNrLnN0ZXBzLm1hcCgoc3RlcCxpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjdXJDb21tYW5kID0gKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1YyAmJiBFTlZfQ09ORklHLmF1dG9yZW5kZXIpID8gKCgpPT57fSkgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGlmKHN0ZXAudmlzdWFsICE9PSBcIlwiKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ck51bWJlckFycmF5ID0gQXJyYXkoY2FsbGJhY2suc3RlcHMubGVuZ3RoKS5maWxsKG51bGwpLm1hcCgoXywgaSkgPT4gaSkuZmlsdGVyKGQgPT4gZCAhPT0gaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3BhY2l0eVNlbGVjdG9yID0gY3VyTnVtYmVyQXJyYXkubWFwKGluZCA9PiBgIyR7Y2FsbGJhY2sua2V5fV8ke2luZH1gKS5qb2luKCcsJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1YyAmJiBFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbWFuZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QoYCMke2NhbGxiYWNrLmtleX1fJHtpbmRleH1gKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAxKS5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9wYWNpdHlTZWxlY3RvciAhPT0gXCJcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbChgJHtvcGFjaXR5U2VsZWN0b3J9YCkudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMCkuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbWFuZCA9IGBkMy5zZWxlY3QoJyMke2NhbGxiYWNrLmtleX1fJHtpbmRleH0nKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAxKS5zdHlsZSgnZGlzcGxheScsIG51bGwpOyR7b3BhY2l0eVNlbGVjdG9yICE9PSBcIlwiID8gYGQzLnNlbGVjdEFsbCgnJHtvcGFjaXR5U2VsZWN0b3J9JykudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMCkuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO2AgOiBcIlwifWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihTdHJpbmcoc3RlcC5maWxlbmFtZSkuc3RhcnRzV2l0aChcIlRBR0lEXCIpKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1clRhZ0lEID0gU3RyaW5nKHN0ZXAuZmlsZW5hbWUpLnNwbGl0KCc9JylbMV07XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJUYWdJRF9pbmRleCA9IHBhcnNlSW50KGN1clRhZ0lELnNwbGl0KFwiX1wiKVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJOdW1iZXJBcnJheSA9IEFycmF5KGNhbGxiYWNrLnN0ZXBzLmxlbmd0aCkuZmlsbChudWxsKS5tYXAoKF8sIGkpID0+IGkpLmZpbHRlcihkID0+IGQgIT09IGN1clRhZ0lEX2luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9wYWNpdHlTZWxlY3RvciA9IGN1ck51bWJlckFycmF5Lm1hcChpbmQgPT4gYCMke2NhbGxiYWNrLmtleX1fJHtpbmR9YCkuam9pbignLCcpO1xuICAgICAgICAgICAgICAgICAgICBpZihFTlZfQ09ORklHLmRvd25sb2FkU3RydWMgJiYgRU5WX0NPTkZJRy5hdXRvcmVuZGVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNvbW1hbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdChgIyR7Y3VyVGFnSUR9YCkudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMSkuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob3BhY2l0eVNlbGVjdG9yICE9PSBcIlwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbChgJHtvcGFjaXR5U2VsZWN0b3J9YCkudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMCkuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ29tbWFuZCA9IGBkMy5zZWxlY3QoJyMke2N1clRhZ0lEfScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7JHtvcGFjaXR5U2VsZWN0b3IgIT09IFwiXCIgPyBgZDMuc2VsZWN0QWxsKCcke29wYWNpdHlTZWxlY3Rvcn0nKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7YCA6IFwiXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1YyAmJiBFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICAgICAgICAgICAgICAgIGN1clN0ZXBzLnB1c2goY3VyQ29tbWFuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGN1clN0ZXBzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICBgKCkgPT4geyR7Y3VyQ29tbWFuZH19YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYWxsYmFja3NBcnJheS5wdXNoKGN1clN0ZXBzKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ0dPVCBDQUxMQkFDS1MgQVJSQVk6ICcsIGNhbGxiYWNrc0FycmF5KTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrc0FycmF5O1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBjb25zb2xlLmxvZygnU2F2aW5nIGNhbGxiYWNrcyB0byBmaWxlLi4uJyk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBgaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xcbmV4cG9ydCBjb25zdCBjYWxsYmFja3MgPSAke0pTT04uc3RyaW5naWZ5KGNhbGxiYWNrc0FycmF5LCBudWxsLCAyKX1gO1xuICAgICAgICBsZXQgYmxvYiA9IG5ldyBCbG9iKFt0ZXh0LnJlcGxhY2VBbGwoJ1wiJywgJycpXSwge3R5cGU6IFwidGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04XCJ9KTtcbiAgICAgICAgc2F2ZUFzKGJsb2IsIFwiY2FsbGJhY2tzLmpzXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gaXNKc29uKHN0cikge1xuICAgIHRyeSB7XG4gICAgICAgIEpTT04ucGFyc2Uoc3RyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ2xhc3NlcyhzdHIpe1xuICAgIHJldHVybiBBcnJheS5mcm9tKHN0ci5zcGxpdCgnOycpKS5qb2luKCcgJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcHRpb25zKHBhcmFtc0RhdGEpe1xuXG4gIHJldHVybiB7XG4gICAgdGl0bGU6IHBhcmFtc0RhdGFbMF1bcGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cy50aXRyZV0sXG4gICAgYXV0aG9yczogcGFyYW1zRGF0YVswXVtwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzLmF1dGV1cnNdLFxuICAgIHVybHM6IHBhcmFtc0RhdGFbMF1bcGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cy51cmxzXSxcbiAgICBkYXRlOiBwYXJhbXNEYXRhWzBdW3BhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMuZGF0ZV1cbiAgfTtcbn1cbiIsImltcG9ydCB7IGNvbnN0YW50IH0gZnJvbSBcImxvZGFzaFwiO1xyXG5pbXBvcnQgbWFwYm94Z2wgZnJvbSBcIm1hcGJveC1nbFwiO1xyXG5pbXBvcnQgKiBhcyBzY3JlZW4gZnJvbSBcIi4vc2NyZWVuLmpzXCI7XHJcblxyXG5jb25zdCBjb25zdGFudHMgPSB7XHJcbiAgdG9rZW46XHJcbiAgICBcInBrLmV5SjFJam9pYkdWa1pYWnZhWElpTENKaElqb2lZMnAyYlc4MWRIVTJNV1YxY1RSaGNYSXphWFpxTUdZeGNpSjkuV3JJRjhvNjlhUl9Uc3RERnU2UXlhZ1wiLFxyXG4gIG1hcEJvdW5kczoge1xyXG4gICAgbWF4OiBbLTE2NSwgMzAuNzI4MzMwLCAtMjUuMjM2MzYsIDgyLjIyOTQzNF0sXHJcbiAgfSxcclxuICBjb2xvcnM6IFtcclxuICAgIFwiI0Y0Q0JDNlwiLFxyXG4gICAgXCIjRjRBMzlBXCIsXHJcbiAgICBcIiNFRTZBNUVcIixcclxuICAgIFwiI0NFMzcyN1wiLFxyXG4gICAgXCIjQTIyODIzXCIsXHJcbiAgICBcIiM3NTFBMUFcIixcclxuICAgIFwiIzQxMDAwMFwiLFxyXG4gIF0sXHJcbiAgY2x1c3Rlck1heFpvb206IDExLFxyXG4gIGNsdXN0ZXJSYWRpdXM6IDMwLFxyXG4gIGNsdXN0ZXJNaW5Qb2ludHM6IDVcclxufTtcclxuXHJcbm1hcGJveGdsLmFjY2Vzc1Rva2VuID0gY29uc3RhbnRzLnRva2VuO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hcCB7XHJcbiAgY29uc3RydWN0b3IoZGl2LCBjbGFzc05hbWUsIGRhdGFTb3VyY2VBcnJheSwgc3R5bGVVcmwsIGluaXRDb29yZHMsIGRpc2FibGVDb250cm9scz10cnVlLCB3aXRoSGFuZGxlcnM9ZmFsc2UsIG1heEJvdW5kcyA9IG51bGwpIHtcclxuXHJcbiAgICB0aGlzLmRhdGFTb3VyY2VPYmplY3RzID0gZGF0YVNvdXJjZUFycmF5O1xyXG4gICAgdGhpcy5jb25zdGFudHMgPSBjb25zdGFudHM7XHJcbiAgICB0aGlzLm1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe1xyXG4gICAgICBjb250YWluZXI6IGNsYXNzTmFtZSxcclxuICAgICAgc3R5bGU6IHN0eWxlVXJsLFxyXG4gICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUsXHJcbiAgICAgIGNlbnRlcjogaW5pdENvb3Jkcy5jZW50ZXIsXHJcbiAgICAgIHpvb206IGluaXRDb29yZHMuem9vbVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm1heEJvdW5kcyA9IGluaXRDb29yZHM7XHJcbiAgICB0aGlzLmJvdW5kc0xpc3QgPSB0aGlzLmRhdGFTb3VyY2VPYmplY3RzLm1hcChkYXRhU291cmNlID0+IGRhdGFTb3VyY2VbJ2Nvb3JkcyddKTtcclxuICAgIHRoaXMuZXh0cmFCb3VuZHMgPSB0aGlzLmRhdGFTb3VyY2VPYmplY3RzLm1hcChkYXRhU291cmNlID0+IGRhdGFTb3VyY2VbJ2V4dHJhQ29vcmRzJ10pO1xyXG4gICAgaWYoZGlzYWJsZUNvbnRyb2xzKXtcclxuICAgICAgdGhpcy5tYXAuc2Nyb2xsWm9vbS5kaXNhYmxlKCk7XHJcbiAgICAgIHRoaXMubWFwLmRyYWdQYW4uZGlzYWJsZSgpO1xyXG4gICAgICB0aGlzLm1hcC5kcmFnUm90YXRlLmRpc2FibGUoKTtcclxuICAgICAgdGhpcy5tYXAuYm94Wm9vbS5kaXNhYmxlKCk7XHJcbiAgICAgIHRoaXMubWFwLmRvdWJsZUNsaWNrWm9vbS5kaXNhYmxlKCk7XHJcbiAgICB9XHJcbiAgICBpZih3aXRoSGFuZGxlcnMpe1xyXG4gICAgICB0aGlzLnNldHVwSGFuZGxlcnMoKTtcclxuICAgIH1cclxuICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLmRhdGFTb3VyY2VPYmplY3RzLm1hcChkYXRhU291cmNlID0+IGRhdGFTb3VyY2VbJ2RhdGEnXSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVCb3VuZHMoXHJcbiAgICBib3VuZHMgPSB0aGlzLm1heEJvdW5kcyxcclxuICAgIHBhZGRpbmcgPSBzY3JlZW4uaXNYUygpID8gNSA6IHNjcmVlbi5pc1NtKCkgPyAxNSA6IDIwLFxyXG4gICAgZHVyYXRpb24gPSAxMDBcclxuICApIHtcclxuICAgIHRoaXMubWFwID0gdGhpcy5tYXAuZml0Qm91bmRzKGJvdW5kcywge1xyXG4gICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgIHBhZGRpbmc6IHBhZGRpbmcsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUNvb3Jkc0FuZFpvb20oZGF0YVBhaXIpe1xyXG4gICAgdGhpcy5tYXAuZmx5VG8oe1xyXG4gICAgICBjZW50ZXI6IGRhdGFQYWlyLmNlbnRlcixcclxuICAgICAgem9vbTogZGF0YVBhaXIuem9vbSxcclxuICAgICAgc3BlZWQ6IDAuNyxcclxuICAgICAgY3VydmU6IDEsXHJcbiAgICAgIGVhc2luZyh0KXtcclxuICAgICAgICByZXR1cm4gdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdmlld0JvdW5kT2JqKG9iamluZGV4KXtcclxuICAgIHRoaXMudXBkYXRlQ29vcmRzQW5kWm9vbSh0aGlzLmJvdW5kc0xpc3Rbb2JqaW5kZXhdKTtcclxuICB9XHJcblxyXG4gIHZpZXdFeHRyYUJvdW5kT2JqKG9iamluZGV4LCBrZXlOYW1lLCBkdXJhdGlvbil7XHJcbiAgICBsZXQgZXh0cmFCb3VuZHMgPSB0aGlzLmV4dHJhQm91bmRzW29iamluZGV4XTtcclxuICAgIHRoaXMudXBkYXRlQ29vcmRzQW5kWm9vbShleHRyYUJvdW5kc1trZXlOYW1lXSk7XHJcbiAgfVxyXG5cclxuICB2aWV3SW5pdEJvdW5kcyhkdXJhdGlvbil7XHJcbiAgICB0aGlzLnVwZGF0ZUNvb3Jkc0FuZFpvb20odGhpcy5tYXhCb3VuZHMpO1xyXG4gIH1cclxuICBzaG93U291cmNlWEl0ZW1ZKHNvdXJjZUluZGV4LCBpdGVtSW5kZXgpIHtcclxuICAgIHRoaXMudXBkYXRlQ29vcmRzQW5kWm9vbSh0aGlzLmRhdGFMaXN0W3NvdXJjZUluZGV4XVtpdGVtSW5kZXhdKVxyXG4gIH1cclxuXHJcbiAgaW5pdE1hcFNvdXJjZXNBbmRMYXllcnMoKSB7XHJcbiAgICBpZiAodGhpcy5pbml0aWFsaXNlZCkgcmV0dXJuO1xyXG4gICAgdGhpcy5pbml0aWFsaXNlZCA9IHRydWU7XHJcbiAgICBcclxuICAgIHRoaXMuZGF0YVNvdXJjZU9iamVjdHMubWFwKGRhdGFTb3VyY2UgPT4ge1xyXG4gICAgICB0aGlzLm1hcC5hZGRTb3VyY2UoZGF0YVNvdXJjZVsnc291cmNlTmFtZSddLCB7XHJcbiAgICAgICAgdHlwZTogZGF0YVNvdXJjZVsnc291cmNlVHlwZSddLFxyXG4gICAgICAgIGRhdGE6IGRhdGFTb3VyY2VbJ3NvdXJjZURhdGEnXVxyXG4gICAgICB9KTtcclxuICAgICAgaWYoZGF0YVNvdXJjZVsnbGF5ZXJUeXBlJ10gPT09ICdmaWxsJyl7XHJcbiAgICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIoe1xyXG4gICAgICAgICAgaWQ6IGRhdGFTb3VyY2VbJ3NvdXJjZU5hbWUnXSxcclxuICAgICAgICAgIHR5cGU6IGRhdGFTb3VyY2VbJ2xheWVyVHlwZSddLFxyXG4gICAgICAgICAgc291cmNlOiBkYXRhU291cmNlWydzb3VyY2VOYW1lJ10sXHJcbiAgICAgICAgICBwYWludDoge1xyXG4gICAgICAgICAgICAnZmlsbC1jb2xvcic6IGRhdGFTb3VyY2VbJ2NvbG9yJ10sXHJcbiAgICAgICAgICAgICdmaWxsLW9wYWNpdHknOiBkYXRhU291cmNlWydvcGFjaXR5J11cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZihkYXRhU291cmNlWydsYXllclR5cGUnXSA9PT0gJ2NpcmNsZScpe1xyXG4gICAgICAgIHRoaXMubWFwLmFkZExheWVyKHtcclxuICAgICAgICAgIGlkOiBkYXRhU291cmNlWydzb3VyY2VOYW1lJ10sXHJcbiAgICAgICAgICB0eXBlOiBkYXRhU291cmNlWydsYXllclR5cGUnXSxcclxuICAgICAgICAgIHNvdXJjZTogZGF0YVNvdXJjZVsnc291cmNlTmFtZSddLFxyXG4gICAgICAgICAgcGFpbnQ6IHtcclxuICAgICAgICAgICAgJ2NpcmNsZS1jb2xvcic6IFsnbWF0Y2gnLCBbXCJnZXRcIiwgXCJzdGF0dXRcIl0sICdSZWNoZXJjaGVzIGVmZmVjdHXDqWVzIG91IGVuIGNvdXJzJywgJyNmZjU2MWMnLCAnUGhhc2UgcHLDqWxpbWluYWlyZScsICcjZmZjNzM0JywgJyNiN2I3YjcnXSxcclxuICAgICAgICAgICAgJ2NpcmNsZS1yYWRpdXMnOiA1XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgY2hhbmdlTGF5ZXJQYWludChpZCwgcHJvcGVydHksIHZhbHVlKXtcclxuICAgIHRoaXMubWFwLnNldFBhaW50UHJvcGVydHkoaWQsIHByb3BlcnR5LCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBzZXR1cEhhbmRsZXJzKCl7XHJcbiAgICBcclxuICAgIHRoaXMubWFwLm9uKFwibW91c2VvdmVyXCIsIFwicGVuc2lvbm5hdHNTb3VyY2VcIiwgKGUpID0+IHtcclxuICAgICAgdGhpcy5tYXAuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgICAgIHRoaXMuZHJhd1BvcHVwKGUpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLm1hcC5vbihcIm1vdXNlb3V0XCIsIFwicGVuc2lvbm5hdHNTb3VyY2VcIiwgKGUpID0+IHtcclxuICAgICAgdGhpcy5tYXAuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLm1hcC5vbihcImNsaWNrXCIsIFwicGVuc2lvbm5hdHNTb3VyY2VcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLm1hcC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcclxuICAgICAgdGhpcy5kcmF3UG9wdXAoZSk7XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuICB9XHJcblxyXG4gIGRyYXdQb3B1cChlKXtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gZS5mZWF0dXJlc1swXS5nZW9tZXRyeS5jb29yZGluYXRlcy5zbGljZSgpO1xyXG4gICAgY29uc3QgcHJvcGVydGllcyA9IGUuZmVhdHVyZXNbMF0ucHJvcGVydGllcztcclxuICAgIGxldCBbb3BlbmRheXN0ciwgb3Blbm1vbnRoc3RyLCBvcGVueWVhcnN0cl0gPSBwcm9wZXJ0aWVzWydvdXZlcnR1cmUnXS5zcGxpdCgnLycpO1xyXG4gICAgbGV0IFtmZXJtZGF5c3RyLCBmZXJtbW9udGhzdHIsIGZlcm15ZWFyc3RyXSA9IHByb3BlcnRpZXNbJ2Zlcm1ldHVyZSddLnNwbGl0KCcvJyk7XHJcbiAgICBsZXQgW2RhdGVfb3V2ZXJ0dXJlLGRhdGVfZmVybWV0dXJlXSA9IFtcclxuICAgICAgbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJmci1DQVwiLCB7ZGF0ZVN0eWxlOlwibG9uZ1wifSkuZm9ybWF0KG5ldyBEYXRlKERhdGUuVVRDKG9wZW55ZWFyc3RyLCBvcGVubW9udGhzdHIsIG9wZW5kYXlzdHIpKSksXHJcbiAgICAgIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZnItQ0FcIiwge2RhdGVTdHlsZTpcImxvbmdcIn0pLmZvcm1hdChuZXcgRGF0ZShEYXRlLlVUQyhmZXJteWVhcnN0ciwgZmVybW1vbnRoc3RyLCBmZXJtZGF5c3RyKSkpXHJcbiAgICBdO1xyXG4gICAgbGV0IGh0bWxfcG9wdXBfY29udGVudCA9IGBcclxuICAgICAgPGgzPiR7cHJvcGVydGllc1snbmFtZSddfTwvaDM+XHJcbiAgICAgIDxoND4ke3Byb3BlcnRpZXNbJ3ZpbGxlJ119LCAke3Byb3BlcnRpZXNbJ3Byb3ZpbmNlJ119PC9oND5cclxuICAgICAgPHA+JHtkYXRlX291dmVydHVyZX0gLSAke2RhdGVfZmVybWV0dXJlfTwvcD5cclxuICAgICAgPHA+JHtwcm9wZXJ0aWVzWydzdGF0dXQnXX08L3A+XHJcbiAgICBgO1xyXG4gICAgd2hpbGUgKE1hdGguYWJzKGUubG5nTGF0LmxuZyAtIGNvb3JkaW5hdGVzWzBdKSA+IDE4MCkge1xyXG4gICAgICBjb29yZGluYXRlc1swXSArPSBlLmxuZ0xhdC5sbmcgPiBjb29yZGluYXRlc1swXSA/IDM2MCA6IC0zNjA7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpXHJcbiAgICAgIC5zZXRMbmdMYXQoY29vcmRpbmF0ZXMpXHJcbiAgICAgIC5zZXRIVE1MKGh0bWxfcG9wdXBfY29udGVudClcclxuICAgICAgLmFkZFRvKHRoaXMubWFwKTtcclxuICB9XHJcblxyXG4gIGNsb3NlUG9wdXAoKSB7XHJcbiAgICBpZiAodGhpcy5wb3B1cCkge1xyXG4gICAgICB0aGlzLnBvcHVwLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlRGF0YShkYXRhU291cmNlTmFtZSwgZGF0YSkge1xyXG4gICAgaWYgKCF0aGlzLmluaXRpYWxpc2VkKSB0aGlzLmluaXRNYXBTb3VyY2VzQW5kTGF5ZXJzKCk7XHJcbiAgICB0aGlzLm1hcC5nZXRTb3VyY2UoZGF0YVNvdXJjZU5hbWUpLnNldERhdGEoZGF0YSk7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XHJcblxyXG5jb25zdCBwb3NpdGl2ZU9yZGVyRGljdCA9IHtcclxuICAgIFwibGFuZF9zaW5rXCI6MCxcclxuICAgIFwiZm9zc2lsX2VtaXNzaW9uc1wiOjEsXHJcbiAgICBcImxhbmRfdXNlX2NoYW5nZVwiOjJ9O1xyXG5cclxuY29uc3QgbmVnYXRpdmVPcmRlckRpY3QgPSB7XCJvY2Vhbl9zaW5rXCI6MCxcclxuICAgIFwiYXRtb3Nfc2lua1wiOjEsXHJcbiAgICBcImxhbmRfc2lua1wiOjJ9O1xyXG5cclxuY29uc3QgY29sb3JEaWN0ID0ge1xyXG5cclxuICAgIGZvc3NpbF9lbWlzc2lvbnM6IFwiI2I3YzNjM1wiLFxyXG4gICAgbGFuZF91c2VfY2hhbmdlOiBcIiNFRkU2NkZcIixcclxuICAgIGxhbmRfc2luazogXCIjYTVkYWE4XCIsXHJcbiAgICBvY2Vhbl9zaW5rOiBcIiM3NWEzYjFcIixcclxuICAgIGF0bW9zX3Npbms6IFwiIzg5Y2ZmMFwiLFxyXG4gICAgY2VtZW50X3Npbms6IFwiI2EyYTE5OFwiXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBzdGFja2VkQXJlYUNoYXJ0e1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHN2Z29iaiwgcmF3ZGF0YSl7XHJcblxyXG4gICAgICAgIHRoaXMuc3ZnT2JqID0gc3Znb2JqO1xyXG4gICAgICAgIHRoaXMuc3ZnV2lkdGggPSB0aGlzLnN2Z09iai5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICAgICAgdGhpcy5zdmdIZWlnaHQgPSB0aGlzLnN2Z09iai5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2hhcnRXaWR0aCA9IHRoaXMuc3ZnV2lkdGggKiAwLjk7XHJcbiAgICAgICAgdGhpcy5jaGFydEhlaWdodCA9IHRoaXMuc3ZnSGVpZ2h0ICogMC45O1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuY2xlYW5EYXRhKHJhd2RhdGEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjc3ZEYXRhOicsIHRoaXMuZGF0YSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMubWFpbkdyb3VwID0gdGhpcy5zdmdPYmouYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdGhpcy5jaGFydFdpZHRoKVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgdGhpcy5jaGFydEhlaWdodClcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHsodGhpcy5zdmdXaWR0aC10aGlzLmNoYXJ0V2lkdGgpLzJ9LCR7KHRoaXMuc3ZnSGVpZ2h0LXRoaXMuY2hhcnRIZWlnaHQpLzJ9KWApO1xyXG4gICAgICAgIHRoaXMuaW5pdENoYXJ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYW5EYXRhKGRhdGEpe1xyXG4gICAgICAgIHJldHVybiBkYXRhLm1hcCh5ZWFyRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyRGF0YVtcIkFubsOpZVwiXSxcclxuICAgICAgICAgICAgICAgIGZvc3NpbF9lbWlzc2lvbnM6IHBhcnNlRmxvYXQoU3RyaW5nKHllYXJEYXRhW1wiw4ltaXNzaW9ucyBpc3N1ZXMgZGVzIMOpbmVyZ2llcyBmb3NzaWxlc1wiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIGxhbmRfdXNlX2NoYW5nZTogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCJDaGFuZ2VtZW50IGQnYWZmZWN0YXRpb24gZGVzIHRlcnJlc1wiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIGxhbmRfc2luazogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCJQdWl0cyB0ZXJyZXN0cmVcIl0pLnJlcGxhY2UoJywnLFwiLlwiKSksXHJcbiAgICAgICAgICAgICAgICBvY2Vhbl9zaW5rOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIk9jw6lhblwiXSkucmVwbGFjZSgnLCcsXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIGF0bW9zX3Npbms6IHBhcnNlRmxvYXQoU3RyaW5nKHllYXJEYXRhW1wiQXRtb3NwaMOocmVcIl0pLnJlcGxhY2UoJywnLFwiLlwiKSksXHJcbiAgICAgICAgICAgICAgICBjZW1lbnRfc2luazogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCJQdWl0cyBkZSBjaW1lbnRcIl0pLnJlcGxhY2UoJywnLFwiLlwiKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRDaGFydCgpe1xyXG5cclxuICAgICAgICBsZXQgbGVnZW5kRGF0YSA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiw4ltaXNzaW9ucyBpc3N1ZXMgZGVzIMOpbmVyZ2llcyBmb3NzaWxlc1wiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiZm9zc2lsX2VtaXNzaW9uc1wiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNoYW5nZW1lbnQgZCdhZmZlY3RhdGlvbiBkZXMgdGVycmVzXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJsYW5kX3VzZV9jaGFuZ2VcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQdWl0cyB0ZXJyZXN0cmVcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcImxhbmRfc2lua1wiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk9jw6lhblwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwib2NlYW5fc2lua1wiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkF0bW9zcGjDqHJlXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJhdG1vc19zaW5rXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNvbnN0IHhBeGlzID0gdGhpcy5kcmF3WEF4aXModGhpcy5tYWluR3JvdXAsIHRoaXMuY2hhcnRXaWR0aCwgdGhpcy5kYXRhKTtcclxuICAgICAgICBjb25zdCB5QXhpcyA9IHRoaXMuZHJhd1lBeGlzKHRoaXMubWFpbkdyb3VwLCB0aGlzLmNoYXJ0SGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmRyYXdBcmVhcyh0aGlzLm1haW5Hcm91cCwgeEF4aXMsIHlBeGlzKTtcclxuICAgICAgICAvL3RoaXMuZHJhd1JlY3RhbmdsZXModGhpcy5tYWluR3JvdXAsIHhBeGlzLCB5QXhpcyk7XHJcbiAgICAgICAgdGhpcy5kcmF3VGl0bGUodGhpcy5tYWluR3JvdXApO1xyXG4gICAgICAgIHRoaXMuZHJhd0JvdHRvbUJveCh0aGlzLm1haW5Hcm91cCwgdGhpcy5jaGFydFdpZHRoKVxyXG4gICAgICAgIHRoaXMuZHJhd0RldGFpbHModGhpcy5tYWluR3JvdXAsIGxlZ2VuZERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtkMy5TZWxlY3Rpb259IGNvbnRhaW5lciBkMyBzZWxlY3Rpb25cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCB3aWR0aCBvZiB0aGUgY2hhcnRcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIGRhdGEgT2JqIGNvbnRhaW5pbmcgc2VyaWVzIGFuZCBkb21haW5zXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXhpc1RpdGxlIHggYXhpcyB0aXRsZVxyXG4gICAgICovXHJcbiAgICAgZHJhd1hBeGlzKGNvbnRhaW5lciwgd2lkdGgsIGRhdGEsIGF4aXNUaXRsZSl7XHJcblxyXG4gICAgICAgIGNvbnN0IHhBeGlzR3JvdXAgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3hBeGlzR3JvdXAnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgkezB9LCR7dGhpcy5jaGFydEhlaWdodCowLjkwfSlgKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBkMy5zY2FsZUJhbmQoKVxyXG4gICAgICAgICAgICAuZG9tYWluKGRhdGEubWFwKGVsZW0gPT4gZWxlbS55ZWFyKSlcclxuICAgICAgICAgICAgLnJhbmdlKFt0aGlzLmNoYXJ0V2lkdGgqMC4wNSwgd2lkdGhdKTtcclxuXHJcbiAgICAgICAgY29uc3QgYXhpcyA9IGQzLmF4aXNCb3R0b20oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2NhbGUoc2NhbGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aWNrU2l6ZU91dGVyKDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aWNrVmFsdWVzKHNjYWxlLmRvbWFpbigpLmZpbHRlcigoZCxpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGkrMTApJTIwID09PSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpY2tGb3JtYXQoKGQsaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuc3BsaXQoJy0nKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgeEF4aXNHcm91cC5jYWxsKGF4aXMpXHJcbiAgICAgICAgICAgIC5jYWxsKGcgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGlja0dyb3VwcyA9IGcuc2VsZWN0QWxsKFwiLnRpY2tcIik7XHJcbiAgICAgICAgICAgICAgICB0aWNrR3JvdXBzLnNlbGVjdCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDQwMClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ2dyYXBoaWsnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzE0cHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIChkLGkpID0+IGkgPT09IHRpY2tHcm91cHMubm9kZXMoKS5sZW5ndGgtMSA/IFwiZW5kXCIgOiBcIm1pZGRsZVwiKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHNjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtkMy5TZWxlY3Rpb259IGNvbnRhaW5lciBkMyBzZWxlY3Rpb25cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCB3aWR0aCBvZiB0aGUgY2hhcnRcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIGRhdGEgT2JqIGNvbnRhaW5pbmcgc2VyaWVzIGFuZCBkb21haW5zXHJcbiAgICAgKi9cclxuICAgICBkcmF3WUF4aXMoY29udGFpbmVyLCBoZWlnaHQpe1xyXG5cclxuICAgICAgICBjb25zdCB5QXhpc0dyb3VwID0gY29udGFpbmVyLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICd5QXhpc0dyb3VwJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLmNoYXJ0V2lkdGgqMC4wNX0sJHswfSlgKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpXHJcbiAgICAgICAgICAgIC5kb21haW4oWzEyLC0xMl0pXHJcbiAgICAgICAgICAgIC5yYW5nZShbMCxoZWlnaHQqMC45MF0pO1xyXG5cclxuICAgICAgICBjb25zdCBheGlzID0gZDMuYXhpc0xlZnQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2NhbGUoc2NhbGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aWNrU2l6ZU91dGVyKDApO1xyXG4gICAgICAgIHlBeGlzR3JvdXAuY2FsbChheGlzKVxyXG4gICAgICAgICAgICAuY2FsbChnID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tHcm91cHMgPSBnLnNlbGVjdEFsbChcIi50aWNrXCIpO1xyXG4gICAgICAgICAgICAgICAgdGlja0dyb3Vwcy5zZWxlY3QoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA0MDApXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LWZhbWlseScsICdncmFwaGlrJylcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMnB0Jyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3JvdGF0ZSgtOTApJylcclxuICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAtc2NhbGUoMCkpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCItM2VtXCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTJwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnZ3JhcGhpaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCAnNjAwJylcclxuICAgICAgICAgICAgLnRleHQoXCJGbHV4IGRlIENPMiAoR3RDIC8gYW5uw6llKVwiKTtcclxuICAgICAgICByZXR1cm4gc2NhbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0FyZWFzKGNvbnRhaW5lciwgeFNjYWxlLCB5U2NhbGUpe1xyXG5cclxuICAgICAgICBsZXQgcG9zaXRpdmVfcGF0aHNfYXJyYXkgPSB7fTtcclxuICAgICAgICBsZXQgbmVnYXRpdmVfcGF0aHNfYXJyYXkgPSB7fTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zRGF0YSA9IHRoaXMuZGF0YS5tYXAoeWVhckRhdGEgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcG9zRWxlbXMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGN1clRvdGFsID0gMDtcclxuICAgICAgICAgICAgbGV0IGN1clllYXIgPSB5ZWFyRGF0YS55ZWFyO1xyXG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyh5ZWFyRGF0YSkuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICBpZihjdXJFbGVtPjAgJiYgZW50cnlbMF0gIT09IFwieWVhclwiKXtcclxuICAgICAgICAgICAgICAgICAgICBwb3NFbGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZW50cnlbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRyeVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90OiBjdXJUb3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1clRvdGFsICs9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZihlbnRyeVswXSA9PT0gXCJjZW1lbnRfc2lua1wiKXsgLy8gQWRkIGNlbWVudCBzaW5rIHRvIHJlbW92ZSBpdCBhZnRlcndhcmRzIChpbiBmb3NzaWwgZnVlbCkgIFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc0VsZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVudHJ5WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0VsZW1zLnNvcnQoKGEsYikgPT4gcG9zaXRpdmVPcmRlckRpY3RbYS50eXBlXSAtIHBvc2l0aXZlT3JkZXJEaWN0W2IudHlwZV0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBuZWdEYXRhID0gdGhpcy5kYXRhLm1hcCh5ZWFyRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBuZWdFbGVtcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgY3VyVG90YWwgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY3VyWWVhciA9IHllYXJEYXRhLnllYXI7XHJcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHllYXJEYXRhKS5zb3J0KChhLGIpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZWdhdGl2ZU9yZGVyRGljdFthWzBdXSAtIG5lZ2F0aXZlT3JkZXJEaWN0W2JbMF1dO1xyXG4gICAgICAgICAgICB9KS5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgIGlmKGN1ckVsZW08MCAmJiBlbnRyeVswXSAhPT0gXCJ5ZWFyXCIgJiYgZW50cnlbMF0gIT09IFwiY2VtZW50X3NpbmtcIiApe1xyXG4gICAgICAgICAgICAgICAgICAgIG5lZ0VsZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVudHJ5WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGN1clRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyVG90YWwgKz0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiBuZWdFbGVtczsvLy5zb3J0KChhLGIpID0+IG5lZ2F0aXZlT3JkZXJEaWN0W2EudHlwZV0gLSBuZWdhdGl2ZU9yZGVyRGljdFtiLnR5cGVdKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ2dvdCBuZWdEYXRhOiAnLCBuZWdEYXRhKTtcclxuXHJcbiAgICAgICAgbGV0IGFyZWFHZW4gPSBkMy5hcmVhKClcclxuICAgICAgICAgICAgLngoZCA9PiB4U2NhbGUoZC5jdXJZZWFyKSlcclxuICAgICAgICAgICAgLnkwKGQgPT4geVNjYWxlKGQuY3VyVG90KSlcclxuICAgICAgICAgICAgLnkxKGQgPT4geVNjYWxlKGQuY3VyVG90K2QudmFsdWUpKTtcclxuICAgICAgICBPYmplY3QuZW50cmllcyhwb3NpdGl2ZU9yZGVyRGljdCkuZm9yRWFjaChvcmRlck9iaiA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3VyS2V5ID0gb3JkZXJPYmpbMF07XHJcbiAgICAgICAgICAgIGxldCBjdXJPcmRlclZhbHVlID0gb3JkZXJPYmpbMV07XHJcbiAgICAgICAgICAgIGxldCBjdXJQYXRoQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgcG9zRGF0YS5mb3JFYWNoKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0geWVhckRhdGFbMF07XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyWWVhciA9IGN1ckVsZW1bJ2N1clllYXInXTtcclxuICAgICAgICAgICAgICAgIGxldCBrZXlPYmogPSB5ZWFyRGF0YS5maWx0ZXIoZWxlbSA9PiBjdXJLZXkgPT09IGVsZW0udHlwZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2VtZW50T2JqID0geWVhckRhdGEuZmlsdGVyKGVsZW0gPT4gJ2NlbWVudF9zaW5rJyA9PT0gZWxlbS50eXBlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoa2V5T2JqLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VyS2V5ID09PSBcImZvc3NpbF9lbWlzc2lvbnNcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clBhdGhBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGN1cktleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGtleU9ialswXS5jdXJUb3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToga2V5T2JqWzBdLnZhbHVlIC0gTWF0aC5hYnMoY2VtZW50T2JqWzBdLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clBhdGhBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGN1cktleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGtleU9ialswXS5jdXJUb3QtIE1hdGguYWJzKGNlbWVudE9ialswXS52YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToga2V5T2JqWzBdLnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgemVyb1xyXG4gICAgICAgICAgICAgICAgICAgIGN1clBhdGhBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY3VyS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwb3NpdGl2ZV9wYXRoc19hcnJheVtjdXJLZXldID0gY3VyUGF0aEFycmF5O1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IHBvc2l0aXZlUGF0aHMgPSB0aGlzLm1haW5Hcm91cC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCAncG9zaXRpdmVQYXRocycpO1xyXG5cclxuICAgICAgICBPYmplY3QuZW50cmllcyhwb3NpdGl2ZV9wYXRoc19hcnJheSkuZm9yRWFjaChjYXRlZ29yeU9iaiA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJLZXkgPSBjYXRlZ29yeU9ialswXTtcclxuICAgICAgICAgICAgbGV0IGN1ckFycmF5ID0gY2F0ZWdvcnlPYmpbMV07XHJcblxyXG4gICAgICAgICAgICBwb3NpdGl2ZVBhdGhzLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaWQnLCBjdXJLZXkpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAgICAgICAgIC5kYXR1bShjdXJBcnJheSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgY29sb3JEaWN0W2N1cktleV0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCBkID0+IGFyZWFHZW4oZCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBPYmplY3QuZW50cmllcyhuZWdhdGl2ZU9yZGVyRGljdCkuc29ydCgoYSxiKSA9PiBiWzFdIC0gYVsxXSkuZm9yRWFjaChvcmRlck9iaiA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3VyS2V5ID0gb3JkZXJPYmpbMF07XHJcbiAgICAgICAgICAgIGxldCBjdXJPcmRlclZhbHVlID0gb3JkZXJPYmpbMV07XHJcbiAgICAgICAgICAgIGxldCBjdXJQYXRoQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIG5lZ0RhdGEuZm9yRWFjaCh5ZWFyRGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyRWxlbSA9IHllYXJEYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1clllYXIgPSBjdXJFbGVtWydjdXJZZWFyJ107XHJcbiAgICAgICAgICAgICAgICBsZXQga2V5T2JqID0geWVhckRhdGEuZmlsdGVyKGVsZW0gPT4gY3VyS2V5ID09PSBlbGVtLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaWYoa2V5T2JqLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyUGF0aEFycmF5LnB1c2goa2V5T2JqWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgemVyb1xyXG4gICAgICAgICAgICAgICAgICAgIGN1clBhdGhBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY3VyS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZWdhdGl2ZV9wYXRoc19hcnJheVtjdXJLZXldID0gY3VyUGF0aEFycmF5O1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IG5lZ2F0aXZlUGF0aHMgPSB0aGlzLm1haW5Hcm91cC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCAnbmVnYXRpdmVwYXRocycpO1xyXG5cclxuICAgICAgICBPYmplY3QuZW50cmllcyhuZWdhdGl2ZV9wYXRoc19hcnJheSkuZm9yRWFjaChjYXRlZ29yeU9iaiA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJLZXkgPSBjYXRlZ29yeU9ialswXTtcclxuICAgICAgICAgICAgbGV0IGN1ckFycmF5ID0gY2F0ZWdvcnlPYmpbMV07XHJcblxyXG4gICAgICAgICAgICBuZWdhdGl2ZVBhdGhzLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaWQnLCBjdXJLZXkpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAgICAgICAgIC5kYXR1bShjdXJBcnJheSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgY29sb3JEaWN0W2N1cktleV0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCBkID0+IGFyZWFHZW4oZCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBEcmF3IGxpbmVcclxuICAgICAgICBjb25zdCBsaW5lR2VuID0gZDMubGluZSgpLngoZCA9PiB4U2NhbGUoZC55ZWFyKSkueShkID0+IHlTY2FsZShkLnZhbHVlKSk7XHJcblxyXG4gICAgICAgIGxldCBuZWdZZWFyVG90YWwgPSBbXTtcclxuICAgICAgICBsZXQgcG9zWWVhclRvdGFsID0gW107XHJcbiAgICAgICAgcG9zRGF0YS5mb3JFYWNoKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgbGV0IGluaXRWYWx1ZSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjdXJWYWx1ZSA9IHllYXJEYXRhLnJlZHVjZSgocHJldlZhbCxjdXJWYWwpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZWR1Y2luZy4uLicsIHByZXZWYWwgLCBjdXJWYWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXZWYWwgKyBjdXJWYWwudmFsdWU7XHJcbiAgICAgICAgICAgIH0sIGluaXRWYWx1ZSk7XHJcbiAgICAgICAgICAgIG5lZ1llYXJUb3RhbC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHllYXI6IHllYXJEYXRhWzBdLmN1clllYXIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogLWN1clZhbHVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwb3NZZWFyVG90YWwucHVzaChcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyRGF0YVswXS5jdXJZZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdXJWYWx1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3llYXIgdG90YWw6JywgKTtcclxuXHJcbiAgICAgICAgdmFyIHBvc2xpbmUgPSBkMy5zZWxlY3QoJ3N2ZycpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuZGF0dW0ocG9zWWVhclRvdGFsKVxyXG4gICAgICAgICAgICAuYXR0cignZCcsIGxpbmVHZW4pXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2hhcnRXaWR0aCowLjA1ICsgeFNjYWxlLmJhbmR3aWR0aCgpfSwke01hdGguYWJzKHlTY2FsZSgyKjAuNzQpLXlTY2FsZSgwKSl9KWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBuZWdsaW5lID0gZDMuc2VsZWN0KCdzdmcnKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAgICAgLmRhdHVtKG5lZ1llYXJUb3RhbClcclxuICAgICAgICAgICAgLmF0dHIoJ2QnLCBsaW5lR2VuKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlLWRhc2hhcnJheVwiLCAoXCIzLCAzXCIpKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuY2hhcnRXaWR0aCowLjA1ICsgeFNjYWxlLmJhbmR3aWR0aCgpfSwke01hdGguYWJzKHlTY2FsZSgyKjAuNzQpLXlTY2FsZSgwKSl9KWApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkcmF3VGl0bGUoY29udGFpbmVyKXtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCAodGhpcy5zdmdXaWR0aCAtIHRoaXMuY2hhcnRXaWR0aCkgLyAyICsgdGhpcy5jaGFydFdpZHRoKjAuMDUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgKHRoaXMuc3ZnSGVpZ2h0IC0gdGhpcy5jaGFydEhlaWdodCkvMiAtIDUwKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzE3cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ2dyYXBoaWsnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgJzYwMCcpXHJcbiAgICAgICAgICAgIC50ZXh0KFwiTGUgdGl0cmUgZHUgZ3JhcGhpcXVlXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsKHRoaXMuc3ZnV2lkdGggLSB0aGlzLmNoYXJ0V2lkdGgpIC8gMiArIHRoaXMuY2hhcnRXaWR0aCowLjA1KVxyXG4gICAgICAgICAgICAuYXR0cigneScsICh0aGlzLnN2Z0hlaWdodCAtIHRoaXMuY2hhcnRIZWlnaHQpLzIgLSAyNSlcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxM3B0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LWZhbWlseScsICdncmFwaGlrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsICc0MDAnKVxyXG4gICAgICAgICAgICAudGV4dChcIkxlIHNvdXMtdGl0cmUgZHUgZ3JhcGhpcXVlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdCb3R0b21Cb3goY29udGFpbmVyLCB3aWR0aCl7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnc3Rva2Utd2lkdGgnLCAxKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwLjMpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieDFcIiwgdGhpcy5jaGFydFdpZHRoKjAuMDUpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgdGhpcy5jaGFydEhlaWdodC0zMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCB0aGlzLmNoYXJ0V2lkdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgdGhpcy5jaGFydEhlaWdodC0zMCk7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY2hhcnRXaWR0aCowLjA1KVxyXG4gICAgICAgICAgICAuYXR0cigneScsIHRoaXMuY2hhcnRIZWlnaHQtMTcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA2MDApXHJcbiAgICAgICAgICAgIC50ZXh0KCdHcmFwaGlxdWUgOicpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RzcGFuJylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLmNoYXJ0V2lkdGgqMC4wNSsgNjUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jaGFydEhlaWdodC0xNylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDQwMClcclxuICAgICAgICAgICAgLnRleHQoJ0xlIERldm9pciAtICcpO1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHRoaXMuY2hhcnRXaWR0aCowLjA1ICsgMTIyKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIHRoaXMuY2hhcnRIZWlnaHQtMTcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA2MDApXHJcbiAgICAgICAgICAgIC50ZXh0KCdTb3VyY2UgOicpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RzcGFuJylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLmNoYXJ0V2lkdGgqMC4wNSArIDE2OSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLmNoYXJ0SGVpZ2h0LTE3KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNDAwKVxyXG4gICAgICAgICAgICAudGV4dCgnIC4uLiAnKTtcclxuXHJcbiAgICAgICAgLy8gY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLy8gICAgIC5hdHRyKCd4JywgdGhpcy5zdmdXaWR0aCowLjEpXHJcbiAgICAgICAgLy8gICAgIC5hdHRyKCd5JywgdGhpcy5zdmdIZWlnaHQqMC45NTEpXHJcbiAgICAgICAgLy8gICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgLy8gICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA2MDApXHJcbiAgICAgICAgLy8gICAgIC50ZXh0KCdOb3RlIDonKVxyXG4gICAgICAgIC8vICAgICAuYXBwZW5kKCd0c3BhbicpXHJcbiAgICAgICAgLy8gICAgIC5hdHRyKCd4JywgdGhpcy5zdmdXaWR0aCowLjErMzUpXHJcbiAgICAgICAgLy8gICAgIC5hdHRyKCd5JywgdGhpcy5zdmdIZWlnaHQqMC45NTEpXHJcbiAgICAgICAgLy8gICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgLy8gICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA0MDApXHJcbiAgICAgICAgLy8gICAgIC50ZXh0KCdEb25uw6llcyBjb2xsZWN0w6llcyBkZXB1aXMgaHR0cHM6Ly9kb25uZWVzLm1vbnRyZWFsLmNhL3ZpbGxlLWRlLW1vbnRyZWFsL2NvbXB0YWdlLXZlaGljdWxlcy1waWV0b25zJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0RldGFpbHMoY29udGFpbmVyLCBsZWdlbmREYXRhKXtcclxuXHJcbiAgICAgICAgY29uc3QgbGVnZW5kQ29udGFpbmVyID0gY29udGFpbmVyLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdsZWdlbmRDb250YWluZXInKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgkeyh0aGlzLnN2Z1dpZHRoIC0gdGhpcy5jaGFydFdpZHRoKSAvIDIgKyAodGhpcy5jaGFydFdpZHRoKjAuMDUgKyAxMCl9LCR7dGhpcy5zdmdIZWlnaHQqMC4wN30pYCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJvd3MgPSBsZWdlbmRDb250YWluZXIuc2VsZWN0QWxsKCdnJylcclxuICAgICAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdsZWdlbmRSb3cnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsaSkgPT4gYHRyYW5zbGF0ZSgwLCR7aSoyMH0pYCk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHJvd3MuYXBwZW5kKCdjaXJjbGUnKVxyXG4gICAgICAgICAgICAuYXR0cignY3gnLCAwKVxyXG4gICAgICAgICAgICAuYXR0cignY3knLCAwKVxyXG4gICAgICAgICAgICAuYXR0cigncicsIDgpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiBjb2xvckRpY3RbZC5jb2xvcl0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICByb3dzLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgMTgpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgNClcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDUwMClcclxuICAgICAgICAgICAgLnRleHQoIGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQubGFiZWw7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkcmF3UmVjdGFuZ2xlcyhjb250YWluZXIsIHhTY2FsZSwgeVNjYWxlKXsgLy8gbm90IHVzZWRcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpdmVBcmVhR3JvdXAgPSBjb250YWluZXIuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignaWQnLCAncG9zQXJlYWdyb3VwJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCR7MH0pYCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5lZ2F0aXZlQXJlYUdyb3VwID0gY29udGFpbmVyLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ25lZ0FyZWFncm91cCcpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwkezB9KWApO1xyXG5cclxuICAgICAgICBjb25zdCBwb3NZZWFyR3JvdXBzID0gcG9zaXRpdmVBcmVhR3JvdXAuc2VsZWN0QWxsKCdnJylcclxuICAgICAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBgeWVhcl8ke2QueWVhcn1gKTtcclxuICAgICAgICBjb25zdCBwb3NSZWN0cyA9IHBvc1llYXJHcm91cHMuc2VsZWN0QWxsKCdyZWN0JylcclxuICAgICAgICAgICAgLmRhdGEoZCA9PiB7IFxyXG4gICAgICAgICAgICAgICAgbGV0IHBvc0VsZW1zID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyVG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1clllYXIgPSBkLnllYXI7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhkKS5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VyRWxlbT4wICYmIGVudHJ5WzBdICE9PSBcInllYXJcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc0VsZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZW50cnlbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnlbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGN1clRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90YWwgKz0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NFbGVtcy5zb3J0KChhLGIpID0+IHBvc2l0aXZlT3JkZXJEaWN0W2EudHlwZV0gLSBwb3NpdGl2ZU9yZGVyRGljdFtiLnR5cGVdKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGQgPT4gYCR7ZC50eXBlfV8ke2QudmFsdWV9YClcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgeFNjYWxlLmJhbmR3aWR0aCgpKVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgKGQsaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHlTY2FsZSgwKSAtIHlTY2FsZShkLnZhbHVlKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZCA9PiB4U2NhbGUoZC5jdXJZZWFyKSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCBkID0+ICh5U2NhbGUoMCkgLSAoTWF0aC5hYnMoeVNjYWxlKDApIC0geVNjYWxlKGQudmFsdWUpKSkgLSAoTWF0aC5hYnMoeVNjYWxlKDApIC0geVNjYWxlKGQuY3VyVG90KSkpKSlcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IGNvbG9yRGljdFtkLnR5cGVdKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmVnYXRpdmVZZWFyR3JvdXBzID0gbmVnYXRpdmVBcmVhR3JvdXAuc2VsZWN0QWxsKCdnJylcclxuICAgICAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZCA9PiBgeWVhcl8ke2QueWVhcn1gKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmVnUmVjdHMgPSBuZWdhdGl2ZVllYXJHcm91cHMuc2VsZWN0QWxsKCdyZWN0JylcclxuICAgICAgICAgICAgLmRhdGEoZCA9PiB7IFxyXG4gICAgICAgICAgICAgICAgbGV0IG5lZ0VsZW1zID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyVG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1clllYXIgPSBkLnllYXI7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhkKS5maWx0ZXIoZWxlbSA9PiBlbGVtWzFdPDApLnNvcnQoKGEsYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFWYWwgPSBuZWdhdGl2ZU9yZGVyRGljdFthWzBdXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiVmFsID0gbmVnYXRpdmVPcmRlckRpY3RbYlswXV07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFWYWwgLSBiVmFsO1xyXG4gICAgICAgICAgICAgICAgfSkuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyRWxlbSA9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVudHJ5WzBdICE9PSBcInllYXJcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZ0VsZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZW50cnlbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnlbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb3Q6IGN1clRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90YWwgKz0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZWdFbGVtcztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGQgPT4gYCR7ZC50eXBlfV8ke2QudmFsdWV9YClcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgeFNjYWxlLmJhbmR3aWR0aCgpKVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgKGQsaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHlTY2FsZSgwKSAtIHlTY2FsZShNYXRoLmFicyhkLnZhbHVlKSkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIGQgPT4geFNjYWxlKGQuY3VyWWVhcikpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgZCA9PiAoeVNjYWxlKGQuY3VyVG90KSkpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiBjb2xvckRpY3RbZC50eXBlXSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcclxuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEdhdWdlcyhwcm9wcyl7XHJcbiAgY29uc29sZS5sb2cocHJvcHMpXHJcbiAgY29uc3QgbWF4V2lkdGhWYWx1ZSA9IDUwO1xyXG4gIGNvbnN0IGNhbGN1bGF0ZUdhdWdlV2lkdGggPSAoKSA9PiB7XHJcbiAgICBjb25zdCBnYXVnZXNFbGVtcyA9IGQzLnNlbGVjdCgnLmdhdWdlcycpLnNlbGVjdEFsbCgnLmdhdWdlJyk7XHJcbiAgICBnYXVnZXNFbGVtcy5ub2RlcygpLmZvckVhY2goKG5vZGUpID0+IHtcclxuICAgICAgbGV0IGN1cldpZHRoID0gbWF4V2lkdGhWYWx1ZTtcclxuICAgICAgaWYoZDMuc2VsZWN0KG5vZGUpLmF0dHIoJ2lkJykgPT09IFwiZG9sbGFyc1wiKXtcclxuICAgICAgICBjdXJXaWR0aCA9IHByb3BzLmRvbGxhcnM7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgY29tbWl0dGVkVmFsdWUgPSBjdXJXaWR0aCA+IDAgPyBNYXRoLnJvdW5kKHByb3BzLmNvbW1pdHRlZC9tYXhXaWR0aFZhbHVlKjEwMCkgOiAwO1xyXG4gICAgICBjb25zdCBnYXVnZVZhbHVlID0gY3VyV2lkdGggPiAwID8gTWF0aC5yb3VuZChjdXJXaWR0aC9tYXhXaWR0aFZhbHVlKjEwMCkgOiAwO1xyXG4gICAgICBkMy5zZWxlY3Qobm9kZSkuc2VsZWN0KCcuZ2F1Z2VDb2xvckhvbGRlcicpLnNlbGVjdCgnLmNvbW1pdHRlZCcpLnN0eWxlKCd3aWR0aCcsIGAke2NvbW1pdHRlZFZhbHVlfSVgKTtcclxuICAgICAgZDMuc2VsZWN0KG5vZGUpLnNlbGVjdCgnLmdhdWdlQ29sb3InKS5zdHlsZSgnd2lkdGgnLCBgJHtnYXVnZVZhbHVlfSVgKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbmRlckpldG9uVGV4dCA9IChqZXRvbnNWYWx1ZSkgPT4ge1xyXG4gICAgaWYoTWF0aC5hYnMoamV0b25zVmFsdWUpPjEpe1xyXG4gICAgICByZXR1cm4gYCR7amV0b25zVmFsdWV9Jm5ic3A7amV0b25zYDtcclxuICAgIH1cclxuICAgIHJldHVybiBgJHtqZXRvbnNWYWx1ZX0mbmJzcDtqZXRvbmA7XHJcbiAgfVxyXG5cclxuICB1c2VFZmZlY3QoICgpID0+IHtcclxuICAgIGNhbGN1bGF0ZUdhdWdlV2lkdGgoKTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2F1Z2VzXCI+XHJcbiAgICAgIDxkaXYgaWQ9XCJkb2xsYXJzXCIgY2xhc3NOYW1lPVwiZ2F1Z2UgZG9sbGFyR2F1Z2VcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGdhdWdlQ29sb3JIb2xkZXIgJHtwcm9wcy5kb2xsYXJzIDwgMCA/IFwicmVkXCI6XCJcIn1gfT5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZ2F1Z2VDb2xvciAke3Byb3BzLmRvbGxhcnMgPCAwID8gXCJyZWRcIjpcImJsdWVcIn1gfT5cclxuXHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHtwcm9wcy5jb21taXR0ZWQgIT0gMCA/XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGNvbW1pdHRlZCAke3Byb3BzLmRvbGxhcnMgPCAwID8gXCJyZWRcIjpcImJsdWVcIn1gfT5cclxuICAgICAgICAgICAgICB7LyogPHA+e3Byb3BzLmNvbW1pdHRlZH08L3A+ICovfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA6XCJcIlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBwcm9wcy5taXNzaW9uID9cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2YWx1ZSBhcnJvd0dhdWdlXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYWJlbEhvbGRlclwiPlxyXG4gICAgICAgICAgICAgICAgPHA+PGI+QnVkZ2V0Jm5ic3A7dG90YWw8L2I+PC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFycm93XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjdFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlY3QtMVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlY3QtMlwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxhYmVsSG9sZGVyXCIgc3R5bGU9e3tcInRleHRBbGlnblwiOiBcInJpZ2h0XCJ9fT5cclxuICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7XCJwYWRkaW5nUmlnaHRcIjogXCI3cHhcIn19PjxiPntwYXJzZShyZW5kZXJKZXRvblRleHQocHJvcHMuZG9sbGFycykpfTwvYj48L3A+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmFsdWUgYmFzaWNHYXVnZVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYWJlbEhvbGRlclwiPlxyXG4gICAgICAgICAgICAgICAgPHA+PGI+QnVkZ2V0PC9iPjwvcD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxhYmVsSG9sZGVyXCIgc3R5bGU9e3tcInRleHRBbGlnblwiOiBcInJpZ2h0XCJ9fT5cclxuICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7XCJwYWRkaW5nUmlnaHRcIjogXCI3cHhcIn19PjxiPntwYXJzZShyZW5kZXJKZXRvblRleHQocHJvcHMuZG9sbGFycykpfTwvYj48L3A+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAvLyA8ZGl2IGNsYXNzTmFtZT1cInZhbHVlXCI+XHJcbiAgICAgICAgICAgIC8vICAgPHA+PGI+QnVkZ2V0Jm5ic3A7e3BhcnNlKHJlbmRlckpldG9uVGV4dChwcm9wcy5kb2xsYXJzKSl9PC9iPjwvcD5cclxuICAgICAgICAgICAgLy8gPC9kaXY+XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG5cclxufVxyXG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFja30gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnRyb0JveChwcm9wcyl7XG5cbiAgY29uc3Qgc3RhcnRHYW1lID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnc3RhcnRpbmcgZ2FtZScpO1xuICAgIHByb3BzLmdhbWVTdGFydCgpO1xuICB9KTtcblxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJnYW1lQm94IHRyYW5zcGFyZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImludHJvQm94XCI+XG4gICAgICAgIHtwcm9wcy5pbnRyb0VsZW19XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlckJveFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0YXJ0YnV0dG9uXCIgb25DbGljaz17c3RhcnRHYW1lfT5cbiAgICAgICAgICA8cD5Db21tZW5jZXIgbGUgamV1PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gIClcblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlRWZmZWN0fSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgR2F1Z2VzIH0gZnJvbSBcIi4vR2F1Z2VzXCI7XHJcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1vbml0b3JpbmcocHJvcHMpe1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYocHJvcHMudHJhbnNpdGlvbil7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGQzLnNlbGVjdChcIi5tb25pdG9yaW5nX3ZhbHVlXCIpLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbigxMDAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpO1xyXG4gICAgICB9LDIwMCk7XHJcbiAgICB9XHJcblxyXG4gIH0sW10pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9uaXRvcmluZ19jb250ZW50XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgbW9uaXRvcmluZ192YWx1ZSAke3Byb3BzLnRyYW5zaXRpb24gPyBcInRyYW5zaXRpb25cIjogXCJcIn1gfT5cclxuICAgICAgICAgICAgPEdhdWdlcyBtaXNzaW9uPXtwcm9wcy5taXNzaW9ufSBkb2xsYXJzPXtwcm9wcy5kb2xsYXJzfSBjb21taXR0ZWQ9e3Byb3BzLmNvbW1pdHRlZH0vPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgeyBwcm9wcy50ZXJhd2F0dHMgfHwgcHJvcHMudGVyYXdhdHRzID09PSAwID9cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vbml0b3JpbmdfY29udGVudFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nX2hlYWRlclwiPlxyXG4gICAgICAgICAgICAgIDxoNT48Yj7DiWxlY3RyaWNpdMOpIHByb2R1aXRlPC9iPiZuYnNwOyYjODIyNjsmbmJzcDt7cHJvcHMudGVyYXdhdHRzfSZuYnNwO1RXaDwvaDU+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgOlxyXG4gICAgICAgIDxkaXY+PC9kaXY+XHJcbiAgICAgIH1cclxuICAgIDwvZGl2PlxyXG5cclxuICApXHJcbn1cclxuIiwiXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUGVyZm9ybWFuY2UoY2hvaWNlc192YWx1ZXMpe1xuICByZXR1cm4gY2hvaWNlc192YWx1ZXMuc3BsaXQoJ18nKS5zbGljZSgxKS5tYXAoZWxlbSA9PiBwYXJzZUludChlbGVtKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JyZWN0SWNvblNvdXJjZShpZHgpe1xuXG4gIGNvbnN0IGljb25MaXN0ID0gW1xuICAgIFwiSHlkcm8uc3ZnXCIsXG4gICAgXCJFb2xpZW4uc3ZnXCIsXG4gICAgXCJOdWNsZWFpcmUuc3ZnXCIsXG4gICAgXCJTb2xhaXJlLnN2Z1wiLFxuICAgIFwiTW9kZXJuaXNhdGlvbi5zdmdcIlxuICBdO1xuICByZXR1cm4gaWNvbkxpc3RbaWR4XTtcbn1cblxuZXhwb3J0IGNvbnN0IHJlbmRlclNpZ24gPSAodmFsdWUpID0+IHtcbiAgcmV0dXJuIHBhcnNlSW50KHZhbHVlKSA9PT0gMCA/XG4gICAgXCJcIlxuICAgIDpcbiAgICBwYXJzZUludCh2YWx1ZSkgPCAwID9cbiAgICAgIFwiXCJcbiAgICAgIDpcbiAgICAgIFwiK1wiO1xufTtcbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE1vbml0b3JpbmcgfSBmcm9tIFwiLi4vZ2F1Z2VzL01vbml0b3JpbmdcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZVBlcmZvcm1hbmNlLCByZW5kZXJTaWduIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ2hvaWNlKHByb3BzKXtcblxuXG4gIGNvbnN0IFtzZWxlY3Rpb24sIHNldFNlbGVjdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGlvbmJ1dHRvbnMgPSBkMy5zZWxlY3RBbGwoJy5jaG9pY2VidXR0b24nKTtcbiAgICBzZWxlY3Rpb25idXR0b25zLnNlbGVjdCgnLmJ1dG4nKS5jbGFzc2VkKCdzZWxlY3RlZCcsIGZhbHNlKTtcbiAgICBpZihzZWxlY3Rpb24pe1xuICAgICAgZDMuc2VsZWN0KHNlbGVjdGlvbi5vYmopLnNlbGVjdCgnLmJ1dG4nKS5jbGFzc2VkKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgICAgc2VsZWN0aW9uYnV0dG9ucy5zZWxlY3QoJy5idXRuJykuc3R5bGUoJ29wYWNpdHknLCBcIjAuNVwiKTtcbiAgICAgIGQzLnNlbGVjdChzZWxlY3Rpb24ub2JqKS5zZWxlY3QoJy5idXRuJykuc3R5bGUoJ29wYWNpdHknLCBcIjFcIik7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBzZWxlY3Rpb25idXR0b25zLnNlbGVjdCgnLmJ1dG4nKS5zdHlsZSgnb3BhY2l0eScsIFwiMVwiKTtcbiAgICB9XG5cbiAgfSxbc2VsZWN0aW9uXSlcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jIChjb3N0LCBwZXJmb3JtYW5jZSwgaW5kZXgpID0+IHtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXSkuc3BsaXQoXCI7XCIpO1xuICAgIGlmKHRyaWdnZXJOZXh0Lmxlbmd0aCA+IDEpe1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KFN0cmluZyh0cmlnZ2VyTmV4dFtpbmRleF0pLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpKTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChTdHJpbmcodHJpZ2dlck5leHRbMF0pLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpKTtcbiAgICB9XG5cbiAgICBpZihwcm9wcy5jdXJQcm9tcHRbXCJJRFwiXSA9PT0gXCJRMlwiICYmIGluZGV4ID09PSAwKXtcbiAgICAgIHByb3BzLnVwZGF0ZU1lbW9yeU9iaihcImludmVzdGVkTW9kZXJuaXphdGlvblwiLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZihwcm9wcy5jdXJQcm9tcHRbXCJJRFwiXSA9PT0gXCJRNlwiICYmIGluZGV4ID09PSAwKXtcbiAgICAgIC8vQWNjZXB0ZWQgQ2h1cmNoaWxsIEZhbGxzIGRlYWwsIHJlZ2lzdGVyIGFjdGlvblxuICAgICAgcHJvcHMudXBkYXRlTWVtb3J5T2JqKFwiYWNjZXB0ZWRDaHVyY2hpbGxGYWxsc0RlYWxcIiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcHJvcHMudXBkYXRlRG9sbGFycyhwYXJzZUludChjb3N0KSk7XG4gICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UocGVyZm9ybWFuY2UpO1xuICAgIHNldFNlbGVjdGlvbihudWxsKTtcbiAgfSk7XG5cbiAgY29uc3QgcHJldmlvdXNQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XG4gICAgICBjb25zb2xlLmxvZygncHJldmlvdXMgcHJvbXB0IScsIHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICB9XG4gICAgc2V0U2VsZWN0aW9uKG51bGwpO1xuICB9KTtcblxuICBjb25zdCB1cGRhdGVTZWxlY3RlZCA9IChldmVudCwgY29zdCwgcGVyZm9ybWFuY2UsIGluZGV4KSA9PiB7XG4gICAgc2V0U2VsZWN0aW9uKHtcbiAgICAgIG9iajogZXZlbnQudGFyZ2V0LFxuICAgICAgY29zdDogcGFyc2VJbnQoY29zdCksXG4gICAgICBwZXJmb3JtYW5jZTogcGVyZm9ybWFuY2UsXG4gICAgICBpbmRleDogaW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHJlbmRlckpldG9uVGV4dCA9IChqZXRvblZhbHVlKSA9PiB7XG4gICAgaWYoTWF0aC5hYnMoamV0b25WYWx1ZSk+MSl7XG4gICAgICByZXR1cm4gYCR7cmVuZGVyU2lnbihqZXRvblZhbHVlKX0ke01hdGguYWJzKGpldG9uVmFsdWUpfSZuYnNwO0pFVE9OU2A7XG4gICAgfVxuICAgIHJldHVybiBgJHtyZW5kZXJTaWduKGpldG9uVmFsdWUpfSR7TWF0aC5hYnMoamV0b25WYWx1ZSl9Jm5ic3A7SkVUT05gO1xuICB9XG5cbiAgY29uc3QgY2hlY2tJZkZ1bGxaZXJvID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvc3RzID0gcHJvcHMuY2hvaWNlc192YWx1ZXMubWFwKChlbGVtLCBpZHgpID0+IHtcbiAgICAgIHJldHVybiBwYXJzZUludChlbGVtLnNwbGl0KFwiX1wiKVswXSk7XG4gICAgfSkuZmlsdGVyKHZhbCA9PiAhTnVtYmVyLmlzTmFOKHZhbCkpO1xuICAgIHJldHVybiBjb3N0cy5ldmVyeShpdGVtID0+IGl0ZW0gPT09IDApO1xuICB9O1xuXG4gIHJldHVybihcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNob2ljZXNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHtcbiAgICAgICAgICBwcm9wcy5jaG9pY2VzLm1hcCgoY2hvaWNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNvc3QgPSBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0uc3BsaXQoJ18nKVswXTtcbiAgICAgICAgICAgIGxldCBwZXJmb3JtYW5jZSA9IGNhbGN1bGF0ZVBlcmZvcm1hbmNlKHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XSk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNob2ljZWJ1dHRvblwiIGtleT17aW5kZXh9IG9uQ2xpY2s9eyhlKSA9PiB7dXBkYXRlU2VsZWN0ZWQoZSwgY29zdCwgcGVyZm9ybWFuY2UsIGluZGV4KX19PlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9e2luZGV4fSBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9sZGVyIGljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17c2VsZWN0aW9uID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uaW5kZXggPT09IGluZGV4ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLi9hc3NldHMvaW1nL09mZi5zdmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIuL2Fzc2V0cy9pbWcvT24uc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIi4vYXNzZXRzL2ltZy9Pbi5zdmdcIn0+PC9pbWc+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhvbGRlciBsYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoND57cGFyc2UoY2hvaWNlKX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrSWZGdWxsWmVybygpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPntwYXJzZShyZW5kZXJKZXRvblRleHQoY29zdCkpfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgICAgPE1vbml0b3Jpbmcgc2hvd1RXaD17ZmFsc2V9IGRvbGxhcnM9eyhzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmhhc093blByb3BlcnR5KFwiY29zdFwiKSkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludChwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFycykgKyBwYXJzZUludChzZWxlY3Rpb24uY29zdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0dGVkPXsoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5oYXNPd25Qcm9wZXJ0eShcImNvc3RcIikgJiYgKHBhcnNlSW50KHNlbGVjdGlvbi5jb3N0KSA8IDApKSA/IE1hdGguYWJzKHNlbGVjdGlvbi5jb3N0KSA6IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlPXtwcm9wcy5nYXVnZXMucHJvcHMucGVyZm9ybWFuY2V9Lz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XG4gICAgICAgICAge3Byb3BzLmN1ckluZGV4ID4gMCA/XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjdGlvbmJ1dHRvbiBuZXh0ICR7c2VsZWN0aW9uID8gJycgOiAnZGlzYWJsZWQnfWB9IG9uQ2xpY2s9eygpID0+IHtzZWxlY3Rpb24gPyBuZXh0UHJvbXB0KHNlbGVjdGlvbi5jb3N0LCBzZWxlY3Rpb24ucGVyZm9ybWFuY2UsIHNlbGVjdGlvbi5pbmRleCkgOiBjb25zb2xlLmxvZygnRGlzYWJsZWQuJyl9fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgICA8cD5Qb3Vyc3VpdnJlPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTW9uaXRvcmluZyB9IGZyb20gXCIuLi9nYXVnZXMvTW9uaXRvcmluZ1wiO1xuaW1wb3J0IHsgY2FsY3VsYXRlUGVyZm9ybWFuY2UsIHJlbmRlclNpZ24gfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBNdWx0aVNlbGVjdGlvbihwcm9wcyl7XG5cbiAgY29uc3QgW3NlbGVjdGlvbiwgc2V0U2VsZWN0aW9uXSA9IHVzZVN0YXRlKFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gIH0sIFtzZWxlY3Rpb25dKTtcblxuICBjb25zdCByZXNldFNlbGVjdGlvbiA9ICgpID0+IHtcbiAgICBzZXRTZWxlY3Rpb24ocHJvcHMuY2hvaWNlcy5tYXAoZWxlbSA9PiBudWxsKSk7XG4gIH1cblxuICBjb25zdCBjYWxjdWxhdGVUb3RhbFNlbGVjdGlvbiA9IChzZWxlY3Rpb24pID0+IHtcbiAgICBjb25zdCBhY2NDb3N0ID0gc2VsZWN0aW9uLnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcbiAgICAgIGlmKGN1cil7XG4gICAgICAgIGFjYyArPSBjdXIuY29zdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgMCk7XG4gICAgbGV0IGFjY1BlcmZvcm1hbmNlID0gWzAsMCwwXTtcbiAgICBzZWxlY3Rpb24uZm9yRWFjaCgoY3VyLCBjb3VudCkgPT4ge1xuICAgICAgaWYoY3VyKXtcbiAgICAgICAgYWNjUGVyZm9ybWFuY2UgPSBhY2NQZXJmb3JtYW5jZS5tYXAoKGVsZW0sIGlkeCkgPT4ge1xuICAgICAgICAgIHJldHVybiBwYXJzZUludChlbGVtKSArIHBhcnNlSW50KGN1ci5wZXJmb3JtYW5jZVtpZHhdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFthY2NDb3N0LCBhY2NQZXJmb3JtYW5jZV07XG4gIH07XG5cbiAgY29uc3QgbmV4dFByb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoc2VsZWN0aW9uKSA9PiB7XG4gICAgbGV0IHRyaWdnZXJOZXh0ID0gcHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXTtcbiAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvY2Vzc1RyaWdnZXJOZXh0KHRyaWdnZXJOZXh0KSk7XG4gICAgY29uc3QgW2FjY0Nvc3QsIGFjY1BlcmZvcm1hbmNlXSA9IGNhbGN1bGF0ZVRvdGFsU2VsZWN0aW9uKHNlbGVjdGlvbik7XG5cbiAgICBwcm9wcy51cGRhdGVEb2xsYXJzKHBhcnNlSW50KGFjY0Nvc3QpKTtcbiAgICBwcm9wcy51cGRhdGVQZXJmb3JtYW5jZShhY2NQZXJmb3JtYW5jZSk7XG4gICAgcmVzZXRTZWxlY3Rpb24oKTtcbiAgfSk7XG5cbiAgY29uc3QgcHJldmlvdXNQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XG4gICAgICBjb25zb2xlLmxvZygncHJldmlvdXMgcHJvbXB0IScsIHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICB9XG4gICAgcmVzZXRTZWxlY3Rpb24oKTtcbiAgfSk7XG5cbiAgY29uc3QgdXBkYXRlU2VsZWN0ZWQgPSAoZXZlbnQsIGluZGV4LCBjb3N0LCBwZXJmb3JtYW5jZSkgPT4ge1xuICAgIGxldCBuZXdBcnJheSA9IFsuLi5zZWxlY3Rpb25dO1xuICAgIGlmKHNlbGVjdGlvbltpbmRleF0pe1xuICAgICAgLy8gVW5zZWxlY3RcbiAgICAgIG5ld0FycmF5W2luZGV4XSA9IG51bGw7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAvLyBTZWxlY3RcbiAgICAgIG5ld0FycmF5W2luZGV4XSA9IHtcbiAgICAgICAgb2JqOiBldmVudC50YXJnZXQsXG4gICAgICAgIGNvc3Q6IHBhcnNlSW50KGNvc3QpLFxuICAgICAgICBwZXJmb3JtYW5jZTogcGVyZm9ybWFuY2VcbiAgICAgIH07XG4gICAgfVxuICAgIHNldFNlbGVjdGlvbihuZXdBcnJheSk7XG4gIH1cblxuICBjb25zdCBwcm9jZXNzVHJpZ2dlck5leHQgPSAodHJpZ2dlck5leHR0b0NvbXB1dGUpID0+IHtcbiAgICBsZXQgY2hvc2VuU3RyaW5nO1xuICAgIGNvbnN0IHNwbGl0dGVkVHJpZ2dlck5leHQgPSBTdHJpbmcodHJpZ2dlck5leHR0b0NvbXB1dGUpLnNwbGl0KFwiX1wiKTtcbiAgICBjb25zdCBpbmRpdmlkdWFsVHJpZ2dlck5leHQgPSBTdHJpbmcoc3BsaXR0ZWRUcmlnZ2VyTmV4dFswXSkuc3BsaXQoXCI7XCIpO1xuICAgIGNvbnN0IGZpbHRlcmVkU2VsZWN0aW9uID0gc2VsZWN0aW9uLmZpbHRlcigoZWxlbSkgPT4gZWxlbSAhPT0gbnVsbCk7XG4gICAgaWYoc3BsaXR0ZWRUcmlnZ2VyTmV4dC5sZW5ndGggPiAxICYmIGZpbHRlcmVkU2VsZWN0aW9uLmxlbmd0aCA+IDApe1xuICAgICAgLy8gSW5kaXZpZHVhbCBhbmQgZGVmYXVsdCB2YWx1ZXMgYXJlIGF2YWlsYWJsZVxuICAgICAgaWYoZmlsdGVyZWRTZWxlY3Rpb24ubGVuZ3RoID4gMSl7XG4gICAgICAgIC8vIHJldHVybiBkZWZhdWx0IGNob2ljZVxuICAgICAgICBjaG9zZW5TdHJpbmcgPSBTdHJpbmcoc3BsaXR0ZWRUcmlnZ2VyTmV4dFsxXSk7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICBjaG9zZW5TdHJpbmcgPSBTdHJpbmcoaW5kaXZpZHVhbFRyaWdnZXJOZXh0W3NlbGVjdGlvbi5pbmRleE9mKGZpbHRlcmVkU2VsZWN0aW9uWzBdKV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgY2hvc2VuU3RyaW5nID0gU3RyaW5nKHNwbGl0dGVkVHJpZ2dlck5leHRbMF0pO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygnY2hlY2tpbmcgY2hvc2VuU3RyaW5nOicsIGNob3NlblN0cmluZyk7XG4gICAgcmV0dXJuIGNob3NlblN0cmluZy5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIlwiKTtcbiAgfVxuXG4gIGNvbnN0IHJlbmRlckpldG9uVGV4dCA9IChqZXRvblZhbHVlKSA9PiB7XG4gICAgaWYoTWF0aC5hYnMoamV0b25WYWx1ZSk+MSl7XG4gICAgICByZXR1cm4gYCR7cmVuZGVyU2lnbihqZXRvblZhbHVlKX0ke01hdGguYWJzKGpldG9uVmFsdWUpfSZuYnNwO0pFVE9OU2A7XG4gICAgfVxuICAgIHJldHVybiBgJHtyZW5kZXJTaWduKGpldG9uVmFsdWUpfSR7TWF0aC5hYnMoamV0b25WYWx1ZSl9Jm5ic3A7SkVUT05gO1xuICB9XG5cbiAgY29uc3QgY2hlY2tJZkZ1bGxaZXJvID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvc3RzID0gcHJvcHMuY2hvaWNlc192YWx1ZXMubWFwKChlbGVtLCBpZHgpID0+IHtcbiAgICAgIHJldHVybiBwYXJzZUludChlbGVtLnNwbGl0KFwiX1wiKVswXSk7XG4gICAgfSkuZmlsdGVyKHZhbCA9PiAhTnVtYmVyLmlzTmFOKHZhbCkpO1xuICAgIHJldHVybiBjb3N0cy5ldmVyeShpdGVtID0+IGl0ZW0gPT09IDApO1xuICB9O1xuXG4gIHJldHVybihcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNob2ljZXNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHtcbiAgICAgICAgICBwcm9wcy5jaG9pY2VzLm1hcCgoY2hvaWNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNvc3QgPSBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0uc3BsaXQoJ18nKVswXTtcbiAgICAgICAgICAgIGxldCBwZXJmb3JtYW5jZSA9IGNhbGN1bGF0ZVBlcmZvcm1hbmNlKHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XSk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdGlvbmJ1dHRvblwiIGtleT17aW5kZXh9IG9uQ2xpY2s9eyhlKSA9PiB7dXBkYXRlU2VsZWN0ZWQoZSwgaW5kZXgsIGNvc3QsIHBlcmZvcm1hbmNlKX19PlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9e2luZGV4fSBjbGFzc05hbWU9e2BidXRuICR7c2VsZWN0aW9uW2luZGV4XSA/ICdzZWxlY3RlZCcgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgaG9sZGVyIGljb24gJHtzZWxlY3Rpb25baW5kZXhdID8gJ3NlbGVjdGVkJyA6ICcnfWB9PlxuXG4gICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e3NlbGVjdGlvbltpbmRleF0gPyBcImFzc2V0cy9pbWcvUGx1cy1PZmYuc3ZnXCIgOiBcImFzc2V0cy9pbWcvUGx1cy1Pbi5zdmdcIn1cbiAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhvbGRlciBsYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoND57cGFyc2UoY2hvaWNlKX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrSWZGdWxsWmVybygpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPntwYXJzZShyZW5kZXJKZXRvblRleHQoY29zdCkpfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb25pdG9yaW5nIHNob3dUV2g9e2ZhbHNlfSBkb2xsYXJzPXsoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5sZW5ndGggPiAwKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludChwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFycykgKyBwYXJzZUludChjYWxjdWxhdGVUb3RhbFNlbGVjdGlvbihzZWxlY3Rpb24pWzBdKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZD17KHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ubGVuZ3RoID4gMCAmJiBwYXJzZUludChjYWxjdWxhdGVUb3RhbFNlbGVjdGlvbihzZWxlY3Rpb24pWzBdKSA8IDApID8gTWF0aC5hYnMocGFyc2VJbnQoY2FsY3VsYXRlVG90YWxTZWxlY3Rpb24oc2VsZWN0aW9uKVswXSkpIDogMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxuICAgICAgICAgIHtwcm9wcy5jdXJJbmRleCA+IDAgP1xuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gcHJldlwiIG9uQ2xpY2s9e3ByZXZpb3VzUHJvbXB0fT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgICAgPHA+UHJldmlvdXM8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA6XG4gICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhY3Rpb25idXR0b24gbmV4dCAke3NlbGVjdGlvbiA/ICcnIDogJ2Rpc2FibGVkJ31gfSBvbkNsaWNrPXsoKSA9PiB7c2VsZWN0aW9uID8gbmV4dFByb21wdChzZWxlY3Rpb24pIDogY29uc29sZS5sb2coJ0Rpc2FibGVkLicpfX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgPHA+UG91cnN1aXZyZTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBNb25pdG9yaW5nIH0gZnJvbSBcIi4uL2dhdWdlcy9Nb25pdG9yaW5nXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmludFByb21wdChwcm9wcyl7XG5cbiAgY29uc3QgcHJldmlvdXNQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XG4gICAgICBjb25zb2xlLmxvZygncHJldiBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgbmV4dFByb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyaWdnZXJOZXh0ID0gcHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXTtcblxuICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyB0cmlnZ2VyIG5leHQ6ICcsIHRyaWdnZXJOZXh0KTtcblxuICAgIHByb3BzLmNoYW5nZVByb21wdCh0cmlnZ2VyTmV4dCk7XG5cbiAgfSk7XG5cbiAgY29uc3QgZ2FtZVJlc2V0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBwcm9wcy5nYW1lUmVzZXQoKTtcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInByaW50cHJvbXB0XCI+XG4gICAgICB7XG4gICAgICAgIHByb3BzLm1lc3NhZ2UgIT09IFwiXCIgP1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZVwiPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIHtwcm9wcy5tZXNzYWdlfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA6XG4gICAgICAgICAgXCJcIlxuICAgICAgfVxuICAgICAge1xuICAgICAgICBwcm9wcy5jdXJJbmRleCA9PT0gXCIxXCIgP1xuICAgICAgICA8TW9uaXRvcmluZyBtaXNzaW9uPXt0cnVlfSB0cmFuc2l0aW9uPXt0cnVlfSBzaG93VFdoPXtmYWxzZX0gZG9sbGFycz17cHJvcHMuZ2F1Z2VzLnByb3BzLmRvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZD17MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWFuY2U9e3Byb3BzLmdhdWdlcy5wcm9wcy5wZXJmb3JtYW5jZX0vPlxuICAgICAgICA6XG4gICAgICAgIFwiXCJcbiAgICAgIH1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIHByZXZcIiBvbkNsaWNrPXtwcmV2aW91c1Byb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlByZXZpb3VzPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAge1xuICAgICAgICBwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddID09PSBcIlNUQVJUT1ZFUlwiID9cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBuZXh0XCIgb25DbGljaz17Z2FtZVJlc2V0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgICA8cD5SZWNvbW1lbmNlcjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDpcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBuZXh0XCIgb25DbGljaz17bmV4dFByb21wdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgICAgPHA+UG91cnN1aXZyZTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgIDwvZGl2PlxuKVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR2F1Z2VzIH0gZnJvbSBcIi4uL2dhdWdlcy9HYXVnZXNcIjtcbmltcG9ydCB7IE1vbml0b3JpbmcgfSBmcm9tIFwiLi4vZ2F1Z2VzL01vbml0b3JpbmdcIjtcbmltcG9ydCB7IGdldENvcnJlY3RJY29uU291cmNlIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFJlcGFydGl0aW9uKHByb3BzKXtcblxuICBjb25zdCBbamV0b25zLCBzZXRKZXRvbnNdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFt0ZXJhd2F0dHMsIHNldFRlcmF3YXR0c10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW290aGVyUGVyZm9NZXRyaWNzLCBzZXRPdGhlclBlcmZvTWV0cmljc10gPSB1c2VTdGF0ZShbMCwwXSk7XG4gIGNvbnN0IFt1bml0cywgc2V0VW5pdHNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbdG9rZW5zUGVyVW5pdCwgc2V0VG9rZW5zUGVyVW5pdF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IG1heFRva2VucyA9IHByb3BzLmN1clByb21wdFtcIklEXCJdID09PSBcIlExXCIgPyAyNSA6IDUwO1xuICBjb25zdCBudWNsZWFySW5kZXggPSAyO1xuICBjb25zdCBkYW1JbmRleCA9IDA7XG5cbiAgdXNlRWZmZWN0KCAoKSA9PiB7XG5cbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9uUGFyYW1zKCk7XG4gICAgY29uc3QgbmV3VW5pdHMgPSBvcHRpb25zLm1hcCgoKSA9PiAwKTtcbiAgICBjb25zdCB0b2tlbnNQZXJVbml0ID0gb3B0aW9ucy5tYXAoZWxlbSA9PiBNYXRoLmFicyhlbGVtLnVuaXRWYWx1ZSkpO1xuICAgIHNldFVuaXRzKG5ld1VuaXRzKTtcbiAgICBzZXRUb2tlbnNQZXJVbml0KHRva2Vuc1BlclVuaXQpO1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCAoKSA9PiB7XG4gICAgbGV0IG5ld0pldG9ucyA9IHVuaXRzLnJlZHVjZShcbiAgICAgIChhY2MsIGN1clZhbCwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IGN1ck9wdGlvblBhcmFtcyA9IGdldE9wdGlvblBhcmFtcygpW2luZGV4XTtcbiAgICAgICAgcmV0dXJuIGFjYyArIE1hdGguYWJzKGN1clZhbCk7XG4gICAgICB9LDApO1xuICAgIGxldCBuZXdNVyA9IHVuaXRzLnJlZHVjZShcbiAgICAgIChhY2MsIGN1clZhbCwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IGN1ck9wdGlvblBhcmFtcyA9IGdldE9wdGlvblBhcmFtcygpW2luZGV4XTtcbiAgICAgICAgcmV0dXJuIGFjYyArIE1hdGgucm91bmQoTWF0aC5hYnMoY3VyVmFsL2N1ck9wdGlvblBhcmFtc1tcInVuaXRWYWx1ZVwiXSkqY3VyT3B0aW9uUGFyYW1zW1widW5pdFRXaHZhbHVlXCJdKTtcbiAgICAgIH0sMCk7XG4gICAgLy9jYWxjdWxhdGUgb3RoZXIgcGVyZm9ybWFuY2UgbWV0cmljcyBhZ2dyZWdhdGlvblxuICAgIGxldCBuZXdPdGhlclBlcmZvTWV0cmljcyA9IFswLDBdO1xuICAgIHVuaXRzLmZvckVhY2goKGN1clZhbCwgY291bnQpID0+IHtcbiAgICAgIGxldCBjdXJPcHRpb25QYXJhbXMgPSBnZXRPcHRpb25QYXJhbXMoKVtjb3VudF07XG4gICAgICBuZXdPdGhlclBlcmZvTWV0cmljcyA9IG5ld090aGVyUGVyZm9NZXRyaWNzLm1hcCgoZWxlbSwgaWR4KSA9PiB7XG4gICAgICAgIGlmKGlkeCA9PT0gMCl7XG4gICAgICAgICAgcmV0dXJuIGVsZW0gKyBNYXRoLmFicyhjdXJWYWwvY3VyT3B0aW9uUGFyYW1zW1widW5pdFZhbHVlXCJdKSpjdXJPcHRpb25QYXJhbXNbXCJ1bml0RW52aXJvdmFsdWVcIl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihpZHggPT09IDEpe1xuICAgICAgICAgIHJldHVybiBlbGVtICsgTWF0aC5hYnMoY3VyVmFsL2N1ck9wdGlvblBhcmFtc1tcInVuaXRWYWx1ZVwiXSkqY3VyT3B0aW9uUGFyYW1zW1widW5pdFBvcHV2YWx1ZVwiXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgc2V0SmV0b25zKG5ld0pldG9ucyk7XG4gICAgc2V0VGVyYXdhdHRzKG5ld01XKTtcbiAgICBzZXRPdGhlclBlcmZvTWV0cmljcyhuZXdPdGhlclBlcmZvTWV0cmljcyk7XG4gIH0sIFt1bml0c10pO1xuXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBpZihwcm9wcy5jdXJJbmRleCA+IDApe1xuICAgICAgY29uc29sZS5sb2coJ3ByZXYgcHJvbXB0IScsIHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGxldCBzcGxpdHRlZFRyaWdnZXJOZXh0ID0gU3RyaW5nKHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J10pLnNwbGl0KFwiX1wiKTtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBTdHJpbmcoc3BsaXR0ZWRUcmlnZ2VyTmV4dFswXSkuc3BsaXQoXCI7XCIpO1xuXG4gICAgaWYocHJvcHMuY3VyUHJvbXB0W1wiSURcIl0gPT09IFwiUTFcIiAmJiB1bml0c1tkYW1JbmRleF0gPiAwKXtcbiAgICAgIHByb3BzLnVwZGF0ZU1lbW9yeU9iaihcImJ1aWx0RGFtXCIsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIGlmKHVuaXRzW2RhbUluZGV4XSA+IDApe1xuICAgICAgcHJvcHMudXBkYXRlTWVtb3J5T2JqKFwiYnVpbHRTZWNvbmREYW1cIiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYodW5pdHNbbnVjbGVhckluZGV4XSA+IDApe1xuICAgICAgLy9NYWtlIHBsYXllciBkaWUsIG51Y2xlYXIgd2FzIHNlbGVjdGVkXG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQoU3RyaW5nKHRyaWdnZXJOZXh0W251Y2xlYXJJbmRleF0pLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpKTtcbiAgICB9XG4gICAgZWxzZSBpZih0cmlnZ2VyTmV4dC5sZW5ndGggPT0gMSl7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQoU3RyaW5nKHRyaWdnZXJOZXh0KS5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIlwiKSk7XG4gICAgfVxuICAgIGVsc2UgaWYodHJpZ2dlck5leHQubGVuZ3RoID4gMSl7XG4gICAgICBjb25zb2xlLmxvZygnY2hlY2tpbmcgbm9uIHVuaXF1ZTonLCBub25VbmlxdWUodW5pdHMpKTtcbiAgICAgIGlmKG5vblVuaXF1ZSh1bml0cykpe1xuICAgICAgICAvLyBTb21lIHZhbHVlcyBhcmUgZXF1YWwuIEhpZXJhcmNoaXplXG4gICAgICAgIHByb3BzLmNoYW5nZVByb21wdChoaWVyYXJjaGl6ZVVuaXRzKHRyaWdnZXJOZXh0LCBzcGxpdHRlZFRyaWdnZXJOZXh0WzFdKSk7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICAvLyBBbGwgdmFsdWVzIGFyZSBkaWZmZXJlbnQsIGhlbmNlIHRyaWdnZXIgY29uY29yZGluZyBuZXh0IHByb21wdFxuICAgICAgICBsZXQgaW5kZXhPZk1heFZhbHVlID0gdW5pdHMucmVkdWNlKChpTWF4LCB4LCBpLCBhcnIpID0+IHggPiBhcnJbaU1heF0gPyBpIDogaU1heCwgMCk7XG4gICAgICAgIHByb3BzLmNoYW5nZVByb21wdChTdHJpbmcodHJpZ2dlck5leHRbaW5kZXhPZk1heFZhbHVlXSkucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCJcIikpO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9wcy51cGRhdGVEb2xsYXJzKC1qZXRvbnMpO1xuICAgIHByb3BzLnVwZGF0ZVBlcmZvcm1hbmNlKFt0ZXJhd2F0dHNdLmNvbmNhdChvdGhlclBlcmZvTWV0cmljcykpO1xuICB9KTtcblxuICBjb25zdCBub25VbmlxdWUgPSBhID0+IG5ldyBTZXQoYSkuc2l6ZSAhPT0gYS5sZW5ndGg7XG5cbiAgY29uc3QgcHJvY2Vzc0Nob2ljZXMgPSAoY2hvaWNlLCBjaG9pY2VzX3ZhbHVlcykgPT4ge1xuICAgIGNvbnN0IHNwbGl0dGVkQ2hvaWNlcyA9IGNob2ljZXNfdmFsdWVzLnNwbGl0KCdfJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGNob2ljZSxcbiAgICAgIHVuaXRWYWx1ZTogcGFyc2VJbnQoc3BsaXR0ZWRDaG9pY2VzWzBdKSxcbiAgICAgIHVuaXRUV2h2YWx1ZTogcGFyc2VJbnQoc3BsaXR0ZWRDaG9pY2VzWzFdKSxcbiAgICAgIHVuaXRFbnZpcm92YWx1ZTogcGFyc2VJbnQoc3BsaXR0ZWRDaG9pY2VzWzJdKSxcbiAgICAgIHVuaXRQb3B1dmFsdWU6IHBhcnNlSW50KHNwbGl0dGVkQ2hvaWNlc1szXSksXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2V0T3B0aW9uUGFyYW1zID0gKCkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5jaG9pY2VzLm1hcCgoY2hvaWNlLCBpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIHByb2Nlc3NDaG9pY2VzKGNob2ljZSwgcHJvcHMuY2hvaWNlc192YWx1ZXNbaW5kZXhdKTtcbiAgICB9KVxuICB9XG5cbiAgY29uc3QgY2hlY2tJZkZ1bGwgPSAobmV3QWRkaXRpb24pID0+IHtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIHVuaXRzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgdG90YWwgKz0gdmFsdWU7XG4gICAgfSk7XG4gICAgaWYodG90YWwrbmV3QWRkaXRpb24gPiBtYXhUb2tlbnMpe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgY2hlY2tIaWRlQnV0dG9uID0gKGlkeCkgPT4ge1xuICAgIGNvbnN0IG9wdGlvblBhcmFtcyA9IGdldE9wdGlvblBhcmFtcygpW2lkeF07XG4gICAgY29uc3QgY3VyVW5pdFZhbHVlID0gTWF0aC5hYnModW5pdHNbaWR4XSk7XG4gICAgbGV0IGhpZGVCdXR0b24gPSBbZmFsc2UsZmFsc2VdO1xuICAgIGlmKGN1clVuaXRWYWx1ZSA9PT0gMCl7XG4gICAgICAvLyBDaGVjayBmb3IgbG93ZXIgYm91bmRhcnlcbiAgICAgIGhpZGVCdXR0b25bMF0gPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBoaWdoZXIgYm91bmRhcnlcbiAgICBpZihqZXRvbnMrcGFyc2VJbnQoTWF0aC5hYnMob3B0aW9uUGFyYW1zLnVuaXRWYWx1ZSkpID4gbWF4VG9rZW5zKXtcbiAgICAgIGhpZGVCdXR0b25bMV0gPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBoaWRlQnV0dG9uO1xuXG4gIH1cblxuICBjb25zdCByZW5kZXJKZXRvblRleHQgPSAoamV0b25WYWx1ZSkgPT4ge1xuICAgIGlmKE1hdGguYWJzKGpldG9uVmFsdWUpPjEpe1xuICAgICAgcmV0dXJuIGAke01hdGguYWJzKGpldG9uVmFsdWUpfSZuYnNwO2pldG9uc2A7XG4gICAgfVxuICAgIHJldHVybiBgJHtNYXRoLmFicyhqZXRvblZhbHVlKX0mbmJzcDtqZXRvbmA7XG4gIH1cblxuICBjb25zdCBtb2RpZnlPbkNsaWNrID0gKGUsIGluZGV4LCBkaWZmLCBlbGVtKSA9PiB7XG4gICAgbGV0IG5ld0FycmF5ID0gWy4uLnVuaXRzXTtcbiAgICBpZigobmV3QXJyYXlbaW5kZXhdK2RpZmYqdG9rZW5zUGVyVW5pdFtpbmRleF0pID49IDApe1xuICAgICAgaWYoZGlmZiA+IDApXG4gICAgICB7XG4gICAgICAgIGlmKCFjaGVja0lmRnVsbChkaWZmKnRva2Vuc1BlclVuaXRbaW5kZXhdKSl7XG4gICAgICAgICAgbmV3QXJyYXlbaW5kZXhdID0gbmV3QXJyYXlbaW5kZXhdICsgZGlmZip0b2tlbnNQZXJVbml0W2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgbmV3QXJyYXlbaW5kZXhdID0gbmV3QXJyYXlbaW5kZXhdICsgZGlmZip0b2tlbnNQZXJVbml0W2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHNldFVuaXRzKG5ld0FycmF5KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBjaGVja0lmWmVybyA9ICgpID0+IHtcbiAgICByZXR1cm4gamV0b25zID4gMDtcbiAgfVxuXG4gIGNvbnN0IGhpZXJhcmNoaXplVW5pdHMgPSAodHJpZ2dlck5leHQsIGRlZmF1bHROZXh0KSA9PiB7XG5cbiAgICBjb25zdCBtYXggPSBNYXRoLm1heCguLi51bml0cyk7XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgdW5pdHMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IGl0ZW0gPT09IG1heCA/IHJlcy5wdXNoKGluZGV4KTogbnVsbCk7XG4gICAgbGV0IGNob3NlblN0cmluZztcbiAgICBpZihyZXMubGVuZ3RoID4gMSl7XG4gICAgICAvL01heCBpcyBtdWx0aXBsZSwgaGllcmFyY2hpemVcbiAgICAgIC8vIEJhcnJhZ2VzIGluZGV4IGlzIDBcbiAgICAgIC8vIEVvbGllbiBpbmRleCBpcyAxXG4gICAgICAvLyBJZiBlcXVhbGl0eSB3aXRoIG9ubHkgb3RoZXJzLCBza2lwIHF1ZXN0aW9uLlxuXG4gICAgICBpZihyZXMuaW5jbHVkZXMoMCkpe1xuICAgICAgICBjb25zb2xlLmxvZygnZXF1YWwgbWF4IHVuaXRzIGNvbnRhaW5zIGJhcnJhZ2VzJyk7XG4gICAgICAgIGNob3NlblN0cmluZyA9IFN0cmluZyh0cmlnZ2VyTmV4dFswXSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKHJlcy5pbmNsdWRlcygxKSl7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcXVhbCBtYXggdW5pdHMgY29udGFpbnMgZW9saWVucycpO1xuICAgICAgICBjaG9zZW5TdHJpbmcgPSBTdHJpbmcodHJpZ2dlck5leHRbMV0pO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgY29uc29sZS5sb2coJ2VxdWFsaXR5IGJldHdlZW4gbm9uIGltcG9ydGFudCBjaG9pY2VzJyk7XG4gICAgICAgIGNob3NlblN0cmluZyA9IFN0cmluZyhkZWZhdWx0TmV4dCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBjaG9zZW5TdHJpbmcgPSBTdHJpbmcodHJpZ2dlck5leHRbcmVzWzBdXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNob3NlblN0cmluZy5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIlwiKTtcblxuICB9XG5cbiAgY29uc3QgcmVuZGVyUm93cyA9IChjaG9pY2VzKSA9PiB7XG4gICAgcmV0dXJuIGNob2ljZXMubWFwKCAoZWxlbSxpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcHRpb25Vbml0XCIga2V5PXtpbmRleH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3RvclpvbmVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZGl2aXNpb24gbWludXNab25lICR7Y2hlY2tIaWRlQnV0dG9uKGluZGV4KVswXSA/ICdkaXNhYmxlZCc6Jyd9YH0gb25DbGljaz17KGUpID0+IG1vZGlmeU9uQ2xpY2soZSwgaW5kZXgsIC0xLCBlbGVtKX0+XG4gICAgICAgICAgICAgIDxoMz4tPC9oMz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXZpc2lvbiBjZW50cmFsWm9uZVwiPlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgKHVuaXRzW2luZGV4XSA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzW2luZGV4XSA9PT0gMCkgP1xuICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgIHNyYz17YGFzc2V0cy9pbWcvJHtnZXRDb3JyZWN0SWNvblNvdXJjZShpbmRleCl9YH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICA8aDM+e3VuaXRzW2luZGV4XX08L2gzPlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZGl2aXNpb24gcGx1c1pvbmUgJHtjaGVja0hpZGVCdXR0b24oaW5kZXgpWzFdID8gJ2Rpc2FibGVkJzonJ31gfSBvbkNsaWNrPXsoZSkgPT4gbW9kaWZ5T25DbGljayhlLCBpbmRleCwgMSwgZWxlbSl9PlxuICAgICAgICAgICAgICA8aDM+KzwvaDM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHRab25lXCI+XG4gICAgICAgICAgICA8aDM+e2VsZW0ubmFtZX08L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmV0ZXh0XCI+XG4gICAgICAgICAgICAgIDxwPntwYXJzZShyZW5kZXJKZXRvblRleHQoZWxlbS51bml0VmFsdWUpKX0mbmJzcDsmIzgyMjY7Jm5ic3A7e2VsZW0udW5pdFRXaHZhbHVlfSBUV2g8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybihcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlcGFydGl0aW9uXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9wdGlvblpvbmVcIj5cbiAgICAgICAge1xuICAgICAgICAgIHJlbmRlclJvd3MocHJvcHMuY2hvaWNlcy5tYXAoKGUsIGluZGV4KSA9PiBwcm9jZXNzQ2hvaWNlcyhlLCBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0pKSlcbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgICA8TW9uaXRvcmluZyBzaG93VFdoPXt0cnVlfSBkb2xsYXJzPXtwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFycy1qZXRvbnN9IGNvbW1pdHRlZD17amV0b25zfSB0ZXJhd2F0dHM9e3RlcmF3YXR0c30vPlxuICAgICAge3Byb3BzLmN1ckluZGV4ID4gMCA/XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIHByZXZcIiBvbkNsaWNrPXtwcmV2aW91c1Byb21wdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDpcbiAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgIH1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWN0aW9uYnV0dG9uIG5leHQgJHtjaGVja0lmWmVybygpPyAnJyA6ICdkaXNhYmxlZCd9YH0gb25DbGljaz17bmV4dFByb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IGQzVGlwIGZyb20gJ2QzLXRpcCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBNYXBOYXZpZ2F0b3IocHJvcHMpe1xuXG4gIGNvbnN0IFtzZWxlY3Rpb24sIHNldFNlbGVjdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldHVwT25DbGljaygpO1xuICB9LFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmKHNlbGVjdGlvbil7XG4gICAgICBkMy5zZWxlY3QoJy5wb3BVcC1iZycpLnN0eWxlKCdkaXNwbGF5JywgJ3Vuc2V0Jyk7XG5cbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIGQzLnNlbGVjdCgnLnBvcFVwLWJnJykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG5cbiAgICB9XG4gIH0sIFtzZWxlY3Rpb25dKTtcblxuICBjb25zdCB0aXAgPSBkM1RpcCgpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2QzLXRpcCBhZGp1c3RlZCcpXG4gICAgICAgICAgICAgICAgLmRpcmVjdGlvbignbicpXG4gICAgICAgICAgICAgICAgLmh0bWwoKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnb3QgZDogJywgZCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgICAgICAgPGg0PiR7ZC50aXRsZX08L2g0PlxuICAgICAgICAgICAgICAgICAgPHA+JHtkLnN1cHBfdGV4dH08L3A+XG4gICAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gIGNvbnN0IHNldHVwT25DbGljayA9ICgpID0+IHtcbiAgICBQcm9taXNlLmFsbChbXG4gICAgICBkMy54bWwocHJvcHMubWFwWzBdKSxcbiAgICAgIGQzLnhtbChwcm9wcy5tYXBbMV0pXG4gICAgXSkudGhlbigoW2JnTWFwLCBpY29uT05NYXBdKSA9PiB7XG4gICAgICBkMy5zZWxlY3QoJyNiZy1tYXAnKS5ub2RlKClcbiAgICAgICAgLmFwcGVuZChiZ01hcC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgZDMuc2VsZWN0KCcjb24taWNvbnMnKS5ub2RlKClcbiAgICAgICAgLmFwcGVuZChpY29uT05NYXAuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgIGNvbnN0IE9uSWNvbnNTVkcgPSBkMy5zZWxlY3QoJyNvbi1pY29ucycpLnNlbGVjdCgnc3ZnJyk7XG4gICAgICBPbkljb25zU1ZHLmNhbGwodGlwKTtcbiAgICAgIGQzLnNlbGVjdCgnLmdhbWVTY3JlZW4nKS5ub2RlKCkuYXBwZW5kQ2hpbGQoXG4gICAgICAgIGQzLnNlbGVjdCgnLmQzLXRpcCcpLm5vZGUoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGdCdXR0b25zID0gT25JY29uc1NWRy5zZWxlY3QoJyNJY29uZS1PbicpLnNlbGVjdEFsbCgnZycpO1xuICAgICAgY29uc3QgdGl0bGVzID0gU3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXhfaW5zZWNhYmxlcyddKS5zcGxpdCgnOicpO1xuICAgICAgY29uc3Qgc3VwcF90ZXh0cyA9IFN0cmluZyhwcm9wcy5tZXNzYWdlKS5zcGxpdCgnOycpO1xuICAgICAgZ0J1dHRvbnMubm9kZXMoKS5yZXZlcnNlKCkubWFwKChub2RlLGNvdW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1clRpcERhdGEgPSB7XG4gICAgICAgICAgICB0aXRsZTogdGl0bGVzW2NvdW50XSxcbiAgICAgICAgICAgIHN1cHBfdGV4dDogc3VwcF90ZXh0c1tjb3VudF1cbiAgICAgICAgICB9XG4gICAgICAgIGQzLnNlbGVjdChub2RlKVxuICAgICAgICAub24oJ2NsaWNrJywgKGQsaSxub2RlcykgPT4ge1xuICAgICAgICAgIGQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdGlwLnNob3coY3VyVGlwRGF0YSwgbm9kZSk7XG4gICAgICAgICAgdG9nZ2xlSWNvbihkLnRhcmdldC5wYXJlbnRFbGVtZW50LCBmYWxzZSk7XG5cbiAgICAgICAgICAvL05FVyAhISFcbiAgICAgICAgICB0aXAuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLCBcInN0cm9rZVwiKVxuICAgICAgICB9KVxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIChkLGksbm9kZXMpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tpbmcgZDogJywgZC50YXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgZC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB0aXAuc2hvdyhjdXJUaXBEYXRhLG5vZGUpO1xuICAgICAgICAgIHRvZ2dsZUljb24oZC50YXJnZXQucGFyZW50RWxlbWVudCwgZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgICAub24oJ21vdXNlb3V0JywgKGQsaSxub2RlcykgPT4ge1xuICAgICAgICAgIC8vdGlwLmhpZGUobm9kZSk7XG4gICAgICAgICAgdG9nZ2xlSWNvbihkLnRhcmdldC5wYXJlbnRFbGVtZW50LCB0cnVlKTtcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgZDMuc2VsZWN0KFwiLmdhbWVCb3hcIikub24oJ2NsaWNrJywgKCkgPT4ge3RpcC5oaWRlKCl9KTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVJY29uID0gKGljb25PYmosIHN0YXR1cykgPT4ge1xuICAgIGlmKHN0YXR1cyA9PT0gZmFsc2Upe1xuICAgICAgZDMuc2VsZWN0KGljb25PYmopLnN0eWxlKCdvcGFjaXR5JywgMCk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBkMy5zZWxlY3QoaWNvbk9iaikuc3R5bGUoJ29wYWNpdHknLCAxKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcHJldmlvdXNQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XG4gICAgICBjb25zb2xlLmxvZygncHJldiBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgbmV4dFByb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyaWdnZXJOZXh0ID0gcHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXTtcblxuICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyB0cmlnZ2VyIG5leHQ6ICcsIHRyaWdnZXJOZXh0KTtcbiAgICBkMy5zZWxlY3QoXCIuZ2FtZVNjcmVlblwiKS5zZWxlY3QoXCIuZDMtdGlwXCIpLnJlbW92ZSgpO1xuICAgIHByb3BzLmNoYW5nZVByb21wdCh0cmlnZ2VyTmV4dCk7XG5cbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgPGRpdiBjbGFzc05hbWU9XCJwcmludHByb21wdCBtYXBuYXZpZ2F0b3JcIj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvcFVwLWJnXCI+XG4gICAgICB7IHNlbGVjdGlvbiA/XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvcFVwLWJveFwiPlxuICAgICAgICA8aDQ+e3BhcnNlKHNlbGVjdGlvbi50aXRsZSl9PC9oND5cbiAgICAgICAgPHA+e3BhcnNlKHNlbGVjdGlvbi5zdXBwX3RleHQpfTwvcD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b25cIiBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3Rpb24obnVsbCl9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgPHA+RmVybWVyPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgOlxuICAgICAgPGRpdj48L2Rpdj5cbiAgICAgIH1cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcEhvbGRlclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdXBlcnBvc2VkTWFwXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJiZy1tYXBcIiBjbGFzc05hbWU9XCJtYXAgbm9DbGlja1wiPjwvZGl2PlxuICAgICAgICA8ZGl2IGlkPVwib24taWNvbnNcIiBjbGFzc05hbWU9XCJtYXBcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIHByZXZcIiBvbkNsaWNrPXtwcmV2aW91c1Byb21wdH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgPHA+UHJldmlvdXM8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBuZXh0XCIgb25DbGljaz17bmV4dFByb21wdH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgPHA+U3VpdmFudDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gQmlsYW4ocHJvcHMpe1xuXG4gIGNvbnN0IGRhbVRXaCA9IDk7XG4gIGNvbnN0IG5lZWRzSW5jcmVhc2VUV2ggPSAxMDtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdnb3QgYmlsYW4gOiAnLCBwcm9wcy5jdXJQcm9tcHQpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgbmV4dFByb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyaWdnZXJOZXh0ID0gcHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXTtcblxuICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyB0cmlnZ2VyIG5leHQ6ICcsIHRyaWdnZXJOZXh0KTtcbiAgICBwcm9wcy5jaGFuZ2VQcm9tcHQodHJpZ2dlck5leHQpO1xuXG4gIH0pO1xuXG4gIGNvbnN0IHByb2Nlc3NCaWxhbjEgPSAoKSA9PiB7XG4gICAgbGV0IHRleHRDb250ZW50QXJyYXkgPSBwcm9wcy5jdXJQcm9tcHRbXCJUZXh0ZVwiXS5zcGxpdCgnOycpO1xuICAgIGxldCB0ZXh0U3VwcEFycmF5ID0gcHJvcHMuY3VyUHJvbXB0W1wiVGV4dGVfU3VwcFwiXS5zcGxpdCgnOycpO1xuICAgIGxldCBwcm9jZXNzZWRDb250ZW50ID0gW107XG4gICAgLy8gZ2VuZXJpYyB0ZXh0XG4gICAgY29uc3QgZGFtRW5lcmd5ID0gcHJvcHMubWVtb3J5T2JqLmJ1aWx0RGFtID8gZGFtVFdoIDogMDtcbiAgICBjb25zdCBhZGp1c3RlZFByb2R1Y3Rpb25WYWx1ZSA9IHBhcnNlSW50KHByb3BzLnBlcmZvcm1hbmNlWzBdKSAtIGRhbUVuZXJneTtcbiAgICBjb25zdCBjdXJEb2xsYXJzID0gcGFyc2VJbnQocHJvcHMuZ2F1Z2VzLnByb3BzLmRvbGxhcnMpO1xuXG4gICAgbGV0IGdlbmVyaWNUZXh0ID0gdGV4dENvbnRlbnRBcnJheVswXS5yZXBsYWNlKCcqbmV3UHJvZConLCBhZGp1c3RlZFByb2R1Y3Rpb25WYWx1ZSArIFwiJm5ic3A7VFdoXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnKmF1Z21lbnRlZGltaW51ZSonLCBhZGp1c3RlZFByb2R1Y3Rpb25WYWx1ZSA8IDAgPyBcImRpbWludcOpXCI6XCJhdWdtZW50w6lcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCcqc3VmZmlzYW50ZWluc3VmZmlzYW50ZSonLCBhZGp1c3RlZFByb2R1Y3Rpb25WYWx1ZSA8IDEwID8gXCJpbnN1ZmZpc2FudGVcIjpcInN1ZmZpc2FudGVcIik7XG5cbiAgICBwcm9jZXNzZWRDb250ZW50LnB1c2goZ2VuZXJpY1RleHQpO1xuICAgIGlmKHByb3BzLm1lbW9yeU9iai5idWlsdERhbSl7XG4gICAgICBsZXQgYmFycmFnZVRleHQgPSB0ZXh0U3VwcEFycmF5WzBdLnNwbGl0KFwiOlwiKVsxXS5yZXBsYWNlKFwiKmRhbVRXaCpcIiwgZGFtVFdoKTtcbiAgICAgIHByb2Nlc3NlZENvbnRlbnQucHVzaChiYXJyYWdlVGV4dCk7XG4gICAgfVxuICAgIGlmKGN1ckRvbGxhcnMgPCAxNSl7XG4gICAgICBsZXQgbG93Q2FzaFRleHQgPSB0ZXh0U3VwcEFycmF5WzFdLnNwbGl0KFwiOlwiKVsxXTtcbiAgICAgIHByb2Nlc3NlZENvbnRlbnQucHVzaChsb3dDYXNoVGV4dCk7XG4gICAgfVxuICAgIGlmKHBhcnNlSW50KHByb3BzLnBlcmZvcm1hbmNlWzFdKSA8IDApe1xuICAgICAgbGV0IGxvd0VudlRleHQgPSB0ZXh0U3VwcEFycmF5WzJdLnNwbGl0KFwiOlwiKVsxXTtcbiAgICAgIHByb2Nlc3NlZENvbnRlbnQucHVzaChsb3dFbnZUZXh0KTtcbiAgICB9XG4gICAgaWYocGFyc2VJbnQocHJvcHMucGVyZm9ybWFuY2VbMl0pIDwgMCl7XG4gICAgICBsZXQgbG93UG9wVGV4dCA9IHRleHRTdXBwQXJyYXlbM10uc3BsaXQoXCI6XCIpWzFdO1xuICAgICAgcHJvY2Vzc2VkQ29udGVudC5wdXNoKGxvd1BvcFRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzZWRDb250ZW50O1xuICB9O1xuXG4gIGNvbnN0IHByb2Nlc3NCaWxhbjIgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2dvdCBmaW5hbCBiaWxhbiBkYXRhJywgcHJvcHMuZmluYWxCaWxhbkRhdGEpO1xuICAgIGNvbnNvbGUubG9nKCdhY2NlcHRlZCBjaHVyY2hpbGwgZmFsbHMgZGVhbD8nLCBwcm9wcy5tZW1vcnlPYmouYWNjZXB0ZWRDaHVyY2hpbGxGYWxsc0RlYWwpO1xuICAgIGxldCBwcm9jZXNzZWRDb250ZW50ID0gW107XG4gICAgbGV0IHRleHRDb250ZW50QXJyYXkgPSBwcm9wcy5jdXJQcm9tcHRbXCJUZXh0ZVwiXS5zcGxpdCgnOycpO1xuICAgIGxldCB0ZXh0U3VwcEFycmF5ID0gcHJvcHMuZmluYWxCaWxhbkRhdGE7XG5cbiAgICBjb25zdCBzZWNvbmREYW1FbmVyZ3kgPSBwcm9wcy5tZW1vcnlPYmouYnVpbHRTZWNvbmREYW0gPyBkYW1UV2ggOiAwO1xuICAgIGNvbnN0IGFkanVzdGVkUHJvZHVjdGlvblZhbHVlID0gcGFyc2VJbnQocHJvcHMucGVyZm9ybWFuY2VbMF0pIC0gc2Vjb25kRGFtRW5lcmd5O1xuICAgIGNvbnN0IGN1ckRvbGxhcnMgPSBwYXJzZUludChwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFycyk7XG4gICAgY29uc3QgZW52aXJvbm1lbnRWYWx1ZSA9IHBhcnNlSW50KHByb3BzLnBlcmZvcm1hbmNlWzFdKTtcbiAgICBjb25zdCBwb3B1bGFyaXRlVmFsdWUgPSBwYXJzZUludChwcm9wcy5wZXJmb3JtYW5jZVsyXSk7XG5cbiAgICBsZXQgVFdoRW52VGV4dDtcbiAgICBpZihhZGp1c3RlZFByb2R1Y3Rpb25WYWx1ZSA+PSAyNSAmJlxuICAgICAgICBlbnZpcm9ubWVudFZhbHVlID4gMCAmJlxuICAgICAgICBwcm9wcy5tZW1vcnlPYmouYWNjZXB0ZWRDaHVyY2hpbGxGYWxsc0RlYWwpe1xuICAgICAgVFdoRW52VGV4dCA9IHRleHRTdXBwQXJyYXlbMF0ucHJpbnQ7XG4gICAgfVxuICAgIGVsc2UgaWYoYWRqdXN0ZWRQcm9kdWN0aW9uVmFsdWUgPj0gMjUgJiZcbiAgICAgICAgICAgIGVudmlyb25tZW50VmFsdWUgPiAwICYmXG4gICAgICAgICAgICAhcHJvcHMubWVtb3J5T2JqLmFjY2VwdGVkQ2h1cmNoaWxsRmFsbHNEZWFsKXtcbiAgICAgIFRXaEVudlRleHQgPSB0ZXh0U3VwcEFycmF5WzFdLnByaW50O1xuICAgIH1cbiAgICBlbHNlIGlmKGFkanVzdGVkUHJvZHVjdGlvblZhbHVlIDwgMjUgJiYgZW52aXJvbm1lbnRWYWx1ZSA+IDApe1xuICAgICAgVFdoRW52VGV4dCA9IHRleHRTdXBwQXJyYXlbMl0ucHJpbnQ7XG4gICAgfVxuICAgIGVsc2UgaWYoYWRqdXN0ZWRQcm9kdWN0aW9uVmFsdWUgPj0gMjUgJiZcbiAgICAgICAgICAgIGVudmlyb25tZW50VmFsdWUgPD0gMCAmJlxuICAgICAgICAgICAgcHJvcHMubWVtb3J5T2JqLmFjY2VwdGVkQ2h1cmNoaWxsRmFsbHNEZWFsKXtcbiAgICAgIFRXaEVudlRleHQgPSB0ZXh0U3VwcEFycmF5WzNdLnByaW50O1xuICAgIH1cbiAgICBlbHNlIGlmKGFkanVzdGVkUHJvZHVjdGlvblZhbHVlID49IDI1ICYmXG4gICAgICAgICAgICBlbnZpcm9ubWVudFZhbHVlIDw9IDAgJiZcbiAgICAgICAgICAgICFwcm9wcy5tZW1vcnlPYmouYWNjZXB0ZWRDaHVyY2hpbGxGYWxsc0RlYWwpe1xuICAgICAgVFdoRW52VGV4dCA9IHRleHRTdXBwQXJyYXlbNF0ucHJpbnQ7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICAvLyA8IDI1ICYgPD0gMFxuICAgICAgVFdoRW52VGV4dCA9IHRleHRTdXBwQXJyYXlbNV0ucHJpbnQ7XG4gICAgfVxuICAgIFRXaEVudlRleHQgPSBUV2hFbnZUZXh0LnJlcGxhY2UoXCIqYXVnbWVudGVkaW1pbnVlKlwiLCBhZGp1c3RlZFByb2R1Y3Rpb25WYWx1ZSA8IDAgPyBcImRpbWludcOpXCI6XCJhdWdtZW50w6lcIilcbiAgICAgICAgICAgICAgLnJlcGxhY2UoXCIqbmV3UHJvZCpcIiwgYWRqdXN0ZWRQcm9kdWN0aW9uVmFsdWUrIFwiJm5ic3A7VFdoXCIpO1xuICAgIHByb2Nlc3NlZENvbnRlbnQucHVzaChUV2hFbnZUZXh0KTtcblxuICAgIGxldCBjYXNoVGV4dDtcbiAgICBpZihjdXJEb2xsYXJzID49IDUpe1xuICAgICAgY2FzaFRleHQgPSB0ZXh0U3VwcEFycmF5WzddLnByaW50O1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgY2FzaFRleHQgPSB0ZXh0U3VwcEFycmF5WzhdLnByaW50O1xuICAgIH1cbiAgICBwcm9jZXNzZWRDb250ZW50LnB1c2goY2FzaFRleHQpO1xuXG4gICAgbGV0IHBvcHVUZXh0O1xuICAgIGlmKHBvcHVsYXJpdGVWYWx1ZSA+PSA0KXtcbiAgICAgIHBvcHVUZXh0ID0gdGV4dFN1cHBBcnJheVsxMF0ucHJpbnQ7XG4gICAgfVxuICAgIGVsc2UgaWYocG9wdWxhcml0ZVZhbHVlID49IC0yICYmIHBvcHVsYXJpdGVWYWx1ZSA8IDQpe1xuICAgICAgcG9wdVRleHQgPSB0ZXh0U3VwcEFycmF5WzExXS5wcmludDtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIHBvcHVUZXh0ID0gdGV4dFN1cHBBcnJheVsxMl0ucHJpbnQ7XG4gICAgfVxuICAgIHByb2Nlc3NlZENvbnRlbnQucHVzaChwb3B1VGV4dClcblxuICAgIHJldHVybiBwcm9jZXNzZWRDb250ZW50O1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJpbGFuQ29udGVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1cGRhdGFibGVUZXh0XCI+XG4gICAgICAgIHtcbiAgICAgICAgICBwcm9wcy5jdXJQcm9tcHRbXCJJRFwiXSA9PT0gXCJCMVwiID9cbiAgICAgICAgICAgIHByb2Nlc3NCaWxhbjEoKS5tYXAoKGVsZW0sIGNvdW50KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxwIGtleT17Y291bnR9PlxuICAgICAgICAgICAgICAgIHtwYXJzZShlbGVtKX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgcHJvY2Vzc0JpbGFuMigpLm1hcCgoZWxlbSwgY291bnQpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPHAga2V5PXtjb3VudH0+XG4gICAgICAgICAgICAgICAge3BhcnNlKGVsZW0pfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBuZXh0XCIgb25DbGljaz17bmV4dFByb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gRW5kR2FtZShwcm9wcyl7XG5cbiAgY29uc3QgZ2FtZVJlc2V0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnUkVTRVRJTkcgR0FNRScpO1xuICAgIHByb3BzLmdhbWVSZXNldCgpO1xuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvbXB0Qm94XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1cnRpdHJlXCI+XG4gICAgICAgICAgPGg0PkZpbiBkdSBqZXU8L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWVzdGlvblwiPlxuICAgICAgICAgIDxwPjxiPkxlIEMuQS4gZCdIeWRyby1RdcOpYmVjIHZvdGUgw6AgbCd1bmFuaW1pdMOpIHBvdXIgdm91cyB2b3VzIGTDqW1ldHRyZSBkZSB2b3MgZm9uY3Rpb25zLjwvYj5cbiAgICAgICAgICAgIDxicj48L2JyPlxuICAgICAgICAgICAge2Ake3Byb3BzLnJhaXNvbn1gfVxuICAgICAgICAgICAgPGJyPjwvYnI+XG4gICAgICAgICAgICBUZW50ZXogdm90cmUgY2hhbmNlIGRlIG5vdXZlYXUuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25TZWN0aW9uXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIG5leHRcIiBvbkNsaWNrPXtnYW1lUmVzZXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgPHA+UmVjb21tZW5jZXI8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZVBlcmZvcm1hbmNlIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ2F0YXN0cm9waGUocHJvcHMpe1xuXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBpZihwcm9wcy5jdXJJbmRleCA+IDApe1xuICAgICAgY29uc29sZS5sb2coJ3ByZXYgcHJvbXB0IScsIHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKGNvc3QsIHBlcmZvcm1hbmNlKSA9PiB7XG4gICAgbGV0IHRyaWdnZXJOZXh0ID0gcHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXTtcblxuICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyB0cmlnZ2VyIG5leHQ6ICcsIHRyaWdnZXJOZXh0KTtcbiAgICBwcm9wcy5jaGFuZ2VQcm9tcHQodHJpZ2dlck5leHQpO1xuXG4gICAgcHJvcHMudXBkYXRlRG9sbGFycyhwYXJzZUludChjb3N0KSk7XG4gICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UocGVyZm9ybWFuY2UpO1xuICB9KTtcblxuICBjb25zdCBwYXJzZUNob2ljZVZhbHVlcyA9IChjaG9pY2VfdmFsdWUpID0+IHtcbiAgICBjb25zdCBzcGxpdHRlZENob2ljZVZhbHVlcyA9IFN0cmluZyhjaG9pY2VfdmFsdWUpLnNwbGl0KCdfJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvc3Q6IHNwbGl0dGVkQ2hvaWNlVmFsdWVzWzBdLFxuICAgICAgcGVyZm9ybWFuY2U6IHNwbGl0dGVkQ2hvaWNlVmFsdWVzLnNwbGljZSgxKVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpbnRwcm9tcHRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZVwiPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7cGFyc2UocHJvcHMuY2hvaWNlc1twcm9wcy53aGljaEV2ZW50SGFwcGVuc10pfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIHByZXZcIiBvbkNsaWNrPXtwcmV2aW91c1Byb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlByZXZpb3VzPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gbmV4dFwiIG9uQ2xpY2s9eygpID0+IG5leHRQcm9tcHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VDaG9pY2VWYWx1ZXMocHJvcHMuY2hvaWNlc192YWx1ZXNbcHJvcHMud2hpY2hFdmVudEhhcHBlbnNdKS5jb3N0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlQ2hvaWNlVmFsdWVzKHByb3BzLmNob2ljZXNfdmFsdWVzW3Byb3BzLndoaWNoRXZlbnRIYXBwZW5zXSkucGVyZm9ybWFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgPHA+UG91cnN1aXZyZTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ2hvaWNlIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9DaG9pY2VcIjtcbmltcG9ydCB7IE11bHRpU2VsZWN0aW9uIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9NdWx0aVNlbGVjdGlvblwiO1xuaW1wb3J0IHsgUHJpbnRQcm9tcHQgfSBmcm9tIFwiLi9wcm9tcHRmaWxsL1ByaW50UHJvbXB0XCI7XG5pbXBvcnQgeyBSZXBhcnRpdGlvbiB9IGZyb20gXCIuL3Byb21wdGZpbGwvUmVwYXJ0aXRpb25cIjtcbmltcG9ydCB7IE1hcE5hdmlnYXRvciB9IGZyb20gXCIuL3Byb21wdGZpbGwvTWFwTmF2aWdhdG9yXCI7XG5pbXBvcnQgeyBCaWxhbiB9IGZyb20gXCIuL3Byb21wdGZpbGwvQmlsYW5cIjtcbmltcG9ydCB7IEVuZEdhbWUgfSBmcm9tIFwiLi9wcm9tcHRmaWxsL0VuZEdhbWVcIjtcbmltcG9ydCB7IENhdGFzdHJvcGhlIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9DYXRhc3Ryb3BoZVwiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gUHJvbXB0Qm94KHByb3BzKXtcblxuICBjb25zdCBbIG1lbW9yeU9iaiwgc2V0TWVtb3J5T2JqXSA9IHVzZVN0YXRlKHtcbiAgICBpbnZlc3RlZE1vZGVybml6YXRpb246IGZhbHNlLFxuICAgIGJ1aWx0RGFtOiBmYWxzZSxcbiAgICBidWlsdFNlY29uZERhbTpmYWxzZSxcbiAgICBhY2NlcHRlZENodXJjaGlsbEZhbGxzRGVhbDogZmFsc2UsXG4gICAgYnVpbHROdWNsZWFyOiBmYWxzZVxuICB9KVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgfSwgW10pO1xuXG5cbiAgY29uc3QgZ2FtZVJlc2V0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBzZXRNZW1vcnlPYmooe1xuICAgICAgaW52ZXN0ZWRNb2Rlcm5pemF0aW9uOiBmYWxzZSxcbiAgICAgIGJ1aWx0RGFtOiBmYWxzZSxcbiAgICAgIGJ1aWx0U2Vjb25kRGFtOiBmYWxzZSxcbiAgICAgIGFjY2VwdGVkQ2h1cmNoaWxsRmFsbHNEZWFsOiBmYWxzZSxcbiAgICAgIGJ1aWx0TnVjbGVhcjogZmFsc2VcbiAgICB9KTtcbiAgICBwcm9wcy5nYW1lUmVzZXQoKTtcbiAgfSk7XG5cbiAgY29uc3QgY2hhbmdlUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jIChuZXdWYWx1ZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdDaGFuZ2luZyBwcm9tcHQgZm9yIDogJywgbmV3VmFsdWUpO1xuICAgIHByb3BzLmNoYW5nZVByb21wdChuZXdWYWx1ZSk7XG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZURvbGxhcnMgPSB1c2VDYWxsYmFjayggYXN5bmMgKGRpZmZWYWx1ZSkgPT4ge1xuICAgIGlmKE51bWJlci5pc0ludGVnZXIoZGlmZlZhbHVlKSl7XG4gICAgICBwcm9wcy51cGRhdGVEb2xsYXJzKGRpZmZWYWx1ZSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCB1cGRhdGVQZXJmb3JtYW5jZSA9IHVzZUNhbGxiYWNrKCBhc3luYyAoZGlmZkFycmF5KSA9PiB7XG4gICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UoZGlmZkFycmF5KTtcbiAgfSk7XG5cbiAgY29uc3QgdXBkYXRlTWVtb3J5T2JqID0gdXNlQ2FsbGJhY2soIGFzeW5jIChmaWVsZCwgbmV3VmFsdWUpID0+IHtcbiAgICBsZXQgbmV3TWVtb3J5T2JqID0gey4uLm1lbW9yeU9ian07XG4gICAgbmV3TWVtb3J5T2JqW2ZpZWxkXSA9IG5ld1ZhbHVlO1xuICAgIHNldE1lbW9yeU9iaihuZXdNZW1vcnlPYmopO1xuICB9KTtcblxuICBjb25zdCBwcm9jZXNzUmVhc29uRW5kR2FtZSA9ICgpID0+IHtcbiAgICBsZXQgcmVhc29ucyA9IFtdO1xuICAgIGNvbnNvbGUubG9nKCdjaGVja2luZyByZWFzb24gcHJvY2Vzc2luZzonLCBwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFycywgcHJvcHMucGVyZm9ybWFuY2UpO1xuICAgIGlmKHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzIDwgMCl7XG4gICAgICByZWFzb25zLnB1c2goXCJWb3VzIGF2ZXogdmlkw6kgbGVzIGNvZmZyZXMgZCdIeWRyby1RdcOpYmVjLiBcIik7XG4gICAgfVxuICAgIGlmKHByb3BzLnBlcmZvcm1hbmNlWzFdIDwgLTkpe1xuICAgICAgcmVhc29ucy5wdXNoKFwiVm90cmUgYmlsYW4gZW52aXJvbm5lbWVudGFsIGVzdCBleGPDqWNyYWJsZS4gXCIpO1xuICAgIH1cbiAgICBpZihwcm9wcy5wZXJmb3JtYW5jZVsyXSA8IC05KXtcbiAgICAgIHJlYXNvbnMucHVzaChcIkxhIGZ1cmV1ciBwb3B1bGFpcmUgYSBldSByYWlzb24gZGUgdm90cmUgcG9zdGUuIFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlYXNvbnM7XG4gIH1cblxuICBjb25zdCByZW5kZXJTd2l0Y2ggPSAocGFyYW0pID0+IHtcbiAgICBzd2l0Y2gocGFyYW0pe1xuICAgICAgY2FzZSAnUmVwYXJ0aXRpb24nIDpcbiAgICAgICAgcmV0dXJuIDxSZXBhcnRpdGlvbiBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peF9pbnNlY2FibGVzJ10pLnNwbGl0KCc6Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc192YWx1ZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0NvdXRfRWxlY19FbnZfUG9wdSddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEb2xsYXJzPXt1cGRhdGVEb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVNZW1vcnlPYmo9e3VwZGF0ZU1lbW9yeU9ian1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXVnZXM9e3Byb3BzLmdhdWdlc30vPjtcbiAgICAgIGNhc2UgJ0NhcnRlJzpcbiAgICAgICAgcmV0dXJuIDxNYXBOYXZpZ2F0b3IgY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17U3RyaW5nKHByb3BzLmN1clByb21wdFsnVGV4dGVfU3VwcCddKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLmN1ckluZGV4ID09PSBcIlExLTFcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcImFzc2V0cy9pbWcvQ2FydGUtSHlkcm8uc3ZnXCIsXCJhc3NldHMvaW1nL0NhcnRlLUh5ZHJvLWljb25lLW9uLnN2Z1wiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcImFzc2V0cy9pbWcvQ2FydGUtRW9saWVuLnN2Z1wiLFwiYXNzZXRzL2ltZy9DYXJ0ZS1Fb2xpZW4taWNvbmUtb24uc3ZnXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8+O1xuICAgICAgY2FzZSAndGV4dGVCb3V0b25TaW1wbGUnOlxuICAgICAgICByZXR1cm4gPFByaW50UHJvbXB0IGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ1RleHRlX1N1cHAnXSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc192YWx1ZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0NvdXRfRWxlY19FbnZfUG9wdSddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXVnZXM9e3Byb3BzLmdhdWdlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lUmVzZXQ9e2dhbWVSZXNldH0vPjtcbiAgICAgIGNhc2UgJ0Nob2l4UmVwb25zZSc6XG4gICAgICAgIHJldHVybiA8Q2hvaWNlIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4X2luc2VjYWJsZXMnXSkuc3BsaXQoJzonKX1cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzX3ZhbHVlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ291dF9FbGVjX0Vudl9Qb3B1J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURvbGxhcnM9e3VwZGF0ZURvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGVyZm9ybWFuY2U9e3VwZGF0ZVBlcmZvcm1hbmNlfVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1lbW9yeU9iaj17dXBkYXRlTWVtb3J5T2JqfVxuICAgICAgICAgICAgICAgICAgICAgIGdhdWdlcz17cHJvcHMuZ2F1Z2VzfS8+O1xuICAgICAgY2FzZSAnQ2F0YXN0cm9waGUnOlxuICAgICAgICByZXR1cm4gPENhdGFzdHJvcGhlIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4X2luc2VjYWJsZXMnXSkuc3BsaXQoJzonKX1cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzX3ZhbHVlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ291dF9FbGVjX0Vudl9Qb3B1J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgd2hpY2hFdmVudEhhcHBlbnM9e21lbW9yeU9iai5pbnZlc3RlZE1vZGVybml6YXRpb24gPyAxIDogMH1cbiAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9Lz47XG4gICAgICBjYXNlICdNdWx0aVNlbGVjdGlvbic6XG4gICAgICAgIHJldHVybiA8TXVsdGlTZWxlY3Rpb24gY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDaG9peF9pbnNlY2FibGVzJ10pLnNwbGl0KCc6Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzX3ZhbHVlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ291dF9FbGVjX0Vudl9Qb3B1J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURvbGxhcnM9e3VwZGF0ZURvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXVnZXM9e3Byb3BzLmdhdWdlc30vPjtcbiAgICAgIGNhc2UgJ0JpbGFuJzpcbiAgICAgICAgcmV0dXJuIDxCaWxhbiBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJmb3JtYW5jZT17dXBkYXRlUGVyZm9ybWFuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWFuY2U9e3Byb3BzLnBlcmZvcm1hbmNlfVxuICAgICAgICAgICAgICAgICAgICAgIG1lbW9yeU9iaj17bWVtb3J5T2JqfVxuICAgICAgICAgICAgICAgICAgICAgIGdhdWdlcz17cHJvcHMuZ2F1Z2VzfVxuICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQmlsYW5EYXRhPXtwcm9wcy5maW5hbEJpbGFuRGF0YX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gPENob2ljZSBjdXJQcm9tcHQ9e3Byb3BzLmN1clByb21wdH0gY2hvaWNlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXhfaW5zZWNhYmxlcyddKS5zcGxpdCgnOicpfSBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH0gY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fS8+O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgICBwcm9wcy5lbmRHYW1lID09PSB0cnVlID9cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnYW1lQm94XCI+XG4gICAgICAgICAgPEVuZEdhbWVcbiAgICAgICAgICAgIHJhaXNvbj17cHJvY2Vzc1JlYXNvbkVuZEdhbWUoKX1cbiAgICAgICAgICAgIGdhbWVSZXNldD17Z2FtZVJlc2V0fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgOlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWVCb3hcIj5cblxuICAgICAgICAgIHtwcm9wcy5jdXJQcm9tcHRbJ1R5cGUnXSA9PT0gXCJCaWxhblwiID9cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvbXB0Qm94IGJpbGFuXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXNzaXZlVGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgIDxoMj57cGFyc2UocHJvcHMuY3VyUHJvbXB0WydTdWpldCddKX08L2gyPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZXBhcmF0b3JcIj48L2Rpdj5cbiAgICAgICAgICAgICAge3JlbmRlclN3aXRjaChwcm9wcy5jdXJQcm9tcHRbJ1R5cGUnXSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA6XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb21wdEJveFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VydGl0cmVcIj5cbiAgICAgICAgICAgICAgICAgIDxoND57cGFyc2UocHJvcHMuY3VyUHJvbXB0WydTdWpldCddKX08L2g0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicXVlc3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgIDxwPntwYXJzZShwcm9wcy5jdXJQcm9tcHRbJ1RleHRlJ10pfTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtyZW5kZXJTd2l0Y2gocHJvcHMuY3VyUHJvbXB0WydUeXBlJ10pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgKVxuXG5cbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBHYXVnZXMgfSBmcm9tIFwiLi9nYXVnZXMvR2F1Z2VzXCI7XG5pbXBvcnQgeyBJbnRyb0JveCB9IGZyb20gXCIuL2ludHJvQm94XCI7XG5pbXBvcnQgeyBQcm9tcHRCb3ggfSBmcm9tIFwiLi9Qcm9tcHRCb3hcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIE1haW5GcmFtZShwcm9wcyl7XG5cbiAgY29uc3QgW2dhbWVTdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZSgnSURMRScpO1xuICBjb25zdCBbZ2FtZUluZGV4LCBzZXRHYW1lSW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtkb2xsYXJzLCBzZXREb2xsYXJzXSA9IHVzZVN0YXRlKDUwKTtcbiAgY29uc3QgW3BlcmZvcm1hbmNlLCBzZXRQZXJmb3JtYW5jZV0gPSB1c2VTdGF0ZShbMCwwLDBdKTtcbiAgY29uc3QgW2JnLCBzZXRCR10gPSB1c2VTdGF0ZSgnbm9ybWFsJyk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZ2FtZSAnLCBnYW1lU3RhdHVzKTtcbiAgfSwgW2dhbWVTdGF0dXNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdldEdhbWVQcm9tcHQoZ2FtZUluZGV4KTtcbiAgICBpZihnYW1lSW5kZXggPT09IFwiRU5EXCIpe1xuICAgICAgZ2FtZUVuZCgpO1xuICAgIH1cbiAgfSwgW2dhbWVJbmRleF0pO1xuXG4gIGNvbnN0IGdhbWVTdGFydCA9ICgpID0+IHtcbiAgICBzZXRTdGF0dXMoJ1NUQVJURUQnKTtcbiAgICBzZXRHYW1lSW5kZXgoMCk7XG4gIH1cblxuICBjb25zdCBnYW1lRW5kID0gKCkgPT4ge1xuICAgIHNldFN0YXR1cygnRU5EJyk7XG4gIH1cblxuICBjb25zdCBnYW1lUmVzZXQgPSAoKSA9PiB7XG4gICAgc2V0RG9sbGFycyg1MCk7XG4gICAgc2V0UGVyZm9ybWFuY2UoWzAsMCwwXSk7XG4gICAgc2V0U3RhdHVzKCdJRExFJyk7XG4gICAgc2V0R2FtZUluZGV4KDApO1xuICB9XG5cbiAgY29uc3QgZ2V0R2FtZVByb21wdCA9IChnYW1lSW5kZXgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnY3VycmVudCBnYW1lIHByb21wdDonLCBwcm9wcy5nYW1lRGF0YS5maWx0ZXIoZWxlbSA9PiB7cmV0dXJuIFN0cmluZyhlbGVtW1wiSURcIl0pID09PSBTdHJpbmcoZ2FtZUluZGV4KTt9KSk7XG4gIH1cblxuICBjb25zdCB1cGRhdGVEb2xsYXJzID0gKGRpZmYpID0+IHtcbiAgICBzZXREb2xsYXJzKGRvbGxhcnMgPT4gZG9sbGFycyArIGRpZmYpO1xuICAgIGlmKGRvbGxhcnMgKyBkaWZmIDwgMCl7XG4gICAgICBnYW1lRW5kKCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdXBkYXRlUGVyZm9ybWFuY2UgPSAoZGlmZikgPT4ge1xuICAgIGxldCBuZXdQZXJmb3JtYW5jZSA9IEFycmF5LmFwcGx5KG51bGwsIEFycmF5KGRpZmYubGVuZ3RoKSkubWFwKGZ1bmN0aW9uICgpIHt9KTtcbiAgICBwZXJmb3JtYW5jZS5mb3JFYWNoKChlbGVtLCBjb3VudCkgPT4ge1xuICAgICAgbmV3UGVyZm9ybWFuY2VbY291bnRdID0gcGFyc2VJbnQoZWxlbSkgKyBwYXJzZUludChkaWZmW2NvdW50XSk7XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ1NldHRpbmcgcGVyZm9ybWFuY2UgdG8gOiAnLCBuZXdQZXJmb3JtYW5jZSk7XG5cbiAgICBzZXRQZXJmb3JtYW5jZShuZXdQZXJmb3JtYW5jZSk7XG4gICAgaWYobmV3UGVyZm9ybWFuY2VbMV0gPD0gLTkgfHwgbmV3UGVyZm9ybWFuY2VbMl0gPD0gLTkpe1xuICAgICAgZ2FtZUVuZCgpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZpbmRHYW1lSW5kZXggPSAoSURuYW1lKSA9PiB7XG5cbiAgICBjb25zdCBmb3VuZElEID0gcHJvcHMuZ2FtZURhdGEuZmluZEluZGV4KChlbGVtKSA9PiB7XG4gICAgICByZXR1cm4gU3RyaW5nKElEbmFtZSkgPT09IFN0cmluZyhlbGVtWydJRCddKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm91bmRJRDtcbiAgfVxuXG4gIGNvbnN0IGNoZWNrQkcgPSAoY3VyUHJvbXB0QkcpID0+IHtcbiAgICBpZihjdXJQcm9tcHRCRyA9PT0gXCJyZWRwaW5rXCIpe1xuICAgICAgc2V0QkcoJ3JlZHBpbmsnKTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIGlmKGJnICE9PSAnbm9ybWFsJyl7XG4gICAgICAgIHNldEJHKCdub3JtYWwnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjdXJQcm9tcHQgPSBwcm9wcy5nYW1lRGF0YVtmaW5kR2FtZUluZGV4KGdhbWVJbmRleCldO1xuICAgIGlmKGN1clByb21wdCAmJiBjdXJQcm9tcHQuaGFzT3duUHJvcGVydHkoXCJCYWNrZ3JvdW5kXCIpKXtcbiAgICAgIGNoZWNrQkcoY3VyUHJvbXB0W1wiQmFja2dyb3VuZFwiXSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBnZXRCYWNrZ3JvdW5kSW5mbyA9ICgpID0+IHtcbiAgICBjb25zdCBnYW1lU2NyZWVuQ2xhc3MgPSAoZ2FtZVN0YXR1cyA9PT0gXCJFTkRcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVJbmRleCA9PT0gXCJFTkRcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnID09PSBcInJlZHBpbmtcIikgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2FtZU92ZXJcIiA6IFwiXCI7XG5cbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgZ2FtZSBpbmZvOiAnLCBnYW1lU3RhdHVzLCBnYW1lSW5kZXgsIGJnKTtcbiAgICBjb25zdCBjdXJQcm9tcHQgPSBwcm9wcy5nYW1lRGF0YVtmaW5kR2FtZUluZGV4KGdhbWVJbmRleCldO1xuICAgIGNvbnN0IGJhY2tncm91bmRJbWFnZSA9IGN1clByb21wdCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY3VyUHJvbXB0W1wiQmFja2dyb3VuZFwiXSA9PT0gXCJweWxvbmVcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSWxsdXNfU2VjdGlvbi0wMV9QeWxvbmVfVjAxLTE0LnN2Z1wiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyUHJvbXB0W1wiQmFja2dyb3VuZFwiXSA9PT0gXCJhbXBvdWxlXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSWxsdXNfU2VjdGlvbi0wMl9BbXBvdWxlX1YwMi5zdmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJQcm9tcHRbXCJCYWNrZ3JvdW5kXCJdID09PSBcImNlbnRyYWxlXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJJbGx1c19TZWN0aW9uLTAwX0NlbnRyYWxlX1YwMS5zdmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGdhbWVTY3JlZW5DbGFzczogZ2FtZVNjcmVlbkNsYXNzLFxuICAgICAgYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kSW1hZ2VcbiAgICB9O1xuICB9O1xuXG5cbiAgY29uc3QgZG9tRWxlbWVudCA9IGdhbWVTdGF0dXMgPT09IFwiSURMRVwiID9cbiAgICAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWVTY3JlZW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYWNrZ3JvdW5kLWltYWdlXCI+XG4gICAgICAgICAgPGltZ1xuICAgICAgICAgICAgc3JjPVwiYXNzZXRzL2ltZy9JbGx1c19TZWN0aW9uLTAwX0NlbnRyYWxlX1YwMS5zdmdcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8SW50cm9Cb3ggaW50cm9FbGVtPXtwcm9wcy5pbnRyb0VsZW19IG1hcE9iaj17cHJvcHMubWFwT2JqfSBnYW1lU3RhcnQ9e2dhbWVTdGFydH0gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgICA6XG4gICAgPGRpdiBjbGFzc05hbWU9e2BnYW1lU2NyZWVuICR7Z2V0QmFja2dyb3VuZEluZm8oKS5nYW1lU2NyZWVuQ2xhc3N9YH0+XG4gICAgICB7XG4gICAgICAgIChnZXRCYWNrZ3JvdW5kSW5mbygpLmdhbWVTY3JlZW5DbGFzcyAhPT0gXCJnYW1lT3ZlclwiICYmIGdldEJhY2tncm91bmRJbmZvKCkuYmFja2dyb3VuZEltYWdlICE9PSBudWxsKT9cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhY2tncm91bmQtaW1hZ2VcIj5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtgYXNzZXRzL2ltZy8ke2dldEJhY2tncm91bmRJbmZvKCkuYmFja2dyb3VuZEltYWdlfWB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm5vLW1vYmlsZVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDpcbiAgICAgICAgICAnJ1xuICAgICAgfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZW1wb3JhcnlJbmZvXCI+XG4gICAgICAgIDxwPlBlcmZvcm1hbmNlICh0ZW1wb3JhaXJlKTwvcD5cbiAgICAgICAgPHA+RG9sbGFyczoge2Ake2RvbGxhcnN9ICRgfTwvcD5cbiAgICAgICAgPHA+RWxlYzoge2Ake3BlcmZvcm1hbmNlWzBdfSBUV2hgfTwvcD5cbiAgICAgICAgPHA+RW52aXJvOiB7YCR7cGVyZm9ybWFuY2VbMV19IHB0c2B9PC9wPlxuICAgICAgICA8cD5Qb3B1OiB7YCR7cGVyZm9ybWFuY2VbMl19IHB0c2B9PC9wPlxuICAgICAgPC9kaXY+XG4gICAgICA8UHJvbXB0Qm94IGN1ckluZGV4PXtnYW1lSW5kZXh9XG4gICAgICAgIGN1clByb21wdD17KGdhbWVJbmRleCA9PT0gXCJFTkRcIikgPyBcIlwiIDogcHJvcHMuZ2FtZURhdGFbZmluZEdhbWVJbmRleChnYW1lSW5kZXgpXX1cbiAgICAgICAgY2hhbmdlUHJvbXB0PXtzZXRHYW1lSW5kZXh9XG4gICAgICAgIHVwZGF0ZURvbGxhcnM9e3VwZGF0ZURvbGxhcnN9XG4gICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX1cbiAgICAgICAgZ2F1Z2VzPXs8R2F1Z2VzIGRvbGxhcnM9e2RvbGxhcnN9Lz59XG4gICAgICAgIHBlcmZvcm1hbmNlPXtwZXJmb3JtYW5jZX1cbiAgICAgICAgZW5kR2FtZT17Z2FtZUluZGV4ID09PSBcIkVORFwiIHx8IGdhbWVTdGF0dXMgPT09IFwiRU5EXCJ9XG4gICAgICAgIGZpbmFsQmlsYW5EYXRhPXtwcm9wcy5maW5hbEJpbGFuRGF0YX1cbiAgICAgICAgZ2FtZVJlc2V0PXtnYW1lUmVzZXR9XG4gICAgICAgIC8+XG4gICAgPC9kaXY+O1xuXG4gIHJldHVybiBkb21FbGVtZW50O1xufVxuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb20vY2xpZW50XCI7XG5pbXBvcnQgeyByZW5kZXJUb1N0YXRpY01hcmt1cCB9IGZyb20gJ3JlYWN0LWRvbS9zZXJ2ZXInO1xuaW1wb3J0IHsgTWFpbkZyYW1lIH0gZnJvbSAnLi9jb21wb25lbnRzL21haW5mcmFtZSc7XG5pbXBvcnQgeyBvcHRpb25zRHJvcGRvd25Db25zdGFudHMsIGNvbnRlbnRIZWFkZXJDb25zdGFudHMgfSBmcm9tIFwiLi4vZ2VuZXJhdG9yL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgSW50cm9TZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9JbnRyb1NlY3Rpb24nO1xuXG5leHBvcnQgY2xhc3MgRW5naW5lIHtcblxuICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIG9wdGlvbkRhdGEsIGludHJvT2JqLCBnYW1lRGF0YSl7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgY29uc3Qgcm9vdEVsZW0gPSB0aGlzLmNvbnRhaW5lci5hcHBlbmQoJ2RpdicpXG4gICAgICAuY2xhc3NlZCgncm9vdEVsZW0nLCB0cnVlKTtcbiAgICB0aGlzLmVuZ2luZVJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KHJvb3RFbGVtLm5vZGUoKSk7XG4gICAgdGhpcy5vcHRpb25EYXRhID0gb3B0aW9uRGF0YTtcbiAgICB0aGlzLmFtb3JjZSA9IGludHJvT2JqW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdO1xuICAgIHRoaXMuZ2FtZURhdGEgPSBnYW1lRGF0YTtcbiAgICBjb25zb2xlLmxvZygnZ2FtZSBEYXRhIGlzIDogJywgdGhpcy5nYW1lRGF0YSk7XG4gICAgdGhpcy5pbml0RW5naW5lKCk7XG4gIH1cblxuICBpbml0RW5naW5lKCl7XG4gICAgY29uc3QgaW50cm9FbGVtID0gKDxJbnRyb1NlY3Rpb25cbiAgICAgIGtleT17XCJnYW1lSW50cm9cIn1cbiAgICAgIHNlY3Rpb25UeXBlPXtvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLmludHJvdGl0cmV9XG4gICAgICBvcHRpb25EYXRhPXt0aGlzLm9wdGlvbkRhdGF9XG4gICAgICBhbW9yY2U9e3RoaXMuYW1vcmNlfVxuICAgICAgYmFja2dyb3VuZD17bnVsbH1cbiAgICAgIGNsYXNzZXM9e1wiXCJ9XG4gICAgICAvPik7XG5cbiAgICB0aGlzLmVuZ2luZVJvb3QucmVuZGVyKDxNYWluRnJhbWUgaW50cm9FbGVtPXtpbnRyb0VsZW19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVTdGF0dXM9e3RoaXMuZ2FtZVN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZURhdGE9e3RoaXMuZ2FtZURhdGFbMF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQmlsYW5EYXRhPXt0aGlzLmdhbWVEYXRhWzFdfS8+KTtcbiAgfVxuXG59XG4iLCIvKipcbiAqIHZpei5qc1xuICogPT09PT09PVxuICogRmlsZSB1c2VkIHRvIGRlZmluZSB0aGUgdmlzdWFsaXphdGlvbiBzZWN0aW9uLlxuICovXG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IGdldFN0cnVjdHVyZSwgZ2VuZXJhdGVDYWxsYmFja3MsIGdldE9wdGlvbnMgfSBmcm9tICcuL2dlbmVyYXRvci9zdHJ1Y3R1cmVHZW5lcmF0b3IuanMnO1xuaW1wb3J0IHsgY2FsbGJhY2tzIH0gZnJvbSAnLi4vZGF0YS9zdHJ1Y3R1cmUvY2FsbGJhY2tzLmpzJztcblxuaW1wb3J0IHsgTWFwIH0gZnJvbSAnbGVkZXZvaXItZGF0YXZpeic7XG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tICcuL2dhbWUvZW5naW5lLmpzJztcblxuY29uc3QgY29uZmlnID0ge1xuICB3aWR0aDogNTAwLFxuICBoZWlnaHQ6IDUwMCxcbiAgbWFyZ2luOiB7XG4gICAgdG9wOiAxMDAsXG4gICAgcmlnaHQ6IDEwMCxcbiAgICBib3R0b206IDEwMCxcbiAgICBsZWZ0OiAxMDBcbiAgfVxufVxuY29uc3QgZnVsbFdpZHRoID0gY29uZmlnLm1hcmdpbi5sZWZ0ICsgY29uZmlnLndpZHRoICsgY29uZmlnLm1hcmdpbi5yaWdodDtcbmNvbnN0IGZ1bGxIZWlnaHQgPSBjb25maWcubWFyZ2luLnRvcCArIGNvbmZpZy5oZWlnaHQgKyBjb25maWcubWFyZ2luLmJvdHRvbTtcbmNvbnN0IG1hcEJveFN0eWxlID0gXCJtYXBib3g6Ly9zdHlsZXMvbGVkZXZvaXIvY2xhbDl6bGZrMDA0YTE1cW9oaHI3cjQ5NVwiO1xuXG5jb25zdCBjdXN0b21DYWxsYmFja3NOZWVkZWQgPSB0cnVlOyAvLyBTZXQgdG8gdHJ1ZSBpZiBjdXN0b20gY2FsbGJhY2tzIGFyZSBuZWVkZWRcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemUoY29udGVudERhdGEsIG9wdGlvbnMpIHtcblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgZDMuY3N2KFwiaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvZS8yUEFDWC0xdlFRWjNzejBxMXZuWm1vWVlSNUlyQ2Z1T05oSGNOdzUwaUR0YmcxSDJtSVg4bEhETDFCUTRzQU1pN2lBcFNFMUc5V1FUVzJqSGNXdjRLVy9wdWI/Z2lkPTE0OTc4NjEwMTcmc2luZ2xlPXRydWUmb3V0cHV0PWNzdlwiKSxcbiAgICAgICAgICAgICAgICAgIGQzLmNzdihcImh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kL2UvMlBBQ1gtMXZRUVozc3owcTF2blptb1lZUjVJckNmdU9OaEhjTnc1MGlEdGJnMUgybUlYOGxIREwxQlE0c0FNaTdpQXBTRTFHOVdRVFcyakhjV3Y0S1cvcHViP2dpZD0yMDA1NjM3NzM2JnNpbmdsZT10cnVlJm91dHB1dD1jc3ZcIilcbiAgICAgICAgICAgICAgICBdKVxuICAgIC50aGVuKCBnYW1lRGF0YSA9PiB7XG5cbiAgICAgIGNvbnN0IG1hcENvbnRhaW5lciA9IGQzLnNlbGVjdChcIi5nYW1lLWFyZWFcIik7XG5cbiAgICAgIGNvbnN0IGVuZ2luZSA9IG5ldyBFbmdpbmUobWFwQ29udGFpbmVyLCBnZXRPcHRpb25zKG9wdGlvbnMpLCBjb250ZW50RGF0YVswXSwgZ2FtZURhdGEpO1xuXG4gICAgICBsZXQgYXV0b0NhbGxiYWNrcztcbiAgICAgIHNldHVwVml6KGNvbnRlbnREYXRhLG9wdGlvbnMpO1xuICAgICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgIGF1dG9DYWxsYmFja3MgPSBnZW5lcmF0ZUNhbGxiYWNrcyhjb250ZW50RGF0YSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICBhdXRvQ2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuICAgICAgfVxuXG4gICAgICBpZihjdXN0b21DYWxsYmFja3NOZWVkZWQpe1xuICAgICAgICAvL2lmIGN1c3RvbSBjYWxsYmFja3MgYXJlIG5lZWRlZCwgc3VjaCBhcyBWaXN1YWxpemF0aW9uIHRyYW5zZm9ybWF0aW9ucywgaW5jbHVkZSB0aGVtIGhlcmUuXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIHRvIHVzZSBhbnkgb2JqZWN0IGNyZWF0ZWQgaW4gdml6LmpzIChncmFwaHMsIHRvb2xzLCBldGMpIGluIHRoZSBjYWxsYmFja3MuXG4gICAgICAgIC8vIFlvdSB3aWxsIG5lZWQgdG8gbWFudWFsbHkgY3JlYXRlIHRoZSBjb3JyZWN0IG51bWJlciBvZiBjYWxsYmFja3MgdG8gbWF0Y2ggdGhlIHZpeiBzZWN0aW9uc1xuXG4gICAgICAgIGxldCBjdXN0b21DYWxsYmFja3MgPSBbXG4gICAgICAgICAgW1xuICAgICAgICAgICAgKCkgPT4ge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICBdXG4gICAgICAgIHJldHVybiBjdXN0b21DYWxsYmFja3M7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXV0b0NhbGxiYWNrcztcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0dXBWaXooY29udGVudERhdGEsIG9wdGlvbnMpe1xuXG4gIGNvbnN0IGZ1bGxTdHJ1Y3R1cmUgPSBnZXRTdHJ1Y3R1cmUoY29udGVudERhdGEsIG9wdGlvbnMpO1xuICBjb25zb2xlLmxvZygnY2hlY2tpbmcgc3RydWN0dXJlOicsIGZ1bGxTdHJ1Y3R1cmUpO1xuICBmdWxsU3RydWN0dXJlLm1hcChzZWN0aW9uT2JqID0+IHtcblxuICAgIGlmKHNlY3Rpb25PYmouc2VjdGlvblR5cGUgPT09IFwidml6LXNlY3Rpb25cIil7XG4gICAgICBzZWN0aW9uT2JqLnN0ZXBzLm1hcCgoc3RlcCxpbmRleCkgPT4ge1xuICAgICAgICAgIGlmKHN0ZXAudmlzdWFsICE9PSBcIlwiKXtcbiAgICAgICAgICAgIGlmKGluZGV4ID09PSAwKXtcbiAgICAgICAgICAgICAgZDMuc2VsZWN0KGAjJHtzZWN0aW9uT2JqLmtleX1fJHtpbmRleH1gKS5zdHlsZSgnb3BhY2l0eScsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgZDMuc2VsZWN0KGAjJHtzZWN0aW9uT2JqLmtleX1fJHtpbmRleH1gKS5zdHlsZSgnb3BhY2l0eScsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbn0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cFZpZGVvcygpe1xuICBsZXQgdmlkZW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInZpZGVvXCIpO1xuICAgIHZpZGVvcy5mb3JFYWNoKCh2aWRlbykgPT4ge1xuICAgICAgLy8gV2UgY2FuIG9ubHkgY29udHJvbCBwbGF5YmFjayB3aXRob3V0IGluc3RlcmFjdGlvbiBpZiB2aWRlbyBpcyBtdXRlXG4gICAgICB2aWRlby5tdXRlZCA9IHRydWU7XG4gICAgICB2aWRlby5jdXJyZW50VGltZSA9IDA7XG4gICAgICAvLyBQbGF5IGlzIGEgcHJvbWlzZSBzbyB3ZSBuZWVkIHRvIGNoZWNrIHdlIGhhdmUgaXRcbiAgICAgIGxldCBwbGF5UHJvbWlzZSA9IHZpZGVvLnBsYXkoKTtcbiAgICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcGxheVByb21pc2UudGhlbigoXykgPT4ge1xuICAgICAgICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgICAgICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gIT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF2aWRlby5wYXVzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlby5wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW8uY3VycmVudFRpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnBhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgeyB0aHJlc2hvbGQ6IDAuMiB9XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUodmlkZW8pO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xufVxuIiwiLyoqXHJcbiAqIHNjcm9sbGVyLmpzXHJcbiAqID09PT09PT09PT09XHJcbiAqIERlZmluZXMgdGhlIGxvZ2ljIHVzZWQgYnkgdGhlIHNjcm9sbGVyLiBUaGlzIHNjcmlwdCBkb2VzIG5vdCBuZWVkIGV4dGVybmFsIGRlcGVuZGVuY2llcyBhbmQgdXNlcyBuYXRpdmUgZnVuY3Rpb25zXHJcbiAqIG9mIHRoZSBicm93c2VyLlxyXG4gKlxyXG4gKiAvIVxcIFBMRUFTRSwgRE8gTk9UIE1PRElGWSBUSElTIEZJTEUuXHJcbiAqXHJcbiAqIEBhdXRob3IgQW50b2luZSBCw6lsYW5kIDxhYmVsYW5kQGxlZGV2b2lyLmNvbT5cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogRGVmaW5lcyBhIHN0ZXAgYXNzb2NpYXRlZCB3aXRoIGEgc3BlY2lmaWMgdmlzdWFsaXphdGlvbi4gQSBzdGVwIGlzIGFjdGl2YXRlZCBvciBkZWFjdGl2YXRlZCBiYXNlZCBvbiB0aGUgc2Nyb2xsXHJcbiAqIHBvc2l0aW9uLiBUaGlzIGNsYXNzIGlzIHVzZWQgYnkgdGhlIHNjcm9sbGVyIGZ1bmN0aW9uLlxyXG4gKi9cclxuY2xhc3MgU2Nyb2xsZXJTdGVwIHtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBhIG5ldyBpbnN0YW5jZSBvZiBTY3JvbGxlclN0ZXAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZWwgICAgICAgICAgVGhlIG5hdGl2ZSBlbGVtZW50IHRoYXQgcmVwcmVzZW50cyB0aGUgc3RlcCBpbiB0aGUgSFRNTCBkb2N1bWVudC5cclxuICAgKiBAcGFyYW0gaW5kZXggICAgICAgVGhlIGluZGV4IG9mIHRoZSBzdGVwLlxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayAgICBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBzdGVwIGlzIGFjdGl2YXRlLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGVsLCBpbmRleCwgY2FsbGJhY2spIHtcclxuICAgIHRoaXMuZWwgPSBlbDtcclxuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIHRoaXMuX2lzQWN0aXZhdGUgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFjdGl2YXRlcyB0aGUgY3VycmVudCBzdGVwLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHNjcm9sbERpcmVjdGlvbiAgIFRoZSBjdXJyZW50IHNjcm9sbCBkaXJlY3Rpb24uXHJcbiAgICovXHJcbiAgYWN0aXZhdGUoc2Nyb2xsRGlyZWN0aW9uKSB7XHJcbiAgICBpZiAodGhpcy5faXNBY3RpdmF0ZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLl9pc0FjdGl2YXRlID0gdHJ1ZTtcclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB0aGlzLmNhbGxiYWNrKHNjcm9sbERpcmVjdGlvbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZWFjdGl2YXRlcyB0aGUgY3VycmVudCBzdGVwLlxyXG4gICAqL1xyXG4gIGRlYWN0aXZhdGUoKSB7XHJcbiAgICBpZiAoIXRoaXMuX2lzQWN0aXZhdGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faXNBY3RpdmF0ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIHRoZSBzY3JvbGwgZGlyZWN0aW9ucy5cclxuICpcclxuICogQHR5cGUge3t1cDogc3RyaW5nLCBkb3duOiBzdHJpbmd9fVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHNjcm9sbERpcmVjdGlvbnMgPSB7XHJcbiAgdXA6ICd1cCcsXHJcbiAgZG93bjogJ2Rvd24nXHJcbn07XHJcblxyXG4vKipcclxuICogRGVmaW5lcyB0aGUgc2Nyb2xsZXIgdG8gdXNlIHdpdGggdGhlIExlIERldm9pcidzIHNjcm9sbHl0ZWxsaW5nIGFydGljbGVzLiBQbGVhc2Ugc2VlIFwiUkVBRE1FLm1kXCJcclxuICogdG8ga25vdyBob3cgdG8gdXNlIGl0LlxyXG4gKlxyXG4gKiAvIVxcIEJlIHN1cmUgdG8gdXNlIHRoZSBnb29kIENTUyBjbGFzcyBuYW1lcyBpbiB5b3VyIEhUTUwgZmlsZSBiZWZvcmUgdG8gdXNlIHRoZSBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIGNhbGxiYWNrcyAgIEEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgb2YgY2FsbGJhY2tzIHRvIHVzZSB3aXRoIGVhY2ggc3RlcC5cclxuICogQHJldHVybnMgeyp9ICAgICAgIFRoZSBpbnN0YW5jZSBvZiB0aGUgc2Nyb2xsZXIuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsZXIoY2FsbGJhY2tzKSB7XHJcbiAgbGV0IF9vZmZzZXRUb3AgPSAwO1xyXG4gIGxldCBfb2Zmc2V0Qm90dG9tID0gMDtcclxuXHJcbiAgbGV0IGlubmVySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gIGxldCBpc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgbGV0IGxhc3RTY3JvbGwgPSAwO1xyXG4gIGxldCBzdGVwcyA9IFtdO1xyXG4gIGxldCB2aXogPSBbXTtcclxuICBsZXQgdmlzaWJsZVN0ZXBzID0gW107XHJcbiAgXHJcbiAgY29uc3QgYXJ0aWNsZVJlbWluZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFydGljbGUtcmVtaW5kZXInKTtcclxuICBjb25zdCBzY3JvbGxQcm9ncmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciA+IC5wcm9ncmVzcycpO1xyXG4gIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvLXNlY3Rpb24gaDEnKTtcclxuXHJcbiAgY29uc3Qgdml6U2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudml6LXNlY3Rpb24nKTtcclxuICBpZiAodml6U2VjdGlvbnMubGVuZ3RoICE9PSBjYWxsYmFja3MubGVuZ3RoKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBudW1iZXIgb2Ygdml6IHNlY3Rpb25zICgke3ZpelNlY3Rpb25zLmxlbmd0aH0pIG1pc21hdGNoIHdpdGggdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3QgYCArXHJcbiAgICAgIGBkaW1lbnNpb24gb2YgdGhlIGNhbGxiYWNrcyBhcnJheSAoJHtjYWxsYmFja3MubGVuZ3RofSkuIFBsZWFzZSwgYmUgc3VyZSB0aGF0IHRoZSB0d28gZWxlbWVudHMgYCArXHJcbiAgICAgIGBoYXZlIHRoZSBzYW1lIHNpemUuYCk7XHJcbiAgfVxyXG4gIHZpelNlY3Rpb25zLmZvckVhY2goKHZpelNlY3Rpb24sIGkpID0+IHtcclxuICAgIGNvbnN0IHNlY3Rpb25zID0gWy4uLnZpelNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbicpXTtcclxuICAgIGlmIChzZWN0aW9ucy5sZW5ndGggIT09IGNhbGxiYWNrc1tpXS5sZW5ndGgpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgbnVtYmVyIG9mIHN0ZXBzICgke3NlY3Rpb25zLmxlbmd0aH0pIGluIHRoZSB2aXogc2VjdGlvbiAjJHtpICsgMX0gbWlzbWF0Y2ggd2l0aCB0aGUgYCArXHJcbiAgICAgICAgYG51bWJlciBvZiBjYWxsYmFja3Mgc3BlY2lmaWVkICgke2NhbGxiYWNrc1tpXS5sZW5ndGh9KSBhdCB0aGUgaW5kZXggXCIke2l9XCIuIFBsZWFzZSwgYmUgc3VyZSB0aGF0IHRoZSB0d28gYCArXHJcbiAgICAgICAgYGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgc2l6ZS5gKTtcclxuICAgIH1cclxuICAgIHN0ZXBzID0gc3RlcHMuY29uY2F0KHNlY3Rpb25zLm1hcCgoZSwgaikgPT4gbmV3IFNjcm9sbGVyU3RlcChlLCBgJHtpfS0ke2p9YCwgY2FsbGJhY2tzW2ldW2pdKSkpO1xyXG4gICAgdml6ID0gdml6LmNvbmNhdCh2aXosIHZpelNlY3Rpb24ucXVlcnlTZWxlY3RvcignLnZpeiA+IConKSk7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXkgYmFzZWQgb24gc2Nyb2xsYmFyIHBvc2l0aW9uLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgY29uc3QgX3VwZGF0ZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRTY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgIHN0ZXBzLmZvckVhY2goc3RlcCA9PiB7XHJcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBjdXJyZW50IHN0ZXAgaXMgaW4gdGhlIHZpZXdwb3J0LlxyXG4gICAgICBjb25zdCBib3VuZGluZ1JlY3QgPSBzdGVwLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBpZiAoaW5uZXJIZWlnaHQgLSBib3VuZGluZ1JlY3QudG9wIC0gX29mZnNldEJvdHRvbSA+IDBcclxuICAgICAgICAmJiBib3VuZGluZ1JlY3QudG9wICsgYm91bmRpbmdSZWN0LmhlaWdodCAtIF9vZmZzZXRUb3AgPiAwKSB7XHJcbiAgICAgICAgdmlzaWJsZVN0ZXBzLnB1c2goc3RlcCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RlcC5kZWFjdGl2YXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIERpc3BsYXkgdGhlIHRpdGxlIGFzIGEgcmVtaW5kZXIgd2hlbiB0aGUgbWFpbiBhcnRpY2xlIHRpdGxlIGlzIGhpZGRlbi5cclxuICAgIGNvbnN0IGlzQXJ0aWNsZVJlbWluZGVyRGlzcGxheWVkID0gdGl0bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tIDw9IDA7XHJcbiAgICBjb25zdCBpc0FydGljbGVSZW1pbmRlcklzVmlzaWJsZSA9IGFydGljbGVSZW1pbmRlci5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKTtcclxuICAgIGlmIChpc0FydGljbGVSZW1pbmRlckRpc3BsYXllZCAmJiAhaXNBcnRpY2xlUmVtaW5kZXJJc1Zpc2libGUpIHtcclxuICAgICAgYXJ0aWNsZVJlbWluZGVyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKVxyXG4gICAgfSBlbHNlIGlmICghaXNBcnRpY2xlUmVtaW5kZXJEaXNwbGF5ZWQgJiYgaXNBcnRpY2xlUmVtaW5kZXJJc1Zpc2libGUpIHtcclxuICAgICAgYXJ0aWNsZVJlbWluZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEZvciB0aGUgdmlzaWJsZSBzdGVwcywgY2hvb3NlIHRoZSBnb29kIG9uZSBiYXNlZCBvbiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi5cclxuICAgIHZpc2libGVTdGVwcy5mb3JFYWNoKChzZWN0aW9uLCBpKSA9PiB7XHJcbiAgICAgIGlmIChjdXJyZW50U2Nyb2xsID49IGxhc3RTY3JvbGwpIHsgLy8gU2Nyb2xsIGRvd24gKOKGkylcclxuICAgICAgICBpZiAoaSA9PT0gdmlzaWJsZVN0ZXBzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIHNlY3Rpb24uYWN0aXZhdGUoc2Nyb2xsRGlyZWN0aW9ucy5kb3duKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VjdGlvbi5kZWFjdGl2YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgeyAvLyBTY3JvbGwgdXAgKOKGkSlcclxuICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgc2VjdGlvbi5hY3RpdmF0ZShzY3JvbGxEaXJlY3Rpb25zLnVwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VjdGlvbi5kZWFjdGl2YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIF91cGRhdGVTY3JvbGxQcm9ncmVzcygpO1xyXG5cclxuICAgIC8vIFJlc2V0IHRoZSB2YXJpYWJsZXMgZm9yIHRoZSBuZXh0IGZ1bmN0aW9uIGNhbGwuXHJcbiAgICB2aXNpYmxlU3RlcHMgPSBbXTtcclxuICAgIGxhc3RTY3JvbGwgPSBjdXJyZW50U2Nyb2xsO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgdGhlIHNjcm9sbCBwcm9ncmVzc2lvbiBpbmRpY2F0b3IuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBjb25zdCBfdXBkYXRlU2Nyb2xsUHJvZ3Jlc3MgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB3aW5TY3JvbGwgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XHJcbiAgICBjb25zdCBzY3JvbGxlZCA9ICh3aW5TY3JvbGwgLyBoZWlnaHQpICogMTAwO1xyXG4gICAgc2Nyb2xsUHJvZ3Jlc3Muc3R5bGUud2lkdGggPSBzY3JvbGxlZCArICclJztcclxuICB9O1xyXG5cclxuICBjb25zdCBwdWJsaWNJbnRlcmZhY2UgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSBzY3JvbGxlci4gUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGNhbiBiZSBvbmx5IGNhbGxlZCBvbmNlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgaW5zdGFuY2Ugb2YgdGhlIHNjcm9sbGVyLlxyXG4gICAgICovXHJcbiAgICBpbml0aWFsaXplOiAoKSA9PiB7XHJcbiAgICAgIGlmIChpc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc2Nyb2xsZXIgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4nKTtcclxuICAgICAgfVxyXG4gICAgICBpc0luaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF91cGRhdGUpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICAgIGlubmVySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgIF91cGRhdGVTY3JvbGxQcm9ncmVzcygpO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKCh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgPiAwKSB7XHJcbiAgICAgICAgX3VwZGF0ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIF91cGRhdGVTY3JvbGxQcm9ncmVzcygpO1xyXG4gICAgICByZXR1cm4gcHVibGljSW50ZXJmYWNlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgdG9wIG9mZnNldCB0byB1c2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9mZnNldFRvcFxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBpbnN0YW5jZSBvZiB0aGUgc2Nyb2xsZXIuXHJcbiAgICAgKi9cclxuICAgIG9mZnNldFRvcDogb2Zmc2V0VG9wID0+IHtcclxuICAgICAgaWYgKG9mZnNldFRvcCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9vZmZzZXRUb3A7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG9mZnNldFRvcCkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBvZmZzZXQgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlci4nKTtcclxuICAgICAgfVxyXG4gICAgICBfb2Zmc2V0VG9wID0gb2Zmc2V0VG9wO1xyXG4gICAgICByZXR1cm4gcHVibGljSW50ZXJmYWNlO1xyXG4gICAgfSAsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIGJvdHRvbSBvZmZzZXQgdG8gdXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvZmZzZXRCb3R0b21cclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgaW5zdGFuY2Ugb2YgdGhlIHNjcm9sbGVyLlxyXG4gICAgICovXHJcbiAgICBvZmZzZXRCb3R0b206IG9mZnNldEJvdHRvbSA9PiB7XHJcbiAgICAgIGlmIChvZmZzZXRCb3R0b20gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBfb2Zmc2V0Qm90dG9tO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihvZmZzZXRCb3R0b20pKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgb2Zmc2V0IG11c3QgYmUgYW4gaW50ZWdlciBudW1iZXIuJyk7XHJcbiAgICAgIH1cclxuICAgICAgX29mZnNldEJvdHRvbSA9IG9mZnNldEJvdHRvbTtcclxuICAgICAgcmV0dXJuIHB1YmxpY0ludGVyZmFjZTtcclxuICAgIH1cclxuICB9O1xyXG4gIHJldHVybiBwdWJsaWNJbnRlcmZhY2U7XHJcbn1cclxuIiwiXHJcbmltcG9ydCB7IGluaXRpYWxpemUgYXMgdjEgfSBmcm9tICcuLi92aXonO1xyXG5pbXBvcnQgeyBzY3JvbGxlciB9IGZyb20gJy4uL3Njcm9sbGVyJztcclxuaW1wb3J0IExhenlMb2FkIGZyb20gXCJ2YW5pbGxhLWxhenlsb2FkXCI7XHJcbmNvbnN0IGhlYWRlckhlaWdodCA9IDQwO1xyXG5pbXBvcnQgc3RpY2t5Qml0cyBmcm9tICdzdGlja3liaXRzJ1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTY3JvbGxlcihjb250ZW50RGF0YSwgcGFyYW1zRGF0YSl7XHJcblxyXG4gICAgbGV0IGVsZW1lbnRzID0gW107XHJcbiAgICBbJy52aXonLCAnLmZ1bGwtcGFnZS1zZWN0aW9uID4gaW1nJywgJy5mdWxsLXBhZ2Utc2VjdGlvbiA+IHZpZGVvJ10uZm9yRWFjaChzZWxlY3RvciA9PiB7XHJcbiAgICAgIGVsZW1lbnRzID0gZWxlbWVudHMuY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpKTtcclxuICAgIH0pO1xyXG4gICAgc3RpY2t5Qml0cyhlbGVtZW50cywgeyBzdGlja3lCaXRTdGlja3lPZmZzZXQ6IGhlYWRlckhlaWdodCB9KTtcclxuICBcclxuICAgIGNvbnN0IGxsID0gbmV3IExhenlMb2FkKHtcclxuICAgICAgZWxlbWVudHNfc2VsZWN0b3I6IFwiLmxhenlcIixcclxuICAgICAgdGhyZXNob2xkOiA1MDBcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgUHJvbWlzZS5hbGwoW3YxKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKV0pLnRoZW4oKFtjYWxsYmFja3NWMV0pID0+ICB7XHJcbiAgICAgIHNjcm9sbGVyKGNhbGxiYWNrc1YxKVxyXG4gICAgICAgIC5vZmZzZXRUb3AoaGVhZGVySGVpZ2h0KVxyXG4gICAgICAgIC5vZmZzZXRCb3R0b20oMClcclxuICAgICAgICAuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfSk7XHJcbiAgfSIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEludHJvU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL0ludHJvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgVGV4dFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9UZXh0U2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgVml6U2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1ZpelNlY3Rpb24uanNcIjtcbmltcG9ydCB7IEZ1bGxQYWdlU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Z1bGxQYWdlU2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XG5pbXBvcnQgeyBnZXRTdHJ1Y3R1cmUgfSBmcm9tIFwiLi9zdHJ1Y3R1cmVHZW5lcmF0b3IuanNcIjtcbmltcG9ydCB7IGluaXRTY3JvbGxlciB9IGZyb20gXCIuL2luaXRTY3JvbGxlci5qc1wiO1xuXG5cbi8qKlxuICogVGFrZSBwcm9wcyAoYXJ0aWNsZSBzdHJ1Y3R1cmUgYXMgQ1NWIGFuZCBwYXJhbXMpIGFuZCB0cmFuc2Zvcm0gaXQgYXMgSFRNTCBhcmNoaXRlY3R1cmVcbiAqIEBwYXJhbSAge09iamVjdH0gY29udGVudERhdGEgQXJ0aWNsZSdzIENTViBzdHJ1Y3R1cmVcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNEYXRhIEFydGljbGUgcGFyYW1ldGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBPYmogSFRNTCBjb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW5kZXJTdHJ1Y3R1cmUocHJvcHMpe1xuICAgIGlmKHByb3BzLnJlbmRlcmVkKXtcbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICAgICAgaW5pdFNjcm9sbGVyKHByb3BzLmNvbnRlbnREYXRhLCBwcm9wcy5wYXJhbXNEYXRhKTtcblxuICAgICAgICB9LCBbXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlckRhdGEoZ2V0U3RydWN0dXJlKHByb3BzLmNvbnRlbnREYXRhLCBwcm9wcy5wYXJhbXNEYXRhKSk7XG5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckRhdGEoc3RydWN0dXJlRGF0YSl7XG5cbiAgICBsZXQgcmVuZGVyZWREYXRhID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhzdHJ1Y3R1cmVEYXRhKS5tYXAoKHNlY3Rpb25LZXksaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IGN1clNlY3Rpb24gPSBzdHJ1Y3R1cmVEYXRhW3NlY3Rpb25LZXldO1xuICAgICAgICBpZihjdXJTZWN0aW9uLnNlY3Rpb25UeXBlID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLmludHJvdGl0cmUpe1xuICAgICAgICAgICAgcmVuZGVyZWREYXRhW3NlY3Rpb25LZXldID0gKCg8SW50cm9TZWN0aW9uIGtleT17Y3VyU2VjdGlvbi5rZXl9IHNlY3Rpb25UeXBlPXtjdXJTZWN0aW9uLnNlY3Rpb25UeXBlfSBvcHRpb25EYXRhPXtjdXJTZWN0aW9uLm9wdGlvbkRhdGF9IGFtb3JjZT17cGFyc2UoY3VyU2VjdGlvbi5hbW9yY2UpfSBiYWNrZ3JvdW5kPXtjdXJTZWN0aW9uLmJhY2tncm91bmR9IGNsYXNzZXM9e2N1clNlY3Rpb24uY2xhc3Nlc30gLz4pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGN1clNlY3Rpb24uc2VjdGlvblR5cGUgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudGV4dGVjbGFzc2lxdWUpe1xuXG4gICAgICAgICAgICByZW5kZXJlZERhdGFbc2VjdGlvbktleV0gPSAoKDxUZXh0U2VjdGlvbiBrZXk9e2N1clNlY3Rpb24ua2V5fSBpZD17Y3VyU2VjdGlvbi5rZXl9IHNlY3Rpb25UeXBlPXtjdXJTZWN0aW9uLnNlY3Rpb25UeXBlfSB0ZXh0cz17Y3VyU2VjdGlvbi50ZXh0c30gYmFja2dyb3VuZD17Y3VyU2VjdGlvbi5iYWNrZ3JvdW5kfSBjbGFzc2VzPXtjdXJTZWN0aW9uLmNsYXNzZXN9IHZpc3VlbGNsYXNzZXM9e2N1clNlY3Rpb24udmlzdWVsY2xhc3Nlc30gdmlzdWFsPXtjdXJTZWN0aW9uLnZpc3VhbH0gZmlsZW5hbWU9e2N1clNlY3Rpb24uZmlsZW5hbWV9Lz4pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGN1clNlY3Rpb24uc2VjdGlvblR5cGUgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMucGxlaW5lcGFnZXRpdHJlKXtcbiAgICAgICAgICAgIHJlbmRlcmVkRGF0YVtzZWN0aW9uS2V5XSA9ICgoPEZ1bGxQYWdlU2VjdGlvbiBrZXk9e2N1clNlY3Rpb24ua2V5fSBpZD17Y3VyU2VjdGlvbi5rZXl9IHNlY3Rpb25UeXBlPXtjdXJTZWN0aW9uLnNlY3Rpb25UeXBlfSBiYWNrZ3JvdW5kPXtjdXJTZWN0aW9uLmJhY2tncm91bmR9IGNsYXNzZXM9e2N1clNlY3Rpb24uY2xhc3Nlc30gdmlzdWVsY2xhc3Nlcz17Y3VyU2VjdGlvbi52aXN1ZWxjbGFzc2VzfSB2aXN1YWw9e2N1clNlY3Rpb24udmlzdWFsfSBtYWluVGl0bGU9e2N1clNlY3Rpb24udGV4dHMubWFpblRpdGxlfSBzdWJUaXRsZT17Y3VyU2VjdGlvbi50ZXh0cy5zdWJUaXRsZX0gZmlsZW5hbWU9e2N1clNlY3Rpb24uZmlsZW5hbWV9IC8+KSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGN1clNlY3Rpb24uc2VjdGlvblR5cGUgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudml6c2VjdGlvbil7XG4gICAgICAgICAgICByZW5kZXJlZERhdGFbc2VjdGlvbktleV0gPSAoPFZpelNlY3Rpb24ga2V5PXtjdXJTZWN0aW9uLmtleX0gbGlzdElEPXtjdXJTZWN0aW9uLmxpc3RJRH0gc3RlcHM9e2N1clNlY3Rpb24uc3RlcHN9IGNsYXNzZWQ9e2N1clNlY3Rpb24uY2xhc3NlZH0gbWVkaWFJbmZvPXtjdXJTZWN0aW9uLm1lZGlhSW5mb30gYmFja2dyb3VuZD17Y3VyU2VjdGlvbi5iYWNrZ3JvdW5kfS8+KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlbmRlcmVkRGF0YSk7XG59XG4iLCIvKipcbiAqIGFwcC5qc1xuICogPT09PT09XG4gKiBNYWluIGZpbGUgb2YgdGhlIGFwcGxpY2F0aW9uLiBUaGlzIGZpbGUgaXMgdXNlZCB0byBpbml0aWFsaXplIHRoZSBzY3JvbGxlciBhbmQgaW1wb3J0cyB0aGUgdmlzdWFsaXphdGlvbnMgdXNlZC5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgc3RydWN0dXJlIGZyb20gJy4uL2RhdGEvc3RydWN0dXJlL3N0cnVjdHVyZS5qc29uJztcblxuaWYoIUVOVl9DT05GSUcuZG93bmxvYWRTdHJ1Yyl7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyb290JykuaW5uZXJIVE1MID0gKHN0cnVjdHVyZS5odG1sc3RydWMpO1xufVxuXG5pbXBvcnQgJy4uL2Fzc2V0cy9zdHlsZXMvc3R5bGUuc2Nzcyc7XG5pbXBvcnQge2dvb2dsZV9jb25maWd9IGZyb20gXCIuLi9kYXRhL2dvb2dsZV9jb25maWdcIjtcbmltcG9ydCB7IFJlbmRlclN0cnVjdHVyZSB9IGZyb20gJy4vZ2VuZXJhdG9yL1JlbmRlclN0cnVjdHVyZSc7XG5pbXBvcnQgeyBpbml0U2Nyb2xsZXIgfSBmcm9tICcuL2dlbmVyYXRvci9pbml0U2Nyb2xsZXInO1xuaW1wb3J0IHsgZ2VuZXJhdGVDYWxsYmFja3MgfSBmcm9tICcuL2dlbmVyYXRvci9zdHJ1Y3R1cmVHZW5lcmF0b3InO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSAnZmlsZS1zYXZlcic7XG5cbmlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1Yyl7XG4gIFByb21pc2UuYWxsKFtpbXBvcnQoXCJyZWFjdC1kb20vY2xpZW50XCIpLCBpbXBvcnQoXCJyZWFjdC1kb20vc2VydmVyXCIpLCBpbXBvcnQoXCJyZWFjdFwiKV0pXG4gICAgLnRoZW4ocGFja2FnZXMgPT4ge1xuICAgICAgY29uc3QgUmVhY3RET00gPSBwYWNrYWdlc1swXTtcbiAgICAgIGNvbnN0IFJlYWN0RE9NU2VydmVyID0gcGFja2FnZXNbMV07XG4gICAgICBjb25zdCBSZWFjdCA9IHBhY2thZ2VzWzJdO1xuICAgICAgYWRkTm90UHVibGlzaGVkKCk7XG4gICAgICBpZihFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5jb250ZW50VVJMKS50aGVuKCBjb250ZW50RGF0YSA9PiB7XG4gICAgICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcucGFyYW1zVVJMKS50aGVuKCBwYXJhbXNEYXRhID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKSk7XG4gICAgICAgICAgICByb290LnJlbmRlcihcbiAgICAgICAgICAgICAgPFJlbmRlclN0cnVjdHVyZSBjb250ZW50RGF0YT17Y29udGVudERhdGF9IHBhcmFtc0RhdGE9e3BhcmFtc0RhdGF9IHJlbmRlcmVkPXt0cnVlfS8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYWRkRm9vdGVyKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcuY29udGVudFVSTCkudGhlbiggY29udGVudERhdGEgPT4ge1xuICAgICAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLnBhcmFtc1VSTCkudGhlbiggcGFyYW1zRGF0YSA9PiB7XG4gICAgICAgICAgICBkMy5ibG9iKGdvb2dsZV9jb25maWcuY29udGVudFVSTCkudGhlbihjb250ZW50QmxvYiA9PiB7XG4gICAgICAgICAgICAgIGQzLmJsb2IoZ29vZ2xlX2NvbmZpZy5wYXJhbXNVUkwpLnRoZW4ocGFyYW1zQmxvYiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGVkU3RydWMgPSBSZW5kZXJTdHJ1Y3R1cmUoe2NvbnRlbnREYXRhOiBjb250ZW50RGF0YSwgcGFyYW1zRGF0YTogcGFyYW1zRGF0YSwgcmVuZGVyOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWxTdHJ1YyA9IFJlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RhdGljTWFya3VwKGdlbmVyYXRlZFN0cnVjKTtcbiAgICAgICAgICAgICAgICB3cml0ZUhUTUxmaWxlKGh0bWxTdHJ1YywgY29udGVudEJsb2IsIHBhcmFtc0Jsb2IpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlQ2FsbGJhY2tzKGNvbnRlbnREYXRhLHBhcmFtc0RhdGEpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pXG59XG5lbHNle1xuICBpZihFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgIFByb21pc2UuYWxsKFtpbXBvcnQoXCJyZWFjdC1kb20vY2xpZW50XCIpLCBpbXBvcnQoXCJyZWFjdFwiKV0pXG4gICAgLnRoZW4ocGFja2FnZXMgPT4ge1xuICAgICAgY29uc3QgUmVhY3RET00gPSBwYWNrYWdlc1swXTtcbiAgICAgIGNvbnN0IFJlYWN0ID0gcGFja2FnZXNbMV07XG4gICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5jb250ZW50VVJMKS50aGVuKCBjb250ZW50RGF0YSA9PiB7XG4gICAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLnBhcmFtc1VSTCkudGhlbiggcGFyYW1zRGF0YSA9PiB7XG4gICAgICAgICAgY29uc3Qgcm9vdCA9IFJlYWN0RE9NLmNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpKTtcbiAgICAgICAgICByb290LnJlbmRlcihcbiAgICAgICAgICAgIDxSZW5kZXJTdHJ1Y3R1cmUgY29udGVudERhdGE9e2NvbnRlbnREYXRhfSBwYXJhbXNEYXRhPXtwYXJhbXNEYXRhfSByZW5kZXJlZD17dHJ1ZX0vPlxuICAgICAgICAgICk7XG4gICAgICAgICAgYWRkRm9vdGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZWxzZXtcbiAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5sb2NhbENvbnRlbnRVUkwpLnRoZW4oIGNvbnRlbnREYXRhID0+IHtcbiAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLmxvY2FsUGFyYW1zVVJMKS50aGVuKCBwYXJhbXNEYXRhID0+IHtcbiAgICAgICAgaW5pdFNjcm9sbGVyKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKTtcbiAgICAgICAgYWRkRm9vdGVyKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3cml0ZUhUTUxmaWxlKEhUTUxTdHJ1Y3QsIGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKXtcbiAgbGV0IGJsb2IgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoe2h0bWxzdHJ1YzogYCR7SFRNTFN0cnVjdH1gfSwgbnVsbCwgMildLCB7dHlwZTogXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLThcIn0pO1xuICBsZXQgY29udGVudENTViA9IG5ldyBCbG9iKFtjb250ZW50RGF0YV0sIHt0eXBlOiBcInRleHQvY3N2O2NoYXJzZXQ9dXRmLThcIn0pO1xuICBsZXQgcGFyYW1zQ1NWID0gbmV3IEJsb2IoW3BhcmFtc0RhdGFdLCB7dHlwZTogXCJ0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04XCJ9KTtcblxuICBzYXZlQXMoY29udGVudENTViwgXCJjb250ZW50RGF0YS5jc3ZcIik7XG4gIHNhdmVBcyhwYXJhbXNDU1YsIFwicGFyYW1zRGF0YS5jc3ZcIik7XG4gIHNhdmVBcyhibG9iLCBcInN0cnVjdHVyZS5qc29uXCIpO1xufVxuXG5mdW5jdGlvbiBhZGROb3RQdWJsaXNoZWQoKXtcbiAgY29uc3QgZGl2ID0gZDMuc2VsZWN0KCcucHVsbC1yaWdodCcpLmluc2VydChcImxpXCIsJ2xpJyk7XG4gIGRpdi5odG1sKGA8cCBjbGFzcz0nbm90LXB1Ymxpc2hlZCc+TmUgcGFzIHB1YmxpZXI8L3A+YCk7XG59XG5cbmZ1bmN0aW9uIGFkZEZvb3Rlcigpe1xuICAvL2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb290ZXJDb250YWluZXInKS5yZW1vdmUoKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvb3RlckNvbnRhaW5lcicpLmlubmVySFRNTCA9IGQzLnNlbGVjdChgI2Zvb3RlckNvbnRlbnRgKS5ub2RlKCkuaW5uZXJIVE1MO1xufVxuIiwiY29uc3QgZ29vZ2xlX2NvbmZpZyA9IHtcbiAgICBcImNvbnRlbnRVUkxcIjogXCJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC9lLzJQQUNYLTF2U0V5d0pFMFZVZ3kzTnNxM1RnX29oLVZzNjMzVFNpbWRJSGZrWFR5ejlCYkV0V05WZ3VyZDFUb3UtUTVhbnZkT2l3M2NvQ0ZrRENpU1lxL3B1Yj9naWQ9MCZzaW5nbGU9dHJ1ZSZvdXRwdXQ9Y3N2XCIsXG4gICAgXCJwYXJhbXNVUkxcIjogXCJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC9lLzJQQUNYLTF2U0V5d0pFMFZVZ3kzTnNxM1RnX29oLVZzNjMzVFNpbWRJSGZrWFR5ejlCYkV0V05WZ3VyZDFUb3UtUTVhbnZkT2l3M2NvQ0ZrRENpU1lxL3B1Yj9naWQ9NDA5OTUwMjM3JnNpbmdsZT10cnVlJm91dHB1dD1jc3ZcIixcbiAgICBcImxvY2FsQ29udGVudFVSTFwiOiBcIi4vZGF0YS9zdHJ1Y3R1cmUvY29udGVudERhdGEuY3N2XCIsXG4gICAgXCJsb2NhbFBhcmFtc1VSTFwiOiBcIi4vZGF0YS9zdHJ1Y3R1cmUvcGFyYW1zRGF0YS5jc3ZcIlxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7Z29vZ2xlX2NvbmZpZ307XG4iXSwibmFtZXMiOlsiSW50cm9TZWN0aW9uIiwicHJvcHMiLCJpbnRyb1NlY3Rpb25PYmoiLCJjbGFzc05hbWUiLCJjbGFzc2VzIiwiYW1vcmNlIiwicGFyc2UiLCJvcHRpb25EYXRhIiwidGl0bGUiLCJiYWNrZ3JvdW5kIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJUZXh0U2VjdGlvbiIsInF1b3RlT2JqIiwiaXNRdW90ZSIsIlN0cmluZyIsImluY2x1ZGVzIiwidGV4dCIsInRleHRzIiwic3BsaXQiLCJhdXRob3IiLCJiaWdOdW1iZXJPYmoiLCJpc0JpZ051bWJlciIsIm51bWJlciIsInVuZGVyVGV4dCIsImlzVmlzdWFsIiwidmlzdWFsIiwidmlzdWFsT2JqIiwia2V5IiwiaWQiLCJzcmMiLCJmaWxlbmFtZSIsInZpc3VlbGNsYXNzZXMiLCJwYWRkaW5nQm90dG9tIiwiYXV0b1BsYXkiLCJsb29wIiwibXV0ZWQiLCJwbGF5c0lubGluZSIsInByZWxvYWQiLCJ0ZXh0U2VjdGlvbk9iaiIsInN0YXJ0c1dpdGgiLCJEV0NoYXJ0IiwiaWZyYW1lUmVmIiwidXNlUmVmIiwidXNlU3RhdGUiLCJoZWlnaHQiLCJzZXRTdGF0ZSIsIm9uTWVzc2FnZSIsInVzZUNhbGxiYWNrIiwiZGF0YSIsInNvdXJjZSIsImN1cnJlbnQiLCJjb250ZW50V2luZG93IiwidXNlRWZmZWN0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZWYiLCJzY3JvbGxpbmciLCJmcmFtZUJvcmRlciIsIndpZHRoIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwibG9hZGluZyIsIm9wdGlvbnNEcm9wZG93bkNvbnN0YW50cyIsInBhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMiLCJ0aXRyZSIsImF1dGV1cnMiLCJkYXRlIiwiVml6U2VjdGlvbiIsInN0ZXBzIiwiY3VyU3RlcENsYXNzZXMiLCJjdXJDb21tb25DbGFzcyIsInZpelNlY3Rpb25PYmoiLCJsaXN0SUQiLCJjbGFzc2VkIiwibWFwIiwic3RlcCIsImluZGV4Iiwic3RlcGNsYXNzZXMiLCJBcnJheSIsImxlbmd0aCIsImZvckVhY2giLCJzdGVwRWxlbSIsImlkeCIsImlzQXJyYXkiLCJlbGVtIiwiaSIsInJlZHVjZSIsImEiLCJiIiwiRnVsbFBhZ2VTZWN0aW9uIiwiZnVsbHBhZ2VTZWN0aW9uT2JqIiwibWFpblRpdGxlIiwiY2xhc3MiLCJzdWJUaXRsZSIsImdldFN0cnVjdHVyZSIsImNvbnRlbnREYXRhIiwicGFyYW1zRGF0YSIsInN0cnVjdHVyZURhdGEiLCJ2aXpTZWN0aW9uSURzIiwib3B0aW9ucyIsImdldE9wdGlvbnMiLCJjb25zb2xlIiwibG9nIiwicm93RGF0YSIsImN1ckFtb3JjZSIsInNlY3Rpb25CYWNrZ3JvdW5kIiwic2VjdGlvblR5cGUiLCJwYXJzZUNsYXNzZXMiLCJnYW1laWQiLCJ0aXRsZU9iaiIsImlzSnNvbiIsIkpTT04iLCJjdXJEYXRhIiwiYXR0cmlidXRzIiwic2Nyb2xsVHlwZSIsImhhc093blByb3BlcnR5IiwiY3VyVml6U2VjdGlvbiIsInB1c2giLCJjdXJTZWN0aW9uIiwic2VjdGlvbkF0dHIiLCJtZWRpYUluZm8iLCJPYmplY3QiLCJ2YWx1ZXMiLCJnZW5lcmF0ZUNhbGxiYWNrcyIsImZ1bGxTdHJ1Y3R1cmUiLCJjYWxsYmFja3NBcnJheSIsImNhbGxiYWNrIiwiY3VyU3RlcHMiLCJjdXJDb21tYW5kIiwib3BhY2l0eVNlbGVjdG9yIiwiZmlsbCIsIl8iLCJmaWx0ZXIiLCJkIiwiaW5kIiwiam9pbiIsImQzIiwidHJhbnNpdGlvbiIsImN1clRhZ0lEIiwiY3VyVGFnSURfaW5kZXgiLCJwYXJzZUludCIsInN0ciIsImUiLCJmcm9tIiwiYXV0aG9ycyIsInVybHMiLCJtYXBib3hnbCIsIkdhdWdlcyIsInJlbmRlckpldG9uVGV4dCIsImpldG9uc1ZhbHVlIiwiTWF0aCIsImFicyIsInNlbGVjdEFsbCIsIm5vZGVzIiwibm9kZSIsImN1cldpZHRoIiwiYXR0ciIsImRvbGxhcnMiLCJjb21taXR0ZWRWYWx1ZSIsInJvdW5kIiwiY29tbWl0dGVkIiwiZ2F1Z2VWYWx1ZSIsInNlbGVjdCIsIm1pc3Npb24iLCJJbnRyb0JveCIsInN0YXJ0R2FtZSIsImdhbWVTdGFydCIsImludHJvRWxlbSIsIm9uQ2xpY2siLCJNb25pdG9yaW5nIiwic2V0VGltZW91dCIsImR1cmF0aW9uIiwidGVyYXdhdHRzIiwiY2FsY3VsYXRlUGVyZm9ybWFuY2UiLCJjaG9pY2VzX3ZhbHVlcyIsInNsaWNlIiwicmVuZGVyU2lnbiIsInZhbHVlIiwiQ2hvaWNlIiwic2VsZWN0aW9uIiwic2V0U2VsZWN0aW9uIiwic2VsZWN0aW9uYnV0dG9ucyIsIm9iaiIsIm5leHRQcm9tcHQiLCJjb3N0IiwicGVyZm9ybWFuY2UiLCJ0cmlnZ2VyTmV4dCIsImN1clByb21wdCIsImNoYW5nZVByb21wdCIsInJlcGxhY2UiLCJ1cGRhdGVNZW1vcnlPYmoiLCJ1cGRhdGVEb2xsYXJzIiwidXBkYXRlUGVyZm9ybWFuY2UiLCJwcmV2aW91c1Byb21wdCIsImN1ckluZGV4IiwiY2hvaWNlcyIsImNob2ljZSIsImpldG9uVmFsdWUiLCJldmVudCIsInRhcmdldCIsInVwZGF0ZVNlbGVjdGVkIiwidmFsIiwiTnVtYmVyIiwiaXNOYU4iLCJldmVyeSIsIml0ZW0iLCJzaG93VFdoIiwiZ2F1Z2VzIiwiTXVsdGlTZWxlY3Rpb24iLCJyZXNldFNlbGVjdGlvbiIsImNhbGN1bGF0ZVRvdGFsU2VsZWN0aW9uIiwiYWNjQ29zdCIsImFjYyIsImN1ciIsImFjY1BlcmZvcm1hbmNlIiwiY291bnQiLCJwcm9jZXNzVHJpZ2dlck5leHQiLCJ0cmlnZ2VyTmV4dHRvQ29tcHV0ZSIsImNob3NlblN0cmluZyIsInNwbGl0dGVkVHJpZ2dlck5leHQiLCJpbmRpdmlkdWFsVHJpZ2dlck5leHQiLCJmaWx0ZXJlZFNlbGVjdGlvbiIsImluZGV4T2YiLCJuZXdBcnJheSIsIlByaW50UHJvbXB0IiwiZ2FtZVJlc2V0IiwibWVzc2FnZSIsIlJlcGFydGl0aW9uIiwiamV0b25zIiwic2V0SmV0b25zIiwic2V0VGVyYXdhdHRzIiwib3RoZXJQZXJmb01ldHJpY3MiLCJzZXRPdGhlclBlcmZvTWV0cmljcyIsInVuaXRzIiwic2V0VW5pdHMiLCJ0b2tlbnNQZXJVbml0Iiwic2V0VG9rZW5zUGVyVW5pdCIsIm1heFRva2VucyIsImdldE9wdGlvblBhcmFtcyIsIm5ld1VuaXRzIiwidW5pdFZhbHVlIiwibmV3SmV0b25zIiwiY3VyVmFsIiwibmV3TVciLCJjdXJPcHRpb25QYXJhbXMiLCJuZXdPdGhlclBlcmZvTWV0cmljcyIsIm5vblVuaXF1ZSIsImhpZXJhcmNoaXplVW5pdHMiLCJpbmRleE9mTWF4VmFsdWUiLCJpTWF4IiwieCIsImFyciIsImNvbmNhdCIsIlNldCIsInNpemUiLCJwcm9jZXNzQ2hvaWNlcyIsInNwbGl0dGVkQ2hvaWNlcyIsIm5hbWUiLCJ1bml0VFdodmFsdWUiLCJ1bml0RW52aXJvdmFsdWUiLCJ1bml0UG9wdXZhbHVlIiwiY2hlY2tIaWRlQnV0dG9uIiwib3B0aW9uUGFyYW1zIiwiaGlkZUJ1dHRvbiIsIm1vZGlmeU9uQ2xpY2siLCJkaWZmIiwibmV3QWRkaXRpb24iLCJ0b3RhbCIsImRlZmF1bHROZXh0IiwibWF4IiwicmVzIiwidW5kZWZpbmVkIiwiTWFwTmF2aWdhdG9yIiwic2V0dXBPbkNsaWNrIiwidGlwIiwiZDNUaXAiLCJkaXJlY3Rpb24iLCJodG1sIiwic3VwcF90ZXh0IiwiUHJvbWlzZSIsImFsbCIsInRoZW4iLCJiZ01hcCIsImljb25PTk1hcCIsImFwcGVuZCIsImRvY3VtZW50RWxlbWVudCIsIk9uSWNvbnNTVkciLCJjYWxsIiwiYXBwZW5kQ2hpbGQiLCJnQnV0dG9ucyIsInRpdGxlcyIsInN1cHBfdGV4dHMiLCJyZXZlcnNlIiwiY3VyVGlwRGF0YSIsIm9uIiwic3RvcFByb3BhZ2F0aW9uIiwic2hvdyIsInRvZ2dsZUljb24iLCJwYXJlbnRFbGVtZW50IiwiaGlkZSIsImljb25PYmoiLCJzdGF0dXMiLCJyZW1vdmUiLCJCaWxhbiIsInRleHRDb250ZW50QXJyYXkiLCJ0ZXh0U3VwcEFycmF5IiwicHJvY2Vzc2VkQ29udGVudCIsImRhbUVuZXJneSIsIm1lbW9yeU9iaiIsImJ1aWx0RGFtIiwiYWRqdXN0ZWRQcm9kdWN0aW9uVmFsdWUiLCJjdXJEb2xsYXJzIiwiZ2VuZXJpY1RleHQiLCJiYXJyYWdlVGV4dCIsImxvd0Nhc2hUZXh0IiwibG93RW52VGV4dCIsImxvd1BvcFRleHQiLCJwcm9jZXNzQmlsYW4xIiwiZmluYWxCaWxhbkRhdGEiLCJhY2NlcHRlZENodXJjaGlsbEZhbGxzRGVhbCIsIlRXaEVudlRleHQiLCJjYXNoVGV4dCIsInBvcHVUZXh0Iiwic2Vjb25kRGFtRW5lcmd5IiwiYnVpbHRTZWNvbmREYW0iLCJlbnZpcm9ubWVudFZhbHVlIiwicG9wdWxhcml0ZVZhbHVlIiwicHJpbnQiLCJwcm9jZXNzQmlsYW4yIiwiRW5kR2FtZSIsInJhaXNvbiIsIkNhdGFzdHJvcGhlIiwicGFyc2VDaG9pY2VWYWx1ZXMiLCJjaG9pY2VfdmFsdWUiLCJzcGxpdHRlZENob2ljZVZhbHVlcyIsInNwbGljZSIsIndoaWNoRXZlbnRIYXBwZW5zIiwiUHJvbXB0Qm94IiwiaW52ZXN0ZWRNb2Rlcm5pemF0aW9uIiwiYnVpbHROdWNsZWFyIiwic2V0TWVtb3J5T2JqIiwicmVhc29ucyIsIm5ld1ZhbHVlIiwiZGlmZlZhbHVlIiwiaXNJbnRlZ2VyIiwiZGlmZkFycmF5IiwiZmllbGQiLCJuZXdNZW1vcnlPYmoiLCJyZW5kZXJTd2l0Y2giLCJwYXJhbSIsImVuZEdhbWUiLCJNYWluRnJhbWUiLCJnYW1lU3RhdHVzIiwic2V0U3RhdHVzIiwiZ2FtZUluZGV4Iiwic2V0R2FtZUluZGV4Iiwic2V0RG9sbGFycyIsInNldFBlcmZvcm1hbmNlIiwiYmciLCJzZXRCRyIsImdldEdhbWVQcm9tcHQiLCJnYW1lRW5kIiwiZ2FtZURhdGEiLCJmaW5kR2FtZUluZGV4IiwiSURuYW1lIiwiZmluZEluZGV4IiwiZ2V0QmFja2dyb3VuZEluZm8iLCJnYW1lU2NyZWVuQ2xhc3MiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJtYXBPYmoiLCJuZXdQZXJmb3JtYW5jZSIsImFwcGx5IiwiRW5naW5lIiwiY29udGFpbmVyIiwiaW50cm9PYmoiLCJ0aGlzIiwicm9vdEVsZW0iLCJlbmdpbmVSb290IiwiUmVhY3RET00iLCJpbml0RW5naW5lIiwicmVuZGVyIiwiaW5pdGlhbGl6ZSIsIm1hcENvbnRhaW5lciIsInNldHVwVml6Iiwic2VjdGlvbk9iaiIsIlNjcm9sbGVyU3RlcCIsImVsIiwiX2lzQWN0aXZhdGUiLCJzY3JvbGxEaXJlY3Rpb24iLCJjbGFzc0xpc3QiLCJhZGQiLCJpbml0U2Nyb2xsZXIiLCJlbGVtZW50cyIsInNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3RpY2t5Qml0cyIsInN0aWNreUJpdFN0aWNreU9mZnNldCIsIkxhenlMb2FkIiwiZWxlbWVudHNfc2VsZWN0b3IiLCJ0aHJlc2hvbGQiLCJ2MSIsImNhbGxiYWNrcyIsIl9vZmZzZXRUb3AiLCJfb2Zmc2V0Qm90dG9tIiwiaW5uZXJIZWlnaHQiLCJpc0luaXRpYWxpemVkIiwibGFzdFNjcm9sbCIsInZpeiIsInZpc2libGVTdGVwcyIsImFydGljbGVSZW1pbmRlciIsInF1ZXJ5U2VsZWN0b3IiLCJzY3JvbGxQcm9ncmVzcyIsInZpelNlY3Rpb25zIiwiRXJyb3IiLCJ2aXpTZWN0aW9uIiwic2VjdGlvbnMiLCJqIiwiX3VwZGF0ZSIsImN1cnJlbnRTY3JvbGwiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsImJvdW5kaW5nUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImRlYWN0aXZhdGUiLCJpc0FydGljbGVSZW1pbmRlckRpc3BsYXllZCIsImJvdHRvbSIsImlzQXJ0aWNsZVJlbWluZGVySXNWaXNpYmxlIiwiY29udGFpbnMiLCJzZWN0aW9uIiwiYWN0aXZhdGUiLCJfdXBkYXRlU2Nyb2xsUHJvZ3Jlc3MiLCJzY3JvbGxlZCIsImJvZHkiLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJwdWJsaWNJbnRlcmZhY2UiLCJvZmZzZXRUb3AiLCJvZmZzZXRCb3R0b20iLCJzY3JvbGxlciIsIlJlbmRlclN0cnVjdHVyZSIsInJlbmRlcmVkIiwicmVuZGVyZWREYXRhIiwia2V5cyIsInNlY3Rpb25LZXkiLCJwYWNrYWdlcyIsIlJlYWN0IiwiaW5zZXJ0IiwiZ29vZ2xlX2NvbmZpZyIsImNyZWF0ZVJvb3QiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9