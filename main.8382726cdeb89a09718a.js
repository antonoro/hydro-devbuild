(self.webpackChunkscrollytelling_template=self.webpackChunkscrollytelling_template||[]).push([[179],{86702:(e,t,n)=>{"use strict";var r=n(40207),a=n(67294),c=n(25935);function o(e){var t=a.createElement("section",{className:"intro-section ".concat(e.classes)},a.createElement("h5",{className:"overTitle"},e.amorce),a.createElement("h1",null,(0,c.ZP)(e.optionData.title)),a.createElement("address",null,a.createElement("div",{className:"date"})));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},t):t}function i(e){var t,n=String(e.classes).includes("citation");n&&(t={text:String(e.texts).split("/")[0],author:String(e.texts).split("/")[1]});var r,o=String(e.classes).includes("bigNumber");o&&(r={number:String(e.texts).split("/")[0],underText:String(e.texts).split("/")[1]});var i=e.visual,s=""!==i?"Photo"===e.visual?a.createElement("img",{key:"photoTextSection_".concat(e.id),id:"photoTextSection_".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses),style:{paddingBottom:"1rem"}}):"Video"===e.visual?a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"videoTextSection_".concat(e.id),id:"videoTextSection_".concat(e.id)},a.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):a.createElement("div",null):a.createElement("div",null),l=a.createElement("section",{className:"text-section ".concat(e.classes)},n?a.createElement("blockquote",{className:"small"},a.createElement("div",null,a.createElement("p",null,a.createElement("b",null,(0,c.ZP)(t.text))),a.createElement("p",{className:"author"},t.author),a.createElement("div",{className:"symbol"}))):o?a.createElement("div",{className:"container-number"},a.createElement("div",{className:"numbers"},a.createElement("h2",null,r.number),a.createElement("small",null,r.underText))):a.createElement("div",null,i?s:a.createElement("div",null),String(e.texts).startsWith("<")?(0,c.ZP)(e.texts):a.createElement("p",null,(0,c.ZP)(e.texts))));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},l):l}var s,l=n(45697),u=n.n(l),m=["title","src"];function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t,n,r=e.title,c=e.src,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,m),i=(0,a.useRef)(),s=(t=(0,a.useState)(500),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1],f=(0,a.useCallback)((function(e){var t=e.data,n=void 0===t?{}:t;e.source===i.current.contentWindow&&"string"!=typeof n&&n["datawrapper-height"]}),[u,i]);return(0,a.useEffect)((function(){return window.addEventListener("message",f),function(){return window.removeEventListener("message",f)}}),[l,u,f]),a.createElement("iframe",p({ref:i,scrolling:"no",frameBorder:"0",width:"100%"},o,{title:r,src:c,height:l}))}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}f.propTypes={title:u().string.isRequired,src:u().string.isRequired,loading:u().oneOf(["eager","lazy"])};var g="intro-titre",h="pleine-page-titre",y="texte-classique",E="viz-section",b="centré",x="Photo",w="Video",S="Visualisation",P="iframe",N=(v(s={titre:"Titre",auteurs:"Auteurs",date:"Date"},"date","Date"),v(s,"urls","LienAuteurs"),v(s,"lienfichiersource","LienFichierSource"),s);function k(e){var t,n,r,o=a.createElement("section",{id:e.listID,className:e.classed},a.createElement("div",{className:"steps ".concat((t=e.steps,n=t.map((function(e,t){return e.stepclasses})),r=new Array(n.length),n.forEach((function(e,t){if(Array.isArray(e))e.forEach((function(e){for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)}));else if("string"==typeof e)for(var a=t;a<n.length;a++)n[a].includes(e)&&(r[a]=e)})),r.reduce((function(e,t){return e===t&&""!==e&&""!==t?e:""}))))},e.steps.map((function(e,t){var n,r=String(e.stepclasses).includes("citation");return r&&(n={text:String(e.text).split("/")[0],author:String(e.text).split("/")[1]}),a.createElement("section",{key:t,className:e.stepclasses},r?a.createElement("blockquote",{className:"small"},a.createElement("div",null,a.createElement("p",null,a.createElement("b",null,(0,c.ZP)(n.text))),a.createElement("p",{className:"author"},n.author),a.createElement("div",{className:"symbol"}))):String(e.text).startsWith("<")?(0,c.ZP)(e.text):a.createElement("p",null,e.text?(0,c.ZP)(e.text):""))}))),a.createElement("div",{className:"viz",id:"viz"},e.steps.map((function(t,n){return t.visual===x?a.createElement("img",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),src:"assets/img/675/".concat(t.filename),"data-srcset":"assets/img/2048/".concat(t.filename," 2048w, assets/img/990/").concat(t.filename," 990w, assets/img/675/").concat(t.filename," 675w, assets/img/1350/").concat(t.filename," 1350w, assets/img/100/").concat(t.filename," 100w, assets/img/495/").concat(t.filename," 495w, assets/img/1024/").concat(t.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(t.visuelclasses)}):t.visual===w?a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(t.visuelclasses),preload:"metadata",key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n)},a.createElement("source",{src:"assets/videos/".concat(t.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):t.visual===P?a.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer"},a.createElement(f,{title:"Mesures d'arsenic",src:"".concat(t.filename)})):t.visual===S?a.createElement("div",{key:"".concat(e.listID,"_").concat(n),id:"".concat(e.listID,"_").concat(n),className:"iframeContainer ".concat(t.visuelclasses)}):void 0}))));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},o):o}function I(e){var t=a.createElement("section",{className:"full-page-section ".concat(e.classes)},a.createElement("div",{className:"titleImage"},e.filename?"Photo"===e.visual?a.createElement("img",{key:"".concat(e.id),id:"".concat(e.id),src:"assets/img/675/".concat(e.filename),"data-srcset":"assets/img/2048/".concat(e.filename," 2048w, assets/img/990/").concat(e.filename," 990w, assets/img/675/").concat(e.filename," 675w, assets/img/1350/").concat(e.filename," 1350w, assets/img/100/").concat(e.filename," 100w, assets/img/495/").concat(e.filename," 495w, assets/img/1024/").concat(e.filename," 1024w"),"data-sizes":"(max-width: 100px) 100px, (max-width: 495px) 495px, (max-width: 675px) 675px, (max-width: 990px) 990px, (max-width:  1024px) 1024px, (max-width:  1350px) 1350px, (max-width:  2048px) 2048px",className:"lazy ".concat(e.visuelclasses)}):"Video"===e.visual?a.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"video ".concat(e.visuelclasses),preload:"metadata",key:"".concat(e.id),id:"".concat(e.id)},a.createElement("source",{src:"assets/videos/".concat(e.filename)}),"Vidéo non supportée. Ré-essayez sur un autre appareil ou fureteur."):a.createElement("div",null):a.createElement("div",null),e.filename?a.createElement("div",{className:"filter"}):a.createElement("div",null)),a.createElement("div",{className:"captionholder"},a.createElement("h2",{className:"caption ".concat(e.mainTitle.class)},e.mainTitle.text),e.subTitle?a.createElement("h3",{className:"caption ".concat(e.subTitle.class)},e.subTitle.text):a.createElement("div",null)));return e.background?a.createElement("div",{style:{backgroundColor:"".concat(e.background)},className:"sectionContainer"},t):t}n(93162);var T=n(38682);function C(e,t){var n={},r=[],a=A(t);return console.log("content Data",e),e.map((function(e,t){if(e.Section===g){var c=e.StepClasses,o=e.TEXTE,i=e.StyleFond;n[e.SectionID]={key:t,sectionType:g,optionData:a,amorce:o,background:i,classes:O(c),gameid:e.GameID}}else if(e.Section===y){var s=e.TEXTE,l=e.StepClasses,u=e.StyleFond;n[e.SectionID]={key:t,sectionType:y,texts:s,visual:e.VISUEL,filename:e.NomFichierSource,background:u,classes:O(l),visuelclasses:O(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===h){var m=e.TEXTE;D(e.TEXTE)&&(m=JSON.parse(e.TEXTE)),n[e.SectionID]={key:t,sectionType:h,texts:D(e.TEXTE)?m:{mainTitle:{class:"",text:m},subTitle:null},visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,classes:O(e.StepClasses),visuelclasses:O(e.VisuelClasses),gameid:e.GameID}}else if(e.Section===E){var p={attributs:e.Attributs,scrollType:e.Step,text:e.TEXTE,visual:e.VISUEL,filename:e.NomFichierSource,background:e.StyleFond,visuelclasses:O(e.VisuelClasses),stepclasses:O(e.StepClasses),gameid:e.GameID};if(n.hasOwnProperty(e.SectionID)){var d=n[e.SectionID];d.push(p),n[e.SectionID]=d}else n[e.SectionID]=[p],r.push(e.SectionID)}})),r.map((function(e){var t=n[e],r=t[0].attributs===b?" full-page":"",a=t[0].background;n[e]={key:e,sectionType:E,listID:e,steps:t,classed:"viz-section".concat(r),mediaInfo:0,background:a}})),Object.values(n)}function _(e,t){var n=C(e,t),r=[];return n.map((function(e){if("viz-section"===e.sectionType){var t=[];e.steps.map((function(n,r){var a=function(){};if(""!==n.visual){var c=Array(e.steps.length).fill(null).map((function(e,t){return t})).filter((function(e){return e!==r})).map((function(t){return"#".concat(e.key,"_").concat(t)})).join(",");a=function(){T.Ys("#".concat(e.key,"_").concat(r)).transition().style("opacity",1).style("display",null),""!==c&&T.td_("".concat(c)).transition().style("opacity",0).style("display","none")}}else if(String(n.filename).startsWith("TAGID")){var o=String(n.filename).split("=")[1],i=parseInt(o.split("_")[1]),s=Array(e.steps.length).fill(null).map((function(e,t){return t})).filter((function(e){return e!==i})).map((function(t){return"#".concat(e.key,"_").concat(t)})).join(",");a=function(){T.Ys("#".concat(o)).transition().style("opacity",1).style("display",null),""!==s&&T.td_("".concat(s)).transition().style("opacity",0).style("display","none")}}t.push(a)})),r.push(t)}})),r}function D(e){try{JSON.parse(e)}catch(e){return!1}return!0}function O(e){return Array.from(e.split(";")).join(" ")}function A(e){return{title:e[0][N.titre],authors:e[0][N.auteurs],urls:e[0][N.urls],date:e[0][N.date]}}n(9208);n(83731).accessToken="pk.eyJ1IjoibGVkZXZvaXIiLCJhIjoiY2p2bW81dHU2MWV1cTRhcXIzaXZqMGYxciJ9.WrIF8o69aR_TstDFu6Qyag",n(6899);var j=n(20745);function R(e){var t=function(e){return Math.abs(e)>1?"".concat(e,"&nbsp;jetons"):"".concat(e,"&nbsp;jeton")};return(0,a.useEffect)((function(){T.Ys(".gauges").selectAll(".gauge").nodes().forEach((function(t){var n=50;"dollars"===T.Ys(t).attr("id")&&(n=e.dollars);var r=n>0?Math.round(e.committed/50*100):0,a=n>0?Math.round(n/50*100):0;T.Ys(t).select(".gaugeColorHolder").select(".committed").style("width","".concat(r,"%")),T.Ys(t).select(".gaugeColor").style("width","".concat(a,"%"))}))})),a.createElement("div",{className:"gauges"},a.createElement("div",{id:"dollars",className:"gauge dollarGauge"},a.createElement("div",{className:"gaugeColorHolder ".concat(e.dollars<0?"red":"")},a.createElement("div",{className:"gaugeColor ".concat(e.dollars<0?"red":"blue")}),0!=e.committed?a.createElement("div",{className:"committed ".concat(e.dollars<0?"red":"blue")}):"",e.separation?a.createElement("div",{className:"value separated"},a.createElement("div",{className:"labelHolder"},a.createElement("p",null,a.createElement("b",null,"Budget"))),a.createElement("div",{className:"gaugeSeparator"}),a.createElement("div",{className:"labelHolder"},a.createElement("p",null,(0,c.ZP)(t(e.dollars-25))))):a.createElement("div",{className:"value"},a.createElement("p",null,a.createElement("b",null,"Budget")," • ",(0,c.ZP)(t(e.dollars)))))))}function M(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){M(c,r,a,o,i,"next",e)}function i(e){M(c,r,a,o,i,"throw",e)}o(void 0)}))}}function V(e){var t=(0,a.useCallback)(z(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("starting game"),e.gameStart();case 2:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"gameBox transparent"},a.createElement("div",{className:"introBox"},e.introElem),a.createElement("div",{className:"userBox"},a.createElement("div",{className:"startbutton",onClick:t},a.createElement("p",null,"Commencer le jeu"))))}function Y(e){return(0,a.useEffect)((function(){e.transition&&setTimeout((function(){T.Ys(".monitoring_value").transition().duration(1e3).style("opacity",1)}),200)}),[]),a.createElement("div",{className:"monitoring"},a.createElement("div",{className:"monitoring_content"},a.createElement("div",{className:"column"},a.createElement("div",{className:"monitoring_value ".concat(e.transition?"transition":"")},a.createElement(R,{separation:e.separation,dollars:e.dollars,committed:e.committed})))),e.terawatts||0===e.terawatts?a.createElement("div",{className:"monitoring_content"},a.createElement("div",{className:"column"},a.createElement("div",{className:"monitoring_header"},a.createElement("h5",null,a.createElement("b",null,"Électricité produite")," • ",e.terawatts," TWh")))):a.createElement("div",null))}function B(e){return e.split("_").slice(1).map((function(e){return parseInt(e)}))}n(97762);var Z=function(e){return 0===parseInt(e)||parseInt(e)<0?"":"+"};function L(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){L(c,r,a,o,i,"next",e)}function i(e){L(c,r,a,o,i,"throw",e)}o(void 0)}))}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t,n,r=(t=(0,a.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];(0,a.useEffect)((function(){}),[]),(0,a.useEffect)((function(){var e=T.td_(".choicebutton");e.select(".butn").classed("selected",!1),o&&(T.Ys(o.obj).select(".butn").classed("selected",!0),e.select(".butn").style("opacity","0.5"),T.Ys(o.obj).select(".butn").style("opacity","1"))}),[o]);var s=(0,a.useCallback)(function(){var t=q(regeneratorRuntime.mark((function t(n,r,a){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=String(e.curPrompt.Trigger_next).split(";")).length>1?e.changePrompt(String(c[a]).replace(/(\r\n|\n|\r)/gm,"")):e.changePrompt(String(c[0]).replace(/(\r\n|\n|\r)/gm,"")),"QM"===e.curPrompt.ID&&0===a&&e.updateMemoryObj("investedModernization",!0),e.updateDollars(parseInt(n)),e.updatePerformance(r),i(null);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()),l=(0,a.useCallback)(q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),i(null);case 2:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"choices"},a.createElement("div",{className:"row"},e.choices.map((function(t,n){var r,s=e.choices_values[n].split("_")[0],l=B(e.choices_values[n]);return a.createElement("div",{className:"choicebutton",key:n,onClick:function(e){!function(e,t,n,r){i({obj:e.target,cost:parseInt(t),performance:n,index:r})}(e,s,l,n)}},a.createElement("div",{id:n,className:"butn"},a.createElement("div",{className:"holder icon"},a.createElement("img",{src:o&&o.index===n?"./assets/img/Off.svg":"./assets/img/On.svg"})),a.createElement("div",{className:"holder label"},a.createElement("h4",null,t),e.choices_values.map((function(e,t){return parseInt(e.split("_")[0])})).filter((function(e){return!Number.isNaN(e)})).every((function(e){return 0===e}))?"":a.createElement("p",null,(0,c.ZP)((r=s,Math.abs(r)>1?"".concat(Z(r)).concat(Math.abs(r),"&nbsp;JETONS"):"".concat(Z(r)).concat(Math.abs(r),"&nbsp;JETON")))))))}))),a.createElement(Y,{showTWh:!1,dollars:o&&o.hasOwnProperty("cost")?parseInt(e.gauges.props.dollars)+parseInt(o.cost):e.gauges.props.dollars,committed:o&&o.hasOwnProperty("cost")&&parseInt(o.cost)<0?Math.abs(o.cost):0,performance:e.gauges.props.performance}),a.createElement("div",{className:"row"},a.createElement("div",{className:"column"},e.curIndex>0?a.createElement("div",{className:"actionbutton prev",onClick:l},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))):a.createElement("div",null)),a.createElement("div",{className:"column"},a.createElement("div",{className:"actionbutton next ".concat(o?"":"disabled"),onClick:function(){o?s(o.cost,o.performance,o.index):console.log("Disabled.")}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))))}function W(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){W(c,r,a,o,i,"next",e)}function i(e){W(c,r,a,o,i,"throw",e)}o(void 0)}))}}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e){var t=F((0,a.useState)([]),2),n=t[0],r=t[1];(0,a.useEffect)((function(){o()}),[]),(0,a.useEffect)((function(){}),[n]);var o=function(){r(e.choices.map((function(e){return null})))},i=function(e){var t=e.reduce((function(e,t){return t&&(e+=t.cost),e}),0),n=[0,0,0];return e.forEach((function(e,t){e&&(n=n.map((function(t,n){return parseInt(t)+parseInt(e.performance[n])})))})),[t,n]},s=(0,a.useCallback)(function(){var t=X(regeneratorRuntime.mark((function t(n){var r,a,c,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.curPrompt.Trigger_next,e.changePrompt(u(r)),a=i(n),c=F(a,2),s=c[0],l=c[1],e.updateDollars(parseInt(s)),e.updatePerformance(l),o();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),l=(0,a.useCallback)(X(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("previous prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1)),o();case 2:case"end":return t.stop()}}),t)})))),u=function(e){var t,r=String(e).split("_"),a=String(r[0]).split(";"),c=n.filter((function(e){return null!==e}));return t=r.length>1&&c.length>0?c.length>1?String(r[1]):String(a[n.indexOf(c[0])]):String(r[0]),console.log("checking chosenString:",t),t.replace(/(\r\n|\n|\r)/gm,"")};return a.createElement("div",{className:"choices"},a.createElement("div",{className:"row"},e.choices.map((function(t,o){var i,s=e.choices_values[o].split("_")[0],l=B(e.choices_values[o]);return a.createElement("div",{className:"selectionbutton",key:o,onClick:function(e){!function(e,t,a,c){var o,i=function(e){if(Array.isArray(e))return Q(e)}(o=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||G(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();n[t]?i[t]=null:i[t]={obj:e.target,cost:parseInt(a),performance:c},r(i)}(e,o,s,l)}},a.createElement("div",{id:o,className:"butn ".concat(n[o]?"selected":"")},a.createElement("div",{className:"holder icon ".concat(n[o]?"selected":"")},a.createElement("img",{src:n[o]?"assets/img/Plus-Off.svg":"assets/img/Plus-On.svg"})),a.createElement("div",{className:"holder label"},a.createElement("h4",null,t),e.choices_values.map((function(e,t){return parseInt(e.split("_")[0])})).filter((function(e){return!Number.isNaN(e)})).every((function(e){return 0===e}))?"":a.createElement("p",null,(0,c.ZP)((i=s,Math.abs(i)>1?"".concat(Z(i)).concat(Math.abs(i),"&nbsp;JETONS"):"".concat(Z(i)).concat(Math.abs(i),"&nbsp;JETON")))))))}))),a.createElement(Y,{showTWh:!1,dollars:n&&n.length>0?parseInt(e.gauges.props.dollars)+parseInt(i(n)[0]):e.gauges.props.dollars,committed:n&&n.length>0&&parseInt(i(n)[0])<0?Math.abs(parseInt(i(n)[0])):0}),a.createElement("div",{className:"row"},a.createElement("div",{className:"column"},e.curIndex>0?a.createElement("div",{className:"actionbutton prev",onClick:l},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))):a.createElement("div",null)),a.createElement("div",{className:"column"},a.createElement("div",{className:"actionbutton next ".concat(n?"":"disabled"),onClick:function(){n?s(n):console.log("Disabled.")}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))))}function $(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){$(c,r,a,o,i,"next",e)}function i(e){$(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ee(e){var t=(0,a.useCallback)(K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),n=(0,a.useCallback)(K(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)})))),r=(0,a.useCallback)(K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.gameReset();case 1:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"printprompt"},""!==e.message?a.createElement("div",{className:"message"},a.createElement("p",null,e.message)):"","1"===e.curIndex?a.createElement(Y,{transition:!0,showTWh:!1,dollars:e.gauges.props.dollars,committed:0,performance:e.gauges.props.performance}):"",a.createElement("div",{className:"actionbutton prev",onClick:t},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))),"STARTOVER"===e.curPrompt.Trigger_next?a.createElement("div",{className:"actionbutton next",onClick:r},a.createElement("div",{className:"butn"},a.createElement("p",null,"Recommencer"))):a.createElement("div",{className:"actionbutton next",onClick:n},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}function te(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ne(c,r,a,o,i,"next",e)}function i(e){ne(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e){var t=ae((0,a.useState)(0),2),n=t[0],r=t[1],o=ae((0,a.useState)(0),2),i=o[0],s=o[1],l=ae((0,a.useState)([0,0]),2),u=l[0],m=l[1],p=ae((0,a.useState)([]),2),d=p[0],f=p[1],v=ae((0,a.useState)([]),2),g=v[0],h=v[1];(0,a.useEffect)((function(){var e=w(),t=e.map((function(){return 0})),n=e.map((function(e){return Math.abs(e.unitValue)}));f(t),h(n)}),[]),(0,a.useEffect)((function(){var e=d.reduce((function(e,t,n){return w()[n],e+Math.abs(t)}),0),t=d.reduce((function(e,t,n){var r=w()[n];return e+Math.round(Math.abs(t/r.unitValue)*r.unitTWhvalue)}),0),n=[0,0];d.forEach((function(e,t){var r=w()[t];n=n.map((function(t,n){return 0===n?t+Math.abs(e/r.unitValue)*r.unitEnvirovalue:1===n?t+Math.abs(e/r.unitValue)*r.unitPopuvalue:void 0}))})),r(e),s(t),m(n)}),[d]);var y=(0,a.useCallback)(re(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),E=(0,a.useCallback)(re(regeneratorRuntime.mark((function t(){var r,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=String(e.curPrompt.Trigger_next).split("_"),a=String(r[0]).split(";"),"Q1"===e.curPrompt.ID&&d[0]>0?e.updateMemoryObj("builtDam",!0):d[0]>0&&e.updateMemoryObj("builtSecondDam",!0),d[2]>0?e.changePrompt(String(a[2]).replace(/(\r\n|\n|\r)/gm,"")):1==a.length?e.changePrompt(String(a).replace(/(\r\n|\n|\r)/gm,"")):a.length>1&&(console.log("checking non unique:",b(d)),b(d)?e.changePrompt(N(a,r[1])):(c=d.reduce((function(e,t,n,r){return t>r[e]?n:e}),0),e.changePrompt(String(a[c]).replace(/(\r\n|\n|\r)/gm,"")))),e.updateDollars(-n),e.updatePerformance([i].concat(u));case 6:case"end":return t.stop()}}),t)})))),b=function(e){return new Set(e).size!==e.length},x=function(e,t){var n=t.split("_");return{name:e,unitValue:parseInt(n[0]),unitTWhvalue:parseInt(n[1]),unitEnvirovalue:parseInt(n[2]),unitPopuvalue:parseInt(n[3])}},w=function(){return e.choices.map((function(t,n){return x(t,e.choices_values[n])}))},S=function(e){var t=w()[e],r=[!1,!1];return 0===Math.abs(d[e])&&(r[0]=!0),n+parseInt(Math.abs(t.unitValue))>25&&(r[1]=!0),r},P=function(e,t,n,r){var a,c,o=te(d);o[t]+n*g[t]>=0&&(n>0?(a=n*g[t],c=0,d.forEach((function(e,t){c+=e})),c+a>25||(o[t]=o[t]+n*g[t])):o[t]=o[t]+n*g[t],f(o))},N=function(e,t){var n,r=Math.max.apply(Math,te(d)),a=[];return d.forEach((function(e,t){return e===r?a.push(t):null})),a.length>1?a.includes(0)?(console.log("equal max units contains barrages"),n=String(e[0])):a.includes(1)?(console.log("equal max units contains eoliens"),n=String(e[1])):(console.log("equality between non important choices"),n=String(t)):n=String(e[a[0]]),n.replace(/(\r\n|\n|\r)/gm,"")};return a.createElement("div",{className:"repartition"},a.createElement("div",{className:"optionZone"},e.choices.map((function(t,n){return x(t,e.choices_values[n])})).map((function(e,t){return a.createElement("div",{className:"optionUnit",key:t},a.createElement("div",{className:"selectorZone"},a.createElement("div",{className:"division minusZone ".concat(S(t)[0]?"disabled":""),onClick:function(e){return P(0,t,-1)}},a.createElement("h3",null,"-")),a.createElement("div",{className:"division centralZone"},void 0===d[t]||0===d[t]?a.createElement("img",{src:"assets/img/".concat((r=t,["Hydro.svg","Eolien.svg","Nucleaire.svg","Solaire.svg","Modernisation.svg"][r]))}):a.createElement("h3",null,d[t])),a.createElement("div",{className:"division plusZone ".concat(S(t)[1]?"disabled":""),onClick:function(e){return P(0,t,1)}},a.createElement("h3",null,"+"))),a.createElement("div",{className:"textZone"},a.createElement("h3",null,e.name),a.createElement("div",{className:"inlinetext"},a.createElement("p",null,(0,c.ZP)((n=e.unitValue,Math.abs(n)>1?"".concat(Math.abs(n),"&nbsp;jetons"):"".concat(Math.abs(n),"&nbsp;jeton")))," • ",e.unitTWhvalue," TWh"))));var n,r}))),a.createElement(Y,{separation:"Q1"===e.curPrompt.ID,showTWh:!0,dollars:e.gauges.props.dollars-n,committed:n,terawatts:i}),e.curIndex>0?a.createElement("div",{className:"actionbutton prev",onClick:y},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))):a.createElement("div",null),a.createElement("div",{className:"actionbutton next ".concat(n>0?"":"disabled"),onClick:E},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}var se=n(83290);function le(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){le(c,r,a,o,i,"next",e)}function i(e){le(c,r,a,o,i,"throw",e)}o(void 0)}))}}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e){var t=me((0,a.useState)(null),2),n=t[0],r=t[1];(0,a.useEffect)((function(){o()}),[]),(0,a.useEffect)((function(){n?T.Ys(".popUp-bg").style("display","unset"):T.Ys(".popUp-bg").style("display","none")}),[n]);var c=(0,se.Z)().attr("class","d3-tip adjusted").direction("n").html((function(e){return console.log("got d: ",e),"\n                  <h4>".concat(e.title,"</h4>\n                  <p>").concat(e.supp_text,"</p>\n                  ")})),o=function(){Promise.all([T.LsS(e.map[0]),T.LsS(e.map[1])]).then((function(t){var n=me(t,2),r=n[0],a=n[1];T.Ys("#bg-map").node().append(r.documentElement),T.Ys("#on-icons").node().append(a.documentElement);var o=T.Ys("#on-icons").select("svg");o.call(c),T.Ys(".gameScreen").node().appendChild(T.Ys(".d3-tip").node());var s=o.select("#Icone-On").selectAll("g"),l=String(e.curPrompt.Choix).split(";"),u=String(e.message).split(";");s.nodes().reverse().map((function(e,t){var n={title:l[t],supp_text:u[t]};T.Ys(e).on("click",(function(t,r,a){t.stopPropagation(),c.show(n,e),i(t.target.parentElement,!1)})).on("mouseover",(function(t,r,a){console.log("checking d: ",t.target.parentElement),t.stopPropagation(),c.show(n,e),i(t.target.parentElement,!1)})).on("mouseout",(function(t,n,r){c.hide(e),i(t.target.parentElement,!0)}))})),T.Ys(".gameBox").on("click",(function(){c.hide()}))}))},i=function(e,t){!1===t?T.Ys(e).style("opacity",0):T.Ys(e).style("opacity",1)},s=(0,a.useCallback)(ue(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),l=(0,a.useCallback)(ue(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"printprompt mapnavigator"},a.createElement("div",{className:"popUp-bg"},n?a.createElement("div",{className:"popUp-box"},a.createElement("h4",null,n.title),a.createElement("p",null,n.supp_text),a.createElement("div",{className:"actionbutton",onClick:function(){return r(null)}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Fermer")))):a.createElement("div",null)),a.createElement("div",{className:"mapHolder"},a.createElement("div",{className:"superposedMap"},a.createElement("div",{id:"bg-map",className:"map noClick"}),a.createElement("div",{id:"on-icons",className:"map"}))),a.createElement("div",{className:"actionbutton prev",onClick:s},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))),a.createElement("div",{className:"actionbutton next",onClick:l},a.createElement("div",{className:"butn"},a.createElement("p",null,"Suivant"))))}function fe(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){fe(c,r,a,o,i,"next",e)}function i(e){fe(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ge(e){(0,a.useEffect)((function(){console.log("got bilan : ",e.curPrompt)}),[]);var t,n,r,o,i,s,l,u,m,p,d=(0,a.useCallback)(ve(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",n),e.changePrompt(n);case 3:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"bilanContent"},a.createElement("div",{className:"updatableText"},"B1"===e.curPrompt.ID?function(){var t=e.curPrompt.Texte.split(";"),n=e.curPrompt.Texte_Supp.split(";"),r=[],a=e.memoryObj.builtDam?9:0,c=parseInt(e.performance[0])-a,o=parseInt(e.gauges.props.dollars),i=t[0].replace("*newProd*",c).replace("*augmentediminue*",c<0?"diminué":"augmenté").replace("*suffisanteinsuffisante*",c<10?"insuffisante":"suffisante");if(r.push(i),e.memoryObj.builtDam){var s=n[0].split(":")[1].replace("*damTWh*",9);r.push(s)}if(o<15){var l=n[1].split(":")[1];r.push(l)}if(parseInt(e.performance[1])<0){var u=n[2].split(":")[1];r.push(u)}if(parseInt(e.performance[2])<0){var m=n[3].split(":")[1];r.push(m)}return r}().map((function(e,t){return a.createElement("p",{key:t},(0,c.ZP)(e))})):(o=[],e.curPrompt.Texte.split(";"),i=e.curPrompt.Texte_Supp.split(";"),s=e.memoryObj.builtSecondDam?9:0,l=parseInt(e.performance[0])-s,u=parseInt(e.gauges.props.dollars),m=parseInt(e.performance[1]),p=parseInt(e.performance[2]),t=u>=5?i[0].split(":")[1]:i[1].split(":")[1],o.push(t),n=(n=l>=25&&m>=5?i[2].split(":")[1]:l<25&&m>=5?i[3].split(":")[1]:l>=25&&m<5?i[4].split(":")[1]:i[5].split(":")[1]).replace("*augmentediminue*",l<0?"diminué":"augmenté").replace("*newProd*",l),o.push(n),r=p>=4?i[6].split(":")[1]:p>=-2&&p<4?i[7].split(":")[1]:i[8].split(":")[1],o.push(r),o).map((function(e,t){return a.createElement("p",{key:t},(0,c.ZP)(e))}))),a.createElement("div",{className:"actionbutton next",onClick:d},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}function he(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){he(c,r,a,o,i,"next",e)}function i(e){he(c,r,a,o,i,"throw",e)}o(void 0)}))}}function Ee(e){var t=(0,a.useCallback)(ye(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("RESETING GAME"),e.gameReset();case 2:case"end":return t.stop()}}),t)}))));return a.createElement("div",{className:"promptBox"},a.createElement("div",{className:"header"},a.createElement("div",{className:"surtitre"},a.createElement("h4",null,"Fin du jeu")),a.createElement("div",{className:"question"},a.createElement("p",null,"(reformuler) Le jeu a pris fin à cause de : ","".concat(e.raison)))),a.createElement("div",{className:"actionSection"},a.createElement("div",{className:"actionbutton next",onClick:t},a.createElement("div",{className:"butn"},a.createElement("p",null,"Recommencer")))))}function be(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){be(c,r,a,o,i,"next",e)}function i(e){be(c,r,a,o,i,"throw",e)}o(void 0)}))}}function we(e){var t=(0,a.useCallback)(xe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.curIndex>0&&(console.log("prev prompt!",e.curIndex-1),e.changePrompt(e.curIndex-1));case 1:case"end":return t.stop()}}),t)})))),n=(0,a.useCallback)(function(){var t=xe(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.curPrompt.Trigger_next,console.log("Checking trigger next: ",a),e.changePrompt(a),e.updateDollars(parseInt(n)),e.updatePerformance(r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),r=function(e){var t=String(e).split("_");return{cost:t[0],performance:t.splice(1)}};return a.createElement("div",{className:"printprompt"},a.createElement("div",{className:"message"},a.createElement("p",null,e.choices[e.whichEventHappens])),a.createElement("div",{className:"actionbutton prev",onClick:t},a.createElement("div",{className:"butn"},a.createElement("p",null,"Previous"))),a.createElement("div",{className:"actionbutton next",onClick:function(){return n(r(e.choices_values[e.whichEventHappens]).cost,r(e.choices_values[e.whichEventHappens]).performance)}},a.createElement("div",{className:"butn"},a.createElement("p",null,"Poursuivre"))))}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ke(c,r,a,o,i,"next",e)}function i(e){ke(c,r,a,o,i,"throw",e)}o(void 0)}))}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e){var t,n,r=(t=(0,a.useState)({investedModernization:!1,builtDam:!1,builtSecondDam:!1}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];(0,a.useEffect)((function(){}),[]);var s,l=(0,a.useCallback)(Ie(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i({investedModernization:!1,builtDam:!1,builtSecondDam:!1}),e.gameReset();case 2:case"end":return t.stop()}}),t)})))),u=(0,a.useCallback)(function(){var t=Ie(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Changing prompt for : ",n),e.changePrompt(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),m=(0,a.useCallback)(function(){var t=Ie(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Number.isInteger(n)&&e.updateDollars(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),p=(0,a.useCallback)(function(){var t=Ie(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updatePerformance(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),d=(0,a.useCallback)(function(){var e=Ie(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=Pe({},o))[t]=n,i(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=function(t){switch(t){case"Repartition":return a.createElement(ie,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p,updateMemoryObj:d,gauges:e.gauges});case"Carte":return a.createElement(de,{curPrompt:e.curPrompt,message:String(e.curPrompt.Texte_Supp),changePrompt:u,curIndex:e.curIndex,map:"Q1-1"===e.curIndex?["assets/img/Carte-Hydro.svg","assets/img/Carte-Hydro-icone-on.svg"]:["assets/img/Carte-Eolien.svg","assets/img/Carte-Eolien-icone-on.svg"]});case"texteBoutonSimple":return a.createElement(ee,{curPrompt:e.curPrompt,message:String(e.curPrompt.Texte_Supp),changePrompt:u,curIndex:e.curIndex,gauges:e.gauges,gameReset:l});case"ChoixReponse":return a.createElement(U,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p,updateMemoryObj:d,gauges:e.gauges});case"Catastrophe":return a.createElement(we,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),whichEventHappens:o.investedModernization?1:0,changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p});case"MultiSelection":return a.createElement(J,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),choices_values:String(e.curPrompt.Cout_Elec_Env_Popu).split(";"),changePrompt:u,curIndex:e.curIndex,updateDollars:m,updatePerformance:p,gauges:e.gauges});case"Bilan":return a.createElement(ge,{curPrompt:e.curPrompt,curIndex:e.curIndex,changePrompt:u,updateDollars:m,updatePerformance:p,performance:e.performance,memoryObj:o,gauges:e.gauges});default:return a.createElement(U,{curPrompt:e.curPrompt,choices:String(e.curPrompt.Choix).split(";"),changePrompt:u,curIndex:e.curIndex})}};return!0===e.endGame?a.createElement("div",{className:"gameBox"},a.createElement(Ee,{raison:(s=[],console.log("checking reason processing:",e.gauges.props.dollars,e.performance),e.gauges.props.dollars<0&&s.push("Vous n'avez plus d'argent."),e.performance[0]<0&&s.push("Vous avez gâché le parc de production électrique d'Hydro-Québec."),e.performance[1]<0&&s.push("Votre bilan environnemental est excécrable."),e.performance[2]<0&&s.push("La fureur populaire a eu raison de votre poste."),s),gameReset:l})):a.createElement("div",{className:"gameBox"},"Bilan"===e.curPrompt.Type?a.createElement("div",{className:"promptBox bilan"},a.createElement("div",{className:"header"},a.createElement("div",{className:"massiveTitle"},a.createElement("h2",null,(0,c.ZP)(e.curPrompt.Sujet)))),a.createElement("div",{className:"separator"}),f(e.curPrompt.Type)):a.createElement("div",{className:"promptBox"},a.createElement("div",{className:"header"},a.createElement("div",{className:"surtitre"},a.createElement("h4",null,(0,c.ZP)(e.curPrompt.Sujet))),a.createElement("div",{className:"question"},a.createElement("p",null,(0,c.ZP)(e.curPrompt.Texte)))),f(e.curPrompt.Type)))}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e){var t=_e((0,a.useState)("IDLE"),2),n=t[0],r=t[1],c=_e((0,a.useState)(0),2),o=c[0],i=c[1],s=_e((0,a.useState)(50),2),l=s[0],u=s[1],m=_e((0,a.useState)([0,0,0]),2),p=m[0],d=m[1],f=_e((0,a.useState)("normal"),2),v=f[0],g=f[1];(0,a.useEffect)((function(){console.log("game ",n)}),[n]),(0,a.useEffect)((function(){E(o),"END"===o&&y()}),[o]);var h=function(){r("STARTED"),i(0)},y=function(){r("END")},E=function(t){console.log("current game prompt:",e.gameData.filter((function(e){return String(e.ID)===String(t)})))},b=function(t){return e.gameData.findIndex((function(e){return String(t)===String(e.ID)}))};(0,a.useEffect)((function(){var t=e.gameData[b(o)];t&&t.hasOwnProperty("Background")&&("redpink"===t.Background?g("redpink"):"normal"!==v&&g("normal"))}));var x=function(){var t="END"===n||"END"===o||"redpink"===v?"gameOver":"";console.log("Checking game info: ",n,o,v);var r=e.gameData[b(o)];return{gameScreenClass:t,backgroundImage:r?"pylone"===r.Background?"Illus_Section-01_Pylone_V01-14.svg":"ampoule"===r.Background?"Illus_Section-02_Ampoule_V02.svg":"centrale"===r.Background?"Illus_Section-00_Centrale_V01.svg":null:null}};return"IDLE"===n?a.createElement("div",{className:"gameScreen"},a.createElement("div",{className:"background-image"},a.createElement("img",{src:"assets/img/Illus_Section-00_Centrale_V01.svg"})),a.createElement(V,{introElem:e.introElem,mapObj:e.mapObj,gameStart:h})):a.createElement("div",{className:"gameScreen ".concat(x().gameScreenClass)},"gameOver"!==x().gameScreenClass&&null!==x().backgroundImage?a.createElement("div",{className:"background-image"},a.createElement("img",{src:"assets/img/".concat(x().backgroundImage),className:"no-mobile"})):"",a.createElement("div",{className:"temporaryInfo"},a.createElement("p",null,"Performance (temporaire)"),a.createElement("p",null,"Dollars: ","".concat(l," $")),a.createElement("p",null,"Elec: ","".concat(p[0]," TWh")),a.createElement("p",null,"Enviro: ","".concat(p[1]," pts")),a.createElement("p",null,"Popu: ","".concat(p[2]," pts"))),a.createElement(Ce,{curIndex:o,curPrompt:"END"===o?"":e.gameData[b(o)],changePrompt:i,updateDollars:function(e){u((function(t){return t+e})),l+e<0&&y()},updatePerformance:function(e){var t=Array.apply(null,Array(e.length)).map((function(){}));p.forEach((function(n,r){t[r]=parseInt(n)+parseInt(e[r])})),console.log("Setting performance to : ",t),d(t),(t[1]<-9||t[2]<-9)&&y()},gauges:a.createElement(R,{dollars:l}),performance:p,endGame:"END"===o||"END"===n,gameReset:function(){u(50),d([0,0,0]),h()}}))}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t;var c=this.container.append("div").classed("rootElem",!0);this.engineRoot=j.createRoot(c.node()),this.optionData=n,this.amorce=r.TEXTE,this.gameData=a,console.log("game Data is : ",this.gameData),this.initEngine()}var t,n;return t=e,(n=[{key:"initEngine",value:function(){var e=a.createElement(o,{key:"gameIntro",sectionType:g,optionData:this.optionData,amorce:this.amorce,background:null,classes:""});this.engineRoot.render(a.createElement(Oe,{introElem:e,gameStatus:this.gameStatus,gameData:this.gameData}))}}])&&Ae(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Re(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){Re(c,r,a,o,i,"next",e)}function i(e){Re(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ze(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Me(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.gyn("https://docs.google.com/spreadsheets/d/e/2PACX-1vQQZ3sz0q1vnZmoYYR5IrCfuONhHcNw50iDtbg1H2mIX8lHDL1BQ4sAMi7iApSE1G9WQTW2jHcWv4KW/pub?gid=1497861017&single=true&output=csv").then((function(e){var r=T.Ys(".game-area");return new je(r,A(n),t[0],e),Ye(t,n),_(t,n),[[function(){}]]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e,t){var n=C(e,t);console.log("checking structure:",n),n.map((function(e){"viz-section"===e.sectionType&&e.steps.map((function(t,n){""!==t.visual&&(0===n?T.Ys("#".concat(e.key,"_").concat(n)).style("opacity",1):T.Ys("#".concat(e.key,"_").concat(n)).style("opacity",0))}))}))}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Le=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.index=n,this.callback=r,this._isActivate=!1}var t,n;return t=e,(n=[{key:"activate",value:function(e){this._isActivate||(this._isActivate=!0,this.el.classList.add("active"),this.callback(e))}},{key:"deactivate",value:function(){this._isActivate&&(this._isActivate=!1,this.el.classList.remove("active"))}}])&&Ze(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),qe=n(52732),He=n.n(qe),Ue=n(89438);function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t){var n=[];[".viz",".full-page-section > img",".full-page-section > video"].forEach((function(e){n=n.concat(Array.from(document.querySelectorAll(e)))})),(0,Ue.Z)(n,{stickyBitStickyOffset:40}),new(He())({elements_selector:".lazy",threshold:500}),Promise.all([ze(e,t)]).then((function(e){var t,n;(function(e){var t=0,n=0,r=window.innerHeight,a=!1,c=0,o=[],i=[],s=[],l=document.querySelector(".article-reminder"),u=document.querySelector("header > .progress"),m=document.querySelector(".intro-section h1"),p=document.querySelectorAll(".viz-section");if(p.length!==e.length)throw new Error("The number of viz sections (".concat(p.length,") mismatch with the length of the first ")+"dimension of the callbacks array (".concat(e.length,"). Please, be sure that the two elements ")+"have the same size.");p.forEach((function(t,n){var r,a=function(e){if(Array.isArray(e))return Be(e)}(r=t.querySelectorAll("section"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();if(a.length!==e[n].length)throw new Error("The number of steps (".concat(a.length,") in the viz section #").concat(n+1," mismatch with the ")+"number of callbacks specified (".concat(e[n].length,') at the index "').concat(n,'". Please, be sure that the two ')+"elements have the same size.");o=o.concat(a.map((function(t,r){return new Le(t,"".concat(n,"-").concat(r),e[n][r])}))),i=i.concat(i,t.querySelector(".viz > *"))}));var d=function(){var e=window.pageYOffset||document.documentElement.scrollTop;o.forEach((function(e){var a=e.el.getBoundingClientRect();r-a.top-n>0&&a.top+a.height-t>0?s.push(e):e.deactivate()}));var a=m.getBoundingClientRect().bottom<=0,i=l.classList.contains("visible");a&&!i?l.classList.add("visible"):!a&&i&&l.classList.remove("visible"),s.forEach((function(t,n){e>=c?n===s.length-1?t.activate("down"):t.deactivate():0===n?t.activate("up"):t.deactivate()})),f(),s=[],c=e},f=function(){var e=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;u.style.width=e+"%"},v={initialize:function(){if(a)throw new Error("The scroller is already initialized.");return a=!0,window.addEventListener("scroll",d),window.addEventListener("resize",(function(){r=window.innerHeight,f()})),(window.pageYOffset||document.documentElement.scrollTop)>0&&d(),f(),v},offsetTop:function(e){if(void 0===e)return t;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return t=e,v},offsetBottom:function(e){if(void 0===e)return n;if(!Number.isInteger(e))throw new Error("The offset must be an integer number.");return n=e,v}};return v})((t=e,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]).offsetTop(40).offsetBottom(0).initialize()}))}function Fe(e){return e.rendered&&(0,a.useEffect)((function(){Xe(e.contentData,e.paramsData)}),[]),t=C(e.contentData,e.paramsData),n={},Object.keys(t).map((function(e,r){var s=t[e];s.sectionType===g?n[e]=a.createElement(o,{key:s.key,sectionType:s.sectionType,optionData:s.optionData,amorce:(0,c.ZP)(s.amorce),background:s.background,classes:s.classes}):s.sectionType===y?n[e]=a.createElement(i,{key:s.key,id:s.key,sectionType:s.sectionType,texts:s.texts,background:s.background,classes:s.classes,visuelclasses:s.visuelclasses,visual:s.visual,filename:s.filename}):s.sectionType===h?n[e]=a.createElement(I,{key:s.key,id:s.key,sectionType:s.sectionType,background:s.background,classes:s.classes,visuelclasses:s.visuelclasses,visual:s.visual,mainTitle:s.texts.mainTitle,subTitle:s.texts.subTitle,filename:s.filename}):s.sectionType===E&&(n[e]=a.createElement(k,{key:s.key,listID:s.listID,steps:s.steps,classed:s.classed,mediaInfo:s.mediaInfo,background:s.background}))})),Object.values(n);var t,n}Promise.all([Promise.resolve().then(n.t.bind(n,20745,19)),Promise.resolve().then(n.t.bind(n,97762,19)),Promise.resolve().then(n.t.bind(n,67294,19))]).then((function(e){var t=e[0],n=(e[1],e[2]);T.Ys(".pull-right").insert("li","li").html("<p class='not-published'>Ne pas publier</p>"),T.gyn(r.google_config.contentURL).then((function(e){T.gyn(r.google_config.paramsURL).then((function(r){t.createRoot(document.getElementById("root")).render(n.createElement(Fe,{contentData:e,paramsData:r,rendered:!0})),document.querySelector("#footerContainer").innerHTML=T.Ys("#footerContent").node().innerHTML}))}))}))},40207:e=>{e.exports={google_config:{contentURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=0&single=true&output=csv",paramsURL:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSEywJE0VUgy3Nsq3Tg_oh-Vs633TSimdIHfkXTyz9BbEtWNVgurd1Tou-Q5anvdOiw3coCFkDCiSYq/pub?gid=409950237&single=true&output=csv",localContentURL:"./data/structure/contentData.csv",localParamsURL:"./data/structure/paramsData.csv"}}}},e=>{var t=t=>e(e.s=t);e.O(0,[216],(()=>(t(28594),t(35666),t(86702)))),e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dHJvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvY29tcG9uZW50cy9UZXh0U2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvY29tcG9uZW50cy9EV0NoYXJ0LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3IvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9jb21wb25lbnRzL1ZpelNlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2NvbXBvbmVudHMvRnVsbFBhZ2VTZWN0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nZW5lcmF0b3Ivc3RydWN0dXJlR2VuZXJhdG9yLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4uL2xlZGV2b2lyLWRhdGF2aXovc3JjL21hcHMvaW50ZXJhY3RpdmUtbWFwLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4uL2xlZGV2b2lyLWRhdGF2aXovc3JjL2dyYXBocy9zdGFja2VkQXJlYUNoYXJ0LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvZ2F1Z2VzL0dhdWdlcy5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL2ludHJvQm94LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvZ2F1Z2VzL01vbml0b3JpbmcuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL3V0aWxzLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9DaG9pY2UuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL011bHRpU2VsZWN0aW9uLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvcHJvbXB0ZmlsbC9QcmludFByb21wdC5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvUmVwYXJ0aXRpb24uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL01hcE5hdmlnYXRvci5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2FtZS9jb21wb25lbnRzL3Byb21wdGZpbGwvQmlsYW4uanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL0VuZEdhbWUuanMiLCJ3ZWJwYWNrOi8vc2Nyb2xseXRlbGxpbmctdGVtcGxhdGUvLi9zcmMvYXBwL2dhbWUvY29tcG9uZW50cy9wcm9tcHRmaWxsL0NhdGFzdHJvcGhlLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvUHJvbXB0Qm94LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2NvbXBvbmVudHMvbWFpbmZyYW1lLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9nYW1lL2VuZ2luZS5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvdml6LmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2FwcC9zY3JvbGxlci5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2VuZXJhdG9yL2luaXRTY3JvbGxlci5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvZ2VuZXJhdG9yL1JlbmRlclN0cnVjdHVyZS5qcyIsIndlYnBhY2s6Ly9zY3JvbGx5dGVsbGluZy10ZW1wbGF0ZS8uL3NyYy9hcHAvYXBwLmpzIiwid2VicGFjazovL3Njcm9sbHl0ZWxsaW5nLXRlbXBsYXRlLy4vc3JjL2RhdGEvZ29vZ2xlX2NvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnRyb1NlY3Rpb24ocHJvcHMpe1xuXG5cbiAgICBsZXQgaW50cm9TZWN0aW9uT2JqID0gKFxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9e2BpbnRyby1zZWN0aW9uICR7cHJvcHMuY2xhc3Nlc31gfT5cbiAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJvdmVyVGl0bGVcIj5cbiAgICAgICAgICAgICAge3Byb3BzLmFtb3JjZX1cbiAgICAgICAgICAgIDwvaDU+XG4gICAgICAgICAgICA8aDE+e3BhcnNlKHByb3BzLm9wdGlvbkRhdGEudGl0bGUpfTwvaDE+XG4gICAgICAgICAgICA8YWRkcmVzcz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRhdGVcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvYWRkcmVzcz5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICk7XG4gICAgbGV0IGNvbnRhaW5lZE9iaiA9IHByb3BzLmJhY2tncm91bmQgP1xuICAgICAgICAoXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7YmFja2dyb3VuZENvbG9yOiBgJHtwcm9wcy5iYWNrZ3JvdW5kfWB9fSBjbGFzc05hbWU9e1wic2VjdGlvbkNvbnRhaW5lclwifT5cbiAgICAgICAgICAgICAgICB7aW50cm9TZWN0aW9uT2JqfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICAgICAgOlxuICAgICAgICAoXG4gICAgICAgICAgICBpbnRyb1NlY3Rpb25PYmpcbiAgICAgICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgY29udGFpbmVkT2JqXG4gICAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVGV4dFNlY3Rpb24ocHJvcHMpe1xyXG5cclxuICAgIGxldCBpc1F1b3RlID0gU3RyaW5nKHByb3BzLmNsYXNzZXMpLmluY2x1ZGVzKCdjaXRhdGlvbicpO1xyXG4gICAgbGV0IHF1b3RlT2JqO1xyXG4gICAgaWYoaXNRdW90ZSl7XHJcbiAgICAgICAgcXVvdGVPYmogPSB7XHJcbiAgICAgICAgICAgIHRleHQ6U3RyaW5nKHByb3BzLnRleHRzKS5zcGxpdCgnLycpWzBdLFxyXG4gICAgICAgICAgICBhdXRob3I6U3RyaW5nKHByb3BzLnRleHRzKS5zcGxpdCgnLycpWzFdXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXNCaWdOdW1iZXIgPSBTdHJpbmcocHJvcHMuY2xhc3NlcykuaW5jbHVkZXMoJ2JpZ051bWJlcicpO1xyXG4gICAgbGV0IGJpZ051bWJlck9iajtcclxuICAgIGlmKGlzQmlnTnVtYmVyKXtcclxuICAgICAgICBiaWdOdW1iZXJPYmogPSB7XHJcbiAgICAgICAgICAgIG51bWJlcjpTdHJpbmcocHJvcHMudGV4dHMpLnNwbGl0KCcvJylbMF0sXHJcbiAgICAgICAgICAgIHVuZGVyVGV4dDpTdHJpbmcocHJvcHMudGV4dHMpLnNwbGl0KCcvJylbMV1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBpc1Zpc3VhbCA9IHByb3BzLnZpc3VhbDtcclxuICAgIGxldCB2aXN1YWxPYmogPSAoXHJcbiAgICAgICAgKGlzVmlzdWFsICE9PSBcIlwiKSA/IFxyXG4gICAgICAgICAgICBwcm9wcy52aXN1YWwgPT09IFwiUGhvdG9cIiA/IFxyXG4gICAgICAgICAgICAgICAgPGltZyBcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2BwaG90b1RleHRTZWN0aW9uXyR7cHJvcHMuaWR9YH1cclxuICAgICAgICAgICAgICAgICAgICBpZD17YHBob3RvVGV4dFNlY3Rpb25fJHtwcm9wcy5pZH1gfVxyXG4gICAgICAgICAgICAgICAgICAgIHNyYz17YGFzc2V0cy9pbWcvNjc1LyR7cHJvcHMuZmlsZW5hbWV9YH1cclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXNyY3NldD17YGFzc2V0cy9pbWcvMjA0OC8ke3Byb3BzLmZpbGVuYW1lfSAyMDQ4dywgYXNzZXRzL2ltZy85OTAvJHtwcm9wcy5maWxlbmFtZX0gOTkwdywgYXNzZXRzL2ltZy82NzUvJHtwcm9wcy5maWxlbmFtZX0gNjc1dywgYXNzZXRzL2ltZy8xMzUwLyR7cHJvcHMuZmlsZW5hbWV9IDEzNTB3LCBhc3NldHMvaW1nLzEwMC8ke3Byb3BzLmZpbGVuYW1lfSAxMDB3LCBhc3NldHMvaW1nLzQ5NS8ke3Byb3BzLmZpbGVuYW1lfSA0OTV3LCBhc3NldHMvaW1nLzEwMjQvJHtwcm9wcy5maWxlbmFtZX0gMTAyNHdgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtc2l6ZXM9XCIobWF4LXdpZHRoOiAxMDBweCkgMTAwcHgsIChtYXgtd2lkdGg6IDQ5NXB4KSA0OTVweCwgKG1heC13aWR0aDogNjc1cHgpIDY3NXB4LCAobWF4LXdpZHRoOiA5OTBweCkgOTkwcHgsIChtYXgtd2lkdGg6ICAxMDI0cHgpIDEwMjRweCwgKG1heC13aWR0aDogIDEzNTBweCkgMTM1MHB4LCAobWF4LXdpZHRoOiAgMjA0OHB4KSAyMDQ4cHhcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGxhenkgJHtwcm9wcy52aXN1ZWxjbGFzc2VzfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3twYWRkaW5nQm90dG9tOiAnMXJlbSd9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICBwcm9wcy52aXN1YWwgPT09IFwiVmlkZW9cIiA/IFxyXG4gICAgICAgICAgICAgICAgPHZpZGVvIGF1dG9QbGF5IGxvb3AgbXV0ZWQgcGxheXNJbmxpbmUgY2xhc3NOYW1lPXtgdmlkZW8gJHtwcm9wcy52aXN1ZWxjbGFzc2VzfWB9IHByZWxvYWQ9XCJtZXRhZGF0YVwiIGtleT17YHZpZGVvVGV4dFNlY3Rpb25fJHtwcm9wcy5pZH1gfSBpZD17YHZpZGVvVGV4dFNlY3Rpb25fJHtwcm9wcy5pZH1gfT5cclxuICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz17YGFzc2V0cy92aWRlb3MvJHtwcm9wcy5maWxlbmFtZX1gfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgVmlkw6lvIG5vbiBzdXBwb3J0w6llLiBSw6ktZXNzYXlleiBzdXIgdW4gYXV0cmUgYXBwYXJlaWwgb3UgZnVyZXRldXIuXHJcbiAgICAgICAgICAgICAgICA8L3ZpZGVvPlxyXG4gICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICA6XHJcbiAgICAgICAgPGRpdj48L2Rpdj5cclxuICAgIClcclxuXHJcbiAgICBsZXQgdGV4dFNlY3Rpb25PYmogPSAoXHJcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtgdGV4dC1zZWN0aW9uICR7cHJvcHMuY2xhc3Nlc31gfT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlzUXVvdGUgPyBcclxuICAgICAgICAgICAgPGJsb2NrcXVvdGUgY2xhc3NOYW1lPVwic21hbGxcIj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICA8Yj5cclxuICAgICAgICAgICAgICAgICAgICB7cGFyc2UocXVvdGVPYmoudGV4dCl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9iPlxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYXV0aG9yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3F1b3RlT2JqLmF1dGhvcn1cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3ltYm9sXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9ibG9ja3F1b3RlPlxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgIGlzQmlnTnVtYmVyID9cclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1udW1iZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJudW1iZXJzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDI+e2JpZ051bWJlck9iai5udW1iZXJ9PC9oMj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YmlnTnVtYmVyT2JqLnVuZGVyVGV4dH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc21hbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmlzdWFsID8gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzdWFsT2JqXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcocHJvcHMudGV4dHMpLnN0YXJ0c1dpdGgoJzwnKSA/ICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlKHByb3BzLnRleHRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3BhcnNlKHByb3BzLnRleHRzKX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKVxyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgKTtcclxuICAgIGxldCBjb250YWluZWRPYmogPSBwcm9wcy5iYWNrZ3JvdW5kID8gXHJcbiAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogYCR7cHJvcHMuYmFja2dyb3VuZH1gfX0gY2xhc3NOYW1lPXtcInNlY3Rpb25Db250YWluZXJcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0U2VjdGlvbk9ian1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0U2VjdGlvbk9ialxyXG4gICAgICAgICAgICAgICAgKVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgY29udGFpbmVkT2JqXHJcbiAgICApXHJcbn0iLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEV0NoYXJ0KHsgdGl0bGUsIHNyYywgLi4ucHJvcHMgfSkge1xyXG4gIGNvbnN0IGlmcmFtZVJlZiA9IHVzZVJlZigpXHJcbiAgY29uc3QgW2hlaWdodCwgc2V0U3RhdGVdID0gdXNlU3RhdGUoNTAwKVxyXG5cclxuICBjb25zdCBvbk1lc3NhZ2UgPSB1c2VDYWxsYmFjayhcclxuICAgICh7IGRhdGEgPSB7fSwgc291cmNlIH0pID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHNvdXJjZSAhPT0gaWZyYW1lUmVmLmN1cnJlbnQuY29udGVudFdpbmRvdyB8fFxyXG4gICAgICAgIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyB8fFxyXG4gICAgICAgICFkYXRhWydkYXRhd3JhcHBlci1oZWlnaHQnXVxyXG4gICAgICApXHJcbiAgICAgICAgcmV0dXJuXHJcblxyXG4gICAgICAvL3NldFN0YXRlKE9iamVjdC52YWx1ZXMoZGF0YVsnZGF0YXdyYXBwZXItaGVpZ2h0J10pWzBdKVxyXG4gICAgfSxcclxuICAgIFtzZXRTdGF0ZSwgaWZyYW1lUmVmXVxyXG4gIClcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKVxyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKVxyXG4gIH0sIFtoZWlnaHQsIHNldFN0YXRlLCBvbk1lc3NhZ2VdKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGlmcmFtZVxyXG4gICAgICByZWY9e2lmcmFtZVJlZn1cclxuICAgICAgc2Nyb2xsaW5nPVwibm9cIlxyXG4gICAgICBmcmFtZUJvcmRlcj1cIjBcIlxyXG4gICAgICB3aWR0aD1cIjEwMCVcIlxyXG4gICAgICB7Li4ucHJvcHN9XHJcbiAgICAgIHRpdGxlPXt0aXRsZX1cclxuICAgICAgc3JjPXtzcmN9XHJcbiAgICAgIGhlaWdodD17aGVpZ2h0fVxyXG4gICAgLz5cclxuICApXHJcbn1cclxuXHJcbkRXQ2hhcnQucHJvcFR5cGVzID0ge1xyXG4gIHRpdGxlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgc3JjOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgbG9hZGluZzogUHJvcFR5cGVzLm9uZU9mKFsnZWFnZXInLCAnbGF6eSddKSxcclxufSIsImV4cG9ydCBjb25zdCBjb250ZW50SGVhZGVyQ29uc3RhbnRzID0ge1xuICAgIHNlY3Rpb246IFwiU2VjdGlvblwiLFxuICAgIHNlY3Rpb25JRDogXCJTZWN0aW9uSURcIixcbiAgICBhdHRyaWJ1dHM6IFwiQXR0cmlidXRzXCIsXG4gICAgc291c3NlY3Rpb246IFwiU3RlcFwiLFxuICAgIHRleHRlOiBcIlRFWFRFXCIsXG4gICAgdmlzdWVsOiBcIlZJU1VFTFwiLFxuICAgIG5vbWZpY2hpZXJzb3VyY2U6IFwiTm9tRmljaGllclNvdXJjZVwiLFxuICAgIHN0eWxlZm9uZDogXCJTdHlsZUZvbmRcIixcbiAgICBzdGVwY2xhc3NlczogXCJTdGVwQ2xhc3Nlc1wiLFxuICAgIHZpc3VlbGNsYXNzZXM6IFwiVmlzdWVsQ2xhc3Nlc1wiLFxuICAgIG5vdGVzOiBcIk5vdGVzXCIsXG4gICAgZ2FtZWlkOiBcIkdhbWVJRFwiXG59O1xuXG5leHBvcnQgY29uc3Qgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzID0ge1xuICAgIHNlY3Rpb250eXBlczoge1xuICAgICAgICBpbnRyb3RpdHJlOiBcImludHJvLXRpdHJlXCIsXG4gICAgICAgIHBsZWluZXBhZ2V0aXRyZTogXCJwbGVpbmUtcGFnZS10aXRyZVwiLFxuICAgICAgICB0ZXh0ZWNsYXNzaXF1ZTogXCJ0ZXh0ZS1jbGFzc2lxdWVcIixcbiAgICAgICAgdml6c2VjdGlvbjogXCJ2aXotc2VjdGlvblwiXG4gICAgfSxcbiAgICBzZWN0aW9uYXR0cmlidXRlczp7XG4gICAgICAgIHBsZWluZXBhZ2U6IFwicGxlaW5lLXBhZ2VcIixcbiAgICAgICAgZm9uZG5vaXI6IFwiZm9uZC1ub2lyXCIsXG4gICAgICAgIGNlbnRyZTogXCJjZW50csOpXCIsXG4gICAgICAgIGNvdGVjb3RlOiBcImPDtHTDqS1jw7R0w6lcIlxuICAgIH0sXG4gICAgdmlzdWVsdHlwZXM6e1xuICAgICAgICBwaG90bzogXCJQaG90b1wiLFxuICAgICAgICB2aWRlbzogXCJWaWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJBdWRpb1wiLFxuICAgICAgICB2aXN1YWxpc2F0aW9uOiBcIlZpc3VhbGlzYXRpb25cIixcbiAgICAgICAgaWZyYW1lOiBcImlmcmFtZVwiXG4gICAgfSxcbiAgICBzb3Vzc2VjdGlvbnR5cGVzOntcbiAgICAgICAgc2Nyb2xsbm9ybWFsOiBcInNjcm9sbC1ub3JtYWxcIixcbiAgICAgICAgc2Nyb2xsaW52aXNpYmxlOiBcInNjcm9sbC1pbnZpc2libGVcIixcbiAgICAgICAgc2Nyb2xsbG9uZzogXCJzY3JvbGwtbG9uZ1wiXG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHBhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMgPSB7XG4gICAgdGl0cmU6IFwiVGl0cmVcIixcbiAgICBhdXRldXJzOiBcIkF1dGV1cnNcIixcbiAgICBkYXRlOiBcIkRhdGVcIixcbiAgICBkYXRlOiBcIkRhdGVcIixcbiAgICB1cmxzOiBcIkxpZW5BdXRldXJzXCIsXG4gICAgbGllbmZpY2hpZXJzb3VyY2U6IFwiTGllbkZpY2hpZXJTb3VyY2VcIlxufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuaW1wb3J0IERXQ2hhcnQgZnJvbSBcIi4vRFdDaGFydFwiO1xuaW1wb3J0IHsgb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzIH0gZnJvbSBcIi4uL2dlbmVyYXRvci9jb25zdGFudHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFZpelNlY3Rpb24ocHJvcHMpe1xuXG4gICAgbGV0IHZpelNlY3Rpb25PYmogPSAoXG4gICAgICAgIDxzZWN0aW9uIGlkPXtwcm9wcy5saXN0SUR9IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NlZH0+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgc3RlcHMgJHtnZXRTdGVwQ29tbW9uQ2xhc3MocHJvcHMuc3RlcHMpfWB9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5zdGVwcy5tYXAoKHN0ZXAsaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3N0ZXAgaXMgJywgc3RlcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNRdW90ZSA9IFN0cmluZyhzdGVwLnN0ZXBjbGFzc2VzKS5pbmNsdWRlcygnY2l0YXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBxdW90ZU9iajtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzUXVvdGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1b3RlT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OlN0cmluZyhzdGVwLnRleHQpLnNwbGl0KCcvJylbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcjpTdHJpbmcoc3RlcC50ZXh0KS5zcGxpdCgnLycpWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24ga2V5PXtpbmRleH0gY2xhc3NOYW1lPXtzdGVwLnN0ZXBjbGFzc2VzfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNRdW90ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YmxvY2txdW90ZSBjbGFzc05hbWU9XCJzbWFsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFyc2UocXVvdGVPYmoudGV4dCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYXV0aG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtxdW90ZU9iai5hdXRob3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3ltYm9sXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrcXVvdGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcoc3RlcC50ZXh0KS5zdGFydHNXaXRoKCc8JykgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlKHN0ZXAudGV4dClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPntzdGVwLnRleHQgPyBwYXJzZShzdGVwLnRleHQpIDogXCJcIn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInZpelwiIGlkPVwidml6XCI+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5zdGVwcy5tYXAoKHN0ZXAsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihzdGVwLnZpc3VhbCA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnZpc3VlbHR5cGVzLnBob3RvKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtgYXNzZXRzL2ltZy82NzUvJHtzdGVwLmZpbGVuYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXNyY3NldD17YGFzc2V0cy9pbWcvMjA0OC8ke3N0ZXAuZmlsZW5hbWV9IDIwNDh3LCBhc3NldHMvaW1nLzk5MC8ke3N0ZXAuZmlsZW5hbWV9IDk5MHcsIGFzc2V0cy9pbWcvNjc1LyR7c3RlcC5maWxlbmFtZX0gNjc1dywgYXNzZXRzL2ltZy8xMzUwLyR7c3RlcC5maWxlbmFtZX0gMTM1MHcsIGFzc2V0cy9pbWcvMTAwLyR7c3RlcC5maWxlbmFtZX0gMTAwdywgYXNzZXRzL2ltZy80OTUvJHtzdGVwLmZpbGVuYW1lfSA0OTV3LCBhc3NldHMvaW1nLzEwMjQvJHtzdGVwLmZpbGVuYW1lfSAxMDI0d2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXNpemVzPVwiKG1heC13aWR0aDogMTAwcHgpIDEwMHB4LCAobWF4LXdpZHRoOiA0OTVweCkgNDk1cHgsIChtYXgtd2lkdGg6IDY3NXB4KSA2NzVweCwgKG1heC13aWR0aDogOTkwcHgpIDk5MHB4LCAobWF4LXdpZHRoOiAgMTAyNHB4KSAxMDI0cHgsIChtYXgtd2lkdGg6ICAxMzUwcHgpIDEzNTBweCwgKG1heC13aWR0aDogIDIwNDhweCkgMjA0OHB4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGxhenkgJHtzdGVwLnZpc3VlbGNsYXNzZXN9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHN0ZXAudmlzdWFsID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMudmlzdWVsdHlwZXMudmlkZW8pe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2aWRlbyBhdXRvUGxheSBsb29wIG11dGVkIHBsYXlzSW5saW5lIGNsYXNzTmFtZT17YHZpZGVvICR7c3RlcC52aXN1ZWxjbGFzc2VzfWB9IHByZWxvYWQ9XCJtZXRhZGF0YVwiIGtleT17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9IGlkPXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz17YGFzc2V0cy92aWRlb3MvJHtzdGVwLmZpbGVuYW1lfWB9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZMOpbyBub24gc3VwcG9ydMOpZS4gUsOpLWVzc2F5ZXogc3VyIHVuIGF1dHJlIGFwcGFyZWlsIG91IGZ1cmV0ZXVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZpZGVvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzdGVwLnZpc3VhbCA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnZpc3VlbHR5cGVzLmlmcmFtZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2Ake3Byb3BzLmxpc3RJRH1fJHtpbmRleH1gfSBpZD17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9IGNsYXNzTmFtZT1cImlmcmFtZUNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERXQ2hhcnQgdGl0bGU9XCJNZXN1cmVzIGQnYXJzZW5pY1wiIHNyYz17YCR7c3RlcC5maWxlbmFtZX1gfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoc3RlcC52aXN1YWwgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy52aXN1ZWx0eXBlcy52aXN1YWxpc2F0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YCR7cHJvcHMubGlzdElEfV8ke2luZGV4fWB9IGlkPXtgJHtwcm9wcy5saXN0SUR9XyR7aW5kZXh9YH0gY2xhc3NOYW1lPXtgaWZyYW1lQ29udGFpbmVyICR7c3RlcC52aXN1ZWxjbGFzc2VzfWB9PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgKTtcbiAgICBsZXQgY29udGFpbmVkT2JqID0gcHJvcHMuYmFja2dyb3VuZCA/XG4gICAgICAgIChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6IGAke3Byb3BzLmJhY2tncm91bmR9YH19IGNsYXNzTmFtZT17XCJzZWN0aW9uQ29udGFpbmVyXCJ9PlxuICAgICAgICAgICAgICAgIHt2aXpTZWN0aW9uT2JqfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICAgICAgOlxuICAgICAgICAoXG4gICAgICAgICAgICB2aXpTZWN0aW9uT2JqXG4gICAgICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICAgIGNvbnRhaW5lZE9ialxuICAgIClcbn1cblxuZnVuY3Rpb24gZ2V0U3RlcENvbW1vbkNsYXNzKHN0ZXBzKXtcbiAgICBsZXQgY3VyU3RlcENsYXNzZXMgPSBzdGVwcy5tYXAoKHN0ZXAsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiBzdGVwLnN0ZXBjbGFzc2VzO1xuICAgIH0pO1xuICAgIGxldCBjdXJDb21tb25DbGFzcyA9IG5ldyBBcnJheShjdXJTdGVwQ2xhc3Nlcy5sZW5ndGgpO1xuICAgIGN1clN0ZXBDbGFzc2VzLmZvckVhY2goKHN0ZXBFbGVtLCBpZHgpID0+IHtcbiAgICAgICAgaWYoQXJyYXkuaXNBcnJheShzdGVwRWxlbSkpe1xuICAgICAgICAgICAgc3RlcEVsZW0uZm9yRWFjaChlbGVtID0+IHtcbiAgICAgICAgICAgICAgICBmb3IoIGxldCBpID0gaWR4OyBpIDwgY3VyU3RlcENsYXNzZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBpZihjdXJTdGVwQ2xhc3Nlc1tpXS5pbmNsdWRlcyhlbGVtKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tb25DbGFzc1tpXSA9IChlbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mKHN0ZXBFbGVtKSA9PT0gXCJzdHJpbmdcIil7XG4gICAgICAgICAgICBmb3IoIGxldCBpID0gaWR4OyBpIDwgY3VyU3RlcENsYXNzZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGlmKGN1clN0ZXBDbGFzc2VzW2ldLmluY2x1ZGVzKHN0ZXBFbGVtKSl7XG4gICAgICAgICAgICAgICAgICAgIGN1ckNvbW1vbkNsYXNzW2ldID0gKHN0ZXBFbGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY3VyQ29tbW9uQ2xhc3MucmVkdWNlKGZ1bmN0aW9uKGEsIGIpeyByZXR1cm4gKGEgPT09IGIgJiYgYSAhPT0gXCJcIiAmJiBiICE9PSBcIlwiKSA/IGEgOiBcIlwiOyB9KTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEZ1bGxQYWdlU2VjdGlvbihwcm9wcyl7XG5cbiAgICBsZXQgZnVsbHBhZ2VTZWN0aW9uT2JqID0gKFxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9e2BmdWxsLXBhZ2Utc2VjdGlvbiAke3Byb3BzLmNsYXNzZXN9YH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlSW1hZ2VcIj5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmZpbGVuYW1lID9cbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMudmlzdWFsID09PSBcIlBob3RvXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgJHtwcm9wcy5pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17YCR7cHJvcHMuaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtgYXNzZXRzL2ltZy82NzUvJHtwcm9wcy5maWxlbmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXNyY3NldD17YGFzc2V0cy9pbWcvMjA0OC8ke3Byb3BzLmZpbGVuYW1lfSAyMDQ4dywgYXNzZXRzL2ltZy85OTAvJHtwcm9wcy5maWxlbmFtZX0gOTkwdywgYXNzZXRzL2ltZy82NzUvJHtwcm9wcy5maWxlbmFtZX0gNjc1dywgYXNzZXRzL2ltZy8xMzUwLyR7cHJvcHMuZmlsZW5hbWV9IDEzNTB3LCBhc3NldHMvaW1nLzEwMC8ke3Byb3BzLmZpbGVuYW1lfSAxMDB3LCBhc3NldHMvaW1nLzQ5NS8ke3Byb3BzLmZpbGVuYW1lfSA0OTV3LCBhc3NldHMvaW1nLzEwMjQvJHtwcm9wcy5maWxlbmFtZX0gMTAyNHdgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXNpemVzPVwiKG1heC13aWR0aDogMTAwcHgpIDEwMHB4LCAobWF4LXdpZHRoOiA0OTVweCkgNDk1cHgsIChtYXgtd2lkdGg6IDY3NXB4KSA2NzVweCwgKG1heC13aWR0aDogOTkwcHgpIDk5MHB4LCAobWF4LXdpZHRoOiAgMTAyNHB4KSAxMDI0cHgsIChtYXgtd2lkdGg6ICAxMzUwcHgpIDEzNTBweCwgKG1heC13aWR0aDogIDIwNDhweCkgMjA0OHB4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbGF6eSAke3Byb3BzLnZpc3VlbGNsYXNzZXN9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnZpc3VhbCA9PT0gXCJWaWRlb1wiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2aWRlbyBhdXRvUGxheSBsb29wIG11dGVkIHBsYXlzSW5saW5lIGNsYXNzTmFtZT17YHZpZGVvICR7cHJvcHMudmlzdWVsY2xhc3Nlc31gfSBwcmVsb2FkPVwibWV0YWRhdGFcIiBrZXk9e2Ake3Byb3BzLmlkfWB9IGlkPXtgJHtwcm9wcy5pZH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPXtgYXNzZXRzL3ZpZGVvcy8ke3Byb3BzLmZpbGVuYW1lfWB9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZMOpbyBub24gc3VwcG9ydMOpZS4gUsOpLWVzc2F5ZXogc3VyIHVuIGF1dHJlIGFwcGFyZWlsIG91IGZ1cmV0ZXVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZpZGVvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxkaXY+PC9kaXY+KVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgKDxkaXY+PC9kaXY+KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmZpbGVuYW1lID9cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWx0ZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXB0aW9uaG9sZGVyXCI+XG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT17YGNhcHRpb24gJHtwcm9wcy5tYWluVGl0bGUuY2xhc3N9YH0+e3Byb3BzLm1haW5UaXRsZS50ZXh0fTwvaDI+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5zdWJUaXRsZSA/XG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9e2BjYXB0aW9uICR7cHJvcHMuc3ViVGl0bGUuY2xhc3N9YH0+e3Byb3BzLnN1YlRpdGxlLnRleHR9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgKTpcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICApO1xuICAgIGxldCBjb250YWluZWRPYmogPSBwcm9wcy5iYWNrZ3JvdW5kID9cbiAgICAgICAgKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogYCR7cHJvcHMuYmFja2dyb3VuZH1gfX0gY2xhc3NOYW1lPXtcInNlY3Rpb25Db250YWluZXJcIn0+XG4gICAgICAgICAgICAgICAge2Z1bGxwYWdlU2VjdGlvbk9ian1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICAgIDpcbiAgICAgICAgKFxuICAgICAgICAgICAgZnVsbHBhZ2VTZWN0aW9uT2JqXG4gICAgICAgIClcblxuICAgIHJldHVybiBjb250YWluZWRPYmo7XG5cbn1cbiIsIlxuaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSAnZmlsZS1zYXZlcic7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBjb250ZW50SGVhZGVyQ29uc3RhbnRzLCBvcHRpb25zRHJvcGRvd25Db25zdGFudHMsIHBhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMgfSBmcm9tIFwiLi9jb25zdGFudHMuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0cnVjdHVyZShjb250ZW50RGF0YSwgcGFyYW1zRGF0YSl7XG5cbiAgICBsZXQgc3RydWN0dXJlRGF0YSA9IHt9OyAvLyBXaG9sZSBzY3JvbGx5IHN0cnVjdHVyZVxuICAgIGxldCB2aXpTZWN0aW9uSURzID0gW107IC8vIExpc3Qgb2Ygc2VjdGlvbklEc1xuXG4gICAgbGV0IG9wdGlvbnMgPSBnZXRPcHRpb25zKHBhcmFtc0RhdGEpO1xuXG4gICAgY29uc29sZS5sb2coJ2NvbnRlbnQgRGF0YScsIGNvbnRlbnREYXRhKTtcbiAgICBjb250ZW50RGF0YS5tYXAoKHJvd0RhdGEsaW5kZXgpID0+IHtcblxuICAgICAgICBpZihyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbl0gPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMuaW50cm90aXRyZSl7XG4gICAgICAgICAgICBsZXQgY2xhc3NlcyA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdGVwY2xhc3Nlc107XG4gICAgICAgICAgICBsZXQgY3VyQW1vcmNlID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXTtcbiAgICAgICAgICAgIGxldCBzZWN0aW9uQmFja2dyb3VuZCA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdHlsZWZvbmRdO1xuICAgICAgICAgICAgc3RydWN0dXJlRGF0YVtyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXV0gPSB7XG4gICAgICAgICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICAgICAgICBzZWN0aW9uVHlwZTogb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5pbnRyb3RpdHJlLFxuICAgICAgICAgICAgICAgIG9wdGlvbkRhdGE6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgYW1vcmNlOiBjdXJBbW9yY2UsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogc2VjdGlvbkJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgY2xhc3NlczogcGFyc2VDbGFzc2VzKGNsYXNzZXMpLFxuICAgICAgICAgICAgICAgIGdhbWVpZDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLmdhbWVpZF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbl0gPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudGV4dGVjbGFzc2lxdWUpe1xuICAgICAgICAgICAgbGV0IHRleHRzID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXTtcbiAgICAgICAgICAgIGxldCBjbGFzc2VzID0gcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0ZXBjbGFzc2VzXTtcbiAgICAgICAgICAgIGxldCBzZWN0aW9uQmFja2dyb3VuZCA9IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdHlsZWZvbmRdO1xuICAgICAgICAgICAgc3RydWN0dXJlRGF0YVtyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXV0gPSB7XG4gICAgICAgICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICAgICAgICBzZWN0aW9uVHlwZTogb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy50ZXh0ZWNsYXNzaXF1ZSxcbiAgICAgICAgICAgICAgICB0ZXh0czogdGV4dHMsXG4gICAgICAgICAgICAgICAgdmlzdWFsOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudmlzdWVsXSxcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLm5vbWZpY2hpZXJzb3VyY2VdLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHNlY3Rpb25CYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IHBhcnNlQ2xhc3NlcyhjbGFzc2VzKSxcbiAgICAgICAgICAgICAgICB2aXN1ZWxjbGFzc2VzOiBwYXJzZUNsYXNzZXMocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbGNsYXNzZXNdKSxcbiAgICAgICAgICAgICAgICBnYW1laWQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5nYW1laWRdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25dID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLnBsZWluZXBhZ2V0aXRyZSl7XG4gICAgICAgICAgICBsZXQgdGl0bGVPYmogPSByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdO1xuICAgICAgICAgICAgaWYgKGlzSnNvbihyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdKSl7XG4gICAgICAgICAgICAgICAgbGV0IHRleHRPYmogPSBKU09OLnBhcnNlKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV0pO1xuICAgICAgICAgICAgICAgIHRpdGxlT2JqID0gdGV4dE9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dID0ge1xuICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgc2VjdGlvblR5cGU6IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMucGxlaW5lcGFnZXRpdHJlLFxuICAgICAgICAgICAgICAgIHRleHRzOiBpc0pzb24ocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnRleHRlXSkgPyB0aXRsZU9ialxuICAgICAgICAgICAgICAgIDp7XG4gICAgICAgICAgICAgICAgICAgIG1haW5UaXRsZTp7Y2xhc3M6IFwiXCIsIHRleHQ6IHRpdGxlT2JqfSxcbiAgICAgICAgICAgICAgICAgICAgc3ViVGl0bGU6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZpc3VhbDogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnZpc3VlbF0sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5ub21maWNoaWVyc291cmNlXSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc3R5bGVmb25kXSxcbiAgICAgICAgICAgICAgICBjbGFzc2VzOiBwYXJzZUNsYXNzZXMocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0ZXBjbGFzc2VzXSksXG4gICAgICAgICAgICAgICAgdmlzdWVsY2xhc3NlczogcGFyc2VDbGFzc2VzKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy52aXN1ZWxjbGFzc2VzXSksXG4gICAgICAgICAgICAgICAgZ2FtZWlkOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuZ2FtZWlkXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uXSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy52aXpzZWN0aW9uKXtcblxuICAgICAgICAgICAgbGV0IGN1ckRhdGEgPSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRzOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuYXR0cmlidXRzXSxcbiAgICAgICAgICAgICAgICBzY3JvbGxUeXBlOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc291c3NlY3Rpb25dLFxuICAgICAgICAgICAgICAgIHRleHQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy50ZXh0ZV0sXG4gICAgICAgICAgICAgICAgdmlzdWFsOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudmlzdWVsXSxcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLm5vbWZpY2hpZXJzb3VyY2VdLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zdHlsZWZvbmRdLFxuICAgICAgICAgICAgICAgIHZpc3VlbGNsYXNzZXM6IHBhcnNlQ2xhc3Nlcyhyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudmlzdWVsY2xhc3Nlc10pLFxuICAgICAgICAgICAgICAgIHN0ZXBjbGFzc2VzOiBwYXJzZUNsYXNzZXMocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnN0ZXBjbGFzc2VzXSksXG4gICAgICAgICAgICAgICAgZ2FtZWlkOiByb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuZ2FtZWlkXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmKHN0cnVjdHVyZURhdGEuaGFzT3duUHJvcGVydHkocm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF0pKXtcbiAgICAgICAgICAgICAgICAvLyBBZGQgc3RlcCB0byBleGlzdGluZ1xuICAgICAgICAgICAgICAgIGxldCBjdXJWaXpTZWN0aW9uID0gc3RydWN0dXJlRGF0YVtyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXV07XG4gICAgICAgICAgICAgICAgY3VyVml6U2VjdGlvbi5wdXNoKGN1ckRhdGEpO1xuICAgICAgICAgICAgICAgIHN0cnVjdHVyZURhdGFbcm93RGF0YVtjb250ZW50SGVhZGVyQ29uc3RhbnRzLnNlY3Rpb25JRF1dID0gY3VyVml6U2VjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgc3RydWN0dXJlRGF0YVtyb3dEYXRhW2NvbnRlbnRIZWFkZXJDb25zdGFudHMuc2VjdGlvbklEXV0gPSBbY3VyRGF0YV07XG4gICAgICAgICAgICAgICAgdml6U2VjdGlvbklEcy5wdXNoKHJvd0RhdGFbY29udGVudEhlYWRlckNvbnN0YW50cy5zZWN0aW9uSURdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZpelNlY3Rpb25JRHMubWFwKChrZXkpID0+IHtcbiAgICAgICAgbGV0IGN1clNlY3Rpb24gPSBzdHJ1Y3R1cmVEYXRhW2tleV07XG4gICAgICAgIGxldCBzZWN0aW9uQXR0ciA9IGN1clNlY3Rpb25bMF0uYXR0cmlidXRzID09PSBvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbmF0dHJpYnV0ZXMuY2VudHJlID8gXCIgZnVsbC1wYWdlXCIgOiBcIlwiO1xuICAgICAgICBsZXQgc2VjdGlvbkJhY2tncm91bmQgPSBjdXJTZWN0aW9uWzBdLmJhY2tncm91bmQ7XG4gICAgICAgIHN0cnVjdHVyZURhdGFba2V5XSA9IHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgc2VjdGlvblR5cGU6IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMudml6c2VjdGlvbixcbiAgICAgICAgICAgIGxpc3RJRDoga2V5LFxuICAgICAgICAgICAgc3RlcHM6IGN1clNlY3Rpb24sXG4gICAgICAgICAgICBjbGFzc2VkOiBgdml6LXNlY3Rpb24ke3NlY3Rpb25BdHRyfWAsXG4gICAgICAgICAgICBtZWRpYUluZm86IDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBzZWN0aW9uQmFja2dyb3VuZFxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoc3RydWN0dXJlRGF0YSk7XG59XG5cbi8qKlxuICogVGFrZSBhcnRpY2xlIHN0cnVjdHVyZSBhcyBDU1YgYW5kIHRyYW5zZm9ybSBpdCBhcyBjYWxsYmFja0FycmF5XG4gKiBAcGFyYW0gIHtPYmplY3R9IGNvbnRlbnREYXRhIGFydGljbGUgc3RydWN0dXJlXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgYXJ0aWNsZSBvcHRpb25zXG4gKiBAcmV0dXJuIHtBcnJheX0gU2Nyb2xsZXIgY2FsbGJhY2sgYXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQ2FsbGJhY2tzKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKXtcblxuICAgIGxldCBmdWxsU3RydWN0dXJlID0gZ2V0U3RydWN0dXJlKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKTtcbiAgICBsZXQgY2FsbGJhY2tzQXJyYXkgPSBbXTtcbiAgICBmdWxsU3RydWN0dXJlLm1hcChjYWxsYmFjayA9PiB7XG4gICAgICAgIGlmKGNhbGxiYWNrLnNlY3Rpb25UeXBlID09PSBcInZpei1zZWN0aW9uXCIpe1xuICAgICAgICAgICAgbGV0IGN1clN0ZXBzID0gW107XG4gICAgICAgICAgICBjYWxsYmFjay5zdGVwcy5tYXAoKHN0ZXAsaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY3VyQ29tbWFuZCA9IChFTlZfQ09ORklHLmRvd25sb2FkU3RydWMgJiYgRU5WX0NPTkZJRy5hdXRvcmVuZGVyKSA/ICgoKT0+e30pIDogXCJcIjtcbiAgICAgICAgICAgICAgICBpZihzdGVwLnZpc3VhbCAhPT0gXCJcIil7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJOdW1iZXJBcnJheSA9IEFycmF5KGNhbGxiYWNrLnN0ZXBzLmxlbmd0aCkuZmlsbChudWxsKS5tYXAoKF8sIGkpID0+IGkpLmZpbHRlcihkID0+IGQgIT09IGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9wYWNpdHlTZWxlY3RvciA9IGN1ck51bWJlckFycmF5Lm1hcChpbmQgPT4gYCMke2NhbGxiYWNrLmtleX1fJHtpbmR9YCkuam9pbignLCcpO1xuICAgICAgICAgICAgICAgICAgICBpZihFTlZfQ09ORklHLmRvd25sb2FkU3RydWMgJiYgRU5WX0NPTkZJRy5hdXRvcmVuZGVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNvbW1hbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KGAjJHtjYWxsYmFjay5rZXl9XyR7aW5kZXh9YCkudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMSkuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihvcGFjaXR5U2VsZWN0b3IgIT09IFwiXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoYCR7b3BhY2l0eVNlbGVjdG9yfWApLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDApLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNvbW1hbmQgPSBgZDMuc2VsZWN0KCcjJHtjYWxsYmFjay5rZXl9XyR7aW5kZXh9JykudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMSkuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKTske29wYWNpdHlTZWxlY3RvciAhPT0gXCJcIiA/IGBkMy5zZWxlY3RBbGwoJyR7b3BhY2l0eVNlbGVjdG9yfScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDApLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtgIDogXCJcIn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYoU3RyaW5nKHN0ZXAuZmlsZW5hbWUpLnN0YXJ0c1dpdGgoXCJUQUdJRFwiKSl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJUYWdJRCA9IFN0cmluZyhzdGVwLmZpbGVuYW1lKS5zcGxpdCgnPScpWzFdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyVGFnSURfaW5kZXggPSBwYXJzZUludChjdXJUYWdJRC5zcGxpdChcIl9cIilbMV0pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyTnVtYmVyQXJyYXkgPSBBcnJheShjYWxsYmFjay5zdGVwcy5sZW5ndGgpLmZpbGwobnVsbCkubWFwKChfLCBpKSA9PiBpKS5maWx0ZXIoZCA9PiBkICE9PSBjdXJUYWdJRF9pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvcGFjaXR5U2VsZWN0b3IgPSBjdXJOdW1iZXJBcnJheS5tYXAoaW5kID0+IGAjJHtjYWxsYmFjay5rZXl9XyR7aW5kfWApLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjICYmIEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDb21tYW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QoYCMke2N1clRhZ0lEfWApLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpLnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9wYWNpdHlTZWxlY3RvciAhPT0gXCJcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoYCR7b3BhY2l0eVNlbGVjdG9yfWApLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDApLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNvbW1hbmQgPSBgZDMuc2VsZWN0KCcjJHtjdXJUYWdJRH0nKS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAxKS5zdHlsZSgnZGlzcGxheScsIG51bGwpOyR7b3BhY2l0eVNlbGVjdG9yICE9PSBcIlwiID8gYGQzLnNlbGVjdEFsbCgnJHtvcGFjaXR5U2VsZWN0b3J9JykudHJhbnNpdGlvbigpLnN0eWxlKCdvcGFjaXR5JywgMCkuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO2AgOiBcIlwifWA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihFTlZfQ09ORklHLmRvd25sb2FkU3RydWMgJiYgRU5WX0NPTkZJRy5hdXRvcmVuZGVyKXtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJTdGVwcy5wdXNoKGN1ckNvbW1hbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBjdXJTdGVwcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgYCgpID0+IHske2N1ckNvbW1hbmR9fWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FsbGJhY2tzQXJyYXkucHVzaChjdXJTdGVwcyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmKEVOVl9DT05GSUcuZG93bmxvYWRTdHJ1YyAmJiBFTlZfQ09ORklHLmF1dG9yZW5kZXIpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdHT1QgQ0FMTEJBQ0tTIEFSUkFZOiAnLCBjYWxsYmFja3NBcnJheSk7XG4gICAgICAgIHJldHVybiBjYWxsYmFja3NBcnJheTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICAgY29uc29sZS5sb2coJ1NhdmluZyBjYWxsYmFja3MgdG8gZmlsZS4uLicpO1xuICAgICAgICBjb25zdCB0ZXh0ID0gYGltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcXG5leHBvcnQgY29uc3QgY2FsbGJhY2tzID0gJHtKU09OLnN0cmluZ2lmeShjYWxsYmFja3NBcnJheSwgbnVsbCwgMil9YDtcbiAgICAgICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbdGV4dC5yZXBsYWNlQWxsKCdcIicsICcnKV0sIHt0eXBlOiBcInRleHQvcGxhaW47Y2hhcnNldD11dGYtOFwifSk7XG4gICAgICAgIHNhdmVBcyhibG9iLCBcImNhbGxiYWNrcy5qc1wiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG59XG5cbmZ1bmN0aW9uIGlzSnNvbihzdHIpIHtcbiAgICB0cnkge1xuICAgICAgICBKU09OLnBhcnNlKHN0cik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBwYXJzZUNsYXNzZXMoc3RyKXtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShzdHIuc3BsaXQoJzsnKSkuam9pbignICcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3B0aW9ucyhwYXJhbXNEYXRhKXtcblxuICByZXR1cm4ge1xuICAgIHRpdGxlOiBwYXJhbXNEYXRhWzBdW3BhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMudGl0cmVdLFxuICAgIGF1dGhvcnM6IHBhcmFtc0RhdGFbMF1bcGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cy5hdXRldXJzXSxcbiAgICB1cmxzOiBwYXJhbXNEYXRhWzBdW3BhcmFtZXRlcnNIZWFkZXJDb25zdGFudHMudXJsc10sXG4gICAgZGF0ZTogcGFyYW1zRGF0YVswXVtwYXJhbWV0ZXJzSGVhZGVyQ29uc3RhbnRzLmRhdGVdXG4gIH07XG59XG4iLCJpbXBvcnQgeyBjb25zdGFudCB9IGZyb20gXCJsb2Rhc2hcIjtcclxuaW1wb3J0IG1hcGJveGdsIGZyb20gXCJtYXBib3gtZ2xcIjtcclxuaW1wb3J0ICogYXMgc2NyZWVuIGZyb20gXCIuL3NjcmVlbi5qc1wiO1xyXG5cclxuY29uc3QgY29uc3RhbnRzID0ge1xyXG4gIHRva2VuOlxyXG4gICAgXCJway5leUoxSWpvaWJHVmtaWFp2YVhJaUxDSmhJam9pWTJwMmJXODFkSFUyTVdWMWNUUmhjWEl6YVhacU1HWXhjaUo5LldySUY4bzY5YVJfVHN0REZ1NlF5YWdcIixcclxuICBtYXBCb3VuZHM6IHtcclxuICAgIG1heDogWy0xNjUsIDMwLjcyODMzMCwgLTI1LjIzNjM2LCA4Mi4yMjk0MzRdLFxyXG4gIH0sXHJcbiAgY29sb3JzOiBbXHJcbiAgICBcIiNGNENCQzZcIixcclxuICAgIFwiI0Y0QTM5QVwiLFxyXG4gICAgXCIjRUU2QTVFXCIsXHJcbiAgICBcIiNDRTM3MjdcIixcclxuICAgIFwiI0EyMjgyM1wiLFxyXG4gICAgXCIjNzUxQTFBXCIsXHJcbiAgICBcIiM0MTAwMDBcIixcclxuICBdLFxyXG4gIGNsdXN0ZXJNYXhab29tOiAxMSxcclxuICBjbHVzdGVyUmFkaXVzOiAzMCxcclxuICBjbHVzdGVyTWluUG9pbnRzOiA1XHJcbn07XHJcblxyXG5tYXBib3hnbC5hY2Nlc3NUb2tlbiA9IGNvbnN0YW50cy50b2tlbjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYXAge1xyXG4gIGNvbnN0cnVjdG9yKGRpdiwgY2xhc3NOYW1lLCBkYXRhU291cmNlQXJyYXksIHN0eWxlVXJsLCBpbml0Q29vcmRzLCBkaXNhYmxlQ29udHJvbHM9dHJ1ZSwgd2l0aEhhbmRsZXJzPWZhbHNlLCBtYXhCb3VuZHMgPSBudWxsKSB7XHJcblxyXG4gICAgdGhpcy5kYXRhU291cmNlT2JqZWN0cyA9IGRhdGFTb3VyY2VBcnJheTtcclxuICAgIHRoaXMuY29uc3RhbnRzID0gY29uc3RhbnRzO1xyXG4gICAgdGhpcy5tYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHtcclxuICAgICAgY29udGFpbmVyOiBjbGFzc05hbWUsXHJcbiAgICAgIHN0eWxlOiBzdHlsZVVybCxcclxuICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0cnVlLFxyXG4gICAgICBjZW50ZXI6IGluaXRDb29yZHMuY2VudGVyLFxyXG4gICAgICB6b29tOiBpbml0Q29vcmRzLnpvb21cclxuICAgIH0pO1xyXG4gICAgdGhpcy5tYXhCb3VuZHMgPSBpbml0Q29vcmRzO1xyXG4gICAgdGhpcy5ib3VuZHNMaXN0ID0gdGhpcy5kYXRhU291cmNlT2JqZWN0cy5tYXAoZGF0YVNvdXJjZSA9PiBkYXRhU291cmNlWydjb29yZHMnXSk7XHJcbiAgICB0aGlzLmV4dHJhQm91bmRzID0gdGhpcy5kYXRhU291cmNlT2JqZWN0cy5tYXAoZGF0YVNvdXJjZSA9PiBkYXRhU291cmNlWydleHRyYUNvb3JkcyddKTtcclxuICAgIGlmKGRpc2FibGVDb250cm9scyl7XHJcbiAgICAgIHRoaXMubWFwLnNjcm9sbFpvb20uZGlzYWJsZSgpO1xyXG4gICAgICB0aGlzLm1hcC5kcmFnUGFuLmRpc2FibGUoKTtcclxuICAgICAgdGhpcy5tYXAuZHJhZ1JvdGF0ZS5kaXNhYmxlKCk7XHJcbiAgICAgIHRoaXMubWFwLmJveFpvb20uZGlzYWJsZSgpO1xyXG4gICAgICB0aGlzLm1hcC5kb3VibGVDbGlja1pvb20uZGlzYWJsZSgpO1xyXG4gICAgfVxyXG4gICAgaWYod2l0aEhhbmRsZXJzKXtcclxuICAgICAgdGhpcy5zZXR1cEhhbmRsZXJzKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRhdGFMaXN0ID0gdGhpcy5kYXRhU291cmNlT2JqZWN0cy5tYXAoZGF0YVNvdXJjZSA9PiBkYXRhU291cmNlWydkYXRhJ10pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQm91bmRzKFxyXG4gICAgYm91bmRzID0gdGhpcy5tYXhCb3VuZHMsXHJcbiAgICBwYWRkaW5nID0gc2NyZWVuLmlzWFMoKSA/IDUgOiBzY3JlZW4uaXNTbSgpID8gMTUgOiAyMCxcclxuICAgIGR1cmF0aW9uID0gMTAwXHJcbiAgKSB7XHJcbiAgICB0aGlzLm1hcCA9IHRoaXMubWFwLmZpdEJvdW5kcyhib3VuZHMsIHtcclxuICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxyXG4gICAgICBwYWRkaW5nOiBwYWRkaW5nLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVDb29yZHNBbmRab29tKGRhdGFQYWlyKXtcclxuICAgIHRoaXMubWFwLmZseVRvKHtcclxuICAgICAgY2VudGVyOiBkYXRhUGFpci5jZW50ZXIsXHJcbiAgICAgIHpvb206IGRhdGFQYWlyLnpvb20sXHJcbiAgICAgIHNwZWVkOiAwLjcsXHJcbiAgICAgIGN1cnZlOiAxLFxyXG4gICAgICBlYXNpbmcodCl7XHJcbiAgICAgICAgcmV0dXJuIHRcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHZpZXdCb3VuZE9iaihvYmppbmRleCl7XHJcbiAgICB0aGlzLnVwZGF0ZUNvb3Jkc0FuZFpvb20odGhpcy5ib3VuZHNMaXN0W29iamluZGV4XSk7XHJcbiAgfVxyXG5cclxuICB2aWV3RXh0cmFCb3VuZE9iaihvYmppbmRleCwga2V5TmFtZSwgZHVyYXRpb24pe1xyXG4gICAgbGV0IGV4dHJhQm91bmRzID0gdGhpcy5leHRyYUJvdW5kc1tvYmppbmRleF07XHJcbiAgICB0aGlzLnVwZGF0ZUNvb3Jkc0FuZFpvb20oZXh0cmFCb3VuZHNba2V5TmFtZV0pO1xyXG4gIH1cclxuXHJcbiAgdmlld0luaXRCb3VuZHMoZHVyYXRpb24pe1xyXG4gICAgdGhpcy51cGRhdGVDb29yZHNBbmRab29tKHRoaXMubWF4Qm91bmRzKTtcclxuICB9XHJcbiAgc2hvd1NvdXJjZVhJdGVtWShzb3VyY2VJbmRleCwgaXRlbUluZGV4KSB7XHJcbiAgICB0aGlzLnVwZGF0ZUNvb3Jkc0FuZFpvb20odGhpcy5kYXRhTGlzdFtzb3VyY2VJbmRleF1baXRlbUluZGV4XSlcclxuICB9XHJcblxyXG4gIGluaXRNYXBTb3VyY2VzQW5kTGF5ZXJzKCkge1xyXG4gICAgaWYgKHRoaXMuaW5pdGlhbGlzZWQpIHJldHVybjtcclxuICAgIHRoaXMuaW5pdGlhbGlzZWQgPSB0cnVlO1xyXG4gICAgXHJcbiAgICB0aGlzLmRhdGFTb3VyY2VPYmplY3RzLm1hcChkYXRhU291cmNlID0+IHtcclxuICAgICAgdGhpcy5tYXAuYWRkU291cmNlKGRhdGFTb3VyY2VbJ3NvdXJjZU5hbWUnXSwge1xyXG4gICAgICAgIHR5cGU6IGRhdGFTb3VyY2VbJ3NvdXJjZVR5cGUnXSxcclxuICAgICAgICBkYXRhOiBkYXRhU291cmNlWydzb3VyY2VEYXRhJ11cclxuICAgICAgfSk7XHJcbiAgICAgIGlmKGRhdGFTb3VyY2VbJ2xheWVyVHlwZSddID09PSAnZmlsbCcpe1xyXG4gICAgICAgIHRoaXMubWFwLmFkZExheWVyKHtcclxuICAgICAgICAgIGlkOiBkYXRhU291cmNlWydzb3VyY2VOYW1lJ10sXHJcbiAgICAgICAgICB0eXBlOiBkYXRhU291cmNlWydsYXllclR5cGUnXSxcclxuICAgICAgICAgIHNvdXJjZTogZGF0YVNvdXJjZVsnc291cmNlTmFtZSddLFxyXG4gICAgICAgICAgcGFpbnQ6IHtcclxuICAgICAgICAgICAgJ2ZpbGwtY29sb3InOiBkYXRhU291cmNlWydjb2xvciddLFxyXG4gICAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogZGF0YVNvdXJjZVsnb3BhY2l0eSddXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYoZGF0YVNvdXJjZVsnbGF5ZXJUeXBlJ10gPT09ICdjaXJjbGUnKXtcclxuICAgICAgICB0aGlzLm1hcC5hZGRMYXllcih7XHJcbiAgICAgICAgICBpZDogZGF0YVNvdXJjZVsnc291cmNlTmFtZSddLFxyXG4gICAgICAgICAgdHlwZTogZGF0YVNvdXJjZVsnbGF5ZXJUeXBlJ10sXHJcbiAgICAgICAgICBzb3VyY2U6IGRhdGFTb3VyY2VbJ3NvdXJjZU5hbWUnXSxcclxuICAgICAgICAgIHBhaW50OiB7XHJcbiAgICAgICAgICAgICdjaXJjbGUtY29sb3InOiBbJ21hdGNoJywgW1wiZ2V0XCIsIFwic3RhdHV0XCJdLCAnUmVjaGVyY2hlcyBlZmZlY3R1w6llcyBvdSBlbiBjb3VycycsICcjZmY1NjFjJywgJ1BoYXNlIHByw6lsaW1pbmFpcmUnLCAnI2ZmYzczNCcsICcjYjdiN2I3J10sXHJcbiAgICAgICAgICAgICdjaXJjbGUtcmFkaXVzJzogNVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIGNoYW5nZUxheWVyUGFpbnQoaWQsIHByb3BlcnR5LCB2YWx1ZSl7XHJcbiAgICB0aGlzLm1hcC5zZXRQYWludFByb3BlcnR5KGlkLCBwcm9wZXJ0eSwgdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgc2V0dXBIYW5kbGVycygpe1xyXG4gICAgXHJcbiAgICB0aGlzLm1hcC5vbihcIm1vdXNlb3ZlclwiLCBcInBlbnNpb25uYXRzU291cmNlXCIsIChlKSA9PiB7XHJcbiAgICAgIHRoaXMubWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgICB0aGlzLmRyYXdQb3B1cChlKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5tYXAub24oXCJtb3VzZW91dFwiLCBcInBlbnNpb25uYXRzU291cmNlXCIsIChlKSA9PiB7XHJcbiAgICAgIHRoaXMubWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5tYXAub24oXCJjbGlja1wiLCBcInBlbnNpb25uYXRzU291cmNlXCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5tYXAuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgICAgIHRoaXMuZHJhd1BvcHVwKGUpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbiAgfVxyXG5cclxuICBkcmF3UG9wdXAoZSl7XHJcbiAgICBjb25zdCBjb29yZGluYXRlcyA9IGUuZmVhdHVyZXNbMF0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMuc2xpY2UoKTtcclxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBlLmZlYXR1cmVzWzBdLnByb3BlcnRpZXM7XHJcbiAgICBsZXQgW29wZW5kYXlzdHIsIG9wZW5tb250aHN0ciwgb3BlbnllYXJzdHJdID0gcHJvcGVydGllc1snb3V2ZXJ0dXJlJ10uc3BsaXQoJy8nKTtcclxuICAgIGxldCBbZmVybWRheXN0ciwgZmVybW1vbnRoc3RyLCBmZXJteWVhcnN0cl0gPSBwcm9wZXJ0aWVzWydmZXJtZXR1cmUnXS5zcGxpdCgnLycpO1xyXG4gICAgbGV0IFtkYXRlX291dmVydHVyZSxkYXRlX2Zlcm1ldHVyZV0gPSBbXHJcbiAgICAgIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZnItQ0FcIiwge2RhdGVTdHlsZTpcImxvbmdcIn0pLmZvcm1hdChuZXcgRGF0ZShEYXRlLlVUQyhvcGVueWVhcnN0ciwgb3Blbm1vbnRoc3RyLCBvcGVuZGF5c3RyKSkpLFxyXG4gICAgICBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImZyLUNBXCIsIHtkYXRlU3R5bGU6XCJsb25nXCJ9KS5mb3JtYXQobmV3IERhdGUoRGF0ZS5VVEMoZmVybXllYXJzdHIsIGZlcm1tb250aHN0ciwgZmVybWRheXN0cikpKVxyXG4gICAgXTtcclxuICAgIGxldCBodG1sX3BvcHVwX2NvbnRlbnQgPSBgXHJcbiAgICAgIDxoMz4ke3Byb3BlcnRpZXNbJ25hbWUnXX08L2gzPlxyXG4gICAgICA8aDQ+JHtwcm9wZXJ0aWVzWyd2aWxsZSddfSwgJHtwcm9wZXJ0aWVzWydwcm92aW5jZSddfTwvaDQ+XHJcbiAgICAgIDxwPiR7ZGF0ZV9vdXZlcnR1cmV9IC0gJHtkYXRlX2Zlcm1ldHVyZX08L3A+XHJcbiAgICAgIDxwPiR7cHJvcGVydGllc1snc3RhdHV0J119PC9wPlxyXG4gICAgYDtcclxuICAgIHdoaWxlIChNYXRoLmFicyhlLmxuZ0xhdC5sbmcgLSBjb29yZGluYXRlc1swXSkgPiAxODApIHtcclxuICAgICAgY29vcmRpbmF0ZXNbMF0gKz0gZS5sbmdMYXQubG5nID4gY29vcmRpbmF0ZXNbMF0gPyAzNjAgOiAtMzYwO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoKVxyXG4gICAgICAuc2V0TG5nTGF0KGNvb3JkaW5hdGVzKVxyXG4gICAgICAuc2V0SFRNTChodG1sX3BvcHVwX2NvbnRlbnQpXHJcbiAgICAgIC5hZGRUbyh0aGlzLm1hcCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVBvcHVwKCkge1xyXG4gICAgaWYgKHRoaXMucG9wdXApIHtcclxuICAgICAgdGhpcy5wb3B1cC5yZW1vdmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZURhdGEoZGF0YVNvdXJjZU5hbWUsIGRhdGEpIHtcclxuICAgIGlmICghdGhpcy5pbml0aWFsaXNlZCkgdGhpcy5pbml0TWFwU291cmNlc0FuZExheWVycygpO1xyXG4gICAgdGhpcy5tYXAuZ2V0U291cmNlKGRhdGFTb3VyY2VOYW1lKS5zZXREYXRhKGRhdGEpO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xyXG5cclxuY29uc3QgcG9zaXRpdmVPcmRlckRpY3QgPSB7XHJcbiAgICBcImxhbmRfc2lua1wiOjAsXHJcbiAgICBcImZvc3NpbF9lbWlzc2lvbnNcIjoxLFxyXG4gICAgXCJsYW5kX3VzZV9jaGFuZ2VcIjoyfTtcclxuXHJcbmNvbnN0IG5lZ2F0aXZlT3JkZXJEaWN0ID0ge1wib2NlYW5fc2lua1wiOjAsXHJcbiAgICBcImF0bW9zX3NpbmtcIjoxLFxyXG4gICAgXCJsYW5kX3NpbmtcIjoyfTtcclxuXHJcbmNvbnN0IGNvbG9yRGljdCA9IHtcclxuXHJcbiAgICBmb3NzaWxfZW1pc3Npb25zOiBcIiNiN2MzYzNcIixcclxuICAgIGxhbmRfdXNlX2NoYW5nZTogXCIjRUZFNjZGXCIsXHJcbiAgICBsYW5kX3Npbms6IFwiI2E1ZGFhOFwiLFxyXG4gICAgb2NlYW5fc2luazogXCIjNzVhM2IxXCIsXHJcbiAgICBhdG1vc19zaW5rOiBcIiM4OWNmZjBcIixcclxuICAgIGNlbWVudF9zaW5rOiBcIiNhMmExOThcIlxyXG59XHJcblxyXG5leHBvcnQgY2xhc3Mgc3RhY2tlZEFyZWFDaGFydHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdmdvYmosIHJhd2RhdGEpe1xyXG5cclxuICAgICAgICB0aGlzLnN2Z09iaiA9IHN2Z29iajtcclxuICAgICAgICB0aGlzLnN2Z1dpZHRoID0gdGhpcy5zdmdPYmoubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgICAgIHRoaXMuc3ZnSGVpZ2h0ID0gdGhpcy5zdmdPYmoubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICB0aGlzLmNoYXJ0V2lkdGggPSB0aGlzLnN2Z1dpZHRoICogMC45O1xyXG4gICAgICAgIHRoaXMuY2hhcnRIZWlnaHQgPSB0aGlzLnN2Z0hlaWdodCAqIDAuOTtcclxuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmNsZWFuRGF0YShyYXdkYXRhKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnY3N2RGF0YTonLCB0aGlzLmRhdGEpO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLm1haW5Hcm91cCA9IHRoaXMuc3ZnT2JqLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIHRoaXMuY2hhcnRXaWR0aClcclxuICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIHRoaXMuY2hhcnRIZWlnaHQpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7KHRoaXMuc3ZnV2lkdGgtdGhpcy5jaGFydFdpZHRoKS8yfSwkeyh0aGlzLnN2Z0hlaWdodC10aGlzLmNoYXJ0SGVpZ2h0KS8yfSlgKTtcclxuICAgICAgICB0aGlzLmluaXRDaGFydCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFuRGF0YShkYXRhKXtcclxuICAgICAgICByZXR1cm4gZGF0YS5tYXAoeWVhckRhdGEgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgeWVhcjogeWVhckRhdGFbXCJBbm7DqWVcIl0sXHJcbiAgICAgICAgICAgICAgICBmb3NzaWxfZW1pc3Npb25zOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIsOJbWlzc2lvbnMgaXNzdWVzIGRlcyDDqW5lcmdpZXMgZm9zc2lsZXNcIl0pLnJlcGxhY2UoJywnLFwiLlwiKSksXHJcbiAgICAgICAgICAgICAgICBsYW5kX3VzZV9jaGFuZ2U6IHBhcnNlRmxvYXQoU3RyaW5nKHllYXJEYXRhW1wiQ2hhbmdlbWVudCBkJ2FmZmVjdGF0aW9uIGRlcyB0ZXJyZXNcIl0pLnJlcGxhY2UoJywnLFwiLlwiKSksXHJcbiAgICAgICAgICAgICAgICBsYW5kX3Npbms6IHBhcnNlRmxvYXQoU3RyaW5nKHllYXJEYXRhW1wiUHVpdHMgdGVycmVzdHJlXCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgb2NlYW5fc2luazogcGFyc2VGbG9hdChTdHJpbmcoeWVhckRhdGFbXCJPY8OpYW5cIl0pLnJlcGxhY2UoJywnLFwiLlwiKSksXHJcbiAgICAgICAgICAgICAgICBhdG1vc19zaW5rOiBwYXJzZUZsb2F0KFN0cmluZyh5ZWFyRGF0YVtcIkF0bW9zcGjDqHJlXCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgY2VtZW50X3Npbms6IHBhcnNlRmxvYXQoU3RyaW5nKHllYXJEYXRhW1wiUHVpdHMgZGUgY2ltZW50XCJdKS5yZXBsYWNlKCcsJyxcIi5cIikpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0Q2hhcnQoKXtcclxuXHJcbiAgICAgICAgbGV0IGxlZ2VuZERhdGEgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIsOJbWlzc2lvbnMgaXNzdWVzIGRlcyDDqW5lcmdpZXMgZm9zc2lsZXNcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcImZvc3NpbF9lbWlzc2lvbnNcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJDaGFuZ2VtZW50IGQnYWZmZWN0YXRpb24gZGVzIHRlcnJlc1wiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwibGFuZF91c2VfY2hhbmdlXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUHVpdHMgdGVycmVzdHJlXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJsYW5kX3NpbmtcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJPY8OpYW5cIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIm9jZWFuX3NpbmtcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBdG1vc3Bow6hyZVwiLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiYXRtb3Nfc2lua1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBjb25zdCB4QXhpcyA9IHRoaXMuZHJhd1hBeGlzKHRoaXMubWFpbkdyb3VwLCB0aGlzLmNoYXJ0V2lkdGgsIHRoaXMuZGF0YSk7XHJcbiAgICAgICAgY29uc3QgeUF4aXMgPSB0aGlzLmRyYXdZQXhpcyh0aGlzLm1haW5Hcm91cCwgdGhpcy5jaGFydEhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5kcmF3QXJlYXModGhpcy5tYWluR3JvdXAsIHhBeGlzLCB5QXhpcyk7XHJcbiAgICAgICAgLy90aGlzLmRyYXdSZWN0YW5nbGVzKHRoaXMubWFpbkdyb3VwLCB4QXhpcywgeUF4aXMpO1xyXG4gICAgICAgIHRoaXMuZHJhd1RpdGxlKHRoaXMubWFpbkdyb3VwKTtcclxuICAgICAgICB0aGlzLmRyYXdCb3R0b21Cb3godGhpcy5tYWluR3JvdXAsIHRoaXMuY2hhcnRXaWR0aClcclxuICAgICAgICB0aGlzLmRyYXdEZXRhaWxzKHRoaXMubWFpbkdyb3VwLCBsZWdlbmREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7ZDMuU2VsZWN0aW9ufSBjb250YWluZXIgZDMgc2VsZWN0aW9uXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggd2lkdGggb2YgdGhlIGNoYXJ0XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBkYXRhIE9iaiBjb250YWluaW5nIHNlcmllcyBhbmQgZG9tYWluc1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGF4aXNUaXRsZSB4IGF4aXMgdGl0bGVcclxuICAgICAqL1xyXG4gICAgIGRyYXdYQXhpcyhjb250YWluZXIsIHdpZHRoLCBkYXRhLCBheGlzVGl0bGUpe1xyXG5cclxuICAgICAgICBjb25zdCB4QXhpc0dyb3VwID0gY29udGFpbmVyLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICd4QXhpc0dyb3VwJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHswfSwke3RoaXMuY2hhcnRIZWlnaHQqMC45MH0pYCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gZDMuc2NhbGVCYW5kKClcclxuICAgICAgICAgICAgLmRvbWFpbihkYXRhLm1hcChlbGVtID0+IGVsZW0ueWVhcikpXHJcbiAgICAgICAgICAgIC5yYW5nZShbdGhpcy5jaGFydFdpZHRoKjAuMDUsIHdpZHRoXSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGF4aXMgPSBkMy5heGlzQm90dG9tKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNjYWxlKHNjYWxlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGlja1NpemVPdXRlcigwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGlja1ZhbHVlcyhzY2FsZS5kb21haW4oKS5maWx0ZXIoKGQsaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpKzEwKSUyMCA9PT0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aWNrRm9ybWF0KChkLGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnNwbGl0KCctJylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHhBeGlzR3JvdXAuY2FsbChheGlzKVxyXG4gICAgICAgICAgICAuY2FsbChnID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tHcm91cHMgPSBnLnNlbGVjdEFsbChcIi50aWNrXCIpO1xyXG4gICAgICAgICAgICAgICAgdGlja0dyb3Vwcy5zZWxlY3QoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA0MDApXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LWZhbWlseScsICdncmFwaGlrJylcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxNHB0JylcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCAoZCxpKSA9PiBpID09PSB0aWNrR3JvdXBzLm5vZGVzKCkubGVuZ3RoLTEgPyBcImVuZFwiIDogXCJtaWRkbGVcIik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIHJldHVybiBzY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7ZDMuU2VsZWN0aW9ufSBjb250YWluZXIgZDMgc2VsZWN0aW9uXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggd2lkdGggb2YgdGhlIGNoYXJ0XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBkYXRhIE9iaiBjb250YWluaW5nIHNlcmllcyBhbmQgZG9tYWluc1xyXG4gICAgICovXHJcbiAgICAgZHJhd1lBeGlzKGNvbnRhaW5lciwgaGVpZ2h0KXtcclxuXHJcbiAgICAgICAgY29uc3QgeUF4aXNHcm91cCA9IGNvbnRhaW5lci5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCAneUF4aXNHcm91cCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5jaGFydFdpZHRoKjAuMDV9LCR7MH0pYCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxyXG4gICAgICAgICAgICAuZG9tYWluKFsxMiwtMTJdKVxyXG4gICAgICAgICAgICAucmFuZ2UoWzAsaGVpZ2h0KjAuOTBdKTtcclxuXHJcbiAgICAgICAgY29uc3QgYXhpcyA9IGQzLmF4aXNMZWZ0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNjYWxlKHNjYWxlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGlja1NpemVPdXRlcigwKTtcclxuICAgICAgICB5QXhpc0dyb3VwLmNhbGwoYXhpcylcclxuICAgICAgICAgICAgLmNhbGwoZyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aWNrR3JvdXBzID0gZy5zZWxlY3RBbGwoXCIudGlja1wiKTtcclxuICAgICAgICAgICAgICAgIHRpY2tHcm91cHMuc2VsZWN0KCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNDAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnZ3JhcGhpaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTJwdCcpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICdyb3RhdGUoLTkwKScpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxyXG4gICAgICAgICAgICAuYXR0cihcInhcIiwgLXNjYWxlKDApKVxyXG4gICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLTNlbVwiKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEycHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ2dyYXBoaWsnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgJzYwMCcpXHJcbiAgICAgICAgICAgIC50ZXh0KFwiRmx1eCBkZSBDTzIgKEd0QyAvIGFubsOpZSlcIik7XHJcbiAgICAgICAgcmV0dXJuIHNjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdBcmVhcyhjb250YWluZXIsIHhTY2FsZSwgeVNjYWxlKXtcclxuXHJcbiAgICAgICAgbGV0IHBvc2l0aXZlX3BhdGhzX2FycmF5ID0ge307XHJcbiAgICAgICAgbGV0IG5lZ2F0aXZlX3BhdGhzX2FycmF5ID0ge307XHJcblxyXG4gICAgICAgIGNvbnN0IHBvc0RhdGEgPSB0aGlzLmRhdGEubWFwKHllYXJEYXRhID0+IHtcclxuICAgICAgICAgICAgbGV0IHBvc0VsZW1zID0gW107XHJcbiAgICAgICAgICAgIGxldCBjdXJUb3RhbCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjdXJZZWFyID0geWVhckRhdGEueWVhcjtcclxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoeWVhckRhdGEpLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyRWxlbSA9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgaWYoY3VyRWxlbT4wICYmIGVudHJ5WzBdICE9PSBcInllYXJcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zRWxlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVudHJ5WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnlbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdDogY3VyVG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJUb3RhbCArPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYoZW50cnlbMF0gPT09IFwiY2VtZW50X3NpbmtcIil7IC8vIEFkZCBjZW1lbnQgc2luayB0byByZW1vdmUgaXQgYWZ0ZXJ3YXJkcyAoaW4gZm9zc2lsIGZ1ZWwpICBcclxuICAgICAgICAgICAgICAgICAgICBwb3NFbGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZW50cnlbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRyeVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiBwb3NFbGVtcy5zb3J0KChhLGIpID0+IHBvc2l0aXZlT3JkZXJEaWN0W2EudHlwZV0gLSBwb3NpdGl2ZU9yZGVyRGljdFtiLnR5cGVdKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbmVnRGF0YSA9IHRoaXMuZGF0YS5tYXAoeWVhckRhdGEgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbmVnRWxlbXMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGN1clRvdGFsID0gMDtcclxuICAgICAgICAgICAgbGV0IGN1clllYXIgPSB5ZWFyRGF0YS55ZWFyO1xyXG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyh5ZWFyRGF0YSkuc29ydCgoYSxiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmVnYXRpdmVPcmRlckRpY3RbYVswXV0gLSBuZWdhdGl2ZU9yZGVyRGljdFtiWzBdXTtcclxuICAgICAgICAgICAgfSkuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJFbGVtID0gZW50cnlbMV07XHJcbiAgICAgICAgICAgICAgICBpZihjdXJFbGVtPDAgJiYgZW50cnlbMF0gIT09IFwieWVhclwiICYmIGVudHJ5WzBdICE9PSBcImNlbWVudF9zaW5rXCIgKXtcclxuICAgICAgICAgICAgICAgICAgICBuZWdFbGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZW50cnlbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRyeVsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90OiBjdXJUb3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1clRvdGFsICs9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gbmVnRWxlbXM7Ly8uc29ydCgoYSxiKSA9PiBuZWdhdGl2ZU9yZGVyRGljdFthLnR5cGVdIC0gbmVnYXRpdmVPcmRlckRpY3RbYi50eXBlXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdnb3QgbmVnRGF0YTogJywgbmVnRGF0YSk7XHJcblxyXG4gICAgICAgIGxldCBhcmVhR2VuID0gZDMuYXJlYSgpXHJcbiAgICAgICAgICAgIC54KGQgPT4geFNjYWxlKGQuY3VyWWVhcikpXHJcbiAgICAgICAgICAgIC55MChkID0+IHlTY2FsZShkLmN1clRvdCkpXHJcbiAgICAgICAgICAgIC55MShkID0+IHlTY2FsZShkLmN1clRvdCtkLnZhbHVlKSk7XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMocG9zaXRpdmVPcmRlckRpY3QpLmZvckVhY2gob3JkZXJPYmogPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IGN1cktleSA9IG9yZGVyT2JqWzBdO1xyXG4gICAgICAgICAgICBsZXQgY3VyT3JkZXJWYWx1ZSA9IG9yZGVyT2JqWzFdO1xyXG4gICAgICAgICAgICBsZXQgY3VyUGF0aEFycmF5ID0gW107XHJcbiAgICAgICAgICAgIHBvc0RhdGEuZm9yRWFjaCh5ZWFyRGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VyRWxlbSA9IHllYXJEYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1clllYXIgPSBjdXJFbGVtWydjdXJZZWFyJ107XHJcbiAgICAgICAgICAgICAgICBsZXQga2V5T2JqID0geWVhckRhdGEuZmlsdGVyKGVsZW0gPT4gY3VyS2V5ID09PSBlbGVtLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNlbWVudE9iaiA9IHllYXJEYXRhLmZpbHRlcihlbGVtID0+ICdjZW1lbnRfc2luaycgPT09IGVsZW0udHlwZSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKGtleU9iai5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGN1cktleSA9PT0gXCJmb3NzaWxfZW1pc3Npb25zXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJQYXRoQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjdXJLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90OiBrZXlPYmpbMF0uY3VyVG90LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGtleU9ialswXS52YWx1ZSAtIE1hdGguYWJzKGNlbWVudE9ialswXS52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJQYXRoQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjdXJLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJZZWFyOiBjdXJZZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90OiBrZXlPYmpbMF0uY3VyVG90LSBNYXRoLmFicyhjZW1lbnRPYmpbMF0udmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGtleU9ialswXS52YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIHplcm9cclxuICAgICAgICAgICAgICAgICAgICBjdXJQYXRoQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGN1cktleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcG9zaXRpdmVfcGF0aHNfYXJyYXlbY3VyS2V5XSA9IGN1clBhdGhBcnJheTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjb25zdCBwb3NpdGl2ZVBhdGhzID0gdGhpcy5tYWluR3JvdXAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3Bvc2l0aXZlUGF0aHMnKTtcclxuXHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMocG9zaXRpdmVfcGF0aHNfYXJyYXkpLmZvckVhY2goY2F0ZWdvcnlPYmogPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VyS2V5ID0gY2F0ZWdvcnlPYmpbMF07XHJcbiAgICAgICAgICAgIGxldCBjdXJBcnJheSA9IGNhdGVnb3J5T2JqWzFdO1xyXG5cclxuICAgICAgICAgICAgcG9zaXRpdmVQYXRocy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywgY3VyS2V5KVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgICAgICAgICAuZGF0dW0oY3VyQXJyYXkpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsIGNvbG9yRGljdFtjdXJLZXldKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgZCA9PiBhcmVhR2VuKGQpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobmVnYXRpdmVPcmRlckRpY3QpLnNvcnQoKGEsYikgPT4gYlsxXSAtIGFbMV0pLmZvckVhY2gob3JkZXJPYmogPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IGN1cktleSA9IG9yZGVyT2JqWzBdO1xyXG4gICAgICAgICAgICBsZXQgY3VyT3JkZXJWYWx1ZSA9IG9yZGVyT2JqWzFdO1xyXG4gICAgICAgICAgICBsZXQgY3VyUGF0aEFycmF5ID0gW107XHJcblxyXG4gICAgICAgICAgICBuZWdEYXRhLmZvckVhY2goeWVhckRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSB5ZWFyRGF0YVswXTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJZZWFyID0gY3VyRWxlbVsnY3VyWWVhciddO1xyXG4gICAgICAgICAgICAgICAgbGV0IGtleU9iaiA9IHllYXJEYXRhLmZpbHRlcihlbGVtID0+IGN1cktleSA9PT0gZWxlbS50eXBlKTtcclxuICAgICAgICAgICAgICAgIGlmKGtleU9iai5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGN1clBhdGhBcnJheS5wdXNoKGtleU9ialswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIHplcm9cclxuICAgICAgICAgICAgICAgICAgICBjdXJQYXRoQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGN1cktleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyWWVhcjogY3VyWWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmVnYXRpdmVfcGF0aHNfYXJyYXlbY3VyS2V5XSA9IGN1clBhdGhBcnJheTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjb25zdCBuZWdhdGl2ZVBhdGhzID0gdGhpcy5tYWluR3JvdXAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ25lZ2F0aXZlcGF0aHMnKTtcclxuXHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobmVnYXRpdmVfcGF0aHNfYXJyYXkpLmZvckVhY2goY2F0ZWdvcnlPYmogPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VyS2V5ID0gY2F0ZWdvcnlPYmpbMF07XHJcbiAgICAgICAgICAgIGxldCBjdXJBcnJheSA9IGNhdGVnb3J5T2JqWzFdO1xyXG5cclxuICAgICAgICAgICAgbmVnYXRpdmVQYXRocy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywgY3VyS2V5KVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgICAgICAgICAuZGF0dW0oY3VyQXJyYXkpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsIGNvbG9yRGljdFtjdXJLZXldKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgZCA9PiBhcmVhR2VuKGQpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRHJhdyBsaW5lXHJcbiAgICAgICAgY29uc3QgbGluZUdlbiA9IGQzLmxpbmUoKS54KGQgPT4geFNjYWxlKGQueWVhcikpLnkoZCA9PiB5U2NhbGUoZC52YWx1ZSkpO1xyXG5cclxuICAgICAgICBsZXQgbmVnWWVhclRvdGFsID0gW107XHJcbiAgICAgICAgbGV0IHBvc1llYXJUb3RhbCA9IFtdO1xyXG4gICAgICAgIHBvc0RhdGEuZm9yRWFjaCh5ZWFyRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbml0VmFsdWUgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY3VyVmFsdWUgPSB5ZWFyRGF0YS5yZWR1Y2UoKHByZXZWYWwsY3VyVmFsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVkdWNpbmcuLi4nLCBwcmV2VmFsICwgY3VyVmFsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2VmFsICsgY3VyVmFsLnZhbHVlO1xyXG4gICAgICAgICAgICB9LCBpbml0VmFsdWUpO1xyXG4gICAgICAgICAgICBuZWdZZWFyVG90YWwucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyRGF0YVswXS5jdXJZZWFyLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IC1jdXJWYWx1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcG9zWWVhclRvdGFsLnB1c2goXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogeWVhckRhdGFbMF0uY3VyWWVhcixcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3VyVmFsdWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd5ZWFyIHRvdGFsOicsICk7XHJcblxyXG4gICAgICAgIHZhciBwb3NsaW5lID0gZDMuc2VsZWN0KCdzdmcnKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAgICAgLmRhdHVtKHBvc1llYXJUb3RhbClcclxuICAgICAgICAgICAgLmF0dHIoJ2QnLCBsaW5lR2VuKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLmNoYXJ0V2lkdGgqMC4wNSArIHhTY2FsZS5iYW5kd2lkdGgoKX0sJHtNYXRoLmFicyh5U2NhbGUoMiowLjc0KS15U2NhbGUoMCkpfSlgKTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgbmVnbGluZSA9IGQzLnNlbGVjdCgnc3ZnJylcclxuICAgICAgICAgICAgLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgICAgIC5kYXR1bShuZWdZZWFyVG90YWwpXHJcbiAgICAgICAgICAgIC5hdHRyKCdkJywgbGluZUdlbilcclxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS1kYXNoYXJyYXlcIiwgKFwiMywgM1wiKSlcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLmNoYXJ0V2lkdGgqMC4wNSArIHhTY2FsZS5iYW5kd2lkdGgoKX0sJHtNYXRoLmFicyh5U2NhbGUoMiowLjc0KS15U2NhbGUoMCkpfSlgKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZHJhd1RpdGxlKGNvbnRhaW5lcil7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgKHRoaXMuc3ZnV2lkdGggLSB0aGlzLmNoYXJ0V2lkdGgpIC8gMiArIHRoaXMuY2hhcnRXaWR0aCowLjA1KVxyXG4gICAgICAgICAgICAuYXR0cigneScsICh0aGlzLnN2Z0hlaWdodCAtIHRoaXMuY2hhcnRIZWlnaHQpLzIgLSA1MClcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxN3B0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LWZhbWlseScsICdncmFwaGlrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsICc2MDAnKVxyXG4gICAgICAgICAgICAudGV4dChcIkxlIHRpdHJlIGR1IGdyYXBoaXF1ZVwiKTtcclxuICAgICAgICBcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCh0aGlzLnN2Z1dpZHRoIC0gdGhpcy5jaGFydFdpZHRoKSAvIDIgKyB0aGlzLmNoYXJ0V2lkdGgqMC4wNSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCAodGhpcy5zdmdIZWlnaHQgLSB0aGlzLmNoYXJ0SGVpZ2h0KS8yIC0gMjUpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTNwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1mYW1pbHknLCAnZ3JhcGhpaycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCAnNDAwJylcclxuICAgICAgICAgICAgLnRleHQoXCJMZSBzb3VzLXRpdHJlIGR1IGdyYXBoaXF1ZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3Qm90dG9tQm94KGNvbnRhaW5lciwgd2lkdGgpe1xyXG5cclxuICAgICAgICBjb250YWluZXIuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3N0b2tlLXdpZHRoJywgMSlcclxuICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMC4zKVxyXG4gICAgICAgICAgICAuYXR0cihcIngxXCIsIHRoaXMuY2hhcnRXaWR0aCowLjA1KVxyXG4gICAgICAgICAgICAuYXR0cihcInkxXCIsIHRoaXMuY2hhcnRIZWlnaHQtMzApXHJcbiAgICAgICAgICAgIC5hdHRyKFwieDJcIiwgdGhpcy5jaGFydFdpZHRoKVxyXG4gICAgICAgICAgICAuYXR0cihcInkyXCIsIHRoaXMuY2hhcnRIZWlnaHQtMzApO1xyXG5cclxuICAgICAgICBjb250YWluZXIuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLmNoYXJ0V2lkdGgqMC4wNSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLmNoYXJ0SGVpZ2h0LTE3KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNjAwKVxyXG4gICAgICAgICAgICAudGV4dCgnR3JhcGhpcXVlIDonKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCd0c3BhbicpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy5jaGFydFdpZHRoKjAuMDUrIDY1KVxyXG4gICAgICAgICAgICAuYXR0cigneScsIHRoaXMuY2hhcnRIZWlnaHQtMTcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA0MDApXHJcbiAgICAgICAgICAgIC50ZXh0KCdMZSBEZXZvaXIgLSAnKTtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLmNoYXJ0V2lkdGgqMC4wNSArIDEyMilcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCB0aGlzLmNoYXJ0SGVpZ2h0LTE3KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNjAwKVxyXG4gICAgICAgICAgICAudGV4dCgnU291cmNlIDonKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCd0c3BhbicpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgdGhpcy5jaGFydFdpZHRoKjAuMDUgKyAxNjkpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5jaGFydEhlaWdodC0xNylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnOHB0JylcclxuICAgICAgICAgICAgLnN0eWxlKCdmb250LXdlaWdodCcsIDQwMClcclxuICAgICAgICAgICAgLnRleHQoJyAuLi4gJyk7XHJcblxyXG4gICAgICAgIC8vIGNvbnRhaW5lci5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC8vICAgICAuYXR0cigneCcsIHRoaXMuc3ZnV2lkdGgqMC4xKVxyXG4gICAgICAgIC8vICAgICAuYXR0cigneScsIHRoaXMuc3ZnSGVpZ2h0KjAuOTUxKVxyXG4gICAgICAgIC8vICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgIC8vICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNjAwKVxyXG4gICAgICAgIC8vICAgICAudGV4dCgnTm90ZSA6JylcclxuICAgICAgICAvLyAgICAgLmFwcGVuZCgndHNwYW4nKVxyXG4gICAgICAgIC8vICAgICAuYXR0cigneCcsIHRoaXMuc3ZnV2lkdGgqMC4xKzM1KVxyXG4gICAgICAgIC8vICAgICAuYXR0cigneScsIHRoaXMuc3ZnSGVpZ2h0KjAuOTUxKVxyXG4gICAgICAgIC8vICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICc4cHQnKVxyXG4gICAgICAgIC8vICAgICAuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgNDAwKVxyXG4gICAgICAgIC8vICAgICAudGV4dCgnRG9ubsOpZXMgY29sbGVjdMOpZXMgZGVwdWlzIGh0dHBzOi8vZG9ubmVlcy5tb250cmVhbC5jYS92aWxsZS1kZS1tb250cmVhbC9jb21wdGFnZS12ZWhpY3VsZXMtcGlldG9ucycpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdEZXRhaWxzKGNvbnRhaW5lciwgbGVnZW5kRGF0YSl7XHJcblxyXG4gICAgICAgIGNvbnN0IGxlZ2VuZENvbnRhaW5lciA9IGNvbnRhaW5lci5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCAnbGVnZW5kQ29udGFpbmVyJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHsodGhpcy5zdmdXaWR0aCAtIHRoaXMuY2hhcnRXaWR0aCkgLyAyICsgKHRoaXMuY2hhcnRXaWR0aCowLjA1ICsgMTApfSwke3RoaXMuc3ZnSGVpZ2h0KjAuMDd9KWApO1xyXG5cclxuICAgICAgICBjb25zdCByb3dzID0gbGVnZW5kQ29udGFpbmVyLnNlbGVjdEFsbCgnZycpXHJcbiAgICAgICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCAnbGVnZW5kUm93JylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLGkpID0+IGB0cmFuc2xhdGUoMCwke2kqMjB9KWApO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICByb3dzLmFwcGVuZCgnY2lyY2xlJylcclxuICAgICAgICAgICAgLmF0dHIoJ2N4JywgMClcclxuICAgICAgICAgICAgLmF0dHIoJ2N5JywgMClcclxuICAgICAgICAgICAgLmF0dHIoJ3InLCA4KVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsIGQgPT4gY29sb3JEaWN0W2QuY29sb3JdKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgcm93cy5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIDE4KVxyXG4gICAgICAgICAgICAuYXR0cigneScsIDQpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzhwdCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZm9udC13ZWlnaHQnLCA1MDApXHJcbiAgICAgICAgICAgIC50ZXh0KCBkID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLmxhYmVsO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZHJhd1JlY3RhbmdsZXMoY29udGFpbmVyLCB4U2NhbGUsIHlTY2FsZSl7IC8vIG5vdCB1c2VkXHJcblxyXG4gICAgICAgIGNvbnN0IHBvc2l0aXZlQXJlYUdyb3VwID0gY29udGFpbmVyLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3Bvc0FyZWFncm91cCcpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwkezB9KWApO1xyXG5cclxuICAgICAgICBjb25zdCBuZWdhdGl2ZUFyZWFHcm91cCA9IGNvbnRhaW5lci5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICduZWdBcmVhZ3JvdXAnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHswfSlgKTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zWWVhckdyb3VwcyA9IHBvc2l0aXZlQXJlYUdyb3VwLnNlbGVjdEFsbCgnZycpXHJcbiAgICAgICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGQgPT4gYHllYXJfJHtkLnllYXJ9YCk7XHJcbiAgICAgICAgY29uc3QgcG9zUmVjdHMgPSBwb3NZZWFyR3JvdXBzLnNlbGVjdEFsbCgncmVjdCcpXHJcbiAgICAgICAgICAgIC5kYXRhKGQgPT4geyBcclxuICAgICAgICAgICAgICAgIGxldCBwb3NFbGVtcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1clRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJZZWFyID0gZC55ZWFyO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoZCkuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyRWxlbSA9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGN1ckVsZW0+MCAmJiBlbnRyeVswXSAhPT0gXCJ5ZWFyXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NFbGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVudHJ5WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVudHJ5WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90OiBjdXJUb3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdGFsICs9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zRWxlbXMuc29ydCgoYSxiKSA9PiBwb3NpdGl2ZU9yZGVyRGljdFthLnR5cGVdIC0gcG9zaXRpdmVPcmRlckRpY3RbYi50eXBlXSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCBkID0+IGAke2QudHlwZX1fJHtkLnZhbHVlfWApXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIHhTY2FsZS5iYW5kd2lkdGgoKSlcclxuICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIChkLGkpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh5U2NhbGUoMCkgLSB5U2NhbGUoZC52YWx1ZSkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIGQgPT4geFNjYWxlKGQuY3VyWWVhcikpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgZCA9PiAoeVNjYWxlKDApIC0gKE1hdGguYWJzKHlTY2FsZSgwKSAtIHlTY2FsZShkLnZhbHVlKSkpIC0gKE1hdGguYWJzKHlTY2FsZSgwKSAtIHlTY2FsZShkLmN1clRvdCkpKSkpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgZCA9PiBjb2xvckRpY3RbZC50eXBlXSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5lZ2F0aXZlWWVhckdyb3VwcyA9IG5lZ2F0aXZlQXJlYUdyb3VwLnNlbGVjdEFsbCgnZycpXHJcbiAgICAgICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGQgPT4gYHllYXJfJHtkLnllYXJ9YCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5lZ1JlY3RzID0gbmVnYXRpdmVZZWFyR3JvdXBzLnNlbGVjdEFsbCgncmVjdCcpXHJcbiAgICAgICAgICAgIC5kYXRhKGQgPT4geyBcclxuICAgICAgICAgICAgICAgIGxldCBuZWdFbGVtcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1clRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJZZWFyID0gZC55ZWFyO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoZCkuZmlsdGVyKGVsZW0gPT4gZWxlbVsxXTwwKS5zb3J0KChhLGIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhVmFsID0gbmVnYXRpdmVPcmRlckRpY3RbYVswXV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYlZhbCA9IG5lZ2F0aXZlT3JkZXJEaWN0W2JbMF1dO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhVmFsIC0gYlZhbDtcclxuICAgICAgICAgICAgICAgIH0pLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1ckVsZW0gPSBlbnRyeVsxXTtcclxuICAgICAgICAgICAgICAgICAgICBpZihlbnRyeVswXSAhPT0gXCJ5ZWFyXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWdFbGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVudHJ5WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVudHJ5WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG90OiBjdXJUb3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clllYXI6IGN1clllYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvdGFsICs9IGVudHJ5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmVnRWxlbXM7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgICAgICAuYXR0cignaWQnLCBkID0+IGAke2QudHlwZX1fJHtkLnZhbHVlfWApXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIHhTY2FsZS5iYW5kd2lkdGgoKSlcclxuICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIChkLGkpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh5U2NhbGUoMCkgLSB5U2NhbGUoTWF0aC5hYnMoZC52YWx1ZSkpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBkID0+IHhTY2FsZShkLmN1clllYXIpKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIGQgPT4gKHlTY2FsZShkLmN1clRvdCkpKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsIGQgPT4gY29sb3JEaWN0W2QudHlwZV0pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gR2F1Z2VzKHByb3BzKXtcbiAgY29uc3QgbWF4V2lkdGhWYWx1ZSA9IDUwO1xuICBjb25zdCBjYWxjdWxhdGVHYXVnZVdpZHRoID0gKCkgPT4ge1xuICAgIGNvbnN0IGdhdWdlc0VsZW1zID0gZDMuc2VsZWN0KCcuZ2F1Z2VzJykuc2VsZWN0QWxsKCcuZ2F1Z2UnKTtcbiAgICBnYXVnZXNFbGVtcy5ub2RlcygpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgIGxldCBjdXJXaWR0aCA9IG1heFdpZHRoVmFsdWU7XG4gICAgICBpZihkMy5zZWxlY3Qobm9kZSkuYXR0cignaWQnKSA9PT0gXCJkb2xsYXJzXCIpe1xuICAgICAgICBjdXJXaWR0aCA9IHByb3BzLmRvbGxhcnM7XG4gICAgICB9XG4gICAgICBjb25zdCBjb21taXR0ZWRWYWx1ZSA9IGN1cldpZHRoID4gMCA/IE1hdGgucm91bmQocHJvcHMuY29tbWl0dGVkL21heFdpZHRoVmFsdWUqMTAwKSA6IDA7XG4gICAgICBjb25zdCBnYXVnZVZhbHVlID0gY3VyV2lkdGggPiAwID8gTWF0aC5yb3VuZChjdXJXaWR0aC9tYXhXaWR0aFZhbHVlKjEwMCkgOiAwO1xuICAgICAgZDMuc2VsZWN0KG5vZGUpLnNlbGVjdCgnLmdhdWdlQ29sb3JIb2xkZXInKS5zZWxlY3QoJy5jb21taXR0ZWQnKS5zdHlsZSgnd2lkdGgnLCBgJHtjb21taXR0ZWRWYWx1ZX0lYCk7XG4gICAgICBkMy5zZWxlY3Qobm9kZSkuc2VsZWN0KCcuZ2F1Z2VDb2xvcicpLnN0eWxlKCd3aWR0aCcsIGAke2dhdWdlVmFsdWV9JWApO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckpldG9uVGV4dCA9IChqZXRvbnNWYWx1ZSkgPT4ge1xuICAgIGlmKE1hdGguYWJzKGpldG9uc1ZhbHVlKT4xKXtcbiAgICAgIHJldHVybiBgJHtqZXRvbnNWYWx1ZX0mbmJzcDtqZXRvbnNgO1xuICAgIH1cbiAgICByZXR1cm4gYCR7amV0b25zVmFsdWV9Jm5ic3A7amV0b25gO1xuICB9XG5cbiAgdXNlRWZmZWN0KCAoKSA9PiB7XG4gICAgY2FsY3VsYXRlR2F1Z2VXaWR0aCgpO1xuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2F1Z2VzXCI+XG4gICAgICA8ZGl2IGlkPVwiZG9sbGFyc1wiIGNsYXNzTmFtZT1cImdhdWdlIGRvbGxhckdhdWdlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZ2F1Z2VDb2xvckhvbGRlciAke3Byb3BzLmRvbGxhcnMgPCAwID8gXCJyZWRcIjpcIlwifWB9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZ2F1Z2VDb2xvciAke3Byb3BzLmRvbGxhcnMgPCAwID8gXCJyZWRcIjpcImJsdWVcIn1gfT5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtwcm9wcy5jb21taXR0ZWQgIT0gMCA/XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Bjb21taXR0ZWQgJHtwcm9wcy5kb2xsYXJzIDwgMCA/IFwicmVkXCI6XCJibHVlXCJ9YH0+XG4gICAgICAgICAgICAgIHsvKiA8cD57cHJvcHMuY29tbWl0dGVkfTwvcD4gKi99XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgOlwiXCJcbiAgICAgICAgICB9XG4gICAgICAgICAge1xuICAgICAgICAgICAgcHJvcHMuc2VwYXJhdGlvbiA/XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInZhbHVlIHNlcGFyYXRlZFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxhYmVsSG9sZGVyXCI+XG4gICAgICAgICAgICAgICAgPHA+PGI+QnVkZ2V0PC9iPjwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2F1Z2VTZXBhcmF0b3JcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYWJlbEhvbGRlclwiPlxuICAgICAgICAgICAgICAgIDxwPntwYXJzZShyZW5kZXJKZXRvblRleHQocHJvcHMuZG9sbGFycy0yNSkpfTwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmFsdWVcIj5cbiAgICAgICAgICAgICAgPHA+PGI+QnVkZ2V0PC9iPiZuYnNwOyYjODIyNjsmbmJzcDt7cGFyc2UocmVuZGVySmV0b25UZXh0KHByb3BzLmRvbGxhcnMpKX08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2t9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gSW50cm9Cb3gocHJvcHMpe1xuXG4gIGNvbnN0IHN0YXJ0R2FtZSA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3N0YXJ0aW5nIGdhbWUnKTtcbiAgICBwcm9wcy5nYW1lU3RhcnQoKTtcbiAgfSk7XG5cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2FtZUJveCB0cmFuc3BhcmVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnRyb0JveFwiPlxuICAgICAgICB7cHJvcHMuaW50cm9FbGVtfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJCb3hcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGFydGJ1dHRvblwiIG9uQ2xpY2s9e3N0YXJ0R2FtZX0+XG4gICAgICAgICAgPHA+Q29tbWVuY2VyIGxlIGpldTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICApXG5cbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUVmZmVjdH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBHYXVnZXMgfSBmcm9tIFwiLi9HYXVnZXNcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gTW9uaXRvcmluZyhwcm9wcyl7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZihwcm9wcy50cmFuc2l0aW9uKXtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkMy5zZWxlY3QoXCIubW9uaXRvcmluZ192YWx1ZVwiKS50cmFuc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKDEwMDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpO1xuICAgICAgfSwyMDApO1xuICAgIH1cblxuICB9LFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9uaXRvcmluZ1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb25pdG9yaW5nX2NvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YG1vbml0b3JpbmdfdmFsdWUgJHtwcm9wcy50cmFuc2l0aW9uID8gXCJ0cmFuc2l0aW9uXCI6IFwiXCJ9YH0+XG4gICAgICAgICAgICA8R2F1Z2VzIHNlcGFyYXRpb249e3Byb3BzLnNlcGFyYXRpb259IGRvbGxhcnM9e3Byb3BzLmRvbGxhcnN9IGNvbW1pdHRlZD17cHJvcHMuY29tbWl0dGVkfS8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsgcHJvcHMudGVyYXdhdHRzIHx8IHByb3BzLnRlcmF3YXR0cyA9PT0gMCA/XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9uaXRvcmluZ19jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9uaXRvcmluZ19oZWFkZXJcIj5cbiAgICAgICAgICAgICAgPGg1PjxiPsOJbGVjdHJpY2l0w6kgcHJvZHVpdGU8L2I+Jm5ic3A7JiM4MjI2OyZuYnNwO3twcm9wcy50ZXJhd2F0dHN9Jm5ic3A7VFdoPC9oNT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgOlxuICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgfVxuICAgIDwvZGl2PlxuXG4gIClcbn1cbiIsIlxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVBlcmZvcm1hbmNlKGNob2ljZXNfdmFsdWVzKXtcbiAgcmV0dXJuIGNob2ljZXNfdmFsdWVzLnNwbGl0KCdfJykuc2xpY2UoMSkubWFwKGVsZW0gPT4gcGFyc2VJbnQoZWxlbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29ycmVjdEljb25Tb3VyY2UoaWR4KXtcblxuICBjb25zdCBpY29uTGlzdCA9IFtcbiAgICBcIkh5ZHJvLnN2Z1wiLFxuICAgIFwiRW9saWVuLnN2Z1wiLFxuICAgIFwiTnVjbGVhaXJlLnN2Z1wiLFxuICAgIFwiU29sYWlyZS5zdmdcIixcbiAgICBcIk1vZGVybmlzYXRpb24uc3ZnXCJcbiAgXTtcbiAgcmV0dXJuIGljb25MaXN0W2lkeF07XG59XG5cbmV4cG9ydCBjb25zdCByZW5kZXJTaWduID0gKHZhbHVlKSA9PiB7XG4gIHJldHVybiBwYXJzZUludCh2YWx1ZSkgPT09IDAgP1xuICAgIFwiXCJcbiAgICA6XG4gICAgcGFyc2VJbnQodmFsdWUpIDwgMCA/XG4gICAgICBcIlwiXG4gICAgICA6XG4gICAgICBcIitcIjtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IE1vbml0b3JpbmcgfSBmcm9tIFwiLi4vZ2F1Z2VzL01vbml0b3JpbmdcIjtcclxuaW1wb3J0IHsgY2FsY3VsYXRlUGVyZm9ybWFuY2UsIHJlbmRlclNpZ24gfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgcGFyc2UgZnJvbSBcImh0bWwtcmVhY3QtcGFyc2VyXCI7XHJcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIENob2ljZShwcm9wcyl7XHJcblxyXG5cclxuICBjb25zdCBbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcblxyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGlvbmJ1dHRvbnMgPSBkMy5zZWxlY3RBbGwoJy5jaG9pY2VidXR0b24nKTtcclxuICAgIHNlbGVjdGlvbmJ1dHRvbnMuc2VsZWN0KCcuYnV0bicpLmNsYXNzZWQoJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG5cclxuICAgIGlmKHNlbGVjdGlvbil7XHJcbiAgICAgIGQzLnNlbGVjdChzZWxlY3Rpb24ub2JqKS5zZWxlY3QoJy5idXRuJykuY2xhc3NlZCgnc2VsZWN0ZWQnLCB0cnVlKTtcclxuICAgICAgc2VsZWN0aW9uYnV0dG9ucy5zZWxlY3QoJy5idXRuJykuc3R5bGUoJ29wYWNpdHknLCBcIjAuNVwiKTtcclxuICAgICAgZDMuc2VsZWN0KHNlbGVjdGlvbi5vYmopLnNlbGVjdCgnLmJ1dG4nKS5zdHlsZSgnb3BhY2l0eScsIFwiMVwiKTtcclxuICAgICAgXHJcbiAgICB9XHJcblxyXG4gIH0sW3NlbGVjdGlvbl0pXHJcblxyXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKGNvc3QsIHBlcmZvcm1hbmNlLCBpbmRleCkgPT4ge1xyXG4gICAgbGV0IHRyaWdnZXJOZXh0ID0gU3RyaW5nKHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J10pLnNwbGl0KFwiO1wiKTtcclxuICAgIGlmKHRyaWdnZXJOZXh0Lmxlbmd0aCA+IDEpe1xyXG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQoU3RyaW5nKHRyaWdnZXJOZXh0W2luZGV4XSkucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCJcIikpO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KFN0cmluZyh0cmlnZ2VyTmV4dFswXSkucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCJcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHByb3BzLmN1clByb21wdFtcIklEXCJdID09PSBcIlFNXCIgJiYgaW5kZXggPT09IDApe1xyXG4gICAgICBwcm9wcy51cGRhdGVNZW1vcnlPYmooXCJpbnZlc3RlZE1vZGVybml6YXRpb25cIiwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvcHMudXBkYXRlRG9sbGFycyhwYXJzZUludChjb3N0KSk7XHJcbiAgICBwcm9wcy51cGRhdGVQZXJmb3JtYW5jZShwZXJmb3JtYW5jZSk7XHJcbiAgICBzZXRTZWxlY3Rpb24obnVsbCk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcclxuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2aW91cyBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcclxuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHByb3BzLmN1ckluZGV4IC0gMSk7XHJcbiAgICB9XHJcbiAgICBzZXRTZWxlY3Rpb24obnVsbCk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHVwZGF0ZVNlbGVjdGVkID0gKGV2ZW50LCBjb3N0LCBwZXJmb3JtYW5jZSwgaW5kZXgpID0+IHtcclxuICAgIHNldFNlbGVjdGlvbih7XHJcbiAgICAgIG9iajogZXZlbnQudGFyZ2V0LFxyXG4gICAgICBjb3N0OiBwYXJzZUludChjb3N0KSxcclxuICAgICAgcGVyZm9ybWFuY2U6IHBlcmZvcm1hbmNlLFxyXG4gICAgICBpbmRleDogaW5kZXhcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVuZGVySmV0b25UZXh0ID0gKGpldG9uVmFsdWUpID0+IHtcclxuICAgIGlmKE1hdGguYWJzKGpldG9uVmFsdWUpPjEpe1xyXG4gICAgICByZXR1cm4gYCR7cmVuZGVyU2lnbihqZXRvblZhbHVlKX0ke01hdGguYWJzKGpldG9uVmFsdWUpfSZuYnNwO0pFVE9OU2A7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYCR7cmVuZGVyU2lnbihqZXRvblZhbHVlKX0ke01hdGguYWJzKGpldG9uVmFsdWUpfSZuYnNwO0pFVE9OYDtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNoZWNrSWZGdWxsWmVybyA9ICgpID0+IHtcclxuICAgIGNvbnN0IGNvc3RzID0gcHJvcHMuY2hvaWNlc192YWx1ZXMubWFwKChlbGVtLCBpZHgpID0+IHtcclxuICAgICAgcmV0dXJuIHBhcnNlSW50KGVsZW0uc3BsaXQoXCJfXCIpWzBdKTtcclxuICAgIH0pLmZpbHRlcih2YWwgPT4gIU51bWJlci5pc05hTih2YWwpKTtcclxuICAgIHJldHVybiBjb3N0cy5ldmVyeShpdGVtID0+IGl0ZW0gPT09IDApO1xyXG4gIH07XHJcblxyXG4gIHJldHVybihcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hvaWNlc1wiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHByb3BzLmNob2ljZXMubWFwKChjaG9pY2UsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjb3N0ID0gcHJvcHMuY2hvaWNlc192YWx1ZXNbaW5kZXhdLnNwbGl0KCdfJylbMF07XHJcbiAgICAgICAgICAgIGxldCBwZXJmb3JtYW5jZSA9IGNhbGN1bGF0ZVBlcmZvcm1hbmNlKHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaG9pY2VidXR0b25cIiBrZXk9e2luZGV4fSBvbkNsaWNrPXsoZSkgPT4ge3VwZGF0ZVNlbGVjdGVkKGUsIGNvc3QsIHBlcmZvcm1hbmNlLCBpbmRleCl9fT5cclxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9e2luZGV4fSBjbGFzc05hbWU9XCJidXRuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob2xkZXIgaWNvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e3NlbGVjdGlvbiA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uaW5kZXggPT09IGluZGV4ID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIuL2Fzc2V0cy9pbWcvT2ZmLnN2Z1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIuL2Fzc2V0cy9pbWcvT24uc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIuL2Fzc2V0cy9pbWcvT24uc3ZnXCJ9PjwvaW1nPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9sZGVyIGxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aDQ+e2Nob2ljZX08L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja0lmRnVsbFplcm8oKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57cGFyc2UocmVuZGVySmV0b25UZXh0KGNvc3QpKX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPE1vbml0b3Jpbmcgc2hvd1RXaD17ZmFsc2V9IGRvbGxhcnM9eyhzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmhhc093blByb3BlcnR5KFwiY29zdFwiKSkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzKSArIHBhcnNlSW50KHNlbGVjdGlvbi5jb3N0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFyc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21taXR0ZWQ9eyhzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmhhc093blByb3BlcnR5KFwiY29zdFwiKSAmJiAocGFyc2VJbnQoc2VsZWN0aW9uLmNvc3QpIDwgMCkpID8gTWF0aC5hYnMoc2VsZWN0aW9uLmNvc3QpIDogMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZT17cHJvcHMuZ2F1Z2VzLnByb3BzLnBlcmZvcm1hbmNlfS8+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cclxuICAgICAgICAgIHtwcm9wcy5jdXJJbmRleCA+IDAgP1xyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxyXG4gICAgICAgICAgICAgICAgPHA+UHJldmlvdXM8L3A+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWN0aW9uYnV0dG9uIG5leHQgJHtzZWxlY3Rpb24gPyAnJyA6ICdkaXNhYmxlZCd9YH0gb25DbGljaz17KCkgPT4ge3NlbGVjdGlvbiA/IG5leHRQcm9tcHQoc2VsZWN0aW9uLmNvc3QsIHNlbGVjdGlvbi5wZXJmb3JtYW5jZSwgc2VsZWN0aW9uLmluZGV4KSA6IGNvbnNvbGUubG9nKCdEaXNhYmxlZC4nKX19PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cclxuICAgICAgICAgICAgICA8cD5Qb3Vyc3VpdnJlPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIClcclxuXHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBNb25pdG9yaW5nIH0gZnJvbSBcIi4uL2dhdWdlcy9Nb25pdG9yaW5nXCI7XHJcbmltcG9ydCB7IGNhbGN1bGF0ZVBlcmZvcm1hbmNlLCByZW5kZXJTaWduIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xyXG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNdWx0aVNlbGVjdGlvbihwcm9wcyl7XHJcblxyXG4gIGNvbnN0IFtzZWxlY3Rpb24sIHNldFNlbGVjdGlvbl0gPSB1c2VTdGF0ZShbXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICByZXNldFNlbGVjdGlvbigpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuXHJcbiAgfSwgW3NlbGVjdGlvbl0pO1xyXG5cclxuICBjb25zdCByZXNldFNlbGVjdGlvbiA9ICgpID0+IHtcclxuICAgIHNldFNlbGVjdGlvbihwcm9wcy5jaG9pY2VzLm1hcChlbGVtID0+IG51bGwpKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNhbGN1bGF0ZVRvdGFsU2VsZWN0aW9uID0gKHNlbGVjdGlvbikgPT4ge1xyXG4gICAgY29uc3QgYWNjQ29zdCA9IHNlbGVjdGlvbi5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XHJcbiAgICAgIGlmKGN1cil7XHJcbiAgICAgICAgYWNjICs9IGN1ci5jb3N0O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBhY2M7XHJcbiAgICB9LCAwKTtcclxuICAgIGxldCBhY2NQZXJmb3JtYW5jZSA9IFswLDAsMF07XHJcbiAgICBzZWxlY3Rpb24uZm9yRWFjaCgoY3VyLCBjb3VudCkgPT4ge1xyXG4gICAgICBpZihjdXIpe1xyXG4gICAgICAgIGFjY1BlcmZvcm1hbmNlID0gYWNjUGVyZm9ybWFuY2UubWFwKChlbGVtLCBpZHgpID0+IHtcclxuICAgICAgICAgIHJldHVybiBwYXJzZUludChlbGVtKSArIHBhcnNlSW50KGN1ci5wZXJmb3JtYW5jZVtpZHhdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gW2FjY0Nvc3QsIGFjY1BlcmZvcm1hbmNlXTtcclxuICB9O1xyXG5cclxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jIChzZWxlY3Rpb24pID0+IHtcclxuICAgIGxldCB0cmlnZ2VyTmV4dCA9IHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J107XHJcbiAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvY2Vzc1RyaWdnZXJOZXh0KHRyaWdnZXJOZXh0KSk7XHJcbiAgICBjb25zdCBbYWNjQ29zdCwgYWNjUGVyZm9ybWFuY2VdID0gY2FsY3VsYXRlVG90YWxTZWxlY3Rpb24oc2VsZWN0aW9uKTtcclxuXHJcbiAgICBwcm9wcy51cGRhdGVEb2xsYXJzKHBhcnNlSW50KGFjY0Nvc3QpKTtcclxuICAgIHByb3BzLnVwZGF0ZVBlcmZvcm1hbmNlKGFjY1BlcmZvcm1hbmNlKTtcclxuICAgIHJlc2V0U2VsZWN0aW9uKCk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcclxuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2aW91cyBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcclxuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHByb3BzLmN1ckluZGV4IC0gMSk7XHJcbiAgICB9XHJcbiAgICByZXNldFNlbGVjdGlvbigpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCB1cGRhdGVTZWxlY3RlZCA9IChldmVudCwgaW5kZXgsIGNvc3QsIHBlcmZvcm1hbmNlKSA9PiB7XHJcbiAgICBsZXQgbmV3QXJyYXkgPSBbLi4uc2VsZWN0aW9uXTtcclxuICAgIGlmKHNlbGVjdGlvbltpbmRleF0pe1xyXG4gICAgICAvLyBVbnNlbGVjdFxyXG4gICAgICBuZXdBcnJheVtpbmRleF0gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgLy8gU2VsZWN0XHJcbiAgICAgIG5ld0FycmF5W2luZGV4XSA9IHtcclxuICAgICAgICBvYmo6IGV2ZW50LnRhcmdldCxcclxuICAgICAgICBjb3N0OiBwYXJzZUludChjb3N0KSxcclxuICAgICAgICBwZXJmb3JtYW5jZTogcGVyZm9ybWFuY2VcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIHNldFNlbGVjdGlvbihuZXdBcnJheSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBwcm9jZXNzVHJpZ2dlck5leHQgPSAodHJpZ2dlck5leHR0b0NvbXB1dGUpID0+IHtcclxuICAgIGxldCBjaG9zZW5TdHJpbmc7XHJcbiAgICBjb25zdCBzcGxpdHRlZFRyaWdnZXJOZXh0ID0gU3RyaW5nKHRyaWdnZXJOZXh0dG9Db21wdXRlKS5zcGxpdChcIl9cIik7XHJcbiAgICBjb25zdCBpbmRpdmlkdWFsVHJpZ2dlck5leHQgPSBTdHJpbmcoc3BsaXR0ZWRUcmlnZ2VyTmV4dFswXSkuc3BsaXQoXCI7XCIpO1xyXG4gICAgY29uc3QgZmlsdGVyZWRTZWxlY3Rpb24gPSBzZWxlY3Rpb24uZmlsdGVyKChlbGVtKSA9PiBlbGVtICE9PSBudWxsKTtcclxuICAgIGlmKHNwbGl0dGVkVHJpZ2dlck5leHQubGVuZ3RoID4gMSAmJiBmaWx0ZXJlZFNlbGVjdGlvbi5sZW5ndGggPiAwKXtcclxuICAgICAgLy8gSW5kaXZpZHVhbCBhbmQgZGVmYXVsdCB2YWx1ZXMgYXJlIGF2YWlsYWJsZVxyXG4gICAgICBpZihmaWx0ZXJlZFNlbGVjdGlvbi5sZW5ndGggPiAxKXtcclxuICAgICAgICAvLyByZXR1cm4gZGVmYXVsdCBjaG9pY2VcclxuICAgICAgICBjaG9zZW5TdHJpbmcgPSBTdHJpbmcoc3BsaXR0ZWRUcmlnZ2VyTmV4dFsxXSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBjaG9zZW5TdHJpbmcgPSBTdHJpbmcoaW5kaXZpZHVhbFRyaWdnZXJOZXh0W3NlbGVjdGlvbi5pbmRleE9mKGZpbHRlcmVkU2VsZWN0aW9uWzBdKV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICBjaG9zZW5TdHJpbmcgPSBTdHJpbmcoc3BsaXR0ZWRUcmlnZ2VyTmV4dFswXSk7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygnY2hlY2tpbmcgY2hvc2VuU3RyaW5nOicsIGNob3NlblN0cmluZyk7XHJcbiAgICByZXR1cm4gY2hvc2VuU3RyaW5nLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVuZGVySmV0b25UZXh0ID0gKGpldG9uVmFsdWUpID0+IHtcclxuICAgIGlmKE1hdGguYWJzKGpldG9uVmFsdWUpPjEpe1xyXG4gICAgICByZXR1cm4gYCR7cmVuZGVyU2lnbihqZXRvblZhbHVlKX0ke01hdGguYWJzKGpldG9uVmFsdWUpfSZuYnNwO0pFVE9OU2A7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYCR7cmVuZGVyU2lnbihqZXRvblZhbHVlKX0ke01hdGguYWJzKGpldG9uVmFsdWUpfSZuYnNwO0pFVE9OYDtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNoZWNrSWZGdWxsWmVybyA9ICgpID0+IHtcclxuICAgIGNvbnN0IGNvc3RzID0gcHJvcHMuY2hvaWNlc192YWx1ZXMubWFwKChlbGVtLCBpZHgpID0+IHtcclxuICAgICAgcmV0dXJuIHBhcnNlSW50KGVsZW0uc3BsaXQoXCJfXCIpWzBdKTtcclxuICAgIH0pLmZpbHRlcih2YWwgPT4gIU51bWJlci5pc05hTih2YWwpKTtcclxuICAgIHJldHVybiBjb3N0cy5ldmVyeShpdGVtID0+IGl0ZW0gPT09IDApO1xyXG4gIH07XHJcblxyXG4gIHJldHVybihcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hvaWNlc1wiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHByb3BzLmNob2ljZXMubWFwKChjaG9pY2UsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjb3N0ID0gcHJvcHMuY2hvaWNlc192YWx1ZXNbaW5kZXhdLnNwbGl0KCdfJylbMF07XHJcbiAgICAgICAgICAgIGxldCBwZXJmb3JtYW5jZSA9IGNhbGN1bGF0ZVBlcmZvcm1hbmNlKHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3Rpb25idXR0b25cIiBrZXk9e2luZGV4fSBvbkNsaWNrPXsoZSkgPT4ge3VwZGF0ZVNlbGVjdGVkKGUsIGluZGV4LCBjb3N0LCBwZXJmb3JtYW5jZSl9fT5cclxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9e2luZGV4fSBjbGFzc05hbWU9e2BidXRuICR7c2VsZWN0aW9uW2luZGV4XSA/ICdzZWxlY3RlZCcgOiAnJ31gfT5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Bob2xkZXIgaWNvbiAke3NlbGVjdGlvbltpbmRleF0gPyAnc2VsZWN0ZWQnIDogJyd9YH0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWdcclxuICAgICAgICAgICAgICAgICAgICAgIHNyYz17c2VsZWN0aW9uW2luZGV4XSA/IFwiYXNzZXRzL2ltZy9QbHVzLU9mZi5zdmdcIiA6IFwiYXNzZXRzL2ltZy9QbHVzLU9uLnN2Z1wifVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob2xkZXIgbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxoND57Y2hvaWNlfTwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrSWZGdWxsWmVybygpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPntwYXJzZShyZW5kZXJKZXRvblRleHQoY29zdCkpfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPE1vbml0b3Jpbmcgc2hvd1RXaD17ZmFsc2V9IGRvbGxhcnM9eyhzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmxlbmd0aCA+IDApID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQocHJvcHMuZ2F1Z2VzLnByb3BzLmRvbGxhcnMpICsgcGFyc2VJbnQoY2FsY3VsYXRlVG90YWxTZWxlY3Rpb24oc2VsZWN0aW9uKVswXSkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFyc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0dGVkPXsoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5sZW5ndGggPiAwICYmIHBhcnNlSW50KGNhbGN1bGF0ZVRvdGFsU2VsZWN0aW9uKHNlbGVjdGlvbilbMF0pIDwgMCkgPyBNYXRoLmFicyhwYXJzZUludChjYWxjdWxhdGVUb3RhbFNlbGVjdGlvbihzZWxlY3Rpb24pWzBdKSkgOiAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XHJcbiAgICAgICAgICB7cHJvcHMuY3VySW5kZXggPiAwID9cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gcHJldlwiIG9uQ2xpY2s9e3ByZXZpb3VzUHJvbXB0fT5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cclxuICAgICAgICAgICAgICAgIDxwPlByZXZpb3VzPC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICA8ZGl2PjwvZGl2PlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjdGlvbmJ1dHRvbiBuZXh0ICR7c2VsZWN0aW9uID8gJycgOiAnZGlzYWJsZWQnfWB9IG9uQ2xpY2s9eygpID0+IHtzZWxlY3Rpb24gPyBuZXh0UHJvbXB0KHNlbGVjdGlvbikgOiBjb25zb2xlLmxvZygnRGlzYWJsZWQuJyl9fT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XHJcbiAgICAgICAgICAgICAgPHA+UG91cnN1aXZyZTwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTW9uaXRvcmluZyB9IGZyb20gXCIuLi9nYXVnZXMvTW9uaXRvcmluZ1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gUHJpbnRQcm9tcHQocHJvcHMpe1xuXG4gIGNvbnN0IHByZXZpb3VzUHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBpZihwcm9wcy5jdXJJbmRleCA+IDApe1xuICAgICAgY29uc29sZS5sb2coJ3ByZXYgcHJvbXB0IScsIHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgICBwcm9wcy5jaGFuZ2VQcm9tcHQocHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J107XG5cbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgdHJpZ2dlciBuZXh0OiAnLCB0cmlnZ2VyTmV4dCk7XG4gICAgcHJvcHMuY2hhbmdlUHJvbXB0KHRyaWdnZXJOZXh0KTtcblxuICB9KTtcblxuICBjb25zdCBnYW1lUmVzZXQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIHByb3BzLmdhbWVSZXNldCgpO1xuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpbnRwcm9tcHRcIj5cbiAgICAgIHtcbiAgICAgICAgcHJvcHMubWVzc2FnZSAhPT0gXCJcIiA/XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlXCI+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge3Byb3BzLm1lc3NhZ2V9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDpcbiAgICAgICAgICBcIlwiXG4gICAgICB9XG4gICAgICB7XG4gICAgICAgIHByb3BzLmN1ckluZGV4ID09PSBcIjFcIiA/XG4gICAgICAgIDxNb25pdG9yaW5nIHRyYW5zaXRpb249e3RydWV9IHNob3dUV2g9e2ZhbHNlfSBkb2xsYXJzPXtwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0dGVkPXswfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZT17cHJvcHMuZ2F1Z2VzLnByb3BzLnBlcmZvcm1hbmNlfS8+XG4gICAgICAgIDpcbiAgICAgICAgXCJcIlxuICAgICAgfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gcHJldlwiIG9uQ2xpY2s9e3ByZXZpb3VzUHJvbXB0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgPHA+UHJldmlvdXM8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICB7XG4gICAgICAgIHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J10gPT09IFwiU1RBUlRPVkVSXCIgP1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIG5leHRcIiBvbkNsaWNrPXtnYW1lUmVzZXR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICAgIDxwPlJlY29tbWVuY2VyPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgOlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIG5leHRcIiBvbkNsaWNrPXtuZXh0UHJvbXB0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgICAgICA8cD5Qb3Vyc3VpdnJlPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICB9XG4gICAgPC9kaXY+XG4pXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBHYXVnZXMgfSBmcm9tIFwiLi4vZ2F1Z2VzL0dhdWdlc1wiO1xuaW1wb3J0IHsgTW9uaXRvcmluZyB9IGZyb20gXCIuLi9nYXVnZXMvTW9uaXRvcmluZ1wiO1xuaW1wb3J0IHsgZ2V0Q29ycmVjdEljb25Tb3VyY2UgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gUmVwYXJ0aXRpb24ocHJvcHMpe1xuXG4gIGNvbnN0IFtqZXRvbnMsIHNldEpldG9uc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3RlcmF3YXR0cywgc2V0VGVyYXdhdHRzXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbb3RoZXJQZXJmb01ldHJpY3MsIHNldE90aGVyUGVyZm9NZXRyaWNzXSA9IHVzZVN0YXRlKFswLDBdKTtcbiAgY29uc3QgW3VuaXRzLCBzZXRVbml0c10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFt0b2tlbnNQZXJVbml0LCBzZXRUb2tlbnNQZXJVbml0XSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgbWF4VG9rZW5zID0gMjU7XG4gIGNvbnN0IG51Y2xlYXJJbmRleCA9IDI7XG4gIGNvbnN0IGRhbUluZGV4ID0gMDtcblxuICB1c2VFZmZlY3QoICgpID0+IHtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25QYXJhbXMoKTtcbiAgICBjb25zdCBuZXdVbml0cyA9IG9wdGlvbnMubWFwKCgpID0+IDApO1xuICAgIGNvbnN0IHRva2Vuc1BlclVuaXQgPSBvcHRpb25zLm1hcChlbGVtID0+IE1hdGguYWJzKGVsZW0udW5pdFZhbHVlKSk7XG4gICAgc2V0VW5pdHMobmV3VW5pdHMpO1xuICAgIHNldFRva2Vuc1BlclVuaXQodG9rZW5zUGVyVW5pdCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoICgpID0+IHtcbiAgICBsZXQgbmV3SmV0b25zID0gdW5pdHMucmVkdWNlKFxuICAgICAgKGFjYywgY3VyVmFsLCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgY3VyT3B0aW9uUGFyYW1zID0gZ2V0T3B0aW9uUGFyYW1zKClbaW5kZXhdO1xuICAgICAgICByZXR1cm4gYWNjICsgTWF0aC5hYnMoY3VyVmFsKTtcbiAgICAgIH0sMCk7XG4gICAgbGV0IG5ld01XID0gdW5pdHMucmVkdWNlKFxuICAgICAgKGFjYywgY3VyVmFsLCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgY3VyT3B0aW9uUGFyYW1zID0gZ2V0T3B0aW9uUGFyYW1zKClbaW5kZXhdO1xuICAgICAgICByZXR1cm4gYWNjICsgTWF0aC5yb3VuZChNYXRoLmFicyhjdXJWYWwvY3VyT3B0aW9uUGFyYW1zW1widW5pdFZhbHVlXCJdKSpjdXJPcHRpb25QYXJhbXNbXCJ1bml0VFdodmFsdWVcIl0pO1xuICAgICAgfSwwKTtcbiAgICAvL2NhbGN1bGF0ZSBvdGhlciBwZXJmb3JtYW5jZSBtZXRyaWNzIGFnZ3JlZ2F0aW9uXG4gICAgbGV0IG5ld090aGVyUGVyZm9NZXRyaWNzID0gWzAsMF07XG4gICAgdW5pdHMuZm9yRWFjaCgoY3VyVmFsLCBjb3VudCkgPT4ge1xuICAgICAgbGV0IGN1ck9wdGlvblBhcmFtcyA9IGdldE9wdGlvblBhcmFtcygpW2NvdW50XTtcbiAgICAgIG5ld090aGVyUGVyZm9NZXRyaWNzID0gbmV3T3RoZXJQZXJmb01ldHJpY3MubWFwKChlbGVtLCBpZHgpID0+IHtcbiAgICAgICAgaWYoaWR4ID09PSAwKXtcbiAgICAgICAgICByZXR1cm4gZWxlbSArIE1hdGguYWJzKGN1clZhbC9jdXJPcHRpb25QYXJhbXNbXCJ1bml0VmFsdWVcIl0pKmN1ck9wdGlvblBhcmFtc1tcInVuaXRFbnZpcm92YWx1ZVwiXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGlkeCA9PT0gMSl7XG4gICAgICAgICAgcmV0dXJuIGVsZW0gKyBNYXRoLmFicyhjdXJWYWwvY3VyT3B0aW9uUGFyYW1zW1widW5pdFZhbHVlXCJdKSpjdXJPcHRpb25QYXJhbXNbXCJ1bml0UG9wdXZhbHVlXCJdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBzZXRKZXRvbnMobmV3SmV0b25zKTtcbiAgICBzZXRUZXJhd2F0dHMobmV3TVcpO1xuICAgIHNldE90aGVyUGVyZm9NZXRyaWNzKG5ld090aGVyUGVyZm9NZXRyaWNzKTtcbiAgfSwgW3VuaXRzXSk7XG5cbiAgY29uc3QgcHJldmlvdXNQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGlmKHByb3BzLmN1ckluZGV4ID4gMCl7XG4gICAgICBjb25zb2xlLmxvZygncHJldiBwcm9tcHQhJywgcHJvcHMuY3VySW5kZXggLSAxKTtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgbmV4dFByb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHNwbGl0dGVkVHJpZ2dlck5leHQgPSBTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydUcmlnZ2VyX25leHQnXSkuc3BsaXQoXCJfXCIpO1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IFN0cmluZyhzcGxpdHRlZFRyaWdnZXJOZXh0WzBdKS5zcGxpdChcIjtcIik7XG5cbiAgICBpZihwcm9wcy5jdXJQcm9tcHRbXCJJRFwiXSA9PT0gXCJRMVwiICYmIHVuaXRzW2RhbUluZGV4XSA+IDApe1xuICAgICAgcHJvcHMudXBkYXRlTWVtb3J5T2JqKFwiYnVpbHREYW1cIiwgdHJ1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYodW5pdHNbZGFtSW5kZXhdID4gMCl7XG4gICAgICBwcm9wcy51cGRhdGVNZW1vcnlPYmooXCJidWlsdFNlY29uZERhbVwiLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZih1bml0c1tudWNsZWFySW5kZXhdID4gMCl7XG4gICAgICAvL01ha2UgcGxheWVyIGRpZSwgbnVjbGVhciB3YXMgc2VsZWN0ZWRcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChTdHJpbmcodHJpZ2dlck5leHRbbnVjbGVhckluZGV4XSkucmVwbGFjZSgvKFxcclxcbnxcXG58XFxyKS9nbSwgXCJcIikpO1xuICAgIH1cbiAgICBlbHNlIGlmKHRyaWdnZXJOZXh0Lmxlbmd0aCA9PSAxKXtcbiAgICAgIHByb3BzLmNoYW5nZVByb21wdChTdHJpbmcodHJpZ2dlck5leHQpLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpKTtcbiAgICB9XG4gICAgZWxzZSBpZih0cmlnZ2VyTmV4dC5sZW5ndGggPiAxKXtcbiAgICAgIGNvbnNvbGUubG9nKCdjaGVja2luZyBub24gdW5pcXVlOicsIG5vblVuaXF1ZSh1bml0cykpO1xuICAgICAgaWYobm9uVW5pcXVlKHVuaXRzKSl7XG4gICAgICAgIC8vIFNvbWUgdmFsdWVzIGFyZSBlcXVhbC4gSGllcmFyY2hpemVcbiAgICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KGhpZXJhcmNoaXplVW5pdHModHJpZ2dlck5leHQsIHNwbGl0dGVkVHJpZ2dlck5leHRbMV0pKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIC8vIEFsbCB2YWx1ZXMgYXJlIGRpZmZlcmVudCwgaGVuY2UgdHJpZ2dlciBjb25jb3JkaW5nIG5leHQgcHJvbXB0XG4gICAgICAgIGxldCBpbmRleE9mTWF4VmFsdWUgPSB1bml0cy5yZWR1Y2UoKGlNYXgsIHgsIGksIGFycikgPT4geCA+IGFycltpTWF4XSA/IGkgOiBpTWF4LCAwKTtcbiAgICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KFN0cmluZyh0cmlnZ2VyTmV4dFtpbmRleE9mTWF4VmFsdWVdKS5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLCBcIlwiKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHByb3BzLnVwZGF0ZURvbGxhcnMoLWpldG9ucyk7XG4gICAgcHJvcHMudXBkYXRlUGVyZm9ybWFuY2UoW3RlcmF3YXR0c10uY29uY2F0KG90aGVyUGVyZm9NZXRyaWNzKSk7XG4gIH0pO1xuXG4gIGNvbnN0IG5vblVuaXF1ZSA9IGEgPT4gbmV3IFNldChhKS5zaXplICE9PSBhLmxlbmd0aDtcblxuICBjb25zdCBwcm9jZXNzQ2hvaWNlcyA9IChjaG9pY2UsIGNob2ljZXNfdmFsdWVzKSA9PiB7XG4gICAgY29uc3Qgc3BsaXR0ZWRDaG9pY2VzID0gY2hvaWNlc192YWx1ZXMuc3BsaXQoJ18nKTtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogY2hvaWNlLFxuICAgICAgdW5pdFZhbHVlOiBwYXJzZUludChzcGxpdHRlZENob2ljZXNbMF0pLFxuICAgICAgdW5pdFRXaHZhbHVlOiBwYXJzZUludChzcGxpdHRlZENob2ljZXNbMV0pLFxuICAgICAgdW5pdEVudmlyb3ZhbHVlOiBwYXJzZUludChzcGxpdHRlZENob2ljZXNbMl0pLFxuICAgICAgdW5pdFBvcHV2YWx1ZTogcGFyc2VJbnQoc3BsaXR0ZWRDaG9pY2VzWzNdKSxcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRPcHRpb25QYXJhbXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHByb3BzLmNob2ljZXMubWFwKChjaG9pY2UsIGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gcHJvY2Vzc0Nob2ljZXMoY2hvaWNlLCBwcm9wcy5jaG9pY2VzX3ZhbHVlc1tpbmRleF0pO1xuICAgIH0pXG4gIH1cblxuICBjb25zdCBjaGVja0lmRnVsbCA9IChuZXdBZGRpdGlvbikgPT4ge1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgdW5pdHMuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICB0b3RhbCArPSB2YWx1ZTtcbiAgICB9KTtcbiAgICBpZih0b3RhbCtuZXdBZGRpdGlvbiA+IG1heFRva2Vucyl7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBjaGVja0hpZGVCdXR0b24gPSAoaWR4KSA9PiB7XG4gICAgY29uc3Qgb3B0aW9uUGFyYW1zID0gZ2V0T3B0aW9uUGFyYW1zKClbaWR4XTtcbiAgICBjb25zdCBjdXJVbml0VmFsdWUgPSBNYXRoLmFicyh1bml0c1tpZHhdKTtcbiAgICBsZXQgaGlkZUJ1dHRvbiA9IFtmYWxzZSxmYWxzZV07XG4gICAgaWYoY3VyVW5pdFZhbHVlID09PSAwKXtcbiAgICAgIC8vIENoZWNrIGZvciBsb3dlciBib3VuZGFyeVxuICAgICAgaGlkZUJ1dHRvblswXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGhpZ2hlciBib3VuZGFyeVxuICAgIGlmKGpldG9ucytwYXJzZUludChNYXRoLmFicyhvcHRpb25QYXJhbXMudW5pdFZhbHVlKSkgPiBtYXhUb2tlbnMpe1xuICAgICAgaGlkZUJ1dHRvblsxXSA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhpZGVCdXR0b247XG5cbiAgfVxuXG4gIGNvbnN0IHJlbmRlckpldG9uVGV4dCA9IChqZXRvblZhbHVlKSA9PiB7XG4gICAgaWYoTWF0aC5hYnMoamV0b25WYWx1ZSk+MSl7XG4gICAgICByZXR1cm4gYCR7TWF0aC5hYnMoamV0b25WYWx1ZSl9Jm5ic3A7amV0b25zYDtcbiAgICB9XG4gICAgcmV0dXJuIGAke01hdGguYWJzKGpldG9uVmFsdWUpfSZuYnNwO2pldG9uYDtcbiAgfVxuXG4gIGNvbnN0IG1vZGlmeU9uQ2xpY2sgPSAoZSwgaW5kZXgsIGRpZmYsIGVsZW0pID0+IHtcbiAgICBsZXQgbmV3QXJyYXkgPSBbLi4udW5pdHNdO1xuICAgIGlmKChuZXdBcnJheVtpbmRleF0rZGlmZip0b2tlbnNQZXJVbml0W2luZGV4XSkgPj0gMCl7XG4gICAgICBpZihkaWZmID4gMClcbiAgICAgIHtcbiAgICAgICAgaWYoIWNoZWNrSWZGdWxsKGRpZmYqdG9rZW5zUGVyVW5pdFtpbmRleF0pKXtcbiAgICAgICAgICBuZXdBcnJheVtpbmRleF0gPSBuZXdBcnJheVtpbmRleF0gKyBkaWZmKnRva2Vuc1BlclVuaXRbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICBuZXdBcnJheVtpbmRleF0gPSBuZXdBcnJheVtpbmRleF0gKyBkaWZmKnRva2Vuc1BlclVuaXRbaW5kZXhdO1xuICAgICAgfVxuICAgICAgc2V0VW5pdHMobmV3QXJyYXkpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNoZWNrSWZaZXJvID0gKCkgPT4ge1xuICAgIHJldHVybiBqZXRvbnMgPiAwO1xuICB9XG5cbiAgY29uc3QgaGllcmFyY2hpemVVbml0cyA9ICh0cmlnZ2VyTmV4dCwgZGVmYXVsdE5leHQpID0+IHtcblxuICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KC4uLnVuaXRzKTtcbiAgICBjb25zdCByZXMgPSBbXTtcbiAgICB1bml0cy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gaXRlbSA9PT0gbWF4ID8gcmVzLnB1c2goaW5kZXgpOiBudWxsKTtcbiAgICBsZXQgY2hvc2VuU3RyaW5nO1xuICAgIGlmKHJlcy5sZW5ndGggPiAxKXtcbiAgICAgIC8vTWF4IGlzIG11bHRpcGxlLCBoaWVyYXJjaGl6ZVxuICAgICAgLy8gQmFycmFnZXMgaW5kZXggaXMgMFxuICAgICAgLy8gRW9saWVuIGluZGV4IGlzIDFcbiAgICAgIC8vIElmIGVxdWFsaXR5IHdpdGggb25seSBvdGhlcnMsIHNraXAgcXVlc3Rpb24uXG5cbiAgICAgIGlmKHJlcy5pbmNsdWRlcygwKSl7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcXVhbCBtYXggdW5pdHMgY29udGFpbnMgYmFycmFnZXMnKTtcbiAgICAgICAgY2hvc2VuU3RyaW5nID0gU3RyaW5nKHRyaWdnZXJOZXh0WzBdKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYocmVzLmluY2x1ZGVzKDEpKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2VxdWFsIG1heCB1bml0cyBjb250YWlucyBlb2xpZW5zJyk7XG4gICAgICAgIGNob3NlblN0cmluZyA9IFN0cmluZyh0cmlnZ2VyTmV4dFsxXSk7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICBjb25zb2xlLmxvZygnZXF1YWxpdHkgYmV0d2VlbiBub24gaW1wb3J0YW50IGNob2ljZXMnKTtcbiAgICAgICAgY2hvc2VuU3RyaW5nID0gU3RyaW5nKGRlZmF1bHROZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIGNob3NlblN0cmluZyA9IFN0cmluZyh0cmlnZ2VyTmV4dFtyZXNbMF1dKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvc2VuU3RyaW5nLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sIFwiXCIpO1xuXG4gIH1cblxuICBjb25zdCByZW5kZXJSb3dzID0gKGNob2ljZXMpID0+IHtcbiAgICByZXR1cm4gY2hvaWNlcy5tYXAoIChlbGVtLGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9wdGlvblVuaXRcIiBrZXk9e2luZGV4fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdG9yWm9uZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BkaXZpc2lvbiBtaW51c1pvbmUgJHtjaGVja0hpZGVCdXR0b24oaW5kZXgpWzBdID8gJ2Rpc2FibGVkJzonJ31gfSBvbkNsaWNrPXsoZSkgPT4gbW9kaWZ5T25DbGljayhlLCBpbmRleCwgLTEsIGVsZW0pfT5cbiAgICAgICAgICAgICAgPGgzPi08L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpdmlzaW9uIGNlbnRyYWxab25lXCI+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAodW5pdHNbaW5kZXhdID09PSB1bmRlZmluZWQgfHwgdW5pdHNbaW5kZXhdID09PSAwKSA/XG4gICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgc3JjPXtgYXNzZXRzL2ltZy8ke2dldENvcnJlY3RJY29uU291cmNlKGluZGV4KX1gfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIDxoMz57dW5pdHNbaW5kZXhdfTwvaDM+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BkaXZpc2lvbiBwbHVzWm9uZSAke2NoZWNrSGlkZUJ1dHRvbihpbmRleClbMV0gPyAnZGlzYWJsZWQnOicnfWB9IG9uQ2xpY2s9eyhlKSA9PiBtb2RpZnlPbkNsaWNrKGUsIGluZGV4LCAxLCBlbGVtKX0+XG4gICAgICAgICAgICAgIDxoMz4rPC9oMz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dFpvbmVcIj5cbiAgICAgICAgICAgIDxoMz57ZWxlbS5uYW1lfTwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZXRleHRcIj5cbiAgICAgICAgICAgICAgPHA+e3BhcnNlKHJlbmRlckpldG9uVGV4dChlbGVtLnVuaXRWYWx1ZSkpfSZuYnNwOyYjODIyNjsmbmJzcDt7ZWxlbS51bml0VFdodmFsdWV9IFRXaDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVwYXJ0aXRpb25cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3B0aW9uWm9uZVwiPlxuICAgICAgICB7XG4gICAgICAgICAgcmVuZGVyUm93cyhwcm9wcy5jaG9pY2VzLm1hcCgoZSwgaW5kZXgpID0+IHByb2Nlc3NDaG9pY2VzKGUsIHByb3BzLmNob2ljZXNfdmFsdWVzW2luZGV4XSkpKVxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxNb25pdG9yaW5nIHNlcGFyYXRpb249e3Byb3BzLmN1clByb21wdFtcIklEXCJdID09PSBcIlExXCIgPyB0cnVlOmZhbHNlfSBzaG93VFdoPXt0cnVlfSBkb2xsYXJzPXtwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFycy1qZXRvbnN9IGNvbW1pdHRlZD17amV0b25zfSB0ZXJhd2F0dHM9e3RlcmF3YXR0c30vPlxuICAgICAge3Byb3BzLmN1ckluZGV4ID4gMCA/XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIHByZXZcIiBvbkNsaWNrPXtwcmV2aW91c1Byb21wdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgICA8cD5QcmV2aW91czwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDpcbiAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgIH1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWN0aW9uYnV0dG9uIG5leHQgJHtjaGVja0lmWmVybygpPyAnJyA6ICdkaXNhYmxlZCd9YH0gb25DbGljaz17bmV4dFByb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlBvdXJzdWl2cmU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IGQzVGlwIGZyb20gJ2QzLXRpcCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBNYXBOYXZpZ2F0b3IocHJvcHMpe1xuXG4gIGNvbnN0IFtzZWxlY3Rpb24sIHNldFNlbGVjdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldHVwT25DbGljaygpO1xuICB9LFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmKHNlbGVjdGlvbil7XG4gICAgICBkMy5zZWxlY3QoJy5wb3BVcC1iZycpLnN0eWxlKCdkaXNwbGF5JywgJ3Vuc2V0Jyk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBkMy5zZWxlY3QoJy5wb3BVcC1iZycpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICB9XG4gIH0sIFtzZWxlY3Rpb25dKTtcblxuICBjb25zdCB0aXAgPSBkM1RpcCgpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2QzLXRpcCBhZGp1c3RlZCcpXG4gICAgICAgICAgICAgICAgLmRpcmVjdGlvbignbicpXG4gICAgICAgICAgICAgICAgLmh0bWwoKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnb3QgZDogJywgZCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgICAgICAgPGg0PiR7ZC50aXRsZX08L2g0PlxuICAgICAgICAgICAgICAgICAgPHA+JHtkLnN1cHBfdGV4dH08L3A+XG4gICAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gIGNvbnN0IHNldHVwT25DbGljayA9ICgpID0+IHtcbiAgICBQcm9taXNlLmFsbChbXG4gICAgICBkMy54bWwocHJvcHMubWFwWzBdKSxcbiAgICAgIGQzLnhtbChwcm9wcy5tYXBbMV0pXG4gICAgXSkudGhlbigoW2JnTWFwLCBpY29uT05NYXBdKSA9PiB7XG4gICAgICBkMy5zZWxlY3QoJyNiZy1tYXAnKS5ub2RlKClcbiAgICAgICAgLmFwcGVuZChiZ01hcC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgZDMuc2VsZWN0KCcjb24taWNvbnMnKS5ub2RlKClcbiAgICAgICAgLmFwcGVuZChpY29uT05NYXAuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgIGNvbnN0IE9uSWNvbnNTVkcgPSBkMy5zZWxlY3QoJyNvbi1pY29ucycpLnNlbGVjdCgnc3ZnJyk7XG4gICAgICBPbkljb25zU1ZHLmNhbGwodGlwKTtcbiAgICAgIGQzLnNlbGVjdCgnLmdhbWVTY3JlZW4nKS5ub2RlKCkuYXBwZW5kQ2hpbGQoXG4gICAgICAgIGQzLnNlbGVjdCgnLmQzLXRpcCcpLm5vZGUoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGdCdXR0b25zID0gT25JY29uc1NWRy5zZWxlY3QoJyNJY29uZS1PbicpLnNlbGVjdEFsbCgnZycpO1xuICAgICAgY29uc3QgdGl0bGVzID0gU3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXgnXSkuc3BsaXQoJzsnKTtcbiAgICAgIGNvbnN0IHN1cHBfdGV4dHMgPSBTdHJpbmcocHJvcHMubWVzc2FnZSkuc3BsaXQoJzsnKTtcbiAgICAgIGdCdXR0b25zLm5vZGVzKCkucmV2ZXJzZSgpLm1hcCgobm9kZSxjb3VudCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJUaXBEYXRhID0ge1xuICAgICAgICAgICAgdGl0bGU6IHRpdGxlc1tjb3VudF0sXG4gICAgICAgICAgICBzdXBwX3RleHQ6IHN1cHBfdGV4dHNbY291bnRdXG4gICAgICAgICAgfVxuICAgICAgICBkMy5zZWxlY3Qobm9kZSlcbiAgICAgICAgLm9uKCdjbGljaycsIChkLGksbm9kZXMpID0+IHtcbiAgICAgICAgICBkLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHRpcC5zaG93KGN1clRpcERhdGEsIG5vZGUpO1xuICAgICAgICAgIHRvZ2dsZUljb24oZC50YXJnZXQucGFyZW50RWxlbWVudCwgZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIChkLGksbm9kZXMpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tpbmcgZDogJywgZC50YXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgZC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB0aXAuc2hvdyhjdXJUaXBEYXRhLG5vZGUpO1xuICAgICAgICAgIHRvZ2dsZUljb24oZC50YXJnZXQucGFyZW50RWxlbWVudCwgZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgICAub24oJ21vdXNlb3V0JywgKGQsaSxub2RlcykgPT4ge1xuICAgICAgICAgIHRpcC5oaWRlKG5vZGUpO1xuICAgICAgICAgIHRvZ2dsZUljb24oZC50YXJnZXQucGFyZW50RWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBkMy5zZWxlY3QoXCIuZ2FtZUJveFwiKS5vbignY2xpY2snLCAoKSA9PiB7dGlwLmhpZGUoKX0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZUljb24gPSAoaWNvbk9iaiwgc3RhdHVzKSA9PiB7XG4gICAgaWYoc3RhdHVzID09PSBmYWxzZSl7XG4gICAgICBkMy5zZWxlY3QoaWNvbk9iaikuc3R5bGUoJ29wYWNpdHknLCAwKTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIGQzLnNlbGVjdChpY29uT2JqKS5zdHlsZSgnb3BhY2l0eScsIDEpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwcmV2aW91c1Byb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgaWYocHJvcHMuY3VySW5kZXggPiAwKXtcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2IHByb21wdCEnLCBwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJpZ2dlck5leHQgPSBwcm9wcy5jdXJQcm9tcHRbJ1RyaWdnZXJfbmV4dCddO1xuXG4gICAgY29uc29sZS5sb2coJ0NoZWNraW5nIHRyaWdnZXIgbmV4dDogJywgdHJpZ2dlck5leHQpO1xuICAgIHByb3BzLmNoYW5nZVByb21wdCh0cmlnZ2VyTmV4dCk7XG5cbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgPGRpdiBjbGFzc05hbWU9XCJwcmludHByb21wdCBtYXBuYXZpZ2F0b3JcIj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvcFVwLWJnXCI+XG4gICAgICB7IHNlbGVjdGlvbiA/XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvcFVwLWJveFwiPlxuICAgICAgICA8aDQ+e3NlbGVjdGlvbi50aXRsZX08L2g0PlxuICAgICAgICA8cD57c2VsZWN0aW9uLnN1cHBfdGV4dH08L3A+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uXCIgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0aW9uKG51bGwpfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgIDxwPkZlcm1lcjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDpcbiAgICAgIDxkaXY+PC9kaXY+XG4gICAgICB9XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYXBIb2xkZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VwZXJwb3NlZE1hcFwiPlxuICAgICAgICA8ZGl2IGlkPVwiYmctbWFwXCIgY2xhc3NOYW1lPVwibWFwIG5vQ2xpY2tcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBpZD1cIm9uLWljb25zXCIgY2xhc3NOYW1lPVwibWFwXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBwcmV2XCIgb25DbGljaz17cHJldmlvdXNQcm9tcHR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgIDxwPlByZXZpb3VzPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gbmV4dFwiIG9uQ2xpY2s9e25leHRQcm9tcHR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgIDxwPlN1aXZhbnQ8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCwge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEJpbGFuKHByb3BzKXtcblxuICBjb25zdCBkYW1UV2ggPSA5O1xuICBjb25zdCBuZWVkc0luY3JlYXNlVFdoID0gMTA7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZ290IGJpbGFuIDogJywgcHJvcHMuY3VyUHJvbXB0KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IG5leHRQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J107XG5cbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgdHJpZ2dlciBuZXh0OiAnLCB0cmlnZ2VyTmV4dCk7XG4gICAgcHJvcHMuY2hhbmdlUHJvbXB0KHRyaWdnZXJOZXh0KTtcblxuICB9KTtcblxuICBjb25zdCBwcm9jZXNzQmlsYW4xID0gKCkgPT4ge1xuICAgIGxldCB0ZXh0Q29udGVudEFycmF5ID0gcHJvcHMuY3VyUHJvbXB0W1wiVGV4dGVcIl0uc3BsaXQoJzsnKTtcbiAgICBsZXQgdGV4dFN1cHBBcnJheSA9IHByb3BzLmN1clByb21wdFtcIlRleHRlX1N1cHBcIl0uc3BsaXQoJzsnKTtcbiAgICBsZXQgcHJvY2Vzc2VkQ29udGVudCA9IFtdO1xuICAgIC8vIGdlbmVyaWMgdGV4dFxuICAgIGNvbnN0IGRhbUVuZXJneSA9IHByb3BzLm1lbW9yeU9iai5idWlsdERhbSA/IGRhbVRXaCA6IDA7XG4gICAgY29uc3QgYWRqdXN0ZWRQcm9kdWN0aW9uVmFsdWUgPSBwYXJzZUludChwcm9wcy5wZXJmb3JtYW5jZVswXSkgLSBkYW1FbmVyZ3k7XG4gICAgY29uc3QgY3VyRG9sbGFycyA9IHBhcnNlSW50KHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzKTtcblxuICAgIGxldCBnZW5lcmljVGV4dCA9IHRleHRDb250ZW50QXJyYXlbMF0ucmVwbGFjZSgnKm5ld1Byb2QqJywgYWRqdXN0ZWRQcm9kdWN0aW9uVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnKmF1Z21lbnRlZGltaW51ZSonLCBhZGp1c3RlZFByb2R1Y3Rpb25WYWx1ZSA8IDAgPyBcImRpbWludcOpXCI6XCJhdWdtZW50w6lcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCcqc3VmZmlzYW50ZWluc3VmZmlzYW50ZSonLCBhZGp1c3RlZFByb2R1Y3Rpb25WYWx1ZSA8IDEwID8gXCJpbnN1ZmZpc2FudGVcIjpcInN1ZmZpc2FudGVcIik7XG5cbiAgICBwcm9jZXNzZWRDb250ZW50LnB1c2goZ2VuZXJpY1RleHQpO1xuICAgIGlmKHByb3BzLm1lbW9yeU9iai5idWlsdERhbSl7XG4gICAgICBsZXQgYmFycmFnZVRleHQgPSB0ZXh0U3VwcEFycmF5WzBdLnNwbGl0KFwiOlwiKVsxXS5yZXBsYWNlKFwiKmRhbVRXaCpcIiwgZGFtVFdoKTtcbiAgICAgIHByb2Nlc3NlZENvbnRlbnQucHVzaChiYXJyYWdlVGV4dCk7XG4gICAgfVxuICAgIGlmKGN1ckRvbGxhcnMgPCAxNSl7XG4gICAgICBsZXQgbG93Q2FzaFRleHQgPSB0ZXh0U3VwcEFycmF5WzFdLnNwbGl0KFwiOlwiKVsxXTtcbiAgICAgIHByb2Nlc3NlZENvbnRlbnQucHVzaChsb3dDYXNoVGV4dCk7XG4gICAgfVxuICAgIGlmKHBhcnNlSW50KHByb3BzLnBlcmZvcm1hbmNlWzFdKSA8IDApe1xuICAgICAgbGV0IGxvd0VudlRleHQgPSB0ZXh0U3VwcEFycmF5WzJdLnNwbGl0KFwiOlwiKVsxXTtcbiAgICAgIHByb2Nlc3NlZENvbnRlbnQucHVzaChsb3dFbnZUZXh0KTtcbiAgICB9XG4gICAgaWYocGFyc2VJbnQocHJvcHMucGVyZm9ybWFuY2VbMl0pIDwgMCl7XG4gICAgICBsZXQgbG93UG9wVGV4dCA9IHRleHRTdXBwQXJyYXlbM10uc3BsaXQoXCI6XCIpWzFdO1xuICAgICAgcHJvY2Vzc2VkQ29udGVudC5wdXNoKGxvd1BvcFRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzZWRDb250ZW50O1xuICB9O1xuXG4gIGNvbnN0IHByb2Nlc3NCaWxhbjIgPSAoKSA9PiB7XG4gICAgbGV0IHByb2Nlc3NlZENvbnRlbnQgPSBbXTtcbiAgICBsZXQgdGV4dENvbnRlbnRBcnJheSA9IHByb3BzLmN1clByb21wdFtcIlRleHRlXCJdLnNwbGl0KCc7Jyk7XG4gICAgbGV0IHRleHRTdXBwQXJyYXkgPSBwcm9wcy5jdXJQcm9tcHRbXCJUZXh0ZV9TdXBwXCJdLnNwbGl0KCc7Jyk7XG5cbiAgICBjb25zdCBzZWNvbmREYW1FbmVyZ3kgPSBwcm9wcy5tZW1vcnlPYmouYnVpbHRTZWNvbmREYW0gPyBkYW1UV2ggOiAwO1xuICAgIGNvbnN0IGFkanVzdGVkUHJvZHVjdGlvblZhbHVlID0gcGFyc2VJbnQocHJvcHMucGVyZm9ybWFuY2VbMF0pIC0gc2Vjb25kRGFtRW5lcmd5O1xuICAgIGNvbnN0IGN1ckRvbGxhcnMgPSBwYXJzZUludChwcm9wcy5nYXVnZXMucHJvcHMuZG9sbGFycyk7XG4gICAgY29uc3QgZW52aXJvbm1lbnRWYWx1ZSA9IHBhcnNlSW50KHByb3BzLnBlcmZvcm1hbmNlWzFdKTtcbiAgICBjb25zdCBwb3B1bGFyaXRlVmFsdWUgPSBwYXJzZUludChwcm9wcy5wZXJmb3JtYW5jZVsyXSk7XG5cbiAgICBsZXQgY2FzaFRleHQ7XG4gICAgaWYoY3VyRG9sbGFycyA+PSA1KXtcbiAgICAgIGNhc2hUZXh0ID0gdGV4dFN1cHBBcnJheVswXS5zcGxpdChcIjpcIilbMV07XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBjYXNoVGV4dCA9IHRleHRTdXBwQXJyYXlbMV0uc3BsaXQoXCI6XCIpWzFdO1xuICAgIH1cbiAgICBwcm9jZXNzZWRDb250ZW50LnB1c2goY2FzaFRleHQpO1xuXG4gICAgbGV0IFRXaEVudlRleHQ7XG4gICAgaWYoYWRqdXN0ZWRQcm9kdWN0aW9uVmFsdWUgPj0gMjUgJiYgZW52aXJvbm1lbnRWYWx1ZSA+PSA1KXtcbiAgICAgIFRXaEVudlRleHQgPSB0ZXh0U3VwcEFycmF5WzJdLnNwbGl0KFwiOlwiKVsxXTtcbiAgICB9XG4gICAgZWxzZSBpZihhZGp1c3RlZFByb2R1Y3Rpb25WYWx1ZSA8IDI1ICYmIGVudmlyb25tZW50VmFsdWUgPj0gNSl7XG4gICAgICBUV2hFbnZUZXh0ID0gdGV4dFN1cHBBcnJheVszXS5zcGxpdChcIjpcIilbMV07XG4gICAgfVxuICAgIGVsc2UgaWYoYWRqdXN0ZWRQcm9kdWN0aW9uVmFsdWUgPj0gMjUgJiYgZW52aXJvbm1lbnRWYWx1ZSA8IDUpe1xuICAgICAgVFdoRW52VGV4dCA9IHRleHRTdXBwQXJyYXlbNF0uc3BsaXQoXCI6XCIpWzFdO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgLy8gPCAyNSAmIDwgNVxuICAgICAgVFdoRW52VGV4dCA9IHRleHRTdXBwQXJyYXlbNV0uc3BsaXQoXCI6XCIpWzFdO1xuICAgIH1cbiAgICBUV2hFbnZUZXh0ID0gVFdoRW52VGV4dC5yZXBsYWNlKFwiKmF1Z21lbnRlZGltaW51ZSpcIiwgYWRqdXN0ZWRQcm9kdWN0aW9uVmFsdWUgPCAwID8gXCJkaW1pbnXDqVwiOlwiYXVnbWVudMOpXCIpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKFwiKm5ld1Byb2QqXCIsIGFkanVzdGVkUHJvZHVjdGlvblZhbHVlKTtcbiAgICBwcm9jZXNzZWRDb250ZW50LnB1c2goVFdoRW52VGV4dCk7XG5cbiAgICBsZXQgcG9wdVRleHQ7XG4gICAgaWYocG9wdWxhcml0ZVZhbHVlID49IDQpe1xuICAgICAgcG9wdVRleHQgPSB0ZXh0U3VwcEFycmF5WzZdLnNwbGl0KFwiOlwiKVsxXTtcbiAgICB9XG4gICAgZWxzZSBpZihwb3B1bGFyaXRlVmFsdWUgPj0gLTIgJiYgcG9wdWxhcml0ZVZhbHVlIDwgNCl7XG4gICAgICBwb3B1VGV4dCA9IHRleHRTdXBwQXJyYXlbN10uc3BsaXQoXCI6XCIpWzFdO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgcG9wdVRleHQgPSB0ZXh0U3VwcEFycmF5WzhdLnNwbGl0KFwiOlwiKVsxXTtcbiAgICB9XG4gICAgcHJvY2Vzc2VkQ29udGVudC5wdXNoKHBvcHVUZXh0KVxuXG4gICAgcmV0dXJuIHByb2Nlc3NlZENvbnRlbnQ7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmlsYW5Db250ZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVwZGF0YWJsZVRleHRcIj5cbiAgICAgICAge1xuICAgICAgICAgIHByb3BzLmN1clByb21wdFtcIklEXCJdID09PSBcIkIxXCIgP1xuICAgICAgICAgICAgcHJvY2Vzc0JpbGFuMSgpLm1hcCgoZWxlbSwgY291bnQpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPHAga2V5PXtjb3VudH0+XG4gICAgICAgICAgICAgICAge3BhcnNlKGVsZW0pfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6XG4gICAgICAgICAgICBwcm9jZXNzQmlsYW4yKCkubWFwKChlbGVtLCBjb3VudCkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8cCBrZXk9e2NvdW50fT5cbiAgICAgICAgICAgICAgICB7cGFyc2UoZWxlbSl9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIG5leHRcIiBvbkNsaWNrPXtuZXh0UHJvbXB0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgPHA+UG91cnN1aXZyZTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxuXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBFbmRHYW1lKHByb3BzKXtcblxuICBjb25zdCBnYW1lUmVzZXQgPSB1c2VDYWxsYmFjayggYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdSRVNFVElORyBHQU1FJyk7XG4gICAgcHJvcHMuZ2FtZVJlc2V0KCk7XG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwcm9tcHRCb3hcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VydGl0cmVcIj5cbiAgICAgICAgICA8aDQ+RmluIGR1IGpldTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1ZXN0aW9uXCI+XG4gICAgICAgICAgPHA+KHJlZm9ybXVsZXIpIExlIGpldSBhIHByaXMgZmluIMOgIGNhdXNlIGRlIDoge2Ake3Byb3BzLnJhaXNvbn1gfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uU2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbmJ1dHRvbiBuZXh0XCIgb25DbGljaz17Z2FtZVJlc2V0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dG5cIj5cbiAgICAgICAgICAgIDxwPlJlY29tbWVuY2VyPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVQZXJmb3JtYW5jZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIENhdGFzdHJvcGhlKHByb3BzKXtcblxuICBjb25zdCBwcmV2aW91c1Byb21wdCA9IHVzZUNhbGxiYWNrKCBhc3luYyAoKSA9PiB7XG4gICAgaWYocHJvcHMuY3VySW5kZXggPiAwKXtcbiAgICAgIGNvbnNvbGUubG9nKCdwcmV2IHByb21wdCEnLCBwcm9wcy5jdXJJbmRleCAtIDEpO1xuICAgICAgcHJvcHMuY2hhbmdlUHJvbXB0KHByb3BzLmN1ckluZGV4IC0gMSk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBuZXh0UHJvbXB0ID0gdXNlQ2FsbGJhY2soIGFzeW5jIChjb3N0LCBwZXJmb3JtYW5jZSkgPT4ge1xuICAgIGxldCB0cmlnZ2VyTmV4dCA9IHByb3BzLmN1clByb21wdFsnVHJpZ2dlcl9uZXh0J107XG5cbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgdHJpZ2dlciBuZXh0OiAnLCB0cmlnZ2VyTmV4dCk7XG4gICAgcHJvcHMuY2hhbmdlUHJvbXB0KHRyaWdnZXJOZXh0KTtcblxuICAgIHByb3BzLnVwZGF0ZURvbGxhcnMocGFyc2VJbnQoY29zdCkpO1xuICAgIHByb3BzLnVwZGF0ZVBlcmZvcm1hbmNlKHBlcmZvcm1hbmNlKTtcbiAgfSk7XG5cbiAgY29uc3QgcGFyc2VDaG9pY2VWYWx1ZXMgPSAoY2hvaWNlX3ZhbHVlKSA9PiB7XG4gICAgY29uc3Qgc3BsaXR0ZWRDaG9pY2VWYWx1ZXMgPSBTdHJpbmcoY2hvaWNlX3ZhbHVlKS5zcGxpdCgnXycpO1xuICAgIHJldHVybiB7XG4gICAgICBjb3N0OiBzcGxpdHRlZENob2ljZVZhbHVlc1swXSxcbiAgICAgIHBlcmZvcm1hbmNlOiBzcGxpdHRlZENob2ljZVZhbHVlcy5zcGxpY2UoMSlcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInByaW50cHJvbXB0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2VcIj5cbiAgICAgICAgPHA+XG4gICAgICAgICAge3Byb3BzLmNob2ljZXNbcHJvcHMud2hpY2hFdmVudEhhcHBlbnNdfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uYnV0dG9uIHByZXZcIiBvbkNsaWNrPXtwcmV2aW91c1Byb21wdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0blwiPlxuICAgICAgICAgIDxwPlByZXZpb3VzPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25idXR0b24gbmV4dFwiIG9uQ2xpY2s9eygpID0+IG5leHRQcm9tcHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VDaG9pY2VWYWx1ZXMocHJvcHMuY2hvaWNlc192YWx1ZXNbcHJvcHMud2hpY2hFdmVudEhhcHBlbnNdKS5jb3N0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlQ2hvaWNlVmFsdWVzKHByb3BzLmNob2ljZXNfdmFsdWVzW3Byb3BzLndoaWNoRXZlbnRIYXBwZW5zXSkucGVyZm9ybWFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXRuXCI+XG4gICAgICAgICAgPHA+UG91cnN1aXZyZTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7dXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ2hvaWNlIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9DaG9pY2VcIjtcbmltcG9ydCB7IE11bHRpU2VsZWN0aW9uIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9NdWx0aVNlbGVjdGlvblwiO1xuaW1wb3J0IHsgUHJpbnRQcm9tcHQgfSBmcm9tIFwiLi9wcm9tcHRmaWxsL1ByaW50UHJvbXB0XCI7XG5pbXBvcnQgeyBSZXBhcnRpdGlvbiB9IGZyb20gXCIuL3Byb21wdGZpbGwvUmVwYXJ0aXRpb25cIjtcbmltcG9ydCB7IE1hcE5hdmlnYXRvciB9IGZyb20gXCIuL3Byb21wdGZpbGwvTWFwTmF2aWdhdG9yXCI7XG5pbXBvcnQgeyBCaWxhbiB9IGZyb20gXCIuL3Byb21wdGZpbGwvQmlsYW5cIjtcbmltcG9ydCB7IEVuZEdhbWUgfSBmcm9tIFwiLi9wcm9tcHRmaWxsL0VuZEdhbWVcIjtcbmltcG9ydCB7IENhdGFzdHJvcGhlIH0gZnJvbSBcIi4vcHJvbXB0ZmlsbC9DYXRhc3Ryb3BoZVwiO1xuaW1wb3J0IHBhcnNlIGZyb20gXCJodG1sLXJlYWN0LXBhcnNlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gUHJvbXB0Qm94KHByb3BzKXtcblxuICBjb25zdCBbIG1lbW9yeU9iaiwgc2V0TWVtb3J5T2JqXSA9IHVzZVN0YXRlKHtcbiAgICBpbnZlc3RlZE1vZGVybml6YXRpb246IGZhbHNlLFxuICAgIGJ1aWx0RGFtOiBmYWxzZSxcbiAgICBidWlsdFNlY29uZERhbTpmYWxzZVxuICB9KVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgfSwgW10pO1xuXG5cbiAgY29uc3QgZ2FtZVJlc2V0ID0gdXNlQ2FsbGJhY2soIGFzeW5jICgpID0+IHtcbiAgICBzZXRNZW1vcnlPYmooe1xuICAgICAgaW52ZXN0ZWRNb2Rlcm5pemF0aW9uOiBmYWxzZSxcbiAgICAgIGJ1aWx0RGFtOiBmYWxzZSxcbiAgICAgIGJ1aWx0U2Vjb25kRGFtOiBmYWxzZVxuICAgIH0pO1xuICAgIHByb3BzLmdhbWVSZXNldCgpO1xuICB9KTtcblxuICBjb25zdCBjaGFuZ2VQcm9tcHQgPSB1c2VDYWxsYmFjayggYXN5bmMgKG5ld1ZhbHVlKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ0NoYW5naW5nIHByb21wdCBmb3IgOiAnLCBuZXdWYWx1ZSk7XG4gICAgcHJvcHMuY2hhbmdlUHJvbXB0KG5ld1ZhbHVlKTtcbiAgfSk7XG5cbiAgY29uc3QgdXBkYXRlRG9sbGFycyA9IHVzZUNhbGxiYWNrKCBhc3luYyAoZGlmZlZhbHVlKSA9PiB7XG4gICAgaWYoTnVtYmVyLmlzSW50ZWdlcihkaWZmVmFsdWUpKXtcbiAgICAgIHByb3BzLnVwZGF0ZURvbGxhcnMoZGlmZlZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZVBlcmZvcm1hbmNlID0gdXNlQ2FsbGJhY2soIGFzeW5jIChkaWZmQXJyYXkpID0+IHtcbiAgICBwcm9wcy51cGRhdGVQZXJmb3JtYW5jZShkaWZmQXJyYXkpO1xuICB9KTtcblxuICBjb25zdCB1cGRhdGVNZW1vcnlPYmogPSB1c2VDYWxsYmFjayggYXN5bmMgKGZpZWxkLCBuZXdWYWx1ZSkgPT4ge1xuICAgIGxldCBuZXdNZW1vcnlPYmogPSB7Li4ubWVtb3J5T2JqfTtcbiAgICBuZXdNZW1vcnlPYmpbZmllbGRdID0gbmV3VmFsdWU7XG4gICAgc2V0TWVtb3J5T2JqKG5ld01lbW9yeU9iaik7XG4gIH0pO1xuXG4gIGNvbnN0IHByb2Nlc3NSZWFzb25FbmRHYW1lID0gKCkgPT4ge1xuICAgIGxldCByZWFzb25zID0gW107XG4gICAgY29uc29sZS5sb2coJ2NoZWNraW5nIHJlYXNvbiBwcm9jZXNzaW5nOicsIHByb3BzLmdhdWdlcy5wcm9wcy5kb2xsYXJzLCBwcm9wcy5wZXJmb3JtYW5jZSk7XG4gICAgaWYocHJvcHMuZ2F1Z2VzLnByb3BzLmRvbGxhcnMgPCAwKXtcbiAgICAgIHJlYXNvbnMucHVzaChcIlZvdXMgbidhdmV6IHBsdXMgZCdhcmdlbnQuXCIpO1xuICAgIH1cbiAgICBpZihwcm9wcy5wZXJmb3JtYW5jZVswXSA8IDApe1xuICAgICAgcmVhc29ucy5wdXNoKFwiVm91cyBhdmV6IGfDomNow6kgbGUgcGFyYyBkZSBwcm9kdWN0aW9uIMOpbGVjdHJpcXVlIGQnSHlkcm8tUXXDqWJlYy5cIik7XG4gICAgfVxuICAgIGlmKHByb3BzLnBlcmZvcm1hbmNlWzFdIDwgMCl7XG4gICAgICByZWFzb25zLnB1c2goXCJWb3RyZSBiaWxhbiBlbnZpcm9ubmVtZW50YWwgZXN0IGV4Y8OpY3JhYmxlLlwiKTtcbiAgICB9XG4gICAgaWYocHJvcHMucGVyZm9ybWFuY2VbMl0gPCAwKXtcbiAgICAgIHJlYXNvbnMucHVzaChcIkxhIGZ1cmV1ciBwb3B1bGFpcmUgYSBldSByYWlzb24gZGUgdm90cmUgcG9zdGUuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVhc29ucztcbiAgfVxuXG4gIGNvbnN0IHJlbmRlclN3aXRjaCA9IChwYXJhbSkgPT4ge1xuICAgIHN3aXRjaChwYXJhbSl7XG4gICAgICBjYXNlICdSZXBhcnRpdGlvbicgOlxuICAgICAgICByZXR1cm4gPFJlcGFydGl0aW9uIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc192YWx1ZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0NvdXRfRWxlY19FbnZfUG9wdSddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEb2xsYXJzPXt1cGRhdGVEb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVNZW1vcnlPYmo9e3VwZGF0ZU1lbW9yeU9ian1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXVnZXM9e3Byb3BzLmdhdWdlc30vPjtcbiAgICAgIGNhc2UgJ0NhcnRlJzpcbiAgICAgICAgcmV0dXJuIDxNYXBOYXZpZ2F0b3IgY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17U3RyaW5nKHByb3BzLmN1clByb21wdFsnVGV4dGVfU3VwcCddKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLmN1ckluZGV4ID09PSBcIlExLTFcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcImFzc2V0cy9pbWcvQ2FydGUtSHlkcm8uc3ZnXCIsXCJhc3NldHMvaW1nL0NhcnRlLUh5ZHJvLWljb25lLW9uLnN2Z1wiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcImFzc2V0cy9pbWcvQ2FydGUtRW9saWVuLnN2Z1wiLFwiYXNzZXRzL2ltZy9DYXJ0ZS1Fb2xpZW4taWNvbmUtb24uc3ZnXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8+O1xuICAgICAgY2FzZSAndGV4dGVCb3V0b25TaW1wbGUnOlxuICAgICAgICByZXR1cm4gPFByaW50UHJvbXB0IGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ1RleHRlX1N1cHAnXSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdWdlcz17cHJvcHMuZ2F1Z2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVSZXNldD17Z2FtZVJlc2V0fS8+O1xuICAgICAgY2FzZSAnQ2hvaXhSZXBvbnNlJzpcbiAgICAgICAgcmV0dXJuIDxDaG9pY2UgY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXgnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzX3ZhbHVlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ291dF9FbGVjX0Vudl9Qb3B1J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURvbGxhcnM9e3VwZGF0ZURvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGVyZm9ybWFuY2U9e3VwZGF0ZVBlcmZvcm1hbmNlfVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1lbW9yeU9iaj17dXBkYXRlTWVtb3J5T2JqfVxuICAgICAgICAgICAgICAgICAgICAgIGdhdWdlcz17cHJvcHMuZ2F1Z2VzfS8+O1xuICAgICAgY2FzZSAnQ2F0YXN0cm9waGUnOlxuICAgICAgICByZXR1cm4gPENhdGFzdHJvcGhlIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc192YWx1ZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0NvdXRfRWxlY19FbnZfUG9wdSddKS5zcGxpdCgnOycpfVxuICAgICAgICAgICAgICAgICAgICAgIHdoaWNoRXZlbnRIYXBwZW5zPXttZW1vcnlPYmouaW52ZXN0ZWRNb2Rlcm5pemF0aW9uID8gMSA6IDB9XG4gICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUHJvbXB0PXtjaGFuZ2VQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURvbGxhcnM9e3VwZGF0ZURvbGxhcnN9XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGVyZm9ybWFuY2U9e3VwZGF0ZVBlcmZvcm1hbmNlfS8+O1xuICAgICAgY2FzZSAnTXVsdGlTZWxlY3Rpb24nOlxuICAgICAgICByZXR1cm4gPE11bHRpU2VsZWN0aW9uIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17U3RyaW5nKHByb3BzLmN1clByb21wdFsnQ2hvaXgnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXNfdmFsdWVzPXtTdHJpbmcocHJvcHMuY3VyUHJvbXB0WydDb3V0X0VsZWNfRW52X1BvcHUnXSkuc3BsaXQoJzsnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySW5kZXg9e3Byb3BzLmN1ckluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdWdlcz17cHJvcHMuZ2F1Z2VzfS8+O1xuICAgICAgY2FzZSAnQmlsYW4nOlxuICAgICAgICByZXR1cm4gPEJpbGFuIGN1clByb21wdD17cHJvcHMuY3VyUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIGN1ckluZGV4PXtwcm9wcy5jdXJJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VQcm9tcHQ9e2NoYW5nZVByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEb2xsYXJzPXt1cGRhdGVEb2xsYXJzfVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBlcmZvcm1hbmNlPXt1cGRhdGVQZXJmb3JtYW5jZX1cbiAgICAgICAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZT17cHJvcHMucGVyZm9ybWFuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgbWVtb3J5T2JqPXttZW1vcnlPYmp9XG4gICAgICAgICAgICAgICAgICAgICAgZ2F1Z2VzPXtwcm9wcy5nYXVnZXN9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDxDaG9pY2UgY3VyUHJvbXB0PXtwcm9wcy5jdXJQcm9tcHR9IGNob2ljZXM9e1N0cmluZyhwcm9wcy5jdXJQcm9tcHRbJ0Nob2l4J10pLnNwbGl0KCc7Jyl9IGNoYW5nZVByb21wdD17Y2hhbmdlUHJvbXB0fSBjdXJJbmRleD17cHJvcHMuY3VySW5kZXh9Lz47XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICAgIHByb3BzLmVuZEdhbWUgPT09IHRydWUgP1xuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWVCb3hcIj5cbiAgICAgICAgICA8RW5kR2FtZVxuICAgICAgICAgICAgcmFpc29uPXtwcm9jZXNzUmVhc29uRW5kR2FtZSgpfVxuICAgICAgICAgICAgZ2FtZVJlc2V0PXtnYW1lUmVzZXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA6XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2FtZUJveFwiPlxuXG4gICAgICAgICAge3Byb3BzLmN1clByb21wdFsnVHlwZSddID09PSBcIkJpbGFuXCIgP1xuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9tcHRCb3ggYmlsYW5cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hc3NpdmVUaXRsZVwiPlxuICAgICAgICAgICAgICAgICAgPGgyPntwYXJzZShwcm9wcy5jdXJQcm9tcHRbJ1N1amV0J10pfTwvaDI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlcGFyYXRvclwiPjwvZGl2PlxuICAgICAgICAgICAgICB7cmVuZGVyU3dpdGNoKHByb3BzLmN1clByb21wdFsnVHlwZSddKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDpcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvbXB0Qm94XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdXJ0aXRyZVwiPlxuICAgICAgICAgICAgICAgICAgPGg0PntwYXJzZShwcm9wcy5jdXJQcm9tcHRbJ1N1amV0J10pfTwvaDQ+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWVzdGlvblwiPlxuICAgICAgICAgICAgICAgICAgPHA+e3BhcnNlKHByb3BzLmN1clByb21wdFsnVGV4dGUnXSl9PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge3JlbmRlclN3aXRjaChwcm9wcy5jdXJQcm9tcHRbJ1R5cGUnXSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICApXG5cblxufVxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEdhdWdlcyB9IGZyb20gXCIuL2dhdWdlcy9HYXVnZXNcIjtcbmltcG9ydCB7IEludHJvQm94IH0gZnJvbSBcIi4vaW50cm9Cb3hcIjtcbmltcG9ydCB7IFByb21wdEJveCB9IGZyb20gXCIuL1Byb21wdEJveFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gTWFpbkZyYW1lKHByb3BzKXtcblxuICBjb25zdCBbZ2FtZVN0YXR1cywgc2V0U3RhdHVzXSA9IHVzZVN0YXRlKCdJRExFJyk7XG4gIGNvbnN0IFtnYW1lSW5kZXgsIHNldEdhbWVJbmRleF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2RvbGxhcnMsIHNldERvbGxhcnNdID0gdXNlU3RhdGUoNTApO1xuICBjb25zdCBbcGVyZm9ybWFuY2UsIHNldFBlcmZvcm1hbmNlXSA9IHVzZVN0YXRlKFswLDAsMF0pO1xuICBjb25zdCBbYmcsIHNldEJHXSA9IHVzZVN0YXRlKCdub3JtYWwnKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdnYW1lICcsIGdhbWVTdGF0dXMpO1xuICB9LCBbZ2FtZVN0YXR1c10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZ2V0R2FtZVByb21wdChnYW1lSW5kZXgpO1xuICAgIGlmKGdhbWVJbmRleCA9PT0gXCJFTkRcIil7XG4gICAgICBnYW1lRW5kKCk7XG4gICAgfVxuICB9LCBbZ2FtZUluZGV4XSk7XG5cbiAgY29uc3QgZ2FtZVN0YXJ0ID0gKCkgPT4ge1xuICAgIHNldFN0YXR1cygnU1RBUlRFRCcpO1xuICAgIHNldEdhbWVJbmRleCgwKTtcbiAgfVxuXG4gIGNvbnN0IGdhbWVFbmQgPSAoKSA9PiB7XG4gICAgc2V0U3RhdHVzKCdFTkQnKTtcbiAgfVxuXG4gIGNvbnN0IGdhbWVSZXNldCA9ICgpID0+IHtcbiAgICBzZXREb2xsYXJzKDUwKTtcbiAgICBzZXRQZXJmb3JtYW5jZShbMCwwLDBdKTtcbiAgICBnYW1lU3RhcnQoKTtcbiAgfVxuXG4gIGNvbnN0IGdldEdhbWVQcm9tcHQgPSAoZ2FtZUluZGV4KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2N1cnJlbnQgZ2FtZSBwcm9tcHQ6JywgcHJvcHMuZ2FtZURhdGEuZmlsdGVyKGVsZW0gPT4ge3JldHVybiBTdHJpbmcoZWxlbVtcIklEXCJdKSA9PT0gU3RyaW5nKGdhbWVJbmRleCk7fSkpO1xuICB9XG5cbiAgY29uc3QgdXBkYXRlRG9sbGFycyA9IChkaWZmKSA9PiB7XG4gICAgc2V0RG9sbGFycyhkb2xsYXJzID0+IGRvbGxhcnMgKyBkaWZmKTtcbiAgICBpZihkb2xsYXJzICsgZGlmZiA8IDApe1xuICAgICAgZ2FtZUVuZCgpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZVBlcmZvcm1hbmNlID0gKGRpZmYpID0+IHtcbiAgICBsZXQgbmV3UGVyZm9ybWFuY2UgPSBBcnJheS5hcHBseShudWxsLCBBcnJheShkaWZmLmxlbmd0aCkpLm1hcChmdW5jdGlvbiAoKSB7fSk7XG4gICAgcGVyZm9ybWFuY2UuZm9yRWFjaCgoZWxlbSwgY291bnQpID0+IHtcbiAgICAgIG5ld1BlcmZvcm1hbmNlW2NvdW50XSA9IHBhcnNlSW50KGVsZW0pICsgcGFyc2VJbnQoZGlmZltjb3VudF0pO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIHBlcmZvcm1hbmNlIHRvIDogJywgbmV3UGVyZm9ybWFuY2UpO1xuXG4gICAgc2V0UGVyZm9ybWFuY2UobmV3UGVyZm9ybWFuY2UpO1xuICAgIGlmKG5ld1BlcmZvcm1hbmNlWzFdIDwgLTkgfHwgbmV3UGVyZm9ybWFuY2VbMl0gPCAtOSl7XG4gICAgICBnYW1lRW5kKCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZmluZEdhbWVJbmRleCA9IChJRG5hbWUpID0+IHtcblxuICAgIGNvbnN0IGZvdW5kSUQgPSBwcm9wcy5nYW1lRGF0YS5maW5kSW5kZXgoKGVsZW0pID0+IHtcbiAgICAgIHJldHVybiBTdHJpbmcoSURuYW1lKSA9PT0gU3RyaW5nKGVsZW1bJ0lEJ10pO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3VuZElEO1xuICB9XG5cbiAgY29uc3QgY2hlY2tCRyA9IChjdXJQcm9tcHRCRykgPT4ge1xuICAgIGlmKGN1clByb21wdEJHID09PSBcInJlZHBpbmtcIil7XG4gICAgICBzZXRCRygncmVkcGluaycpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgaWYoYmcgIT09ICdub3JtYWwnKXtcbiAgICAgICAgc2V0QkcoJ25vcm1hbCcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGN1clByb21wdCA9IHByb3BzLmdhbWVEYXRhW2ZpbmRHYW1lSW5kZXgoZ2FtZUluZGV4KV07XG4gICAgaWYoY3VyUHJvbXB0ICYmIGN1clByb21wdC5oYXNPd25Qcm9wZXJ0eShcIkJhY2tncm91bmRcIikpe1xuICAgICAgY2hlY2tCRyhjdXJQcm9tcHRbXCJCYWNrZ3JvdW5kXCJdKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGdldEJhY2tncm91bmRJbmZvID0gKCkgPT4ge1xuICAgIGNvbnN0IGdhbWVTY3JlZW5DbGFzcyA9IChnYW1lU3RhdHVzID09PSBcIkVORFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZUluZGV4ID09PSBcIkVORFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmcgPT09IFwicmVkcGlua1wiKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnYW1lT3ZlclwiIDogXCJcIjtcblxuICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyBnYW1lIGluZm86ICcsIGdhbWVTdGF0dXMsIGdhbWVJbmRleCwgYmcpO1xuICAgIGNvbnN0IGN1clByb21wdCA9IHByb3BzLmdhbWVEYXRhW2ZpbmRHYW1lSW5kZXgoZ2FtZUluZGV4KV07XG4gICAgY29uc3QgYmFja2dyb3VuZEltYWdlID0gY3VyUHJvbXB0ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjdXJQcm9tcHRbXCJCYWNrZ3JvdW5kXCJdID09PSBcInB5bG9uZVwiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJJbGx1c19TZWN0aW9uLTAxX1B5bG9uZV9WMDEtMTQuc3ZnXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJQcm9tcHRbXCJCYWNrZ3JvdW5kXCJdID09PSBcImFtcG91bGVcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJJbGx1c19TZWN0aW9uLTAyX0FtcG91bGVfVjAyLnN2Z1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clByb21wdFtcIkJhY2tncm91bmRcIl0gPT09IFwiY2VudHJhbGVcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIklsbHVzX1NlY3Rpb24tMDBfQ2VudHJhbGVfVjAxLnN2Z1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZ2FtZVNjcmVlbkNsYXNzOiBnYW1lU2NyZWVuQ2xhc3MsXG4gICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGJhY2tncm91bmRJbWFnZVxuICAgIH07XG4gIH07XG5cblxuICBjb25zdCBkb21FbGVtZW50ID0gZ2FtZVN0YXR1cyA9PT0gXCJJRExFXCIgP1xuICAgIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2FtZVNjcmVlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhY2tncm91bmQtaW1hZ2VcIj5cbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBzcmM9XCJhc3NldHMvaW1nL0lsbHVzX1NlY3Rpb24tMDBfQ2VudHJhbGVfVjAxLnN2Z1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxJbnRyb0JveCBpbnRyb0VsZW09e3Byb3BzLmludHJvRWxlbX0gbWFwT2JqPXtwcm9wcy5tYXBPYmp9IGdhbWVTdGFydD17Z2FtZVN0YXJ0fSAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICAgIDpcbiAgICA8ZGl2IGNsYXNzTmFtZT17YGdhbWVTY3JlZW4gJHtnZXRCYWNrZ3JvdW5kSW5mbygpLmdhbWVTY3JlZW5DbGFzc31gfT5cbiAgICAgIHtcbiAgICAgICAgKGdldEJhY2tncm91bmRJbmZvKCkuZ2FtZVNjcmVlbkNsYXNzICE9PSBcImdhbWVPdmVyXCIgJiYgZ2V0QmFja2dyb3VuZEluZm8oKS5iYWNrZ3JvdW5kSW1hZ2UgIT09IG51bGwpP1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFja2dyb3VuZC1pbWFnZVwiPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBzcmM9e2Bhc3NldHMvaW1nLyR7Z2V0QmFja2dyb3VuZEluZm8oKS5iYWNrZ3JvdW5kSW1hZ2V9YH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibm8tbW9iaWxlXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgOlxuICAgICAgICAgICcnXG4gICAgICB9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlbXBvcmFyeUluZm9cIj5cbiAgICAgICAgPHA+UGVyZm9ybWFuY2UgKHRlbXBvcmFpcmUpPC9wPlxuICAgICAgICA8cD5Eb2xsYXJzOiB7YCR7ZG9sbGFyc30gJGB9PC9wPlxuICAgICAgICA8cD5FbGVjOiB7YCR7cGVyZm9ybWFuY2VbMF19IFRXaGB9PC9wPlxuICAgICAgICA8cD5FbnZpcm86IHtgJHtwZXJmb3JtYW5jZVsxXX0gcHRzYH08L3A+XG4gICAgICAgIDxwPlBvcHU6IHtgJHtwZXJmb3JtYW5jZVsyXX0gcHRzYH08L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxQcm9tcHRCb3ggY3VySW5kZXg9e2dhbWVJbmRleH1cbiAgICAgICAgY3VyUHJvbXB0PXsoZ2FtZUluZGV4ID09PSBcIkVORFwiKSA/IFwiXCIgOiBwcm9wcy5nYW1lRGF0YVtmaW5kR2FtZUluZGV4KGdhbWVJbmRleCldfVxuICAgICAgICBjaGFuZ2VQcm9tcHQ9e3NldEdhbWVJbmRleH1cbiAgICAgICAgdXBkYXRlRG9sbGFycz17dXBkYXRlRG9sbGFyc31cbiAgICAgICAgdXBkYXRlUGVyZm9ybWFuY2U9e3VwZGF0ZVBlcmZvcm1hbmNlfVxuICAgICAgICBnYXVnZXM9ezxHYXVnZXMgZG9sbGFycz17ZG9sbGFyc30vPn1cbiAgICAgICAgcGVyZm9ybWFuY2U9e3BlcmZvcm1hbmNlfVxuICAgICAgICBlbmRHYW1lPXtnYW1lSW5kZXggPT09IFwiRU5EXCIgfHwgZ2FtZVN0YXR1cyA9PT0gXCJFTkRcIn1cbiAgICAgICAgZ2FtZVJlc2V0PXtnYW1lUmVzZXR9XG4gICAgICAgIC8+XG4gICAgPC9kaXY+O1xuXG4gIHJldHVybiBkb21FbGVtZW50O1xufVxuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb20vY2xpZW50XCI7XG5pbXBvcnQgeyByZW5kZXJUb1N0YXRpY01hcmt1cCB9IGZyb20gJ3JlYWN0LWRvbS9zZXJ2ZXInO1xuaW1wb3J0IHsgTWFpbkZyYW1lIH0gZnJvbSAnLi9jb21wb25lbnRzL21haW5mcmFtZSc7XG5pbXBvcnQgeyBvcHRpb25zRHJvcGRvd25Db25zdGFudHMsIGNvbnRlbnRIZWFkZXJDb25zdGFudHMgfSBmcm9tIFwiLi4vZ2VuZXJhdG9yL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgSW50cm9TZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9JbnRyb1NlY3Rpb24nO1xuXG5leHBvcnQgY2xhc3MgRW5naW5lIHtcblxuICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIG9wdGlvbkRhdGEsIGludHJvT2JqLCBnYW1lRGF0YSl7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgY29uc3Qgcm9vdEVsZW0gPSB0aGlzLmNvbnRhaW5lci5hcHBlbmQoJ2RpdicpXG4gICAgICAuY2xhc3NlZCgncm9vdEVsZW0nLCB0cnVlKTtcbiAgICB0aGlzLmVuZ2luZVJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KHJvb3RFbGVtLm5vZGUoKSk7XG4gICAgdGhpcy5vcHRpb25EYXRhID0gb3B0aW9uRGF0YTtcbiAgICB0aGlzLmFtb3JjZSA9IGludHJvT2JqW2NvbnRlbnRIZWFkZXJDb25zdGFudHMudGV4dGVdO1xuICAgIHRoaXMuZ2FtZURhdGEgPSBnYW1lRGF0YTtcbiAgICBjb25zb2xlLmxvZygnZ2FtZSBEYXRhIGlzIDogJywgdGhpcy5nYW1lRGF0YSk7XG4gICAgdGhpcy5pbml0RW5naW5lKCk7XG4gIH1cblxuICBpbml0RW5naW5lKCl7XG4gICAgY29uc3QgaW50cm9FbGVtID0gKDxJbnRyb1NlY3Rpb25cbiAgICAgIGtleT17XCJnYW1lSW50cm9cIn1cbiAgICAgIHNlY3Rpb25UeXBlPXtvcHRpb25zRHJvcGRvd25Db25zdGFudHMuc2VjdGlvbnR5cGVzLmludHJvdGl0cmV9XG4gICAgICBvcHRpb25EYXRhPXt0aGlzLm9wdGlvbkRhdGF9XG4gICAgICBhbW9yY2U9e3RoaXMuYW1vcmNlfVxuICAgICAgYmFja2dyb3VuZD17bnVsbH1cbiAgICAgIGNsYXNzZXM9e1wiXCJ9XG4gICAgICAvPik7XG5cbiAgICB0aGlzLmVuZ2luZVJvb3QucmVuZGVyKDxNYWluRnJhbWUgaW50cm9FbGVtPXtpbnRyb0VsZW19IGdhbWVTdGF0dXM9e3RoaXMuZ2FtZVN0YXR1c30gZ2FtZURhdGE9e3RoaXMuZ2FtZURhdGF9Lz4pO1xuICB9XG5cbn1cbiIsIi8qKlxuICogdml6LmpzXG4gKiA9PT09PT09XG4gKiBGaWxlIHVzZWQgdG8gZGVmaW5lIHRoZSB2aXN1YWxpemF0aW9uIHNlY3Rpb24uXG4gKi9cblxuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgZ2V0U3RydWN0dXJlLCBnZW5lcmF0ZUNhbGxiYWNrcywgZ2V0T3B0aW9ucyB9IGZyb20gJy4vZ2VuZXJhdG9yL3N0cnVjdHVyZUdlbmVyYXRvci5qcyc7XG5pbXBvcnQgeyBjYWxsYmFja3MgfSBmcm9tICcuLi9kYXRhL3N0cnVjdHVyZS9jYWxsYmFja3MuanMnO1xuXG5pbXBvcnQgeyBNYXAgfSBmcm9tICdsZWRldm9pci1kYXRhdml6JztcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gJy4vZ2FtZS9lbmdpbmUuanMnO1xuXG5jb25zdCBjb25maWcgPSB7XG4gIHdpZHRoOiA1MDAsXG4gIGhlaWdodDogNTAwLFxuICBtYXJnaW46IHtcbiAgICB0b3A6IDEwMCxcbiAgICByaWdodDogMTAwLFxuICAgIGJvdHRvbTogMTAwLFxuICAgIGxlZnQ6IDEwMFxuICB9XG59XG5jb25zdCBmdWxsV2lkdGggPSBjb25maWcubWFyZ2luLmxlZnQgKyBjb25maWcud2lkdGggKyBjb25maWcubWFyZ2luLnJpZ2h0O1xuY29uc3QgZnVsbEhlaWdodCA9IGNvbmZpZy5tYXJnaW4udG9wICsgY29uZmlnLmhlaWdodCArIGNvbmZpZy5tYXJnaW4uYm90dG9tO1xuY29uc3QgbWFwQm94U3R5bGUgPSBcIm1hcGJveDovL3N0eWxlcy9sZWRldm9pci9jbGFsOXpsZmswMDRhMTVxb2hocjdyNDk1XCI7XG5cbmNvbnN0IGN1c3RvbUNhbGxiYWNrc05lZWRlZCA9IHRydWU7IC8vIFNldCB0byB0cnVlIGlmIGN1c3RvbSBjYWxsYmFja3MgYXJlIG5lZWRlZFxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZShjb250ZW50RGF0YSwgb3B0aW9ucykge1xuXG4gIHJldHVybiBkMy5jc3YoXCJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC9lLzJQQUNYLTF2UVFaM3N6MHExdm5abW9ZWVI1SXJDZnVPTmhIY053NTBpRHRiZzFIMm1JWDhsSERMMUJRNHNBTWk3aUFwU0UxRzlXUVRXMmpIY1d2NEtXL3B1Yj9naWQ9MTQ5Nzg2MTAxNyZzaW5nbGU9dHJ1ZSZvdXRwdXQ9Y3N2XCIpXG4gICAgLnRoZW4oIGdhbWVEYXRhID0+IHtcblxuICAgICAgY29uc3QgbWFwQ29udGFpbmVyID0gZDMuc2VsZWN0KFwiLmdhbWUtYXJlYVwiKTtcblxuICAgICAgY29uc3QgZW5naW5lID0gbmV3IEVuZ2luZShtYXBDb250YWluZXIsIGdldE9wdGlvbnMob3B0aW9ucyksIGNvbnRlbnREYXRhWzBdLCBnYW1lRGF0YSk7XG5cbiAgICAgIGxldCBhdXRvQ2FsbGJhY2tzO1xuICAgICAgc2V0dXBWaXooY29udGVudERhdGEsb3B0aW9ucyk7XG4gICAgICBpZihFTlZfQ09ORklHLmRvd25sb2FkU3RydWMgJiYgRU5WX0NPTkZJRy5hdXRvcmVuZGVyKXtcbiAgICAgICAgYXV0b0NhbGxiYWNrcyA9IGdlbmVyYXRlQ2FsbGJhY2tzKGNvbnRlbnREYXRhLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIGF1dG9DYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gICAgICB9XG5cbiAgICAgIGlmKGN1c3RvbUNhbGxiYWNrc05lZWRlZCl7XG4gICAgICAgIC8vaWYgY3VzdG9tIGNhbGxiYWNrcyBhcmUgbmVlZGVkLCBzdWNoIGFzIFZpc3VhbGl6YXRpb24gdHJhbnNmb3JtYXRpb25zLCBpbmNsdWRlIHRoZW0gaGVyZS5cbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgdG8gdXNlIGFueSBvYmplY3QgY3JlYXRlZCBpbiB2aXouanMgKGdyYXBocywgdG9vbHMsIGV0YykgaW4gdGhlIGNhbGxiYWNrcy5cbiAgICAgICAgLy8gWW91IHdpbGwgbmVlZCB0byBtYW51YWxseSBjcmVhdGUgdGhlIGNvcnJlY3QgbnVtYmVyIG9mIGNhbGxiYWNrcyB0byBtYXRjaCB0aGUgdml6IHNlY3Rpb25zXG5cbiAgICAgICAgbGV0IGN1c3RvbUNhbGxiYWNrcyA9IFtcbiAgICAgICAgICBbXG4gICAgICAgICAgICAoKSA9PiB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIF1cbiAgICAgICAgcmV0dXJuIGN1c3RvbUNhbGxiYWNrcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBhdXRvQ2FsbGJhY2tzO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cFZpeihjb250ZW50RGF0YSwgb3B0aW9ucyl7XG5cbiAgY29uc3QgZnVsbFN0cnVjdHVyZSA9IGdldFN0cnVjdHVyZShjb250ZW50RGF0YSwgb3B0aW9ucyk7XG4gIGNvbnNvbGUubG9nKCdjaGVja2luZyBzdHJ1Y3R1cmU6JywgZnVsbFN0cnVjdHVyZSk7XG4gIGZ1bGxTdHJ1Y3R1cmUubWFwKHNlY3Rpb25PYmogPT4ge1xuXG4gICAgaWYoc2VjdGlvbk9iai5zZWN0aW9uVHlwZSA9PT0gXCJ2aXotc2VjdGlvblwiKXtcbiAgICAgIHNlY3Rpb25PYmouc3RlcHMubWFwKChzdGVwLGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYoc3RlcC52aXN1YWwgIT09IFwiXCIpe1xuICAgICAgICAgICAgaWYoaW5kZXggPT09IDApe1xuICAgICAgICAgICAgICBkMy5zZWxlY3QoYCMke3NlY3Rpb25PYmoua2V5fV8ke2luZGV4fWApLnN0eWxlKCdvcGFjaXR5JywgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICBkMy5zZWxlY3QoYCMke3NlY3Rpb25PYmoua2V5fV8ke2luZGV4fWApLnN0eWxlKCdvcGFjaXR5JywgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxufSk7XG59XG5cbmZ1bmN0aW9uIHNldHVwVmlkZW9zKCl7XG4gIGxldCB2aWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwidmlkZW9cIik7XG4gICAgdmlkZW9zLmZvckVhY2goKHZpZGVvKSA9PiB7XG4gICAgICAvLyBXZSBjYW4gb25seSBjb250cm9sIHBsYXliYWNrIHdpdGhvdXQgaW5zdGVyYWN0aW9uIGlmIHZpZGVvIGlzIG11dGVcbiAgICAgIHZpZGVvLm11dGVkID0gdHJ1ZTtcbiAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgIC8vIFBsYXkgaXMgYSBwcm9taXNlIHNvIHdlIG5lZWQgdG8gY2hlY2sgd2UgaGF2ZSBpdFxuICAgICAgbGV0IHBsYXlQcm9taXNlID0gdmlkZW8ucGxheSgpO1xuICAgICAgaWYgKHBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwbGF5UHJvbWlzZS50aGVuKChfKSA9PiB7XG4gICAgICAgICAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgICAgICAgICAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyAhPT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXZpZGVvLnBhdXNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlby5jdXJyZW50VGltZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmlkZW8ucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlby5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB7IHRocmVzaG9sZDogMC4yIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh2aWRlbyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG59XG4iLCIvKipcclxuICogc2Nyb2xsZXIuanNcclxuICogPT09PT09PT09PT1cclxuICogRGVmaW5lcyB0aGUgbG9naWMgdXNlZCBieSB0aGUgc2Nyb2xsZXIuIFRoaXMgc2NyaXB0IGRvZXMgbm90IG5lZWQgZXh0ZXJuYWwgZGVwZW5kZW5jaWVzIGFuZCB1c2VzIG5hdGl2ZSBmdW5jdGlvbnNcclxuICogb2YgdGhlIGJyb3dzZXIuXHJcbiAqXHJcbiAqIC8hXFwgUExFQVNFLCBETyBOT1QgTU9ESUZZIFRISVMgRklMRS5cclxuICpcclxuICogQGF1dGhvciBBbnRvaW5lIELDqWxhbmQgPGFiZWxhbmRAbGVkZXZvaXIuY29tPlxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIGEgc3RlcCBhc3NvY2lhdGVkIHdpdGggYSBzcGVjaWZpYyB2aXN1YWxpemF0aW9uLiBBIHN0ZXAgaXMgYWN0aXZhdGVkIG9yIGRlYWN0aXZhdGVkIGJhc2VkIG9uIHRoZSBzY3JvbGxcclxuICogcG9zaXRpb24uIFRoaXMgY2xhc3MgaXMgdXNlZCBieSB0aGUgc2Nyb2xsZXIgZnVuY3Rpb24uXHJcbiAqL1xyXG5jbGFzcyBTY3JvbGxlclN0ZXAge1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGEgbmV3IGluc3RhbmNlIG9mIFNjcm9sbGVyU3RlcC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBlbCAgICAgICAgICBUaGUgbmF0aXZlIGVsZW1lbnQgdGhhdCByZXByZXNlbnRzIHRoZSBzdGVwIGluIHRoZSBIVE1MIGRvY3VtZW50LlxyXG4gICAqIEBwYXJhbSBpbmRleCAgICAgICBUaGUgaW5kZXggb2YgdGhlIHN0ZXAuXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrICAgIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIHN0ZXAgaXMgYWN0aXZhdGUuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZWwsIGluZGV4LCBjYWxsYmFjaykge1xyXG4gICAgdGhpcy5lbCA9IGVsO1xyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgdGhpcy5faXNBY3RpdmF0ZSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWN0aXZhdGVzIHRoZSBjdXJyZW50IHN0ZXAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc2Nyb2xsRGlyZWN0aW9uICAgVGhlIGN1cnJlbnQgc2Nyb2xsIGRpcmVjdGlvbi5cclxuICAgKi9cclxuICBhY3RpdmF0ZShzY3JvbGxEaXJlY3Rpb24pIHtcclxuICAgIGlmICh0aGlzLl9pc0FjdGl2YXRlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX2lzQWN0aXZhdGUgPSB0cnVlO1xyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIHRoaXMuY2FsbGJhY2soc2Nyb2xsRGlyZWN0aW9uKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlYWN0aXZhdGVzIHRoZSBjdXJyZW50IHN0ZXAuXHJcbiAgICovXHJcbiAgZGVhY3RpdmF0ZSgpIHtcclxuICAgIGlmICghdGhpcy5faXNBY3RpdmF0ZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLl9pc0FjdGl2YXRlID0gZmFsc2U7XHJcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIERlZmluZXMgdGhlIHNjcm9sbCBkaXJlY3Rpb25zLlxyXG4gKlxyXG4gKiBAdHlwZSB7e3VwOiBzdHJpbmcsIGRvd246IHN0cmluZ319XHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2Nyb2xsRGlyZWN0aW9ucyA9IHtcclxuICB1cDogJ3VwJyxcclxuICBkb3duOiAnZG93bidcclxufTtcclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIHRoZSBzY3JvbGxlciB0byB1c2Ugd2l0aCB0aGUgTGUgRGV2b2lyJ3Mgc2Nyb2xseXRlbGxpbmcgYXJ0aWNsZXMuIFBsZWFzZSBzZWUgXCJSRUFETUUubWRcIlxyXG4gKiB0byBrbm93IGhvdyB0byB1c2UgaXQuXHJcbiAqXHJcbiAqIC8hXFwgQmUgc3VyZSB0byB1c2UgdGhlIGdvb2QgQ1NTIGNsYXNzIG5hbWVzIGluIHlvdXIgSFRNTCBmaWxlIGJlZm9yZSB0byB1c2UgdGhlIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0gY2FsbGJhY2tzICAgQSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBvZiBjYWxsYmFja3MgdG8gdXNlIHdpdGggZWFjaCBzdGVwLlxyXG4gKiBAcmV0dXJucyB7Kn0gICAgICAgVGhlIGluc3RhbmNlIG9mIHRoZSBzY3JvbGxlci5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxlcihjYWxsYmFja3MpIHtcclxuICBsZXQgX29mZnNldFRvcCA9IDA7XHJcbiAgbGV0IF9vZmZzZXRCb3R0b20gPSAwO1xyXG5cclxuICBsZXQgaW5uZXJIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgbGV0IGlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICBsZXQgbGFzdFNjcm9sbCA9IDA7XHJcbiAgbGV0IHN0ZXBzID0gW107XHJcbiAgbGV0IHZpeiA9IFtdO1xyXG4gIGxldCB2aXNpYmxlU3RlcHMgPSBbXTtcclxuICBcclxuICBjb25zdCBhcnRpY2xlUmVtaW5kZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJ0aWNsZS1yZW1pbmRlcicpO1xyXG4gIGNvbnN0IHNjcm9sbFByb2dyZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyID4gLnByb2dyZXNzJyk7XHJcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm8tc2VjdGlvbiBoMScpO1xyXG5cclxuICBjb25zdCB2aXpTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52aXotc2VjdGlvbicpO1xyXG4gIGlmICh2aXpTZWN0aW9ucy5sZW5ndGggIT09IGNhbGxiYWNrcy5sZW5ndGgpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgVGhlIG51bWJlciBvZiB2aXogc2VjdGlvbnMgKCR7dml6U2VjdGlvbnMubGVuZ3RofSkgbWlzbWF0Y2ggd2l0aCB0aGUgbGVuZ3RoIG9mIHRoZSBmaXJzdCBgICtcclxuICAgICAgYGRpbWVuc2lvbiBvZiB0aGUgY2FsbGJhY2tzIGFycmF5ICgke2NhbGxiYWNrcy5sZW5ndGh9KS4gUGxlYXNlLCBiZSBzdXJlIHRoYXQgdGhlIHR3byBlbGVtZW50cyBgICtcclxuICAgICAgYGhhdmUgdGhlIHNhbWUgc2l6ZS5gKTtcclxuICB9XHJcbiAgdml6U2VjdGlvbnMuZm9yRWFjaCgodml6U2VjdGlvbiwgaSkgPT4ge1xyXG4gICAgY29uc3Qgc2VjdGlvbnMgPSBbLi4udml6U2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uJyldO1xyXG4gICAgaWYgKHNlY3Rpb25zLmxlbmd0aCAhPT0gY2FsbGJhY2tzW2ldLmxlbmd0aCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBudW1iZXIgb2Ygc3RlcHMgKCR7c2VjdGlvbnMubGVuZ3RofSkgaW4gdGhlIHZpeiBzZWN0aW9uICMke2kgKyAxfSBtaXNtYXRjaCB3aXRoIHRoZSBgICtcclxuICAgICAgICBgbnVtYmVyIG9mIGNhbGxiYWNrcyBzcGVjaWZpZWQgKCR7Y2FsbGJhY2tzW2ldLmxlbmd0aH0pIGF0IHRoZSBpbmRleCBcIiR7aX1cIi4gUGxlYXNlLCBiZSBzdXJlIHRoYXQgdGhlIHR3byBgICtcclxuICAgICAgICBgZWxlbWVudHMgaGF2ZSB0aGUgc2FtZSBzaXplLmApO1xyXG4gICAgfVxyXG4gICAgc3RlcHMgPSBzdGVwcy5jb25jYXQoc2VjdGlvbnMubWFwKChlLCBqKSA9PiBuZXcgU2Nyb2xsZXJTdGVwKGUsIGAke2l9LSR7an1gLCBjYWxsYmFja3NbaV1bal0pKSk7XHJcbiAgICB2aXogPSB2aXouY29uY2F0KHZpeiwgdml6U2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcudml6ID4gKicpKTtcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgZGlzcGxheSBiYXNlZCBvbiBzY3JvbGxiYXIgcG9zaXRpb24uXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBjb25zdCBfdXBkYXRlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFNjcm9sbCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgc3RlcHMuZm9yRWFjaChzdGVwID0+IHtcclxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgc3RlcCBpcyBpbiB0aGUgdmlld3BvcnQuXHJcbiAgICAgIGNvbnN0IGJvdW5kaW5nUmVjdCA9IHN0ZXAuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGlmIChpbm5lckhlaWdodCAtIGJvdW5kaW5nUmVjdC50b3AgLSBfb2Zmc2V0Qm90dG9tID4gMFxyXG4gICAgICAgICYmIGJvdW5kaW5nUmVjdC50b3AgKyBib3VuZGluZ1JlY3QuaGVpZ2h0IC0gX29mZnNldFRvcCA+IDApIHtcclxuICAgICAgICB2aXNpYmxlU3RlcHMucHVzaChzdGVwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzdGVwLmRlYWN0aXZhdGUoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRGlzcGxheSB0aGUgdGl0bGUgYXMgYSByZW1pbmRlciB3aGVuIHRoZSBtYWluIGFydGljbGUgdGl0bGUgaXMgaGlkZGVuLlxyXG4gICAgY29uc3QgaXNBcnRpY2xlUmVtaW5kZXJEaXNwbGF5ZWQgPSB0aXRsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gPD0gMDtcclxuICAgIGNvbnN0IGlzQXJ0aWNsZVJlbWluZGVySXNWaXNpYmxlID0gYXJ0aWNsZVJlbWluZGVyLmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpO1xyXG4gICAgaWYgKGlzQXJ0aWNsZVJlbWluZGVyRGlzcGxheWVkICYmICFpc0FydGljbGVSZW1pbmRlcklzVmlzaWJsZSkge1xyXG4gICAgICBhcnRpY2xlUmVtaW5kZXIuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpXHJcbiAgICB9IGVsc2UgaWYgKCFpc0FydGljbGVSZW1pbmRlckRpc3BsYXllZCAmJiBpc0FydGljbGVSZW1pbmRlcklzVmlzaWJsZSkge1xyXG4gICAgICBhcnRpY2xlUmVtaW5kZXIuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gRm9yIHRoZSB2aXNpYmxlIHN0ZXBzLCBjaG9vc2UgdGhlIGdvb2Qgb25lIGJhc2VkIG9uIHRoZSBzY3JvbGwgZGlyZWN0aW9uLlxyXG4gICAgdmlzaWJsZVN0ZXBzLmZvckVhY2goKHNlY3Rpb24sIGkpID0+IHtcclxuICAgICAgaWYgKGN1cnJlbnRTY3JvbGwgPj0gbGFzdFNjcm9sbCkgeyAvLyBTY3JvbGwgZG93biAo4oaTKVxyXG4gICAgICAgIGlmIChpID09PSB2aXNpYmxlU3RlcHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgc2VjdGlvbi5hY3RpdmF0ZShzY3JvbGxEaXJlY3Rpb25zLmRvd24pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWN0aW9uLmRlYWN0aXZhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7IC8vIFNjcm9sbCB1cCAo4oaRKVxyXG4gICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICBzZWN0aW9uLmFjdGl2YXRlKHNjcm9sbERpcmVjdGlvbnMudXApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWN0aW9uLmRlYWN0aXZhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgX3VwZGF0ZVNjcm9sbFByb2dyZXNzKCk7XHJcblxyXG4gICAgLy8gUmVzZXQgdGhlIHZhcmlhYmxlcyBmb3IgdGhlIG5leHQgZnVuY3Rpb24gY2FsbC5cclxuICAgIHZpc2libGVTdGVwcyA9IFtdO1xyXG4gICAgbGFzdFNjcm9sbCA9IGN1cnJlbnRTY3JvbGw7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgc2Nyb2xsIHByb2dyZXNzaW9uIGluZGljYXRvci5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGNvbnN0IF91cGRhdGVTY3JvbGxQcm9ncmVzcyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHdpblNjcm9sbCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcclxuICAgIGNvbnN0IHNjcm9sbGVkID0gKHdpblNjcm9sbCAvIGhlaWdodCkgKiAxMDA7XHJcbiAgICBzY3JvbGxQcm9ncmVzcy5zdHlsZS53aWR0aCA9IHNjcm9sbGVkICsgJyUnO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHB1YmxpY0ludGVyZmFjZSA9IHtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIHNjcm9sbGVyLiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIGJlIG9ubHkgY2FsbGVkIG9uY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBpbnN0YW5jZSBvZiB0aGUgc2Nyb2xsZXIuXHJcbiAgICAgKi9cclxuICAgIGluaXRpYWxpemU6ICgpID0+IHtcclxuICAgICAgaWYgKGlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzY3JvbGxlciBpcyBhbHJlYWR5IGluaXRpYWxpemVkLicpO1xyXG4gICAgICB9XHJcbiAgICAgIGlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX3VwZGF0ZSk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICAgICAgaW5uZXJIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgX3VwZGF0ZVNjcm9sbFByb2dyZXNzKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoKHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSA+IDApIHtcclxuICAgICAgICBfdXBkYXRlKCk7XHJcbiAgICAgIH1cclxuICAgICAgX3VwZGF0ZVNjcm9sbFByb2dyZXNzKCk7XHJcbiAgICAgIHJldHVybiBwdWJsaWNJbnRlcmZhY2U7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBvciBzZXRzIHRoZSB0b3Agb2Zmc2V0IHRvIHVzZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0VG9wXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIGluc3RhbmNlIG9mIHRoZSBzY3JvbGxlci5cclxuICAgICAqL1xyXG4gICAgb2Zmc2V0VG9wOiBvZmZzZXRUb3AgPT4ge1xyXG4gICAgICBpZiAob2Zmc2V0VG9wID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gX29mZnNldFRvcDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIob2Zmc2V0VG9wKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG9mZnNldCBtdXN0IGJlIGFuIGludGVnZXIgbnVtYmVyLicpO1xyXG4gICAgICB9XHJcbiAgICAgIF9vZmZzZXRUb3AgPSBvZmZzZXRUb3A7XHJcbiAgICAgIHJldHVybiBwdWJsaWNJbnRlcmZhY2U7XHJcbiAgICB9ICxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgYm90dG9tIG9mZnNldCB0byB1c2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9mZnNldEJvdHRvbVxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBpbnN0YW5jZSBvZiB0aGUgc2Nyb2xsZXIuXHJcbiAgICAgKi9cclxuICAgIG9mZnNldEJvdHRvbTogb2Zmc2V0Qm90dG9tID0+IHtcclxuICAgICAgaWYgKG9mZnNldEJvdHRvbSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9vZmZzZXRCb3R0b207XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG9mZnNldEJvdHRvbSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBvZmZzZXQgbXVzdCBiZSBhbiBpbnRlZ2VyIG51bWJlci4nKTtcclxuICAgICAgfVxyXG4gICAgICBfb2Zmc2V0Qm90dG9tID0gb2Zmc2V0Qm90dG9tO1xyXG4gICAgICByZXR1cm4gcHVibGljSW50ZXJmYWNlO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgcmV0dXJuIHB1YmxpY0ludGVyZmFjZTtcclxufVxyXG4iLCJcclxuaW1wb3J0IHsgaW5pdGlhbGl6ZSBhcyB2MSB9IGZyb20gJy4uL3Zpeic7XHJcbmltcG9ydCB7IHNjcm9sbGVyIH0gZnJvbSAnLi4vc2Nyb2xsZXInO1xyXG5pbXBvcnQgTGF6eUxvYWQgZnJvbSBcInZhbmlsbGEtbGF6eWxvYWRcIjtcclxuY29uc3QgaGVhZGVySGVpZ2h0ID0gNDA7XHJcbmltcG9ydCBzdGlja3lCaXRzIGZyb20gJ3N0aWNreWJpdHMnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNjcm9sbGVyKGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhKXtcclxuXHJcbiAgICBsZXQgZWxlbWVudHMgPSBbXTtcclxuICAgIFsnLnZpeicsICcuZnVsbC1wYWdlLXNlY3Rpb24gPiBpbWcnLCAnLmZ1bGwtcGFnZS1zZWN0aW9uID4gdmlkZW8nXS5mb3JFYWNoKHNlbGVjdG9yID0+IHtcclxuICAgICAgZWxlbWVudHMgPSBlbGVtZW50cy5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkpO1xyXG4gICAgfSk7XHJcbiAgICBzdGlja3lCaXRzKGVsZW1lbnRzLCB7IHN0aWNreUJpdFN0aWNreU9mZnNldDogaGVhZGVySGVpZ2h0IH0pO1xyXG4gIFxyXG4gICAgY29uc3QgbGwgPSBuZXcgTGF6eUxvYWQoe1xyXG4gICAgICBlbGVtZW50c19zZWxlY3RvcjogXCIubGF6eVwiLFxyXG4gICAgICB0aHJlc2hvbGQ6IDUwMFxyXG4gICAgfSk7XHJcbiAgXHJcbiAgICBQcm9taXNlLmFsbChbdjEoY29udGVudERhdGEsIHBhcmFtc0RhdGEpXSkudGhlbigoW2NhbGxiYWNrc1YxXSkgPT4gIHtcclxuICAgICAgc2Nyb2xsZXIoY2FsbGJhY2tzVjEpXHJcbiAgICAgICAgLm9mZnNldFRvcChoZWFkZXJIZWlnaHQpXHJcbiAgICAgICAgLm9mZnNldEJvdHRvbSgwKVxyXG4gICAgICAgIC5pbml0aWFsaXplKCk7XHJcbiAgICB9KTtcclxuICB9IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgSW50cm9TZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvSW50cm9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBUZXh0U2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1RleHRTZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBWaXpTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVml6U2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgRnVsbFBhZ2VTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRnVsbFBhZ2VTZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBvcHRpb25zRHJvcGRvd25Db25zdGFudHMgfSBmcm9tIFwiLi9jb25zdGFudHMuanNcIjtcbmltcG9ydCBwYXJzZSBmcm9tIFwiaHRtbC1yZWFjdC1wYXJzZXJcIjtcbmltcG9ydCB7IGdldFN0cnVjdHVyZSB9IGZyb20gXCIuL3N0cnVjdHVyZUdlbmVyYXRvci5qc1wiO1xuaW1wb3J0IHsgaW5pdFNjcm9sbGVyIH0gZnJvbSBcIi4vaW5pdFNjcm9sbGVyLmpzXCI7XG5cblxuLyoqXG4gKiBUYWtlIHByb3BzIChhcnRpY2xlIHN0cnVjdHVyZSBhcyBDU1YgYW5kIHBhcmFtcykgYW5kIHRyYW5zZm9ybSBpdCBhcyBIVE1MIGFyY2hpdGVjdHVyZVxuICogQHBhcmFtICB7T2JqZWN0fSBjb250ZW50RGF0YSBBcnRpY2xlJ3MgQ1NWIHN0cnVjdHVyZVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc0RhdGEgQXJ0aWNsZSBwYXJhbWV0ZXJzXG4gKiBAcmV0dXJuIHtPYmplY3R9IE9iaiBIVE1MIGNvZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbmRlclN0cnVjdHVyZShwcm9wcyl7XG4gICAgaWYocHJvcHMucmVuZGVyZWQpe1xuICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgICAgICBpbml0U2Nyb2xsZXIocHJvcHMuY29udGVudERhdGEsIHByb3BzLnBhcmFtc0RhdGEpO1xuXG4gICAgICAgIH0sIFtdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyRGF0YShnZXRTdHJ1Y3R1cmUocHJvcHMuY29udGVudERhdGEsIHByb3BzLnBhcmFtc0RhdGEpKTtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyRGF0YShzdHJ1Y3R1cmVEYXRhKXtcblxuICAgIGxldCByZW5kZXJlZERhdGEgPSB7fTtcblxuICAgIE9iamVjdC5rZXlzKHN0cnVjdHVyZURhdGEpLm1hcCgoc2VjdGlvbktleSxpbmRleCkgPT4ge1xuICAgICAgICBsZXQgY3VyU2VjdGlvbiA9IHN0cnVjdHVyZURhdGFbc2VjdGlvbktleV07XG4gICAgICAgIGlmKGN1clNlY3Rpb24uc2VjdGlvblR5cGUgPT09IG9wdGlvbnNEcm9wZG93bkNvbnN0YW50cy5zZWN0aW9udHlwZXMuaW50cm90aXRyZSl7XG4gICAgICAgICAgICByZW5kZXJlZERhdGFbc2VjdGlvbktleV0gPSAoKDxJbnRyb1NlY3Rpb24ga2V5PXtjdXJTZWN0aW9uLmtleX0gc2VjdGlvblR5cGU9e2N1clNlY3Rpb24uc2VjdGlvblR5cGV9IG9wdGlvbkRhdGE9e2N1clNlY3Rpb24ub3B0aW9uRGF0YX0gYW1vcmNlPXtwYXJzZShjdXJTZWN0aW9uLmFtb3JjZSl9IGJhY2tncm91bmQ9e2N1clNlY3Rpb24uYmFja2dyb3VuZH0gY2xhc3Nlcz17Y3VyU2VjdGlvbi5jbGFzc2VzfSAvPikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoY3VyU2VjdGlvbi5zZWN0aW9uVHlwZSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy50ZXh0ZWNsYXNzaXF1ZSl7XG5cbiAgICAgICAgICAgIHJlbmRlcmVkRGF0YVtzZWN0aW9uS2V5XSA9ICgoPFRleHRTZWN0aW9uIGtleT17Y3VyU2VjdGlvbi5rZXl9IGlkPXtjdXJTZWN0aW9uLmtleX0gc2VjdGlvblR5cGU9e2N1clNlY3Rpb24uc2VjdGlvblR5cGV9IHRleHRzPXtjdXJTZWN0aW9uLnRleHRzfSBiYWNrZ3JvdW5kPXtjdXJTZWN0aW9uLmJhY2tncm91bmR9IGNsYXNzZXM9e2N1clNlY3Rpb24uY2xhc3Nlc30gdmlzdWVsY2xhc3Nlcz17Y3VyU2VjdGlvbi52aXN1ZWxjbGFzc2VzfSB2aXN1YWw9e2N1clNlY3Rpb24udmlzdWFsfSBmaWxlbmFtZT17Y3VyU2VjdGlvbi5maWxlbmFtZX0vPikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoY3VyU2VjdGlvbi5zZWN0aW9uVHlwZSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy5wbGVpbmVwYWdldGl0cmUpe1xuICAgICAgICAgICAgcmVuZGVyZWREYXRhW3NlY3Rpb25LZXldID0gKCg8RnVsbFBhZ2VTZWN0aW9uIGtleT17Y3VyU2VjdGlvbi5rZXl9IGlkPXtjdXJTZWN0aW9uLmtleX0gc2VjdGlvblR5cGU9e2N1clNlY3Rpb24uc2VjdGlvblR5cGV9IGJhY2tncm91bmQ9e2N1clNlY3Rpb24uYmFja2dyb3VuZH0gY2xhc3Nlcz17Y3VyU2VjdGlvbi5jbGFzc2VzfSB2aXN1ZWxjbGFzc2VzPXtjdXJTZWN0aW9uLnZpc3VlbGNsYXNzZXN9IHZpc3VhbD17Y3VyU2VjdGlvbi52aXN1YWx9IG1haW5UaXRsZT17Y3VyU2VjdGlvbi50ZXh0cy5tYWluVGl0bGV9IHN1YlRpdGxlPXtjdXJTZWN0aW9uLnRleHRzLnN1YlRpdGxlfSBmaWxlbmFtZT17Y3VyU2VjdGlvbi5maWxlbmFtZX0gLz4pKVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoY3VyU2VjdGlvbi5zZWN0aW9uVHlwZSA9PT0gb3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzLnNlY3Rpb250eXBlcy52aXpzZWN0aW9uKXtcbiAgICAgICAgICAgIHJlbmRlcmVkRGF0YVtzZWN0aW9uS2V5XSA9ICg8Vml6U2VjdGlvbiBrZXk9e2N1clNlY3Rpb24ua2V5fSBsaXN0SUQ9e2N1clNlY3Rpb24ubGlzdElEfSBzdGVwcz17Y3VyU2VjdGlvbi5zdGVwc30gY2xhc3NlZD17Y3VyU2VjdGlvbi5jbGFzc2VkfSBtZWRpYUluZm89e2N1clNlY3Rpb24ubWVkaWFJbmZvfSBiYWNrZ3JvdW5kPXtjdXJTZWN0aW9uLmJhY2tncm91bmR9Lz4pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVuZGVyZWREYXRhKTtcbn1cbiIsIi8qKlxuICogYXBwLmpzXG4gKiA9PT09PT1cbiAqIE1haW4gZmlsZSBvZiB0aGUgYXBwbGljYXRpb24uIFRoaXMgZmlsZSBpcyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIHNjcm9sbGVyIGFuZCBpbXBvcnRzIHRoZSB2aXN1YWxpemF0aW9ucyB1c2VkLlxuICovXG5cbid1c2Ugc3RyaWN0JztcbmltcG9ydCBzdHJ1Y3R1cmUgZnJvbSAnLi4vZGF0YS9zdHJ1Y3R1cmUvc3RydWN0dXJlLmpzb24nO1xuXG5pZighRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjKXtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jvb3QnKS5pbm5lckhUTUwgPSAoc3RydWN0dXJlLmh0bWxzdHJ1Yyk7XG59XG5cbmltcG9ydCAnLi4vYXNzZXRzL3N0eWxlcy9zdHlsZS5zY3NzJztcbmltcG9ydCB7Z29vZ2xlX2NvbmZpZ30gZnJvbSBcIi4uL2RhdGEvZ29vZ2xlX2NvbmZpZ1wiO1xuaW1wb3J0IHsgUmVuZGVyU3RydWN0dXJlIH0gZnJvbSAnLi9nZW5lcmF0b3IvUmVuZGVyU3RydWN0dXJlJztcbmltcG9ydCB7IGluaXRTY3JvbGxlciB9IGZyb20gJy4vZ2VuZXJhdG9yL2luaXRTY3JvbGxlcic7XG5pbXBvcnQgeyBnZW5lcmF0ZUNhbGxiYWNrcyB9IGZyb20gJy4vZ2VuZXJhdG9yL3N0cnVjdHVyZUdlbmVyYXRvcic7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBzYXZlQXMgfSBmcm9tICdmaWxlLXNhdmVyJztcblxuaWYoRU5WX0NPTkZJRy5kb3dubG9hZFN0cnVjKXtcbiAgUHJvbWlzZS5hbGwoW2ltcG9ydChcInJlYWN0LWRvbS9jbGllbnRcIiksIGltcG9ydChcInJlYWN0LWRvbS9zZXJ2ZXJcIiksIGltcG9ydChcInJlYWN0XCIpXSlcbiAgICAudGhlbihwYWNrYWdlcyA9PiB7XG4gICAgICBjb25zdCBSZWFjdERPTSA9IHBhY2thZ2VzWzBdO1xuICAgICAgY29uc3QgUmVhY3RET01TZXJ2ZXIgPSBwYWNrYWdlc1sxXTtcbiAgICAgIGNvbnN0IFJlYWN0ID0gcGFja2FnZXNbMl07XG4gICAgICBhZGROb3RQdWJsaXNoZWQoKTtcbiAgICAgIGlmKEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLmNvbnRlbnRVUkwpLnRoZW4oIGNvbnRlbnREYXRhID0+IHtcbiAgICAgICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5wYXJhbXNVUkwpLnRoZW4oIHBhcmFtc0RhdGEgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm9vdCA9IFJlYWN0RE9NLmNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpKTtcbiAgICAgICAgICAgIHJvb3QucmVuZGVyKFxuICAgICAgICAgICAgICA8UmVuZGVyU3RydWN0dXJlIGNvbnRlbnREYXRhPXtjb250ZW50RGF0YX0gcGFyYW1zRGF0YT17cGFyYW1zRGF0YX0gcmVuZGVyZWQ9e3RydWV9Lz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBhZGRGb290ZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICBkMy5jc3YoZ29vZ2xlX2NvbmZpZy5jb250ZW50VVJMKS50aGVuKCBjb250ZW50RGF0YSA9PiB7XG4gICAgICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcucGFyYW1zVVJMKS50aGVuKCBwYXJhbXNEYXRhID0+IHtcbiAgICAgICAgICAgIGQzLmJsb2IoZ29vZ2xlX2NvbmZpZy5jb250ZW50VVJMKS50aGVuKGNvbnRlbnRCbG9iID0+IHtcbiAgICAgICAgICAgICAgZDMuYmxvYihnb29nbGVfY29uZmlnLnBhcmFtc1VSTCkudGhlbihwYXJhbXNCbG9iID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBnZW5lcmF0ZWRTdHJ1YyA9IFJlbmRlclN0cnVjdHVyZSh7Y29udGVudERhdGE6IGNvbnRlbnREYXRhLCBwYXJhbXNEYXRhOiBwYXJhbXNEYXRhLCByZW5kZXI6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbFN0cnVjID0gUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdGF0aWNNYXJrdXAoZ2VuZXJhdGVkU3RydWMpO1xuICAgICAgICAgICAgICAgIHdyaXRlSFRNTGZpbGUoaHRtbFN0cnVjLCBjb250ZW50QmxvYiwgcGFyYW1zQmxvYik7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVDYWxsYmFja3MoY29udGVudERhdGEscGFyYW1zRGF0YSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSlcbn1cbmVsc2V7XG4gIGlmKEVOVl9DT05GSUcuYXV0b3JlbmRlcil7XG4gICAgUHJvbWlzZS5hbGwoW2ltcG9ydChcInJlYWN0LWRvbS9jbGllbnRcIiksIGltcG9ydChcInJlYWN0XCIpXSlcbiAgICAudGhlbihwYWNrYWdlcyA9PiB7XG4gICAgICBjb25zdCBSZWFjdERPTSA9IHBhY2thZ2VzWzBdO1xuICAgICAgY29uc3QgUmVhY3QgPSBwYWNrYWdlc1sxXTtcbiAgICAgIGQzLmNzdihnb29nbGVfY29uZmlnLmNvbnRlbnRVUkwpLnRoZW4oIGNvbnRlbnREYXRhID0+IHtcbiAgICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcucGFyYW1zVVJMKS50aGVuKCBwYXJhbXNEYXRhID0+IHtcbiAgICAgICAgICBjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIikpO1xuICAgICAgICAgIHJvb3QucmVuZGVyKFxuICAgICAgICAgICAgPFJlbmRlclN0cnVjdHVyZSBjb250ZW50RGF0YT17Y29udGVudERhdGF9IHBhcmFtc0RhdGE9e3BhcmFtc0RhdGF9IHJlbmRlcmVkPXt0cnVlfS8+XG4gICAgICAgICAgKTtcbiAgICAgICAgICBhZGRGb290ZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBlbHNle1xuICAgIGQzLmNzdihnb29nbGVfY29uZmlnLmxvY2FsQ29udGVudFVSTCkudGhlbiggY29udGVudERhdGEgPT4ge1xuICAgICAgZDMuY3N2KGdvb2dsZV9jb25maWcubG9jYWxQYXJhbXNVUkwpLnRoZW4oIHBhcmFtc0RhdGEgPT4ge1xuICAgICAgICBpbml0U2Nyb2xsZXIoY29udGVudERhdGEsIHBhcmFtc0RhdGEpO1xuICAgICAgICBhZGRGb290ZXIoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdyaXRlSFRNTGZpbGUoSFRNTFN0cnVjdCwgY29udGVudERhdGEsIHBhcmFtc0RhdGEpe1xuICBsZXQgYmxvYiA9IG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeSh7aHRtbHN0cnVjOiBgJHtIVE1MU3RydWN0fWB9LCBudWxsLCAyKV0sIHt0eXBlOiBcInRleHQvcGxhaW47Y2hhcnNldD11dGYtOFwifSk7XG4gIGxldCBjb250ZW50Q1NWID0gbmV3IEJsb2IoW2NvbnRlbnREYXRhXSwge3R5cGU6IFwidGV4dC9jc3Y7Y2hhcnNldD11dGYtOFwifSk7XG4gIGxldCBwYXJhbXNDU1YgPSBuZXcgQmxvYihbcGFyYW1zRGF0YV0sIHt0eXBlOiBcInRleHQvY3N2O2NoYXJzZXQ9dXRmLThcIn0pO1xuXG4gIHNhdmVBcyhjb250ZW50Q1NWLCBcImNvbnRlbnREYXRhLmNzdlwiKTtcbiAgc2F2ZUFzKHBhcmFtc0NTViwgXCJwYXJhbXNEYXRhLmNzdlwiKTtcbiAgc2F2ZUFzKGJsb2IsIFwic3RydWN0dXJlLmpzb25cIik7XG59XG5cbmZ1bmN0aW9uIGFkZE5vdFB1Ymxpc2hlZCgpe1xuICBjb25zdCBkaXYgPSBkMy5zZWxlY3QoJy5wdWxsLXJpZ2h0JykuaW5zZXJ0KFwibGlcIiwnbGknKTtcbiAgZGl2Lmh0bWwoYDxwIGNsYXNzPSdub3QtcHVibGlzaGVkJz5OZSBwYXMgcHVibGllcjwvcD5gKTtcbn1cblxuZnVuY3Rpb24gYWRkRm9vdGVyKCl7XG4gIC8vZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvb3RlckNvbnRhaW5lcicpLnJlbW92ZSgpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9vdGVyQ29udGFpbmVyJykuaW5uZXJIVE1MID0gZDMuc2VsZWN0KGAjZm9vdGVyQ29udGVudGApLm5vZGUoKS5pbm5lckhUTUw7XG59XG4iLCJjb25zdCBnb29nbGVfY29uZmlnID0ge1xuICAgIFwiY29udGVudFVSTFwiOiBcImh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kL2UvMlBBQ1gtMXZTRXl3SkUwVlVneTNOc3EzVGdfb2gtVnM2MzNUU2ltZElIZmtYVHl6OUJiRXRXTlZndXJkMVRvdS1RNWFudmRPaXczY29DRmtEQ2lTWXEvcHViP2dpZD0wJnNpbmdsZT10cnVlJm91dHB1dD1jc3ZcIixcbiAgICBcInBhcmFtc1VSTFwiOiBcImh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kL2UvMlBBQ1gtMXZTRXl3SkUwVlVneTNOc3EzVGdfb2gtVnM2MzNUU2ltZElIZmtYVHl6OUJiRXRXTlZndXJkMVRvdS1RNWFudmRPaXczY29DRmtEQ2lTWXEvcHViP2dpZD00MDk5NTAyMzcmc2luZ2xlPXRydWUmb3V0cHV0PWNzdlwiLFxuICAgIFwibG9jYWxDb250ZW50VVJMXCI6IFwiLi9kYXRhL3N0cnVjdHVyZS9jb250ZW50RGF0YS5jc3ZcIixcbiAgICBcImxvY2FsUGFyYW1zVVJMXCI6IFwiLi9kYXRhL3N0cnVjdHVyZS9wYXJhbXNEYXRhLmNzdlwiXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtnb29nbGVfY29uZmlnfTtcbiJdLCJuYW1lcyI6WyJJbnRyb1NlY3Rpb24iLCJwcm9wcyIsImludHJvU2VjdGlvbk9iaiIsImNsYXNzTmFtZSIsImNsYXNzZXMiLCJhbW9yY2UiLCJwYXJzZSIsIm9wdGlvbkRhdGEiLCJ0aXRsZSIsImJhY2tncm91bmQiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsIlRleHRTZWN0aW9uIiwicXVvdGVPYmoiLCJpc1F1b3RlIiwiU3RyaW5nIiwiaW5jbHVkZXMiLCJ0ZXh0IiwidGV4dHMiLCJzcGxpdCIsImF1dGhvciIsImJpZ051bWJlck9iaiIsImlzQmlnTnVtYmVyIiwibnVtYmVyIiwidW5kZXJUZXh0IiwiaXNWaXN1YWwiLCJ2aXN1YWwiLCJ2aXN1YWxPYmoiLCJrZXkiLCJpZCIsInNyYyIsImZpbGVuYW1lIiwidmlzdWVsY2xhc3NlcyIsInBhZGRpbmdCb3R0b20iLCJhdXRvUGxheSIsImxvb3AiLCJtdXRlZCIsInBsYXlzSW5saW5lIiwicHJlbG9hZCIsInRleHRTZWN0aW9uT2JqIiwic3RhcnRzV2l0aCIsIkRXQ2hhcnQiLCJpZnJhbWVSZWYiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImhlaWdodCIsInNldFN0YXRlIiwib25NZXNzYWdlIiwidXNlQ2FsbGJhY2siLCJkYXRhIiwic291cmNlIiwiY3VycmVudCIsImNvbnRlbnRXaW5kb3ciLCJ1c2VFZmZlY3QiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlZiIsInNjcm9sbGluZyIsImZyYW1lQm9yZGVyIiwid2lkdGgiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJsb2FkaW5nIiwib3B0aW9uc0Ryb3Bkb3duQ29uc3RhbnRzIiwicGFyYW1ldGVyc0hlYWRlckNvbnN0YW50cyIsInRpdHJlIiwiYXV0ZXVycyIsImRhdGUiLCJWaXpTZWN0aW9uIiwic3RlcHMiLCJjdXJTdGVwQ2xhc3NlcyIsImN1ckNvbW1vbkNsYXNzIiwidml6U2VjdGlvbk9iaiIsImxpc3RJRCIsImNsYXNzZWQiLCJtYXAiLCJzdGVwIiwiaW5kZXgiLCJzdGVwY2xhc3NlcyIsIkFycmF5IiwibGVuZ3RoIiwiZm9yRWFjaCIsInN0ZXBFbGVtIiwiaWR4IiwiaXNBcnJheSIsImVsZW0iLCJpIiwicmVkdWNlIiwiYSIsImIiLCJGdWxsUGFnZVNlY3Rpb24iLCJmdWxscGFnZVNlY3Rpb25PYmoiLCJtYWluVGl0bGUiLCJjbGFzcyIsInN1YlRpdGxlIiwiZ2V0U3RydWN0dXJlIiwiY29udGVudERhdGEiLCJwYXJhbXNEYXRhIiwic3RydWN0dXJlRGF0YSIsInZpelNlY3Rpb25JRHMiLCJvcHRpb25zIiwiZ2V0T3B0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJyb3dEYXRhIiwiY3VyQW1vcmNlIiwic2VjdGlvbkJhY2tncm91bmQiLCJzZWN0aW9uVHlwZSIsInBhcnNlQ2xhc3NlcyIsImdhbWVpZCIsInRpdGxlT2JqIiwiaXNKc29uIiwiSlNPTiIsImN1ckRhdGEiLCJhdHRyaWJ1dHMiLCJzY3JvbGxUeXBlIiwiaGFzT3duUHJvcGVydHkiLCJjdXJWaXpTZWN0aW9uIiwicHVzaCIsImN1clNlY3Rpb24iLCJzZWN0aW9uQXR0ciIsIm1lZGlhSW5mbyIsIk9iamVjdCIsInZhbHVlcyIsImdlbmVyYXRlQ2FsbGJhY2tzIiwiZnVsbFN0cnVjdHVyZSIsImNhbGxiYWNrc0FycmF5IiwiY2FsbGJhY2siLCJjdXJTdGVwcyIsImN1ckNvbW1hbmQiLCJvcGFjaXR5U2VsZWN0b3IiLCJmaWxsIiwiXyIsImZpbHRlciIsImQiLCJpbmQiLCJqb2luIiwiZDMiLCJ0cmFuc2l0aW9uIiwiY3VyVGFnSUQiLCJjdXJUYWdJRF9pbmRleCIsInBhcnNlSW50Iiwic3RyIiwiZSIsImZyb20iLCJhdXRob3JzIiwidXJscyIsIm1hcGJveGdsIiwiR2F1Z2VzIiwicmVuZGVySmV0b25UZXh0IiwiamV0b25zVmFsdWUiLCJNYXRoIiwiYWJzIiwic2VsZWN0QWxsIiwibm9kZXMiLCJub2RlIiwiY3VyV2lkdGgiLCJhdHRyIiwiZG9sbGFycyIsImNvbW1pdHRlZFZhbHVlIiwicm91bmQiLCJjb21taXR0ZWQiLCJnYXVnZVZhbHVlIiwic2VsZWN0Iiwic2VwYXJhdGlvbiIsIkludHJvQm94Iiwic3RhcnRHYW1lIiwiZ2FtZVN0YXJ0IiwiaW50cm9FbGVtIiwib25DbGljayIsIk1vbml0b3JpbmciLCJzZXRUaW1lb3V0IiwiZHVyYXRpb24iLCJ0ZXJhd2F0dHMiLCJjYWxjdWxhdGVQZXJmb3JtYW5jZSIsImNob2ljZXNfdmFsdWVzIiwic2xpY2UiLCJyZW5kZXJTaWduIiwidmFsdWUiLCJDaG9pY2UiLCJzZWxlY3Rpb24iLCJzZXRTZWxlY3Rpb24iLCJzZWxlY3Rpb25idXR0b25zIiwib2JqIiwibmV4dFByb21wdCIsImNvc3QiLCJwZXJmb3JtYW5jZSIsInRyaWdnZXJOZXh0IiwiY3VyUHJvbXB0IiwiY2hhbmdlUHJvbXB0IiwicmVwbGFjZSIsInVwZGF0ZU1lbW9yeU9iaiIsInVwZGF0ZURvbGxhcnMiLCJ1cGRhdGVQZXJmb3JtYW5jZSIsInByZXZpb3VzUHJvbXB0IiwiY3VySW5kZXgiLCJjaG9pY2VzIiwiY2hvaWNlIiwiamV0b25WYWx1ZSIsImV2ZW50IiwidGFyZ2V0IiwidXBkYXRlU2VsZWN0ZWQiLCJ2YWwiLCJOdW1iZXIiLCJpc05hTiIsImV2ZXJ5IiwiaXRlbSIsInNob3dUV2giLCJnYXVnZXMiLCJNdWx0aVNlbGVjdGlvbiIsInJlc2V0U2VsZWN0aW9uIiwiY2FsY3VsYXRlVG90YWxTZWxlY3Rpb24iLCJhY2NDb3N0IiwiYWNjIiwiY3VyIiwiYWNjUGVyZm9ybWFuY2UiLCJjb3VudCIsInByb2Nlc3NUcmlnZ2VyTmV4dCIsInRyaWdnZXJOZXh0dG9Db21wdXRlIiwiY2hvc2VuU3RyaW5nIiwic3BsaXR0ZWRUcmlnZ2VyTmV4dCIsImluZGl2aWR1YWxUcmlnZ2VyTmV4dCIsImZpbHRlcmVkU2VsZWN0aW9uIiwiaW5kZXhPZiIsIm5ld0FycmF5IiwiUHJpbnRQcm9tcHQiLCJnYW1lUmVzZXQiLCJtZXNzYWdlIiwiUmVwYXJ0aXRpb24iLCJqZXRvbnMiLCJzZXRKZXRvbnMiLCJzZXRUZXJhd2F0dHMiLCJvdGhlclBlcmZvTWV0cmljcyIsInNldE90aGVyUGVyZm9NZXRyaWNzIiwidW5pdHMiLCJzZXRVbml0cyIsInRva2Vuc1BlclVuaXQiLCJzZXRUb2tlbnNQZXJVbml0IiwiZ2V0T3B0aW9uUGFyYW1zIiwibmV3VW5pdHMiLCJ1bml0VmFsdWUiLCJuZXdKZXRvbnMiLCJjdXJWYWwiLCJuZXdNVyIsImN1ck9wdGlvblBhcmFtcyIsIm5ld090aGVyUGVyZm9NZXRyaWNzIiwibm9uVW5pcXVlIiwiaGllcmFyY2hpemVVbml0cyIsImluZGV4T2ZNYXhWYWx1ZSIsImlNYXgiLCJ4IiwiYXJyIiwiY29uY2F0IiwiU2V0Iiwic2l6ZSIsInByb2Nlc3NDaG9pY2VzIiwic3BsaXR0ZWRDaG9pY2VzIiwibmFtZSIsInVuaXRUV2h2YWx1ZSIsInVuaXRFbnZpcm92YWx1ZSIsInVuaXRQb3B1dmFsdWUiLCJjaGVja0hpZGVCdXR0b24iLCJvcHRpb25QYXJhbXMiLCJoaWRlQnV0dG9uIiwibW9kaWZ5T25DbGljayIsImRpZmYiLCJuZXdBZGRpdGlvbiIsInRvdGFsIiwiZGVmYXVsdE5leHQiLCJtYXgiLCJyZXMiLCJ1bmRlZmluZWQiLCJNYXBOYXZpZ2F0b3IiLCJzZXR1cE9uQ2xpY2siLCJ0aXAiLCJkM1RpcCIsImRpcmVjdGlvbiIsImh0bWwiLCJzdXBwX3RleHQiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsImJnTWFwIiwiaWNvbk9OTWFwIiwiYXBwZW5kIiwiZG9jdW1lbnRFbGVtZW50IiwiT25JY29uc1NWRyIsImNhbGwiLCJhcHBlbmRDaGlsZCIsImdCdXR0b25zIiwidGl0bGVzIiwic3VwcF90ZXh0cyIsInJldmVyc2UiLCJjdXJUaXBEYXRhIiwib24iLCJzdG9wUHJvcGFnYXRpb24iLCJzaG93IiwidG9nZ2xlSWNvbiIsInBhcmVudEVsZW1lbnQiLCJoaWRlIiwiaWNvbk9iaiIsInN0YXR1cyIsIkJpbGFuIiwiY2FzaFRleHQiLCJUV2hFbnZUZXh0IiwicG9wdVRleHQiLCJwcm9jZXNzZWRDb250ZW50IiwidGV4dFN1cHBBcnJheSIsInNlY29uZERhbUVuZXJneSIsImFkanVzdGVkUHJvZHVjdGlvblZhbHVlIiwiY3VyRG9sbGFycyIsImVudmlyb25tZW50VmFsdWUiLCJwb3B1bGFyaXRlVmFsdWUiLCJ0ZXh0Q29udGVudEFycmF5IiwiZGFtRW5lcmd5IiwibWVtb3J5T2JqIiwiYnVpbHREYW0iLCJnZW5lcmljVGV4dCIsImJhcnJhZ2VUZXh0IiwibG93Q2FzaFRleHQiLCJsb3dFbnZUZXh0IiwibG93UG9wVGV4dCIsInByb2Nlc3NCaWxhbjEiLCJidWlsdFNlY29uZERhbSIsIkVuZEdhbWUiLCJyYWlzb24iLCJDYXRhc3Ryb3BoZSIsInBhcnNlQ2hvaWNlVmFsdWVzIiwiY2hvaWNlX3ZhbHVlIiwic3BsaXR0ZWRDaG9pY2VWYWx1ZXMiLCJzcGxpY2UiLCJ3aGljaEV2ZW50SGFwcGVucyIsIlByb21wdEJveCIsImludmVzdGVkTW9kZXJuaXphdGlvbiIsInNldE1lbW9yeU9iaiIsInJlYXNvbnMiLCJuZXdWYWx1ZSIsImRpZmZWYWx1ZSIsImlzSW50ZWdlciIsImRpZmZBcnJheSIsImZpZWxkIiwibmV3TWVtb3J5T2JqIiwicmVuZGVyU3dpdGNoIiwicGFyYW0iLCJlbmRHYW1lIiwiTWFpbkZyYW1lIiwiZ2FtZVN0YXR1cyIsInNldFN0YXR1cyIsImdhbWVJbmRleCIsInNldEdhbWVJbmRleCIsInNldERvbGxhcnMiLCJzZXRQZXJmb3JtYW5jZSIsImJnIiwic2V0QkciLCJnZXRHYW1lUHJvbXB0IiwiZ2FtZUVuZCIsImdhbWVEYXRhIiwiZmluZEdhbWVJbmRleCIsIklEbmFtZSIsImZpbmRJbmRleCIsImdldEJhY2tncm91bmRJbmZvIiwiZ2FtZVNjcmVlbkNsYXNzIiwiYmFja2dyb3VuZEltYWdlIiwibWFwT2JqIiwibmV3UGVyZm9ybWFuY2UiLCJhcHBseSIsIkVuZ2luZSIsImNvbnRhaW5lciIsImludHJvT2JqIiwidGhpcyIsInJvb3RFbGVtIiwiZW5naW5lUm9vdCIsIlJlYWN0RE9NIiwiaW5pdEVuZ2luZSIsInJlbmRlciIsImluaXRpYWxpemUiLCJtYXBDb250YWluZXIiLCJzZXR1cFZpeiIsInNlY3Rpb25PYmoiLCJTY3JvbGxlclN0ZXAiLCJlbCIsIl9pc0FjdGl2YXRlIiwic2Nyb2xsRGlyZWN0aW9uIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiaW5pdFNjcm9sbGVyIiwiZWxlbWVudHMiLCJzZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInN0aWNreUJpdHMiLCJzdGlja3lCaXRTdGlja3lPZmZzZXQiLCJMYXp5TG9hZCIsImVsZW1lbnRzX3NlbGVjdG9yIiwidGhyZXNob2xkIiwidjEiLCJjYWxsYmFja3MiLCJfb2Zmc2V0VG9wIiwiX29mZnNldEJvdHRvbSIsImlubmVySGVpZ2h0IiwiaXNJbml0aWFsaXplZCIsImxhc3RTY3JvbGwiLCJ2aXoiLCJ2aXNpYmxlU3RlcHMiLCJhcnRpY2xlUmVtaW5kZXIiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsUHJvZ3Jlc3MiLCJ2aXpTZWN0aW9ucyIsIkVycm9yIiwidml6U2VjdGlvbiIsInNlY3Rpb25zIiwiaiIsIl91cGRhdGUiLCJjdXJyZW50U2Nyb2xsIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJib3VuZGluZ1JlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJkZWFjdGl2YXRlIiwiaXNBcnRpY2xlUmVtaW5kZXJEaXNwbGF5ZWQiLCJib3R0b20iLCJpc0FydGljbGVSZW1pbmRlcklzVmlzaWJsZSIsImNvbnRhaW5zIiwic2VjdGlvbiIsImFjdGl2YXRlIiwiX3VwZGF0ZVNjcm9sbFByb2dyZXNzIiwic2Nyb2xsZWQiLCJib2R5Iiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwicHVibGljSW50ZXJmYWNlIiwib2Zmc2V0VG9wIiwib2Zmc2V0Qm90dG9tIiwic2Nyb2xsZXIiLCJSZW5kZXJTdHJ1Y3R1cmUiLCJyZW5kZXJlZCIsInJlbmRlcmVkRGF0YSIsImtleXMiLCJzZWN0aW9uS2V5IiwicGFja2FnZXMiLCJSZWFjdCIsImluc2VydCIsImdvb2dsZV9jb25maWciLCJjcmVhdGVSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==